----------------------------------------------------------------------------------------------------
2015.09.15

    프로젝트명 : CRM 캠페인시스템 구축 프로젝트

    기간 : 2015.06.22 ~ 2015.12.31

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ 캠페인 서비스 서버 ]

    174.100.67.26  matcmsapp01 cms.emart.com
    174.100.67.27  matcmsapp02
    174.100.67.55  L4 VIP

    sas/saspw94!@

[ 캠페인 개발관리 서버 ]

    174.100.67.38  matcmsmine01


    174.100.67.39  matcmsva01
    174.100.67.31  matcmsma01
    174.100.67.32  matcmsma02
    174.100.67.56  MA VIP

    cmsfile / cmsfile2015



----------------------------------------------------------------------------------------------------
[ 인수인계 항목 정리 ] from 김근진 차장 ( 에스큐앤티(주) )

    1. AA 업무

        - 전자정부프레임웍 - 구성변경
        - 개발 규칙 정의
        - 공동 기능 개발
        - 어플리케이션 개발 이슈 해결(SAS연동, 멀티데이터 소스설정, 지도 등등)
        - 개발 소스 레벨 검수
        - 개발 소스 최적화

    2. DA 업무

        - 엔티티 및 어트리뷰트 설계
        - 데이터 도메인 관리
        - 테이블 생성 및 컬럼 추가, 삭제 관리
        - 데이터 생성 로직 설계 및 화면 개발자와 협의

    3. TA 업무

        - WAS 구성
        - 개발 소스 형상 관리
        - 수동 배포 및 배포 자동화 구성 설계
        - SAS HBI 연계
        - SCP를 이용한 matcmsapp01, matcmsapp02 (이중화 서버) 첨부 파일 동기화 관리

    4. Interface 개발 업무

        - Interface 협의 및 설계
        - Interface 개발 및 테스트


----------------------------------------------------------------------------------------------------
[ 네트웍 드라이브 ]

    (x) > subst E: \\10.150.252.70\201506_캠페인시스템구축

    net use \\IP\IPC$ 패스워드 /USER:아이디
    (o) > net use \\10.150.252.70\201506_캠페인시스템구축 cmsfile123 /USER:cmsfile

        192.168.253.13, ID가 Admin, 패스워드가 1234 일 때 다음과 같습니다.
        -> net use \\192.168.253.13\IPC$ 1234 /USER:Admin

----------------------------------------------------------------------------------------------------
[ 레지스트 변경 ]

    > cmd /c reg add HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\system /v LocalAccountTokenFilterPolicy /t REG_DWORD /d 1 /f
        HKLM\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\system\ 에서 오른쪽 클릭 > 새로 만들기 > DWORD(32bit) 클릭하여 값을 만든 후,
        이름을 LocalAccountTokenFilterPolicy 로 정하고 값을 1로 세팅합니다.


----------------------------------------------------------------------------------------------------
[ 원격 서버 종료 ]

    > shutdown -s -t 시간초 -m \\IP

    IP가 192.168.253.13, 시간초를 30000 이라고 할 때 다음과 같습니다.
    > shutdown -s -t 30000 -m \\192.168.253.13




----------------------------------------------------------------------------------------------------
[ 이클립스 환경 ]

    개발 : eclipse luna 32bit jdk 1.7.0_45 32bit

    D:\PROJ\PROG\eclipse_mars\eclipse.exe -vm "D:\PROJ\PROG\jdk1.8.0_60\bin\javaw.exe" -data "D:\PROJ\WORK\workspace_mars"

    N:\tools\eclipse\eclipse.exe -vm N:\tools\jdk\jdk1.7.0_45\bin\javaw.exe -data N:\workspace

    Project 선택 > Properties > Project Facets > Java Version 확인

    subst N: .

    set KANG_DRIVE=K:    -> %KANG_DRIVE%

    K:\PROG\eclipse\eclipse_mars\eclipse.exe -vm "K:\PROG\jdk\jdk1.8.0_60\bin\javaw.exe" -data "K:\WORK\workspace_mars" -showlocation "제목표시줄(타이틀바)"
        -Xverify:none -XX+UseParallelGC -XXPermSize=20M -XXMaxNewSize=32M -XXNewSize=32M -vmargs -Xms512m -Xmx1024m


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

01,03,05,07,09,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59 * * * * sshpass -p saspw94\!\@ scp -r sas@matcmsapp02:/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/mfile /sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/ > /dev/null
01,03,05,07,09,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59 * * * * sshpass -p saspw94\!\@ scp -r sas@matcmsapp02:/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/bfile /sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/ > /dev/null

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ SVN 위치 ]

    Server

        svn://matcmsmine01/repo-tasks

    Server 종료 / 실행

        $ ps -ef | grep svnserv
        $ svnserve -d -r /sas/svn


    Client

        SVN : Subclipse 1.10.10    other : Subversion - SVN Team Provider 3.0.0


    /sas/svn/repo-tasks

    /sas/svn/repo-tasks/conf/passwd

        ### This file is an example password file for svnserve.
        ### Its format is similar to that of svnserve.conf. As shown in the
        ### example below it contains one section labelled [users].
        ### The name and password for each user follow, one account per line.

        [users]
        # harry = harryssecret
        # sally = sallyssecret
        jenkins = Jen4$$$123
        gear = Ge4$$12
        windras = Wi4$$12
        meanvar = Me4$$12
        yhpark = Yh4$$123
        emchoi = Em4$$123
        aladin99=Aladin99!
        fic01524=Kang123!


    확인1 : http://pyrasis.com/book/WindowsProjectEssentialUtility/Chapter01
    확인2 : http://pyrasis.com/book/WindowsProjectEssentialUtility/Chapter02#section-1

    ----------------------------------------------------------------------

    참조 사이트

        http://pyrasis.com/private/2014/07/19/open-windows-project-essential-utility-book
            https://github.com/pyrasis/windowsprojectbook
        http://revf.tistory.com/145
        http://www.talkdev.net/jenkins-%EC%84%A4%EC%A0%95%EC%97%90-%EB%8C%80%ED%95%9C-%EC%A0%95%EB%A6%AC/


        위 설명을 참조로 Subversion을 설치한다.

        repository를 생성한다.

            > svnadmin create .\repo-test

        repo-test 폴더가 생기고 아래와 같은 sub 항목이 생긴다.

            conf/
            db/
            hooks/
            locks/
            format
            README.text

        위는 저장소(repository)를 생성한 것이고 이제 서버를 띄워야 한다.

            > svnserve -d -r .\repo-test

        확인한다.

            > svn list svn://localhost:3690/repo-test

        기타 명령

            > svn import antsample file:///blog2book/test/antsample -m "initial import"

            > svn checkout svn://localhost:3690/antsample

            > svn commit build.xml -m "change build files"

        conf 폴더의 svnserve.conf, passwd 파일을 수정하여 svn을 재기동한다.

            > svn commit build.xml -m "change build files" --username kang --password seok






----------------------------------------------------------------------------------------------------
[ CI 위치 ]

    Server 종료 / 실행

        $ cd /sas/jenkins/apache-tomcat-7.0.63/bin

        $ ./catalina.sh stop

        $ ./catalina.sh start

    /sas/jenkins/apache-tomcat-7.0.63

    http://matcmsmine01:8080/jenkins/    :   sas/saspw94!@

----------------------------------------------------------------------------------------------------
[ 쓸모없는 메일 삭제 ]

    cat /dev/null > /var/spool/mail/[계정]


----------------------------------------------------------------------------------------------------
[ 채널 시스템 ]

    O:\30. 개발\399. 개발중\배치개발_시스템인터페이스\snd_chnnl2pnt (채널전송-포인트시스템).sas



----------------------------------------------------------------------------------------------------
[ Jenkins ]

        /sas/sasuser/sas/.jenkins/jobs/EmartCMSDevDeploy/workspace/SASEMARTCMS

    설치
        $ sudo wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat/jenkins.repo

        .....

        $ sudo rpm --import http://pkg.jenkins-ci.org/redhat/jenkins-ci.org.key
        $ sudo yum install jenkins

        .....

        $ sudo service jenkins start              <- Jenkins를 구동한다.

        /etc/sysconfig/jenkins 파일의 JENKINS_PORT = "8080" 부분을 수정한다.

        $ sudo chkconfig jenkins on                <- Jenkins가 자동으로 시작하도록 서비스 등록


    제공하는 기능

        - 미려한 웹 인터페이스를 통한 간편한 설정
        - 강력하고 편리한 레포팅 기능
        - 지속적인 자동화 빌드
        - 지속적인 자동화 테스트
        - 커버리지 감시
        - 코드 품질 감시
        - 다양한 인증기반과 결합한 인증 및 권한관리 기능
        - Groovy script를 이용한 고수준의 잡 스케줄링 기능
        - 커맨드라인 인터페이스 제공
        - 자동화된 배포 관리
        - 분산빌드 기능
        - 윈도우 커맨드 스케줄링 실행기능

        이 외에도 수많은 플러그인을 통해 간단히 기능을 추가/확장 할 수 있다.

    설치파일 다운로드

        http://jenkins-ci.org/ 사이트에서 jenkins.war 파일을 다운로드 한다.

        > java -jar jenkins.war

        > sc delete jenkins

    Jenkins 설치 및 구동하기

        # Debian/Ubuntu 환경에서 설치

        # jenkins 접속 키 추가
        wget -q -O - http://pkg.jenkins-ci.org/debian/jenkins-ci.org.key | sudo apt-key add -

        # jenkins 저장소 위치 추가
        sudo sh -c 'echo deb http://pkg.jenkins-ci.org/debian binary/ > /etc/apt/sources.list.d/jenkins.list'

        # apt-get 갱신
        sudo apt-get update

        # jenkins 설치
        sudo apt-get install jenkins

        # jenkins.war 위치 파악
        dpkg -L jenkins

        # 수동으로 jenkins 구동
        java -jar /usr/share/jenkins/jenkins.war

        # 8080 포트를 이미 다른 프로세스가 사용하고 있다면 다음과 같은 에러 발생
        Caused by: java.io.IOException: Failed to listen on port 8080

        # 다른 포트를 사용하여 구동
        java -jar /usr/share/jenkins/jenkins.war --httpPort=8888

        # 리눅스 서비스로 등록하여 구동
        sudo service jenkins start

        # 또는 기본 포트 변경하고 구동
        sudo vi /etc/default/jenkins
        HTTP_PORT=8080

        # 접속해 보기
        http://127.0.0.1:8080





        set JAVA_HOME=D:\Java\jdk1.6

        cd "D:\Java\Tomcat 6"
        cmd /c bin\shutdown.bat
        timeout 5
        cmd /c bin\startup.bat


        $ java -jar jenkins.war --httpPort=8888



----------------------------------------------------------------------------------------------------
[ 채번 관련 ]

    BB02006S.xml



----------------------------------------------------------------------------------------------------

1. Eclipse > SASEMARTCMS(우클릭) > Team > Synchronize with Repository
2. SVN > Update
3. Pom.xml(우클릭) > Run As > Maven Clean
4. 상단메뉴 > Project > Clean > Clean All Project > OK
5. Pom.xml(우클릭) > Run As > Maven Install
6. SASEMARTCMS > target > EmartCampaign-1.0.0 을 확인한다.

----------------------------------------------------------------------------------------------------

1 도스 명령어
    1.1 APPEND
    1.2 ASSIGN
    1.3 ATTRIB
    1.4 BACKUP, RESTORE
    1.5 BASIC, BASICA
    1.6 CALL
    1.7 CD, CHDIR
    1.8 CHCP
    1.9 CHKDSK
    1.10 CHOICE
    1.11 CLS
    1.12 COPY
    1.13 CTTY
    1.14 DATE
    1.15 DEFRAG
    1.16 DEL, ERASE
    1.17 DELTREE
    1.18 DIR
    1.19 ECHO
    1.20 EDIT
    1.21 EDLIN
    1.22 EXE2BIN
    1.23 EXIT
    1.24 FASTOPEN
    1.25 FC, COMP
    1.26 FDISK
    1.27 FIND
    1.28 FOR
    1.29 FORMAT
    1.30 HELP
    1.31 INTERSVR, INTERLINK
    1.32 JOIN
    1.33 LABEL
    1.34 LOADFIX
    1.35 LOADHIGH, LH
    1.36 MD, MKDIR
    1.37 MEM
    1.38 MEMMAKER
    1.39 MODE
    1.40 MORE
    1.41 MOVE
    1.42 MSD
    1.43 PATH
    1.44 PAUSE
    1.45 PRINT
    1.46 RD, RMDIR
    1.47 RECOVER
    1.48 REM
    1.49 REN
    1.50 SCANDISK
    1.51 SET
    1.52 SETVER
    1.53 SHARE
    1.54 SMARTDRIVE
    1.55 SORT
    1.56 SUBST
    1.57 SYS
    1.58 TIME
    1.59 TREE
    1.60 TRUENAME
    1.61 TYPE
    1.62 UNDELTEE
    1.63 VER
    1.64 VERIFY
    1.65 XCOPY

----------------------------------------------------------------------------------------------------

---------------------------------------------------------------------------

DROP TABLE TB_TEST_TARGET;
CREATE  TABLE TB_TEST_TARGET
(
    ID                 DECIMAL(18)  NOT NULL    TITLE  'ID',
    TARGET_CUSTOM_ID   VARCHAR(20)  NOT NULL    TITLE  'TARGET_CUSTOM_ID',
    CUST_ID            VARCHAR(20)  NOT NULL    TITLE  'CUST_ID',
    REG_DATE           DATE         NOT NULL    TITLE  'REG_DATE'
);
CREATE UNIQUE INDEX XPKTB_TEST_TARGET
(
    ID
) ON TB_TEST_TARGET;

---------------------------------------------------------------------------

DROP TABLE TB_MSG;
CREATE  TABLE TB_MSG
(
    ID                  DECIMAL(18)    NOT NULL     TITLE   'ID',
    MSG_GRP_ID          VARCHAR(11)    NOT NULL     TITLE   'MSG_GRP_ID',
    MSG_TYPE            CHAR(1)        NOT NULL     TITLE   'MSG_TYPE',
    MSG_PUSH_TYPE       VARCHAR(2)     NOT NULL     TITLE   'MSG_PUSH_TYPE',
    PUSH_TITLE          VARCHAR(45)    NOT NULL     TITLE   'PUSH_TITLE',
    PUSH_MSG            VARCHAR(120)   NOT NULL     TITLE   'PUSH_MSG',
    RICH_PUSH_MSG       VARCHAR(4000)  NOT NULL     TITLE   'RICH_PUSH_MSG',
    MSG_TEXT            VARCHAR(4000)  NOT NULL     TITLE   'MSG_TEXT',
    PUSH_IMG            VARCHAR(120)   NOT NULL     TITLE   'PUSH_IMG',
    PUSH_VALUE          VARCHAR(256)   NOT NULL     TITLE   'PUSH_VALUE',
    TARGET_CUSTOM_ID    VARCHAR(20)    NOT NULL     TITLE   'TARGET_CUSTOM_ID'
);
CREATE UNIQUE INDEX XPKTB_MSG
(
    ID
) ON TB_MSG;

---------------------------------------------------------------------------

DROP TABLE TB_SEND_QUE;
CREATE  TABLE TB_SEND_QUE
(
    ID                   DECIMAL(18)      NOT NULL     TITLE   'ID',
    BIZ_ID               VARCHAR(36)      NOT NULL     TITLE   'BIZ_ID',
    REQ_UID              VARCHAR(36)      NOT NULL     TITLE   'REQ_UID',
    CUST_ID              VARCHAR(20)      NOT NULL     TITLE   'CUST_ID',
    INFO_NA              VARCHAR(50)      NOT NULL     TITLE   'INFO_NA',
    INFO_CP              VARCHAR(40)      NOT NULL     TITLE   'INFO_CP',
    MSG_GRP_CD           VARCHAR(45)      NOT NULL     TITLE   'MSG_GRP_CD',
    MSG_TYPE             VARCHAR(1)       NOT NULL     TITLE   'MSG_TYPE',
    PUSH_TITLE           VARCHAR(120)     NOT NULL     TITLE   'PUSH_TITLE',
    PUSH_MSG             VARCHAR(120)     NOT NULL     TITLE   'PUSH_MSG',
    POPUP_CONTENT        VARCHAR(4000)    NOT NULL     TITLE   'POPUP_CONTENT',
    INAPP_CONTENT        VARCHAR(4000)    NOT NULL     TITLE   'INAPP_CONTENT',
    PUSH_IMG             VARCHAR(120)     NOT NULL     TITLE   'PUSH_IMG',
    PUSH_KEY             VARCHAR(10)      NOT NULL     TITLE   'PUSH_KEY',
    PUSH_VALUE           VARCHAR(100)     NOT NULL     TITLE   'PUSH_VALUE',
    MAP1                 VARCHAR(80)      NOT NULL     TITLE   'MAP1',
    MAP2                 VARCHAR(80)      NOT NULL     TITLE   'MAP2',
    MAP3                 VARCHAR(80)      NOT NULL     TITLE   'MAP3',
    RESERVE_TIME         VARCHAR(14)      NOT NULL     TITLE   'RESERVE_TIME',
    TARGET_YN            VARCHAR(1)       NOT NULL     TITLE   'TARGET_YN',
    REG_DATE             TIMESTAMP        NOT NULL     TITLE   'REG_DATE',
    TARGET_CUSTOM_ID     VARCHAR(11)      NOT NULL     TITLE   'TARGET_CUSTOM_ID'
);
CREATE UNIQUE INDEX XPKTB_SEND_QUE
(
    ID
) ON TB_SEND_QUE;


---------------------------------------------------------------------------

DROP TABLE TB_CRM_INFO;
CREATE TABLE TB_CRM_INFO
(
    ID                    NUMBER      (19,0)  NOT NULL  , /* 시퀀스                   */
    TARGET_CUSTOM_ID      VARCHAR2    (  20)  NOT NULL  , /* CRM연동KEY               */
    TARGET_CUSTOM_NM      VARCHAR2    (  60)            , /* CRM연동명칭              */
    STATUS                CHAR        (   2)  NOT NULL  , /* 상태값(요청:00','01',완료:'02',반려:'03') */
    PUSH_TITLE            VARCHAR2    (  45)            , /* 푸시제목                 */
    PUTH_MSG              VARCHAR2    ( 120)            , /* 푸시내용                 */
    MSG_TEXT              VARCHAR2    (4000)            , /* 사서함내용               */
    PUSH_VALUE            VARCHAR2    ( 256)            , /* 랜딩페이지               */
    HP_CMPGN_DESC         VARCHAR2    (4000)            , /* 행사설명                 */
    HP_REG_YN             CHAR        (   1)            , /* 홈페이지공지사항여부     */
    HP_STR_ID             CHAR        (   4)            , /* 점포코드                 */
    HP_REG_STDT           DATE                          , /* 게시시작일시             */
    HP_REG_EDDT           DATE                          , /* 게시종료일시             */
    HP_REG_TITLE          VARCHAR2    ( 500)            , /* 공지사항제목             */
    HP_REG_MSG            VARCHAR2    (4000)            , /* 공지사항내용             */
    HP_REG_REPLACE        VARCHAR2    (4000)            , /* 공지사항대체텍스트       */
    HP_FILE_NM            VARCHAR2    ( 100)            , /* 공지사항첨부파일명       */
    HP_FILE_URL           VARCHAR2    ( 200)            , /* 공지사항첨부파일URL      */
    HP_CONTENTS_MAKE_YN   CHAR        (   1)            , /* 홈페이지공지사항등록여부 */
    CONTENTS_DESC         VARCHAR2    (4000)            , /* 제작요청사항             */
    CONTENTS_FILE_NM      VARCHAR2    ( 100)            , /* 제작요청사항첨부파일명   */
    CONTENTS_FILE_URL     VARCHAR2    ( 200)            , /* 제작요청사항첨부파일URL  */
    REG_DATE              DATE                          , /* 등록일시                 */
    REQ_DATE              DATE                            /* 요청일시                 */
);





----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------



http://localhost:8080/SASEMARTCMS/common/loginChk.do?chrgpers_cd=001810&login_pwd=11111111

http://localhost:8080/SASEMARTCMS/branch/BB02014S.do?method=page&cmpgn_no=C20150924101700015



http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=insertTbTestTarget&cmpgn_no=C20150924101700015

http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=insertTbMsg&cmpgn_no=C20150924101700015

http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=insertTbSendQue&cmpgn_no=C20150924101700015



https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=insertTbTestTarget&cmpgn_no=C20150924101700015

https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=insertTbMsg&cmpgn_no=C20150924101700015

https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=insertTbSendQue&cmpgn_no=C20150924101700015





http://localhost:8080/SASEMARTCMS/common/HH14064I.do?method=insertCampInfo
http://localhost:8080/SASEMARTCMS/common/HH14064I.do?method=insertBaseInfo
http://localhost:8080/SASEMARTCMS/common/HH14064I.do?method=insertScheduleInfo
http://localhost:8080/SASEMARTCMS/common/HH14064I.do?method=insertSendList

https://cms.emart.com:8343/SASEMARTCMS/common/HH14064I.do?method=insertCampInfo
https://cms.emart.com:8343/SASEMARTCMS/common/HH14064I.do?method=insertBaseInfo
https://cms.emart.com:8343/SASEMARTCMS/common/HH14064I.do?method=insertScheduleInfo
https://cms.emart.com:8343/SASEMARTCMS/common/HH14064I.do?method=insertSendList




<script type="text/javascript">location.replace("/SASEMARTCMS/admin/EE21060W.do?method=page")</script>


%WORK_DRIVE%\PROG\eclipse\eclipse_mars\eclipse.exe -vm "%WORK_DRIVE%\PROG\jdk\jdk1.8.0_60x64\bin\javaw.exe" -data "%WORK_DRIVE%\WORK\workspace_mars" -showlocation "이마트 CRM캠페인시스템구축 프로젝트"



----------------------------------------------------------------------------------------------------

     *

     *  C20151112101711549  APT1017151112227
     *  C20151112101711547  APR1017151112236
     *  C20151112101711545  APR1017151112235
     *  C20151112101711544  APR1017151112234
     *  C20151110101711536  APR1017151111233
     *  C20151110101711535  APR1017151110232
     *  C20151110101711531  APR1017151110229
     *  C20151110101711531  APT1017151110226
     *  C20151110101711530  APT1017151110225
     *  C20151110101711527  APR1017151110227
     *  C20151110101711522  APR1017151110226
     *  C20151110101711520  APR1017151110225
     *  C20151110101711518  APR1017151110228
     *  C20151110101711517  APR1017151110223
     *  C20151110101711515  APR1017151110222
     *  C20151110101711513  APR1017151110221
     *  C20151110101711511  APR1017151110220
     *  C20151109101711507  APT1017151109224
     *  C20151109101711504  APT1017151109223
     *  C20151109101711498  APT1017151109222
     *  C20151108101711495  APT1017151108221
     *  C20151105101711483  APT0000151105010
     *  C20151105101711482  APT1017151105001

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

            INSERT INTO
                TB_CRM_INFO
            (
                ID
                , TARGET_CUSTOM_ID
                , TARGET_CUSTOM_NM
                , STATUS
                , PUSH_TITLE
                , PUSH_MSG
                , MSG_TEXT
                , PUSH_VALUE
                , HP_CMPGN_DESC
                , HP_REG_YN
                , HP_STR_ID
                , HP_REG_STDT
                , HP_REG_EDDT
                , HP_REG_TITLE
                , HP_REG_MSG
                , HP_REG_REPLACE_TEXT
                , HP_FILE_NM
                , HP_FILE_URL
                , HP_CONTENTS_MAKE_YN
                , CONTENTS_DESC
                , CONTENTS_FILE_NM
                , CONTENTS_FILE_URL
                , REG_DATE
                , REQ_DATE
                , TARGET_CHNNL_ID
                , TARGET_CHNNL_NM
            )
            VALUES
            (
                SEQ_CRM_INFO.NEXTVAL
                , #cmpgn_no#
                , #cmpgn_nm#
                , #status#
                , #push_title#
                , #push_msg#
                , #msg_text#
                , #push_value#
                , #hp_cmpgn_desc#
                , #hp_reg_yn#
                , #hp_str_id#
                , TO_DATE(#hp_reg_stdt#,'YYYYMMDD')
                , TO_DATE(#hp_reg_eddt#,'YYYYMMDD')
                , #hp_reg_title#
                , #hp_reg_msg#
                , #hp_reg_replace_text#
                , #hp_file_nm#
                , #hp_file_url#
                , #hp_contents_make_yn#
                , #contents_desc#
                , #contents_file_nm#
                , #contents_file_url#
                , SYSDATE
                , SYSDATE
                , #chnnl_no#
                , #chnnl_nm#
            )

----------------------------------------------------------------------------------------------------

DROP TABLE TB_CRM_INFO;
CREATE TABLE TB_CRM_INFO
(
    ID                    NUMBER      (19,0)  NOT NULL  , /* 시퀀스                   */
    TARGET_CUSTOM_ID      VARCHAR2    (  20)  NOT NULL  , /* CRM연동KEY               */
    TARGET_CUSTOM_NM      VARCHAR2    (  60)            , /* CRM연동명칭              */
    STATUS                CHAR        (   2)  NOT NULL  , /* 상태값(요청:00','01',완료:'02',반려:'03') */
    PUSH_TITLE            VARCHAR2    (  45)            , /* 푸시제목                 */
    PUTH_MSG              VARCHAR2    ( 120)            , /* 푸시내용                 */
    MSG_TEXT              VARCHAR2    (4000)            , /* 사서함내용               */
    PUSH_VALUE            VARCHAR2    ( 256)            , /* 랜딩페이지               */
    HP_CMPGN_DESC         VARCHAR2    (4000)            , /* 행사설명                 */
    HP_REG_YN             CHAR        (   1)            , /* 홈페이지공지사항여부     */
    HP_STR_ID             CHAR        (   4)            , /* 점포코드                 */
    HP_REG_STDT           DATE                          , /* 게시시작일시             */
    HP_REG_EDDT           DATE                          , /* 게시종료일시             */
    HP_REG_TITLE          VARCHAR2    ( 500)            , /* 공지사항제목             */
    HP_REG_MSG            VARCHAR2    (4000)            , /* 공지사항내용             */
    HP_REG_REPLACE        VARCHAR2    (4000)            , /* 공지사항대체텍스트       */
    HP_FILE_NM            VARCHAR2    ( 100)            , /* 공지사항첨부파일명       */
    HP_FILE_URL           VARCHAR2    ( 200)            , /* 공지사항첨부파일URL      */
    HP_CONTENTS_MAKE_YN   CHAR        (   1)            , /* 홈페이지공지사항등록여부 */
    CONTENTS_DESC         VARCHAR2    (4000)            , /* 제작요청사항             */
    CONTENTS_FILE_NM      VARCHAR2    ( 100)            , /* 제작요청사항첨부파일명   */
    CONTENTS_FILE_URL     VARCHAR2    ( 200)            , /* 제작요청사항첨부파일URL  */
    REG_DATE              DATE                          , /* 등록일시                 */
    REQ_DATE              DATE                            /* 요청일시                 */
    TARGET_CHNNL_ID       NOT NULL VARCHAR2(20)
    TARGET_CHNNL_NM       NOT NULL VARCHAR2(60)
);

----------------------------------------------------------------------------------------------------


SQL> desc tb_crm_info;
 Name                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ID                        NOT NULL NUMBER(19)
 TARGET_CUSTOM_ID          NOT NULL VARCHAR2(20)
 TARGET_CUSTOM_NM                   VARCHAR2(60)
 STATUS                    NOT NULL CHAR(2)
 PUSH_TITLE                         VARCHAR2(45)
 PUSH_MSG                           VARCHAR2(120)
 MSG_TEXT                           VARCHAR2(4000)
 PUSH_VALUE                         VARCHAR2(256)
 HP_CMPGN_DESC                      VARCHAR2(4000)
 HP_REG_YN                          CHAR(1)
 HP_STR_ID                          VARCHAR2(4)
 HP_REG_STDT                        DATE
 HP_REG_EDDT                        DATE
 HP_REG_TITLE                       VARCHAR2(500)
 HP_REG_MSG                         VARCHAR2(4000)
 HP_REG_REPLACE_TEXT                VARCHAR2(4000)
 HP_FILE_NM                         VARCHAR2(100)
 HP_FILE_URL                        VARCHAR2(200)
 HP_CONTENTS_MAKE_YN                CHAR(1)
 CONTENTS_DESC                      VARCHAR2(4000)
 CONTENTS_FILE_NM                   VARCHAR2(100)
 CONTENTS_FILE_URL                  VARCHAR2(200)
 REG_DATE                           DATE
 REQ_DATE                           DATE
 TARGET_CHNNL_ID           NOT NULL VARCHAR2(20)
 TARGET_CHNNL_NM           NOT NULL VARCHAR2(60)

SQL> desc tb_test_target;
 Name                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ID                                 NUMBER(19)
 TARGET_CUSTOM_ID                   VARCHAR2(20)
 CUST_ID                            VARCHAR2(20)
 REG_DATE                           DATE
 TARGET_CHNNL_ID           NOT NULL VARCHAR2(20)

SQL> desc tb_msg;
 Name                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ID                        NOT NULL NUMBER(19)
 MSG_GRP_ID                         NUMBER(11)
 MSG_TYPE                           CHAR(1)
 MSG_PUSH_TYPE                      VARCHAR2(2)
 PUSH_TITLE                         VARCHAR2(135)
 PUSH_MSG                           VARCHAR2(360)
 MSG_TEXT                           VARCHAR2(4000)
 RICH_PUSH_MSG                      VARCHAR2(4000)
 PUSH_IMG                           VARCHAR2(120)
 PUSH_KEY                           VARCHAR2(100)
 PUSH_VALUE                         VARCHAR2(256)
 VALID_FOR_MINUTE          NOT NULL NUMBER(11)
 PUSH_TIME_TO_LIVE_SEC     NOT NULL NUMBER(11)
 EXPIRE_DATE                        DATE
 UNREAD_CNT                NOT NULL NUMBER(11)
 TEMPLATE_ID                        NUMBER(11)
 MAP1                               VARCHAR2(80)
 MAP2                               VARCHAR2(80)
 MAP3                               VARCHAR2(80)
 SMS_CONTENT                        VARCHAR2(2000)
 REG_DATE                  NOT NULL DATE
 UPT_DATE                           DATE
 MSG_KIND                           VARCHAR2(2)
 TITLE_COLOR                        VARCHAR2(10)
 CONTENT_COLOR                      VARCHAR2(10)
 COLOR_FLAG                         VARCHAR2(3)
 RECOVERY_FLAG                      CHAR(1)
 SMS_MSG                            VARCHAR2(3000)
 SMS_TYPE                           CHAR(1)
 TARGET_CUSTOM_ID                   VARCHAR2(20)
 TARGET_CHNNL_ID                    VARCHAR2(20)

SQL> desc tb_send_que;
 Name                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ID                        NOT NULL NUMBER(19)
 BIZ_ID                    NOT NULL VARCHAR2(36)
 REQ_UID                   NOT NULL VARCHAR2(36)
 CUST_ID                   NOT NULL VARCHAR2(40)
 INFO_NA                   NOT NULL VARCHAR2(50)
 INFO_CP                   NOT NULL VARCHAR2(40)
 MSG_GRP_CD                NOT NULL VARCHAR2(45)
 MSG_TYPE                  NOT NULL CHAR(1)
 PUSH_TIME_TO_LIVE_SEC     NOT NULL NUMBER(11)
 PUSH_TITLE                         VARCHAR2(120)
 PUSH_MSG                           VARCHAR2(120)
 POPUP_CONTENT                      VARCHAR2(4000)
 INAPP_CONTENT                      VARCHAR2(4000)
 PUSH_IMG                           VARCHAR2(120)
 PUSH_KEY                           VARCHAR2(10)
 PUSH_VALUE                         VARCHAR2(100)
 MAP1                               VARCHAR2(80)
 MAP2                               VARCHAR2(80)
 MAP3                               VARCHAR2(80)
 RESERVE_TIME              NOT NULL VARCHAR2(14)
 REG_DATE                  NOT NULL DATE
 TARGET_YN                 NOT NULL CHAR(1)
 TARGET_CUSTOM_ID                   VARCHAR2(20)
 TARGET_CHNNL_ID                    VARCHAR2(20)

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

PMS 오라클(oracle) 연결

    $ sqlplus pmscms/pms2015#@MTMS

        > select count(*) from tb_test_target;
        > select count(*) from tb_msg;
        > select count(*) from tb_send_que;
        > select count(*) from tb_crm_info;



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

http://matcmsmine01:8888/SASEMARTCMS/common/HH14063I.do?method=insertTbTestTarget&cmpgn_no=C20151105101711482&chnnl_no=APT1017151105001&cust_id=C11758151,C78751126,C68363471

http://matcmsmine01:8888/SASEMARTCMS/common/HH14063I.do?method=callBackService&gubun=yes&msg_id=***&cmpgn_no=C20151105101711482&chnnl_no=APT1017151105001&ret_msg=result_message


http://matcmsmine01:8888/SASEMARTCMS/images/emart/login/emart_logo.png

https://cms.emart.com:8343/SASEMARTCMS/images/emart/login/emart_logo.png

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ PC 세팅 ]

    1. 환경변수 세팅 : 컴퓨터 > 속성

        시스템 변수

            WORK_DRIVE=K:
            JAVA_HOME=       <- 변경가능

        사용자 변수

            PATH=%PATH%;%JAVA_HOME%\bin

    2. jenkins 설치

        jenkins-1.631.zip 파일을 압축풀어서 setup.exe 파일을 실행한다.

    3. SVN (Subversion) 설치

        Setup-Subversion-1.6.6.msi 파일을 실행한다.

        SVN Manager Tool  : SVNManager-1.1.2-Setup.msi             <- 별로
        Eclipse Plugin    : Eclipse Subversion site-1.10.10.zip
        Subversion Client : TortoiseSVN-1.9.2.26806-x64-svn-1.9.2.msi
        Subversion SRC    : subversion_src-1.9.2.zip

    4. Maven을 설치한다.

        apache-maven-3.3.3-bin.zip 파일을 특정위치에 압축을 풀어서 사용한다.

    5. 설치 프로그램 확인-1 : 폴더확인

        C:\Program Files (x86)\jenkins
        C:\Program Files (x86)\Subversion

    6. 설치 프로그램 확인-2 : 제어판 > 프로그램

        Jenkins 1.631
        Subversion

    7. 설치 프로그램 확인-3 : 서비스 확인 : 컴퓨터 > 관리 > 서비스

        > sc qc     jenkins
        > sc query  jenkins
        > sc start  jenkins
        > sc stop   jenkins
        > sc delete jenkins

        서비스에는 driver/service 두 종류가 있다.

        > sc query               | more
        > sc query type= driver  | more
        > sc query type= service | more
        > sc query type= all     | more

    8. SVN Repository 생성

        8.1. 사용자 변수의 PATH 항목에 추가한다.

            PATH=%PATH%;%ProgramFiles(x86)%\Subversion\bin;

        8.2. Repository root 폴더로 이동한다. 그리고 프로젝트를 위한 TEST_PRJ 저장소(repository)를 생성한다.
            그리고 생성된 폴더를 확인한다. 인증을 위한 계정을 만든다.

            예) K:\PROG\_Repo_

            > svnadmin create TEST_PRJ
            > tree

                SSD250DATA 볼륨에 대한 폴더 경로의 목록입니다.
                볼륨 일련 번호는 8EB4-DD7F입니다.
                K:.
                └─TEST_PRJ
                    ├─conf
                    ├─db
                    │  ├─revprops
                    │  │  └─0
                    │  ├─revs
                    │  │  └─0
                    │  ├─transactions
                    │  └─txn-protorevs
                    ├─hooks
                    └─locks

            > type TEST_PRJ\conf\svnserve.conf

                ### This file controls the configuration of the svnserve daemon, if you
                ### use it to allow access to this repository.  (If you only allow
                ### access through http: and/or file: URLs, then this file is
                ### irrelevant.)

                ### Visit http://subversion.tigris.org/ for more information.

                [general]
                ### These options control access to the repository for unauthenticated
                ### and authenticated users.  Valid values are "write", "read",
                ### and "none".  The sample settings below are the defaults.
                # anon-access = read
                # auth-access = write
                ### The password-db option controls the location of the password
                ### database file.  Unless you specify a path starting with a /,
                ### the file's location is relative to the directory containing
                ### this configuration file.
                ### If SASL is enabled (see below), this file will NOT be used.
                ### Uncomment the line below to use the default password file.
                password-db = passwd                                                         <- 인증관련 확인
                ### The authz-db option controls the location of the authorization
                ### rules for path-based access control.  Unless you specify a path
                ### starting with a /, the file's location is relative to the the
                ### directory containing this file.  If you don't specify an
                ### authz-db, no path-based access control is done.
                ### Uncomment the line below to use the default authorization file.
                # authz-db = authz
                ### This option specifies the authentication realm of the repository.
                ### If two repositories have the same authentication realm, they should
                ### have the same password database, and vice versa.  The default realm
                ### is repository's uuid.
                # realm = My First Repository

                [sasl]
                ### This option specifies whether you want to use the Cyrus SASL
                ### library for authentication. Default is false.
                ### This section will be ignored if svnserve is not built with Cyrus
                ### SASL support; to check, run 'svnserve --version' and look for a line
                ### reading 'Cyrus SASL authentication is available.'
                # use-sasl = true
                ### These options specify the desired strength of the security layer
                ### that you want SASL to provide. 0 means no encryption, 1 means
                ### integrity-checking only, values larger than 1 are correlated
                ### to the effective key length for encryption (e.g. 128 means 128-bit
                ### encryption). The values below are the defaults.
                # min-encryption = 0
                # max-encryption = 256

            > type TEST_PRJ\conf\passwd

                ### This file is an example password file for svnserve.
                ### Its format is similar to that of svnserve.conf. As shown in the
                ### example below it contains one section labelled [users].
                ### The name and password for each user follow, one account per line.

                [users]
                # harry = harryssecret
                # sally = sallyssecret
                admin = admin123                                                               <- 계정관련 확인


        8.3. SVN 서버를 실행한다. 그리고 확인한다.

            > start svnserve -d -r .          <- 서버가 실행 하는 DOS 창이 새로 생긴다.

            > netstat -nab | more
                .....
                 TCP    0.0.0.0:3690           0.0.0.0:0              LISTENING     <- 사용포트 3690  프로그램 svnserve.exe
                [svnserve.exe]
                .....

        8.4. 기존 프로젝트를 PC로 checkout 한다.  -> 확인용

            > svn checkout svn://matcmsmine01/repo-tasks/SASEMARTCMS
            .....

        8.5. 기존 프로젝트를 PC로 export 한다.

            > svn export svn://matcmsmine01/repo-tasks/SASEMARTCMS        <- Local PC에 SASEMARTCMS 폴더가 생긴다.
            .....

        8.5. PC로 export 한 소스를 다른 SVN 저장소(repository)로 import 한다.

            > svn import SASEMARTCMS svn://localhost/TEST_PRJ -m "svn 임포트 로그" --username admin --password admin123
            .....


    9. Jenkins








----------------------------------------------------------------------------------------------------
[ Subversion 명령어 ]

    $ mkdir /home/svn
    $ cd /home/svn
    $ svnadmin create --fs-type bdb  TEST          <- SVN PROJ 생성
    $ svnadmin create --fs-type fsfs TEST
    $ svnserve -d -r /home/svn      <- SVN 서버 실행

    svn checkout(co) : svn 서버에서 소스 내려받기

        > svn checkout svn://xxx.xxx/Test     <- 모두
        > svn checkout -r 100  svn://xxx.xxx/Test test.jsp   <- revision 100번 test.jsp 소스 받기
        > svn checkout -r HEAD svn://xxx.xxx/Test test.jsp   <- 마지막 revision 받기

    svn commit(ci) : svn 서버에 소스 집어 넣기

        > svn commit ./test.jsp

    svn update : 업데이트 commit 하기전에 소스의 충돌을 막기 위해 update를 실행한다.

        A : 추가됨
        C : 충돌됨
        D : 삭제됨
        M : 수정됨
        G : 병합된

        > svn update ./test.jsp

    svn delete (del, remove, rm) : 파일 및 폴더를 삭제한다.

        > svn delete ./test.jsp

    ---------------------------------------------------------------------

    $ svn status //항상 확인할 것. 로컬 작업본의 변경 상태를 보여준다.
    ?      WEB-INF/classes
    M      index.jsp
    M      index.html

    $ svn status - u //서버 저장소의 변경 상태를 보여준다.

    $ svn status board

    $ svn co http://SVN_SERVER:8080/svn/repos/trunk/SSO
    A    SSO/prod
    A    SSO/prod/verify.sso

    $ svn update

    $ svn update board/
    U    board/view.jsp
    업데이트 된 리비전 81.

    $ svn update main/notice.jsp //특정 파일만 업데이트하기

    $ svn commit -m "" test/welcome.html //=-=> 문법 맞나?

    $ svn update
    무시함 '.' //권한이 없는 사용자인 경우였음. root 로 하면 된다.

    $ svn log number.txt

    $ svn diff number.txt //작업본(working copy)의 변경 내용을 볼 때

    $ svn diff -r HEAD number.txt //저장소와 작업본을 비교

    ---------------------------------------------------------------------

    SVN(Subversion)은 형상관리를 위한 도구이다. 다시 말하면 소프트웨어 개발의 버전 관리 시스템이다.

    SVN에서 많이 사용되는 명령어는 다음과 같다.

    checkout 또는 co - 저장소(repository)에서 로컬 작업공간으로 소스를 받아오는 것.
    $ svn checkout 저장소URL [PATH...]
    : 지정된 로컬경로에 저장소의 소스가 복사된다. 경로가 지정안되면 저장소URL의 맨마지막 디렉토리명이 저장될 디렉토리로 사용되어진다. -r 옵션으로 리비전을 지정한 경우엔 해당 리비전의 소스를 가져온다.
    예제) svn checkout -r 99 http://repository/src src
    설명) 저장소에서 리비전 번호 99의 src경로내의 소스를 가져온다.

    update 또는 up - 저장소(repository)의 최신 내용으로 로컬 소스를 갱신 한다.
    $ svn update [PATH...]
    : 기본적으로 최신 리비전을 반영한다. 그러나 -r 옵션으로 리비전을 지정한 경우엔 그 리비전으로 맞춘다.

    commit 또는 ci - 로컬에서 수정된 내용을 저장소에 적용시킨다.
    $ svn commit [PATH...]
    : 기본적으로 이 명령을 내리면 수정 사항을 코멘트할 수 있게 로그 편집기가 실행된다. lock된 파일이나 디렉토리는 commit성공후 자동적으로 unlock된다.

    lock - 저장소의 파일이나 디렉토리를 잠근다.
    $ svn lock TARGET
    : lock이 걸린 파일이나 디렉토리는 다른 사용자가 변경하여 commit할 수 없다. 해당 경로의 작업이 너무 방대하여 그 동안 다른 사용자가 수정하지 못하도록 할때 유용.

    unlock - 저장소의 잠근 파일이나 디렉토리를 풀어준다.
    $ svn unlock TARGET
    : lock의 반대. 기본적으로 lock을 건 사용자가 풀어줘야 한다.

    add - 새 파일이나 디렉토리를 추가한다.
    $ svn add PATH...
    : add 명령은 지정된 PATH의 새로운 파일이나 디렉토리를 버전관리 대상에 등록할 뿐이므로, add후 commit 명령을 수행해야만 실제로 저장소에 해당 파일이 추가된다.

    delete 또는 del, remove, rm - 파일이나 디렉토리를 제거한다.
    $ svn delete PATH...(URL)
    : delete 명령은 add와 반대로 해당 PATH의 파일이나 디렉토리을 버전관리 대상에서 삭제한다. 역시 commit 명령을 수행해야만 실제로 저장소에서 해당 목록이 제거된다. URL로 지정했을 경우 해당 목록은 즉시 저장소에서 제거된다.


    copy 또는 cp - 로컬 사본이나 저장소 내용을 복사한다. 브랜치(branch)를 만들기 위해 사용.
    $ svn copy SRC  DST
    : SRC가 로컬경로이고 DST도 로컬경로일 경우, 로컬복사되고 commit시 저장소에 복사 목록이 추가 저장된다. SRC가 로컬경로이고 DST가 저장소URL일 경우, URL에 복사되고 즉시 commit됨. SRC가 저장소URL이고 DST가 로컬경로일 경우, 로컬로 checkout하고 commit시 저장소에 해당 사본이 추가.
    SRC가 저장소URL이고 DST도 저장소URL일 경우, 저장소 내에 브랜치(branch)를 만듬.

    move 또는 mv, rename, ren - 파일이나 디렉토리의 이름을 바꾸거나 이동시킨다. 이 명령은 copy후 delete와 같다.
    $ svn move SRC  DST
    : SRC가 로컬경로이고 DST도 로컬경로일 경우, 로컬로 rename 또는 move되고 commit시 저장소에 반영된다. SRC가 저장소URL이고 DST도 저장소URL일 경우, 저장소에서 rename,move가 바로 commit됨.

    info - 해당 파일에 대한 정보를 출력한다.
    $ svn info TARGET
    : TARGET의 저장소 URL경로나 마지막 수정 일자등에 대한 정보를 보여준다.

    log - 해당 경로나 파일의 로그( 리비전에 따라 변경된 내역)를 볼수 있다.
    $ svn log [PATH]
    : 지정된 로컬 PATH에 대한 로그를 출력한다. -r 옵션을 지정하면 출력할 리비젼 범위등을 정할 수 있다.
    예제) svn log -r 30:100 test.c
    설명) 리비전 번호 30~100 내에서 test.c에 대한 로그를 출력한다.

    status 또는 stat, st - 로컬 경로의 파일이나 디렉토리의 상태를 보여준다.
    $ svn status [PATH]
    : 해당 파일이 수정, 추가되었는지 등의 정보를 보여준다. -u 옵션을 주면 저장소의 최신 리비젼이 얼마인지 알려준다.

    diff 또는 di - 서로 다른 리비젼 간에 차이점을 출력해준다.
    $ svn diff [-r N:M] TARGET
    : 지정된 파일이나 경로에 대해 이전 리비젼하고 차이점을 보여준다. -r 을 지정하면 리비젼 N과 M사이의 차이점을 출력해준다.
    예제) svn -r 30:45 test
    설명) test 경로내에서 리비젼 번호 30과 45의 차이점을 출력해준다.

    merge - 두 source 사이에 변경 내용을 작업 경로에 적용해준다.
    1. $ svn merge URL1[@N] URL2[@M] [PATH]
    2. $ svn merge [-r N:M] SOURCE [PATH]
    : 1. URL1[리비젼 N]과 URL2[리비젼 M]을 비교하여, 변경 내용을 작업경로에 적용한다.
      2. SOURCE의 리비젼 N과 M을 비교하여, 해당 작업경로에 적용한다.
    merge는 branch로 분리된 source에 대해 각각의 변경 내용을 현재의 작업에 병합하고자 할때 유용하다.

    blame 또는 praise, annotate, ann - 지정한 파일이나 URL의 내용 수정내역을 각 라인별로 보여준다.
    $ svn blame TARGET
    : 해당 파일의 각 라인에 대해 리비젼과 작성자를 나타내 준다. 누가 언제 어떤행을 수정했는지 알수 있음.

    import - 파일과 디렉토리를 저장소에 추가한다.
    $ svn import [PATH] URL

    : URL에 지정된 PATH의 하위 디렉토리는 재귀적으로 추가되며, 필요시 상위 디렉토리가 자동으로 생성된다.

    export - 저장소에서 순수하게 프로그램 소스만 가져온다.
    $ svn export URL [PATH]
    : export는 버전관리를 위한 부속 파일들은 제외하고 순수한 소스만 받아오기 때문에, 주로 source release 용도로 사용되게된다. -r 옵션을 지정해서 해당 리비젼의 소스를 받아올 수 있다.

    [출처] SVN(Subversion) 명령어 사용 방법|작성자 재후니


    ---------------------------------------------------------------------










----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------

DROP TABLE EMS_MASS_CAMP_INFO;   /* 캠페인관리 */
CREATE  TABLE EMS_MASS_CAMP_INFO
(
    CAMPAIGN_ID        VARCHAR (13)   NOT NULL    TITLE '캠페인ID',
    CAMPAIGN_NAME      VARCHAR (400)      NULL    TITLE '캠페인명',
    USER_ID            VARCHAR (20)       NULL    TITLE '사원ID',
    USER_DEPT          VARCHAR (20)       NULL    TITLE '사원부서',
    CAMPAIGN_MGR       VARCHAR (40)       NULL    TITLE '캠페인 관리담당자',
    CAMPAIGN_DEPT      VARCHAR (100)      NULL    TITLE '캠페인 관리부서명',
    CAMPAIGN_TEL       VARCHAR (20)       NULL    TITLE '캠페인 관리전화번호',
    CAMPAIGN_START     DATE               NULL    TITLE '캠페인 시작인',
    CAMPAIGN_END       DATE               NULL    TITLE '캠페인 종료일',
    MAIL_TYPE          VARCHAR (2)        NULL    TITLE '메일유형',
    CAMPAIGN_PURPOSE   VARCHAR (2048)     NULL    TITLE '캠페인목적',
    CAMPAIGN_DESC      VARCHAR (2048)     NULL    TITLE '캠페인설명',
    REGISTER_D         DATE               NULL    TITLE '등록일자',
    REGISTER_ID        VARCHAR (20)       NULL    TITLE '등록ID',
    MSG_TYPE           VARCHAR (1)        NULL    TITLE '메시지 유형'
);
CREATE UNIQUE INDEX XPKEMS_MASS_CAMP_INFO
(
    CAMPAIGN_ID
) ON EMS_MASS_CAMP_INFO;



------------------------------------------------------------------------------------------------



DROP TABLE EMS_MASS_BASE_INFO;    /* 메일관리  */
CREATE  TABLE EMS_MASS_BASE_INFO
(
    POST_ID               VARCHAR (13)     NOT NULL    TITLE '메일ID',
    POST_NAME             VARCHAR (400)        NULL    TITLE '메일명',
    CAMPAIGN_ID           VARCHAR (13)         NULL    TITLE '캠페인ID',
    USER_ID               VARCHAR (20)         NULL    TITLE '사원ID',
    USER_DEPT             VARCHAR (20)         NULL    TITLE '사원부서코드',
    USER_DEPT_NAME        VARCHAR (60)         NULL    TITLE '사원부서명',
    POST_DESC             VARCHAR (400)        NULL    TITLE '메일설명',
    MAIL_TYPE             VARCHAR (2)          NULL    TITLE '메일유형',
    OPEN_CHECK            VARCHAR (1)          NULL    TITLE 'OPEN유무',
    CLICK_CHECK           VARCHAR (1)          NULL    TITLE '클릭유무',
    DUR_CHECK             VARCHAR (1)          NULL    TITLE '유효건수유무',
    TRACKING_CLOSE        DATE                 NULL    TITLE '트래킹마감일',
    MAKE_DATE             DATE                 NULL    TITLE '최초등록일',
    START_DATE            DATE                 NULL    TITLE '발송시작일',
    END_DATE              DATE                 NULL    TITLE '발송종료일',
    STOP_DATE             DATE                 NULL    TITLE '발송중지일',
    RESTART_DATE          DATE                 NULL    TITLE '재발송시작일',
    RESTART_END_DATE      DATE                 NULL    TITLE '재발송종료일',
    ERR_START_DATE        DATE                 NULL    TITLE '에러메일 재발송 시작일',
    ERR_END_DATE          DATE                 NULL    TITLE '에러메일 재발송 종료일',
    CLOSE_DATE            DATE                 NULL    TITLE '마감일',
    SUMMARY_DATE          DATE                 NULL    TITLE '집계구동시간',
    JOB_STATUS            VARCHAR (2)          NULL    TITLE '진행 상태',
    TMP_STATUS            VARCHAR (2)          NULL    TITLE '최종 진행상태 기록',
    CONTENT_PATTERN       VARCHAR (1)          NULL    TITLE '설문메일 구분',
    CONTENT_INPUT         VARCHAR (1)          NULL    TITLE '발송물 저장 여부',
    CONTENT_PATH          VARCHAR (50)         NULL    TITLE 'PATH(HTML,TEXT)',
    CONTENT_HTML          VARCHAR (50)         NULL    TITLE 'HTML제작물 PATH',
    CONTENT_TEXT          VARCHAR (50)         NULL    TITLE 'TEXT제작물 PATH',
    CONTENT_TYPE          VARCHAR (1)          NULL    TITLE '발송물 유형',
    FROM_NAME             VARCHAR (100)        NULL    TITLE 'FROM 이름',
    FROM_EMAIL            VARCHAR (100)        NULL    TITLE 'FROM EMAIL',
    TO_NAME               VARCHAR (100)        NULL    TITLE 'TO 이름',
    TO_EMAIL              VARCHAR (100)        NULL    TITLE 'TO EMAIL',
    SUBJECT               VARCHAR (400)        NULL    TITLE 'SUBJECT 명',
    RETURN_PATH           VARCHAR (100)        NULL    TITLE '리턴메일 주소',
    SQL_ID                VARCHAR (20)         NULL    TITLE 'SQL_ID(TARGET조건)',
    TARGET_CNT            NUMBER  (10)         NULL    TITLE 'TARGET 총 건수',
    PUSHED_CNT            NUMBER  (10)         NULL    TITLE '발송된 건수',
    FAIL_CNT              NUMBER  (10)         NULL    TITLE '발송실패 건수',
    DUP_OPEN_CNT          NUMBER  (10)         NULL    TITLE '중복 OPEN 해당 건수',
    DUP_OPEN              NUMBER  (10)         NULL    TITLE '중복 OPEN 건수',
    UNIQUE_OPEN           NUMBER  (10)         NULL    TITLE '단일 OPEN 건수',
    DUP_CLICK             NUMBER  (10)         NULL    TITLE '중복 CLICK 건수',
    UNIQUE_CLICK          NUMBER  (10)         NULL    TITLE '단일 CLICK 건수',
    TOT_DUR_TIME          NUMBER  (10)         NULL    TITLE '유효 읽은 총시간(초)',
    TOT_DUR_CNT           NUMBER  (10)         NULL    TITLE '읽은 유효 건수',
    BASE_OPEN_FROM        NUMBER  (10)         NULL    TITLE '기준 읽은 시간(초) FROM',
    BASE_OPEN_TO          NUMBER  (10)         NULL    TITLE '기준 읽은 시간(초) TO',
    QUESTION_PART         NUMBER  (10)         NULL    TITLE '설문 응답자 수',
    TARGET_TABLE          VARCHAR (100)        NULL    TITLE '타겟팅 테이블',
    SEND_TYPE             VARCHAR (1)          NULL    TITLE '발송형태',
    SECURE_YN             VARCHAR (1)          NULL    TITLE '보안발송 여부',
    SECURE_PWD            VARCHAR (100)        NULL    TITLE '보안 비밀번호 필드명',
    TARGET_START          DATE                 NULL    TITLE '타겟팅 시작시간',
    TARGET_END            DATE                 NULL    TITLE '타겟팅 종료시간',
    CONTENT_CONF          VARCHAR (256)        NULL    TITLE '발송물 환경파일',
    SPOOL_CONF            VARCHAR (256)        NULL    TITLE '발송전 리스트 환경파일',
    REGISTER_D            DATE                 NULL    TITLE '등록일자',
    REGISTER_ID           VARCHAR (20)         NULL    TITLE '등록ID',
    TARGET_METHOD         VARCHAR (10)         NULL    TITLE '타겟팅 함수',
    SVR_01                NUMBER  (10)         NULL    TITLE '서버1',
    SVR_02                NUMBER  (10)         NULL    TITLE '서버2',
    SVR_03                NUMBER  (10)         NULL    TITLE '서버3',
    QUE_CLOSE_DATE        VARCHAR (8)          NULL    TITLE '큐발송 마감 시간',
    BOOK_LIST             VARCHAR (255)        NULL    TITLE '주소록 리스트',
    BOOK_GRP_CNT          VARCHAR (50)         NULL    TITLE '주소록 그룹 수',
    BOOK_MEM_CNT          VARCHAR (50)         NULL    TITLE '주소록 멤버 수',
    BOOK_TOT_CNT          VARCHAR (50)         NULL    TITLE '주소록 전체 수',
    NEXT_TARGET           VARCHAR (1)          NULL    TITLE '다음 타겟팅 FLAG',
    POLL_HTML             VARCHAR (50)         NULL    TITLE '설문 파일명',
    DOMAIN_FILTER         VARCHAR (400)        NULL    TITLE '도메인 필터',
    MSG_TYPE              VARCHAR (5)          NULL    TITLE '메시지 종류',
    TARGET_FILE_IDX       VARCHAR (512)        NULL    TITLE '타겟 파일 필드 인덱스',
    TARGET_FILE_NAME      VARCHAR (128)        NULL    TITLE '타겟 업로드 파일명',
    TARGET_FILE_LINE_CNT  NUMBER  (10)         NULL    TITLE '타겟 파일 라인 수',
    DOMAIN_FILTER_FLAG    VARCHAR (1)          NULL    TITLE '도메인 필터 FLAG',
    TARGET_FILE_HEAD_FLAG VARCHAR (1)          NULL    TITLE '타겟파일 헤더 유무',
    TARGET_FILE_DELIM     VARCHAR (10)         NULL    TITLE '타겟 파일 구분자',
    TARGET_QUERY          VARCHAR (4000)       NULL    TITLE '타겟팅 쿼리',
    TARGET_DB_ID          NUMBER  (11)         NULL    TITLE '타겟 DB등록 ID',
    APP_YN                VARCHAR (1)          NULL    TITLE '적용 유무',
    TARGET_ID             NUMBER  (11)         NULL    TITLE '타겟 아이디',
    TARGET_TYPE           VARCHAR (5)          NULL    TITLE '타겟팅 타입',
    TARGET_GROUP_CNT      NUMBER               NULL    TITLE '타겟팅 그룹 수',
    TARGET_TOTAL_CNT      NUMBER               NULL    TITLE '타겟팅 수',
    FILTER_DOMAIN_CNT     NUMBER  (11)         NULL    TITLE '필터 도메인 수',
    FILTER_INVALID_CNT    NUMBER  (11)         NULL    TITLE '도메인 오류 수',
    FILTER_ERROR_CNT      NUMBER  (11)         NULL    TITLE '에러 수',
    TARGET_STATUS         VARCHAR (2)          NULL    TITLE '타겟팅 상태',
    PARALLEL_USE_FLAG     VARCHAR (1)          NULL    TITLE '병렬 FLAG',
    SERVER_INFO           VARCHAR (200)        NULL    TITLE '서버 병렬 정보',
    CODE_USE_FLAG         VARCHAR (1)          NULL    TITLE '코드 사용 유무',
    WEB_TRACKING_FLAG     VARCHAR (1)          NULL    TITLE '웹트렉 FLAG',
    NLS_LANG              VARCHAR (15)         NULL    TITLE '언어셋',
    TARGET_FILE_ENCODING  VARCHAR (10)         NULL    TITLE '타겟 파일 언어셋',
    WHERE_INFO            VARCHAR (2048)       NULL    TITLE '쿼리 WHERE정보',
    CMS_ID                VARCHAR (50)         NULL    TITLE 'CMSID 정보',
    COMPLETE_YN           VARCHAR (1)          NULL    TITLE '제작 완료 정보'
);
CREATE UNIQUE INDEX XPKEMS_MASS_CAMP_INFO
(
    POST_ID
) ON EMS_MASS_BASE_INFO;



------------------------------------------------------------------------------------------------



DROP TABLE EMS_MASS_SCHEDULE_INFO;    /* 발송스케줄마스터 */
CREATE  TABLE EMS_MASS_SCHEDULE_INFO
(
    POST_ID                 VARCHAR (13)  NOT NULL    TITLE '메일ID',
    USER_ID                 VARCHAR (20)      NULL    TITLE '사용자ID',
    SEND_TOT_CNT            NUMBER  (10)      NULL    TITLE '총 발송통수',
    SENT_CNT                NUMBER  (10)      NULL    TITLE '현 발송통수',
    SERVER_ID               VARCHAR (2)   NOT NULL    TITLE '발송 서버',
    REQ_DATE                DATE              NULL    TITLE '발송 요청일',
    START_DATE              DATE              NULL    TITLE '발송 시작일',
    END_DATE                DATE              NULL    TITLE '발송 완료일',
    STOP_DATE               DATE              NULL    TITLE '발송 중지일',
    RESTART_DATE            DATE              NULL    TITLE '재발송 시작일',
    RESTART_END_DATE        DATE              NULL    TITLE '재발송 완료일',
    ERR_START_DATE          DATE              NULL    TITLE '에러메일 재발송 시작일',
    ERR_END_DATE            DATE              NULL    TITLE '에러메일 재발송 완료일',
    JOB_STATUS              VARCHAR (2)       NULL    TITLE '진행 상태',
    PUSHED_CNT              NUMBER  (10)      NULL    TITLE '발송 건수',
    FAIL_CNT                NUMBER  (10)      NULL    TITLE '발송 실패 건수',
    TYPE_10_ERROR           NUMBER  (10)      NULL    TITLE '이메일 형식오류 건수',
    TYPE_20_ERROR           NUMBER  (10)      NULL    TITLE '도메인 오류 건수',
    TYPE_30_ERROR           NUMBER  (10)      NULL    TITLE '발송보류 건수',
    TYPE_40_ERROR           NUMBER  (10)      NULL    TITLE '사용자부재 건수',
    TYPE_50_ERROR           NUMBER  (10)      NULL    TITLE '수신거부 건수',
    TYPE_60_ERROR           NUMBER  (10)      NULL    TITLE '메일용량 초과 건수',
    TYPE_70_ERROR           NUMBER  (10)      NULL    TITLE '연결 실패 건수',
    TYPE_80_ERROR           NUMBER  (10)      NULL    TITLE '네트웍 오류 건수',
    TYPE_90_ERROR           NUMBER  (10)      NULL    TITLE '시간 초과 건수',
    TYPE_95_ERROR           NUMBER  (10)      NULL    TITLE '응답오류 건수',
    TYPE_99_ERROR           NUMBER  (10)      NULL    TITLE '시스템 오류 건수',
    SPOOL_CONF              VARCHAR (256)     NULL    TITLE '발송리스트 환경파일',
    REGISTER_D              DATE              NULL    TITLE '등록일자',
    REGISTER_ID             VARCHAR (20)      NULL    TITLE '등록ID',
    CONTENT_CONF            VARCHAR (256)     NULL    TITLE '제작물 경로',
    TARGET_CNT_P            NUMBER  (10)      NULL    TITLE '타겟 카운트',
    QUE_CLOSE_DATE          VARCHAR (8)       NULL    TITLE '큐 발송 마감일',
    TYPE_10_ERROR_RETURN    NUMBER  (10)      NULL    TITLE '에러유형 10',
    TYPE_20_ERROR_RETURN    NUMBER  (10)      NULL    TITLE '에러유형 20',
    TYPE_30_ERROR_RETURN    NUMBER  (10)      NULL    TITLE '에러유형 30',
    TYPE_40_ERROR_RETURN    NUMBER  (10)      NULL    TITLE '에러유형 40',
    TYPE_50_ERROR_RETURN    NUMBER  (10)      NULL    TITLE '에러유형 50',
    TYPE_60_ERROR_RETURN    NUMBER  (10)      NULL    TITLE '에러유형 60',
    TYPE_70_ERROR_RETURN    NUMBER  (10)      NULL    TITLE '에러유형 70',
    TYPE_80_ERROR_RETURN    NUMBER  (10)      NULL    TITLE '에러유형 80',
    TYPE_90_ERROR_RETURN    NUMBER  (10)      NULL    TITLE '에러유형 90',
    TYPE_95_ERROR_RETURN    NUMBER  (10)      NULL    TITLE '에러유형 95',
    TYPE_99_ERROR_RETURN    NUMBER  (10)      NULL    TITLE '에러유형 99'
);
CREATE UNIQUE INDEX XPKEMS_MASS_SCHEDULE_INFO
(
    POST_ID, SERVER_ID
) ON EMS_MASS_SCHEDULE_INFO;



------------------------------------------------------------------------------------------------



DROP TABLE EMS_MASS_SEND_LIST_10;     /* 발송리스트 */
CREATE  TABLE EMS_MASS_SEND_LIST_10
(
    POST_ID               VARCHAR (13)     NOT NULL    TITLE '메일ID',
    MEMBER_ID             VARCHAR (20)     NOT NULL    TITLE '회원ID',
    MEMBER_NAME           VARCHAR (100)        NULL    TITLE '회원이름',
    EMAIL_ID              VARCHAR (100)        NULL    TITLE 'EMAIL ID',
    USER_ID               VARCHAR (20)         NULL    TITLE '사용자 ID',
    SEND_TIME             DATE                 NULL    TITLE '발송된 시간',
    DELIVER_time          DATE                 NULL    TITLE '전송된 시간',
    OPEN_TIME             DATE                 NULL    TITLE '개발 시간',
    CLICK_TIME            DATE                 NULL    TITLE '클릭 시간',
    EMAIL_DOMAIN          VARCHAR (100)        NULL    TITLE 'EMAIL의 도메인',
    TDATE                 DATE                 NULL    TITLE '최종 TRACKING(OPEN) 실시',
    FIELD1                VARCHAR (100)        NULL    TITLE '고객필드1',
    FIELD2                VARCHAR (100)        NULL    TITLE '고객필드2',
    FIELD3                VARCHAR (100)        NULL    TITLE '고객필드3',
    FIELD4                VARCHAR (100)        NULL    TITLE '고객필드4',
    FIELD5                VARCHAR (100)        NULL    TITLE '고객필드5',
    FIELD6                VARCHAR (100)        NULL    TITLE '고객필드6',
    FIELD7                VARCHAR (100)        NULL    TITLE '고객필드7',
    FIELD8                VARCHAR (100)        NULL    TITLE '고객필드8',
    OPEN_CNT              NUMBER  (10)         NULL    TITLE '오픈 수',
    DUP_CLICK             NUMBER  (10)         NULL    TITLE '중복 CLICK수',
    UNIQUE_CLICK          NUMBER  (10)         NULL    TITLE '단일 CLICK수',
    TOT_DUR_TIME          NUMBER  (10)         NULL    TITLE '총 유효 읽은 시간(초)',
    TOT_DUR_CNT           NUMBER  (10)         NULL    TITLE '읽은 유효 건수',
    ERROR_CODE            VARCHAR (2)          NULL    TITLE '에러 코드',
    FAIL_CNT              NUMBER  (10)         NULL    TITLE '실패 수',
    QUESTION_PART         NUMBER  (10)         NULL    TITLE '설문 응답 수',
    SERVER_ID             VARCHAR (2)          NULL    TITLE '서버 아이디',
    RETURN_IS             VARCHAR (5)          NULL    TITLE '리턴 유무',
    DENY_CUST_NO          VARCHAR (13)         NULL    TITLE 'DENY_CUST_NO',
    SERVER_ID_UPDATE_FLAG VARCHAR (1)          NULL    TITLE 'SERVER_ID_UPDATE_FLAG',
    OLD_ERROR_CODE        VARCHAR (2)          NULL    TITLE 'OLD_ERROR_CODE'
);
CREATE UNIQUE INDEX XPKEMS_MASS_SEND_LIST_10
(
    POST_ID, MEMBER_ID
) ON EMS_MASS_SEND_LIST_10;



------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------


<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN"
    "http//www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="HH14064I">

    <!-- ============================================== -->
    <!-- 1. insertCampInfo -->
    <!-- ============================================== -->
    <insert id="insertCampInfo" parameterClass="java.util.Map">
        <![CDATA[
            INSERT INTO
                CMSDATA.EMS_MASS_CAMP_INFO
            (
                CAMPAIGN_ID
                , CAMPAIGN_NAME    /* '관리용 캠페인 제목' */
                , USER_ID          /* 'ems'                */
                , USER_DEPT        /* '001'                */
                , CAMPAIGN_DEPT    /* '001'                */
                , CAMPAIGN_START   /* CURRENT_DATE         */
                , CAMPATGN_END     /* CURRENT_DATE         */
                , MAIL_TYPE        /* '99'                 */
                , REGISTER_D       /* CURRENT_DATE         */
                , REGISTER_ID      /* 'ems'                */
                , MSG_TYPE         /* 'M'                  */
            )
            VALUES
            (
                #campaign_id#
                , #campaign_name#
                , #user_id#
                , #user_dept#
                , #campaign_dept#
                , #campaign_start#
                , #campatgn_end#
                , #mail_type#
                , #register_d#
                , #register_id#
                , #msg_type#
            )
        ]]>
    </insert>




    <!-- ============================================== -->
    <!-- 2. selectMaxPostId -->
    <!-- ============================================== -->
    <select id="selectMaxPostId" resultClass="LMAP">
        <![CDATA[
            SELECT
                TO_CHAR(MAX(POST_ID)+1)  AS MAX_POST_ID
            FROM
                CMSDATA.EMS_MASS_BASE_INFO
            WHERE 1=1
                AND POST_ID LIKE TO_CHAR(CURRENT_DATE, 'YYYYMMDD') || '%'
        ]]>
    </select>




    <!-- ============================================== -->
    <!-- 3. insertBaseInfo -->
    <!-- ============================================== -->
    <insert id="insertBaseInfo" parameterClass="java.util.Map">
        <![CDATA[
            INSERT INTO
                CMSDATA.EMS_MASS_BASE_INFO
            (
                POST_ID
                , POST_NAME         /* '관리용 메일 제목'                           */
                , CAMPAIGN_ID       /* 'CAMPAIGN_ID'                                */
                , USER_ID           /* 'ems'                                        */
                , USER_DEPT         /* '001'                                        */
                , USER_DEPT_NAME    /* '기술연구소'                                 */
                , MAIL_TYPE         /* '01'                                         */
                , TRACKING_CLOSE    /* CURRENT_DATE + 7                             */
                , JOB_STATUS        /* '00'                                         */
                , CONTENT_HTML      /* 'POST_ID.html'                               */
                , FROM_NAME         /* '보내는 사람'                                */
                , FROM_EMAIL        /* '보내는 사람 이메일'                         */
                , TO_NAME           /* '회원님'                                     */
                , TO_EMAIL          /* 'member@amail.com'                           */
                , SUBJECT           /* 'EMS_M_NAME님, 테스티입니다.(메일제목)'      */
                , RETURN_PATH       /* '리턴메일 계정'                              */
                , REGISTER_ID       /* 'ems'                                        */
                , REGISTER_D        /* CURRENT_DATE                                 */
                , QUE_CLOSE_DATE    /* TO_CHAR(CURRENT_DATE, 'YYYYMMDD')            */
                , TARGET_STATUS     /* 'T1'                                         */
                , NLS_LANG          /* 'UTF-8'                                      */
                , COMPLETE_YN       /* 'N'                                          */
                , CMS_ID            /* 'CMS_ID'                                     */
                , TARGET_DB_ID      /* 12345678901                                  */
                , TARGET_TYPE       /* 'DB'                                         */
                , TARGET_QUERY      /* 'SELECT ''아이디'' EMS_M_ID, ''이름'' EMS_M_NAME, ''메일주소'' EMS_M_EMAIL FROM DUAL' */
            )
            VALUES
            (
                #post_id#
                , #post_name#
                , #campaign_id#
                , #user_id#
                , #user_dept#
                , #user_dept_name#
                , #mail_type#
                , #tracking_close#
                , #job_status#
                , #content_html#
                , #from_name#
                , #from_email#
                , #to_name#
                , #to_email#
                , #subject#
                , #return_path#
                , #register_id#
                , #register_d#
                , #que_close_date#
                , #target_status#
                , #nls_lang#
                , #complete_yn#
                , #cms_id#
                , #target_db_id#
                , #target_type#
                , #target_query#
            )
        ]]>
    </insert>


    <!-- ============================================== -->
    <!-- 4. insertScheduleInfo -->
    <!-- ============================================== -->
    <insert id="insertScheduleInfo" parameterClass="java.util.Map">
        <![CDATA[
            INSERT INTO
                CMSDATA.EMS_MASS_SCHEDULE_INFO
            (
                POST_ID
                , USER_ID           /* 'ems'                                  */
                , SERVER_ID         /* '01'                                   */
                , REQ_DATE          /* CURRENT_DATE                           */
                , JOB_STATUS        /* '00'                                   */
                , REGISTER_D        /* CURRENT_DATE                           */
                , REGISTER_ID       /* 'ems'                                  */
                , TARGET_CNT_P      /* '1'                                    */
                , QUE_CLOSE_DATE    /* TO_CHAR(CURRENT_DATE + 3, 'YYYYMMDD')  */
            )
            VALUES
            (
                #post_id#
                , #user_id#
                , #server_id#
                , #req_date#
                , #job_status#
                , #register_d#
                , #register_id#
                , #target_cnt_p#
                , #que_close_date#
            )
        ]]>
    </insert>


    <!-- ============================================== -->
    <!-- 5. insertSendList -->
    <!-- ============================================== -->
    <insert id="insertSendList" parameterClass="java.util.Map">
            INSERT INTO
                <isEqual property="month" compareValue="10">
                    CMSDATA.EMS_MASS_SEND_LIST_10
                </isEqual>
            (
                POST_ID           /*  */
                , MEMBER_ID       /* '아이디'         */
                , MEMBER_NAME     /* '홍길동'         */
                , EMAIL_ID        /* 'test@amail.com' */
                , USER_ID         /* 'ems'            */
                , EMAIL_DOMAIN    /* 'amail.com'      */
                , SERVER_ID       /* '01'             */
            )
            VALUES
            (
                #post_id#
                , #member_id#
                , #member_name#
                , #email_id#
                , #user_id#
                , #email_domain#
                , #server_id#
            )
    </insert>


    <!-- ============================================== -->
    <!-- 6. updateScheduleInfo -->
    <!-- ============================================== -->
    <update id="updateScheduleInfo" parameterClass="java.util.Map">
        <![CDATA[
            UPDATE
                CMSDATA.EMS_MASS_SCHEDULE_INFO
            SET
                JOB_STATUS = '20'   /* 발송 시작 */
            WHERE 1=1
                AND POST_ID = #post_id#
        ]]>
    </update>


</sqlMap>

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


DROP TABLE CM_CMPGN_MST;



CREATE TABLE CM_CMMN_CD
(

    GRP_CD               VARCHAR(5) NOT NULL
        TITLE '그룹코드',
    COMM_CD              VARCHAR(5) NOT NULL
        TITLE '코드',
    GRP_NM               VARCHAR(100) NULL
        TITLE '그룹코드명',
    COMM_CD_VL           VARCHAR(200) NULL
        TITLE '코드값',
    SRT_SEQ_NO           DECIMAL(18) NULL
        TITLE '정렬일련번호',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시',
    SYS_FRST_OPRTN_ID    VARCHAR(20) NULL
        TITLE 'SYS_최초등록자아이디',
    SYS_LST_UPDT_ID      VARCHAR(20) NULL
        TITLE 'SYS_최종변경자아이디'
);



CREATE UNIQUE INDEX XPKCM_CMMN_CD
 (
        GRP_CD,
        COMM_CD
 ) ON CM_CMMN_CD;


----------------------------------------------------------------------------------------------------

DROP TABLE CM_CMMN_CD;



CREATE TABLE CM_CMPGN_MST
(

    CMPGN_NO             VARCHAR(20) NOT NULL
        TITLE '캠페인번호',
    RFR_CMPGN_NO         VARCHAR(20) NULL
        TITLE '참조캠페인번호',
    CMPGN_NM             VARCHAR(100) NULL
        TITLE '캠페인명',
    CMPGN_ANNTN          VARCHAR(10000) NULL
        TITLE '캠페인설명',
    CMPGN_STTS           VARCHAR(5) NULL
        TITLE '캠페인상태',
    TRGT_MTHD_CD         VARCHAR(5) NULL
        TITLE '타겟팅방법코드',
    CMPGN_CTGRY_CD       VARCHAR(5) NULL
        TITLE '캠페인분류코드',
    CMPGN_CTGRY_SB_CD    VARCHAR(5) NULL
        TITLE '캠페인세분류코드',
    STR_ID               VARCHAR(20) NULL
        TITLE '점포아이디',
    CMPGN_STRT_DT        DATE NULL
        TITLE '캠페인시작일자',
    CMPGN_END_DT         DATE NULL
        TITLE '캠페인종료일자',
    CMPGN_RJCT_RSN       VARCHAR(10000) NULL
        TITLE '캠페인반려사유',
    CMPGN_OFFR_CD        VARCHAR(5) NULL
        TITLE '캠페인오퍼코드',
    CMPGN_OFFR_EXP       DECIMAL(18,2) NULL
        TITLE '캠페인오퍼비용',
    CMPGN_OFFR_EXP_TYP_CD VARCHAR(5) NULL
        TITLE '캠페인오퍼비용구분코드',
    CMPGN_OFFR_PAY_DT    DATE NULL
        TITLE '캠페인오퍼지급일자',
    CMPGN_OFFR_EVNT_DESC VARCHAR(10000) NULL
        TITLE '캠페인오퍼행사내용',
    CMPGN_PRDGFT_NM      VARCHAR(100) NULL
        TITLE '캠페인사은품명',
    EVNT_NO              VARCHAR(20) NULL
        TITLE '행사번호',
    EVNT_DESC            VARCHAR(2000) NULL
        TITLE '행사내용',
    CMPGN_PLCY_NO        DECIMAL(18) NULL
        TITLE '캠페인정책번호',
    THM_TRGT_TYP_CD      VARCHAR(5) NULL
        TITLE '테마별타겟분류코드',
    THM_TRGT_CD          VARCHAR(5) NULL
        TITLE '테마별타겟코드',
    SCCSS_CNDTN_CD       VARCHAR(5) NULL
        TITLE '성공조건코드',
    CMPGN_EXCT_RNK       INTEGER NULL
        TITLE '캠페인실행순위',
    CMPGN_RQST_ID        VARCHAR(20) NULL
        TITLE '캠페인요청자아이디',
    FNL_APPRVL_ID        VARCHAR(20) NULL
        TITLE '최종승인자아이디',
    FNL_APPRVL_DTTM      TIMESTAMP NULL
        TITLE '최종승인일시',
    FNL_APPRVL_STS       VARCHAR(5) NULL
        TITLE '최종승인상태',
    CMPGN_TRGT_RQST_STTS VARCHAR(5) NULL
        TITLE '캠페인대상요청상태',
    CMPGN_MK_RQST_STTS   VARCHAR(5) NULL
        TITLE '캠페인제작요청상태',
    RSPS_RTO_US_TYP_CD   VARCHAR(5) NULL
        TITLE '반응율사용구분코드',
    EFF_ANAL_STRT_DT     DATE NULL
        TITLE '효과분석시작일자',
    EFF_ANAL_END_DT      DATE NULL
        TITLE '효과분석종료일자',
    TOPN                 NUMERIC(8) NULL
        TITLE 'TOPN',
    CUST_CNT             NUMERIC(8) NULL
        TITLE '고객수',
    GFT_SYS_REG_YN       CHAR(1) NULL
        TITLE '사은품시스템등록여부',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시',
    SYS_FRST_OPRTN_ID    VARCHAR(20) NULL
        TITLE 'SYS_최초등록자아이디',
    SYS_LST_UPDT_ID      VARCHAR(20) NULL
        TITLE 'SYS_최종변경자아이디'
);



CREATE UNIQUE INDEX XPKCM_CMPGN_MST
 (
        CMPGN_NO
 ) ON CM_CMPGN_MST;





----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SAS Enterprise Guide : 선택한 서버 : SASApp_MA      <-

----------------------------------------------------------------------------------------------------



OPTIONS COMPRESS=YES MPRINT MLOGIC;
OPTIONS SASTRACE='...D' SASTRACELOC=SASLOG;


*** 포인트 정보;
%LET PNT_IP = 174.100.67.129;
%LET PNT_ID = cmpn;
%LET PNT_PW = cmpn12#;

%LET P_PNT_SMS = /home/cmpn/SMS/RECV;
%LET P_PNT_LMS = /home/cmpn/LMS/RECV;
%LET P_PNT_MMS = /home/cmpn/MMS/RECV;
%LET P_PNT_BMS = /home/cmpn/BMS/RECV;
%LET P_PNT_DM  = /home/cmpn/DM/RECV;
%LET P_PNT_EML = /home/cmpn/EML/RECV;

* LENGTH;
%LET L_PNT_SBJT = 40;

%LET L_PNT_SMS = 80;
%LET L_PNT_LMS = 2000;
%LET L_PNT_MMS = 2000;
%LET L_PNT_BMS = 2000;

%LET L_PNT_FLM = 200;
%LET L_PNT_FLB = 200;

%LET L_PNT_STR = 11;
%LET L_PNT_WRD = 5;

%LET L_PNT_STR_NM  = 20;
%LET L_PNT_PUR_CNT = 20;
%LET L_PNT_PUR_AMT = 20;


*** 캠페인 작업경로;
%LET P_CMPGN = /sas/emart;
%LET P_SH    = &P_CMPGN./sh;
%LET P_PGM   = &P_CMPGN./pgm;
%LET P_DATA  = &P_CMPGN./data;
%LET P_LOG   = &P_CMPGN./log;


*** 테라데이터 계정정보 (TCVM);
%LET V_C_SRVR = dbccop1;
%LET V_C_DB   = tcvm;
%LET V_C_SCHM = tcvm;
%LET V_C_USER = cmsdata01;
%LET V_C_PSWD  = {sas002}1950043230F2228538C6A9DD2F9A1A33;

* 테라데이터 계정정보 (TSVM);
%LET V_S_SRVR = dbccop1;
%LET V_S_DB   = tsvm;
%LET V_S_SCHM = tsvm;
%LET V_S_USER = cmsdata01;
%LET V_S_PSWD  = {sas002}1950043230F2228538C6A9DD2F9A1A33;

* 테라데이터 계정정보 (DATA01);
%LET T_D_SRVR = dbccop1;
%LET T_D_DB   = cmsdata;
%LET T_D_SCHM = cmsdata;
%LET T_D_USER = cmsdata01;
%LET T_D_PSWD  = {sas002}1950043230F2228538C6A9DD2F9A1A33;

* 테라데이터 계정정보 (META01);
%LET T_M_SRVR = dbccop1;
%LET T_M_DB   = cmsmeta;
%LET T_M_SCHM = cmsmeta;
%LET T_M_USER = cmsmeta01;
%LET T_M_PSWD  = cmsmeta01;


* 테라데이터 라이브러리;
LIBNAME CMSDATA TERADATA SERVER="&T_D_SRVR" DATABASE="&T_D_DB" SCHEMA="&T_D_SCHM" USER="&T_D_USER" PASSWORD="&T_D_PSWD" TPT=YES SQL_FUNCTIONS=ALL PRESERVE_COL_NAMES=YES PRESERVE_TAB_NAMES=YES;
LIBNAME CMSMETA TERADATA SERVER="&T_M_SRVR" DATABASE="&T_M_DB" SCHEMA="&T_M_SCHM" USER="&T_M_USER" PASSWORD="&T_M_PSWD" TPT=YES SQL_FUNCTIONS=ALL PRESERVE_COL_NAMES=YES PRESERVE_TAB_NAMES=YES;
LIBNAME TCVM    TERADATA SERVER="&V_C_SRVR" DATABASE="&V_C_DB" SCHEMA="&V_C_SCHM" USER="&V_C_USER" PASSWORD="&V_C_PSWD" TPT=YES SQL_FUNCTIONS=ALL PRESERVE_COL_NAMES=YES PRESERVE_TAB_NAMES=YES;
LIBNAME TSVM    TERADATA SERVER="&V_S_SRVR" DATABASE="&V_S_DB" SCHEMA="&V_S_SCHM" USER="&V_S_USER" PASSWORD="&V_S_PSWD" TPT=YES SQL_FUNCTIONS=ALL PRESERVE_COL_NAMES=YES PRESERVE_TAB_NAMES=YES;






/*****************************************************************************
*   프로그램명     : 채널발송 (POINT 시스템)
*
*   사  용  법     : %SND_CHNNL2PNT(CMPGN_NO=, CHNNL_NO=, CHNNL=);
*
*
*   프로그램설명   : POINT 시스템에 채널발송
*
*   작  성  자     : SAS KOREA
*                    Kyung-Min Park
*
*   작  성  일     : 2015년 8월 27일
*
*
*   INPUT TABLE    : CMSDATA.CM_CMPGN_MST
*                    CMSDATA.CM_CMPGN_EXCT
*                    CMSDATA.CM_CMPGN_TRGT_CUST
*                    CMSDATA.CM_CHNNL_&CHNNL
*                    CMSDATA.CM_CHNNL_TST_CUST
*                    TCVM.STORE
*
*   OUTPUT FILE   : FTP 파일발송
*
*****************************************************************************/

/*****************************************************************************
                                  PRE JOB
*****************************************************************************/

* 작업실행 로그;
*%ETLJOB_INFO();


/*****************************************************************************
                                  LIBRARY
*****************************************************************************/

%INCLUDE "&P_AUTOEXEC./autoexec_cmpgn.sas";


/*****************************************************************************
                                  VARIABLE
*****************************************************************************/



/*****************************************************************************
                                  PROGRAM
*****************************************************************************/

%MACRO SND_CHNNL2PNT(CMPGN_NO=, CHNNL_NO=, CHNNL=);
   * 로그 생성;
   PROC PRINTTO LOG="&P_LOG/snd_chnnl2pnt.log" NEW; RUN; QUIT;

   * 본사/점포 채널 미리보기 유무;
   %LET IS_HOFFCE = N;
   * 본사 채널 미리보기 테스트 본사아이디;
   %LET STORE_ID_HOFFCE = 0000;

   * 변수 정의;
   %LET STORE_ID   = ;
   %LET TST_GRP_CD = ;
   %LET SEND_DTTM  = ;
   %LET BRCD_NO    = ;

   * 고객수;
   %LET CUST_CNT = 0;

   DATA _NULL_;
      TAB = 'T_R_' || COMPRESS(RANUNI(ROUND(DATETIME())));

      CALL SYMPUT('TAB', COMPRESS(TAB,'.'));
   RUN;
   %PUT &=TAB;

   * 본사 테스트 채널번호 적용;
   %IF &CMPGN_NO = %THEN %DO;
      * 본사 채널 미리보기용;
      %LET CMPGN_NO  = T%SYSFUNC(COMPRESS(%SYSFUNC(DATETIME(),DATETIME19.),':'));
      %LET IS_HOFFCE = Y;

      * 파라미터 URLDECODE;
      DATA _NULL_;
         CALL SYMPUT('CHNNL_NO', URLDECODE("&CHNNL_NO"));
         CALL SYMPUT('CHNNL',    URLDECODE("&CHNNL"));
      RUN;

      * 본사 BMS 미리보기 테스트;
      %IF &CHNNL = BMS %THEN %DO;
         DATA _NULL_;
            SET CMSDATA.CM_CHNNL_&CHNNL(KEEP=CHNNL_NO BRCD_NO
                                     WHERE=(CHNNL_NO="&CHNNL_NO"));
            CALL SYMPUT('BRCD_NO', BRCD_NO);
         RUN;
      %END;
      DATA _NULL_;
         SET CMSDATA.CM_CHNNL_&CHNNL(KEEP=CHNNL_NO TST_GRP_CD
                                  WHERE=(CHNNL_NO="&CHNNL_NO"));
            CALL SYMPUT('TST_GRP_CD', TST_GRP_CD);
      RUN;
      %PUT &=BRCD_NO;
      %PUT &=TST_GRP_CD;
   %END;
   %PUT &=CMPGN_NO;
   %PUT &=CHNNL_NO;
   %PUT &=CHNNL;
   %PUT &=IS_HOFFCE;


   * 채널 정보 얻음;
   %IF &IS_HOFFCE = Y %THEN %DO;
      * 본사 채널 미리보기용;
      DATA _NULL_;
         CALL SYMPUT('SEND_DTTM', COMPRESS(PUT(DATEPART(DATETIME()),YYMMDDN8.)||
                                  COMPRESS(PUT(TIMEPART(DATETIME()),TIME9.),':')));
      RUN;
   %END;
   %ELSE %DO;
      * 본사/점포;
      DATA _NULL_;
         SET CMSDATA.CM_CMPGN_EXCT(WHERE=(CMPGN_NO="&CMPGN_NO" AND CHNNL_NO="&CHNNL_NO"));

         CALL SYMPUT('CHNNL',     CHNNL_TYP_CD);
         CALL SYMPUT('SEND_DTTM', COMPRESS(PUT(DATEPART(CMPGN_EXCT_SCHDLD_DTTM),YYMMDDN8.)||
                                  COMPRESS(PUT(TIMEPART(CMPGN_EXCT_SCHDLD_DTTM),TIME9.),':')));
      RUN;
   %END;
   %PUT &=CHNNL;
   %PUT &=SEND_DTTM;


   * 점포 번호 얻음;
   %IF &IS_HOFFCE = Y %THEN %DO;
      * 본사 채널 미리보기용;
      %LET STORE_ID = &STORE_ID_HOFFCE;
      %LET STORE_NM = 본사;
   %END;
   %ELSE %DO;
      * 본사/점포;
      DATA _NULL_;
         SET CMSDATA.CM_CMPGN_MST(WHERE=(CMPGN_NO="&CMPGN_NO"));
         CALL SYMPUT('STR_ID', STR_ID);
      DATA _NULL_;
         SET TCVM.STORE(WHERE=(STR_ID="&STR_ID"));
         CALL SYMPUT('STORE_ID', POS_STR_CODE);
         CALL SYMPUT('STORE_NM', STR_NM);
      RUN;
   %END;
   %PUT &=STORE_ID;
   %PUT &=STORE_NM;


   * POINT 시스템 채널정보 발송;
   FILENAME F_PNT FTP %SYSFUNC(COMPRESS("&SEND_DTTM._&CMPGN_NO._&CHNNL_NO")) CD=%SYSFUNC(COMPRESS("&&P_PNT_&CHNNL")) HOST="&PNT_IP" USER="&PNT_ID" PASS="&PNT_PW" LRECL=32767;
   *FILENAME F_PNT '/sas/emart/pgm/data.txt' LRECL=32767;

   *** BH ***;
   DATA _NULL_;
      SET CMSDATA.CM_CHNNL_&CHNNL(WHERE=(CHNNL_NO="&CHNNL_NO"));
      LENGTH STMT $32767;
      FILE F_PNT;

      STMT = COMPRESS("BH&CMPGN_NO&CHNNL_NO");
      PUT STMT@@;


      *** ************************************** ***;
      *** SMS, LMS, MMS, BMS, EMAIL, or DM 발송  ***;
      *** ************************************** ***;

      %IF &CHNNL = SMS %THEN %DO;
         * ********************* *;
         * SMS 발송              *;
         * ********************* *;

         * 점포코드;
         STMT = COMPRESS("&STORE_ID");
         PUT +(-1) STMT@@;

         * 내용-채널예약일시;
         LEN = &&L_PNT_&CHNNL - LENGTH(STRIP(CHNNL_DESC)) - 1;
         IF LEN > 0 THEN
            STMT = STRIP(CHNNL_DESC)||REPEAT(' ',LEN)||
                   COMPRESS(PUT(DATEPART(CHNNL_RSV_SND_DTTM),YYMMDDN8.)||COMPRESS(PUT(TIMEPART(CHNNL_RSV_SND_DTTM),TIME9.),':'));
         ELSE
            STMT = KSUBSTR(STRIP(CHNNL_DESC), 1, &&L_PNT_&CHNNL)||
                   COMPRESS(PUT(DATEPART(CHNNL_RSV_SND_DTTM),YYMMDDN8.)||COMPRESS(PUT(TIMEPART(CHNNL_RSV_SND_DTTM),TIME9.),':'));
         PUT +(-1) STMT@@;

         * 점포회신번호-전송일시;
         LEN = &L_PNT_STR - LENGTH(COMPRESS(COMPRESS(STR_RPLY_NO,'-'))) - 1;
         STMT = COMPRESS(COMPRESS(STR_RPLY_NO,'-'))||REPEAT(' ',LEN)||
                COMPRESS(PUT(DATEPART(DATETIME()),YYMMDDN8.)||
                COMPRESS(PUT(TIMEPART(DATETIME()),TIME9.),':'));
         PUT +(-1) STMT@@;
      %END;
      %ELSE %IF &CHNNL = LMS OR &CHNNL = MMS OR &CHNNL = BMS %THEN %DO;
         * *********************** *;
         * LMS or MMS or BMS 발송  *;
         * *********************** *;

         * 제목-점포코드;
         LEN = &L_PNT_SBJT - LENGTH(STRIP(CHNNL_SBJCT)) - 1;
         IF LEN > 0 THEN
            STMT = STRIP(CHNNL_SBJCT)||REPEAT(' ',LEN)||COMPRESS("&STORE_ID");
         ELSE
     /*****************************************************************************
*   프로그램명     : 채널발송 (POINT 시스템)
*
*   사  용  법     : %SND_CHNNL2PNT(CMPGN_NO=, CHNNL_NO=, CHNNL=);
*
*
*   프로그램설명   : POINT 시스템에 채널발송
*
*   작  성  자     : SAS KOREA
*                    Kyung-Min Park
*
*   작  성  일     : 2015년 8월 27일
*
*
*   INPUT TABLE    : CMSDATA.CM_CMPGN_MST
*                    CMSDATA.CM_CMPGN_EXCT
*                    CMSDATA.CM_CMPGN_TRGT_CUST
*                    CMSDATA.CM_CHNNL_&CHNNL
*                    CMSDATA.CM_CHNNL_TST_CUST
*                    TCVM.STORE
*
*   OUTPUT FILE   : FTP 파일발송
*
*****************************************************************************/

/*****************************************************************************
                                  PRE JOB
*****************************************************************************/

* 작업실행 로그;
*%ETLJOB_INFO();


/*****************************************************************************
                                  LIBRARY
*****************************************************************************/

%INCLUDE "&P_AUTOEXEC./autoexec_cmpgn.sas";


/*****************************************************************************
                                  VARIABLE
*****************************************************************************/



/*****************************************************************************
                                  PROGRAM
*****************************************************************************/

%MACRO SND_CHNNL2PNT(CMPGN_NO=, CHNNL_NO=, CHNNL=);
   * 로그 생성;
   PROC PRINTTO LOG="&P_LOG/snd_chnnl2pnt.log" NEW; RUN; QUIT;

   * 본사/점포 채널 미리보기 유무;
   %LET IS_HOFFCE = N;
   * 본사 채널 미리보기 테스트 본사아이디;
   %LET STORE_ID_HOFFCE = 0000;

   * 변수 정의;
   %LET STORE_ID   = ;
   %LET TST_GRP_CD = ;
   %LET SEND_DTTM  = ;
   %LET BRCD_NO    = ;

   * 고객수;
   %LET CUST_CNT = 0;

   DATA _NULL_;
      TAB = 'T_R_' || COMPRESS(RANUNI(ROUND(DATETIME())));

      CALL SYMPUT('TAB', COMPRESS(TAB,'.'));
   RUN;
   %PUT &=TAB;

   * 본사 테스트 채널번호 적용;
   %IF &CMPGN_NO = %THEN %DO;
      * 본사 채널 미리보기용;
      %LET CMPGN_NO  = T%SYSFUNC(COMPRESS(%SYSFUNC(DATETIME(),DATETIME19.),':'));
      %LET IS_HOFFCE = Y;

      * 파라미터 URLDECODE;
      DATA _NULL_;
         CALL SYMPUT('CHNNL_NO', URLDECODE("&CHNNL_NO"));
         CALL SYMPUT('CHNNL',    URLDECODE("&CHNNL"));
      RUN;

      * 본사 BMS 미리보기 테스트;
      %IF &CHNNL = BMS %THEN %DO;
         DATA _NULL_;
            SET CMSDATA.CM_CHNNL_&CHNNL(KEEP=CHNNL_NO BRCD_NO
                                     WHERE=(CHNNL_NO="&CHNNL_NO"));
            CALL SYMPUT('BRCD_NO', BRCD_NO);
         RUN;
      %END;
      DATA _NULL_;
         SET CMSDATA.CM_CHNNL_&CHNNL(KEEP=CHNNL_NO TST_GRP_CD
                                  WHERE=(CHNNL_NO="&CHNNL_NO"));
            CALL SYMPUT('TST_GRP_CD', TST_GRP_CD);
      RUN;
      %PUT &=BRCD_NO;
      %PUT &=TST_GRP_CD;
   %END;
   %PUT &=CMPGN_NO;
   %PUT &=CHNNL_NO;
   %PUT &=CHNNL;
   %PUT &=IS_HOFFCE;


   * 채널 정보 얻음;
   %IF &IS_HOFFCE = Y %THEN %DO;
      * 본사 채널 미리보기용;
      DATA _NULL_;
         CALL SYMPUT('SEND_DTTM', COMPRESS(PUT(DATEPART(DATETIME()),YYMMDDN8.)||
                                  COMPRESS(PUT(TIMEPART(DATETIME()),TIME9.),':')));
      RUN;
   %END;
   %ELSE %DO;
      * 본사/점포;
      DATA _NULL_;
         SET CMSDATA.CM_CMPGN_EXCT(WHERE=(CMPGN_NO="&CMPGN_NO" AND CHNNL_NO="&CHNNL_NO"));

         CALL SYMPUT('CHNNL',     CHNNL_TYP_CD);
         CALL SYMPUT('SEND_DTTM', COMPRESS(PUT(DATEPART(CMPGN_EXCT_SCHDLD_DTTM),YYMMDDN8.)||
                                  COMPRESS(PUT(TIMEPART(CMPGN_EXCT_SCHDLD_DTTM),TIME9.),':')));
      RUN;
   %END;
   %PUT &=CHNNL;
   %PUT &=SEND_DTTM;


   * 점포 번호 얻음;
   %IF &IS_HOFFCE = Y %THEN %DO;
      * 본사 채널 미리보기용;
      %LET STORE_ID = &STORE_ID_HOFFCE;
      %LET STORE_NM = 본사;
   %END;
   %ELSE %DO;
      * 본사/점포;
      DATA _NULL_;
         SET CMSDATA.CM_CMPGN_MST(WHERE=(CMPGN_NO="&CMPGN_NO"));
         CALL SYMPUT('STR_ID', STR_ID);
      DATA _NULL_;
         SET TCVM.STORE(WHERE=(STR_ID="&STR_ID"));
         CALL SYMPUT('STORE_ID', POS_STR_CODE);
         CALL SYMPUT('STORE_NM', STR_NM);
      RUN;
   %END;
   %PUT &=STORE_ID;
   %PUT &=STORE_NM;


   * POINT 시스템 채널정보 발송;
   FILENAME F_PNT FTP %SYSFUNC(COMPRESS("&SEND_DTTM._&CMPGN_NO._&CHNNL_NO")) CD=%SYSFUNC(COMPRESS("&&P_PNT_&CHNNL")) HOST="&PNT_IP" USER="&PNT_ID" PASS="&PNT_PW" LRECL=32767;
   *FILENAME F_PNT '/sas/emart/data/data.txt' LRECL=32767;

   *** BH ***;
   DATA _NULL_;
      SET CMSDATA.CM_CHNNL_&CHNNL(WHERE=(CHNNL_NO="&CHNNL_NO"));
      LENGTH STMT $32767;
      FILE F_PNT;

      STMT = COMPRESS("BH&CMPGN_NO&CHNNL_NO");
      PUT STMT@@;


      *** ************************************** ***;
      *** SMS, LMS, MMS, BMS, EMAIL, or DM 발송  ***;
      *** ************************************** ***;

      %IF &CHNNL = SMS %THEN %DO;
         * ********************* *;
         * SMS 발송              *;
         * ********************* *;

         * 점포코드;
         STMT = COMPRESS("&STORE_ID");
         PUT +(-1) STMT@@;

         * 내용-채널예약일시;
         LEN = &&L_PNT_&CHNNL - LENGTH(STRIP(CHNNL_DESC)) - 1;
         IF LEN > 0 THEN
            STMT = STRIP(CHNNL_DESC)||REPEAT(' ',LEN)||
                   COMPRESS(PUT(DATEPART(CHNNL_RSV_SND_DTTM),YYMMDDN8.)||COMPRESS(PUT(TIMEPART(CHNNL_RSV_SND_DTTM),TIME9.),':'));
         ELSE
            STMT = KSUBSTR(STRIP(CHNNL_DESC), 1, &&L_PNT_&CHNNL)||
                   COMPRESS(PUT(DATEPART(CHNNL_RSV_SND_DTTM),YYMMDDN8.)||COMPRESS(PUT(TIMEPART(CHNNL_RSV_SND_DTTM),TIME9.),':'));
         PUT +(-1) STMT@@;

         * 점포회신번호-전송일시;
         LEN = &L_PNT_STR - LENGTH(COMPRESS(COMPRESS(STR_RPLY_NO,'-'))) - 1;
         STMT = COMPRESS(COMPRESS(STR_RPLY_NO,'-'))||REPEAT(' ',LEN)||
                COMPRESS(PUT(DATEPART(DATETIME()),YYMMDDN8.)||
                COMPRESS(PUT(TIMEPART(DATETIME()),TIME9.),':'));
         PUT +(-1) STMT@@;
      %END;
      %ELSE %IF &CHNNL = LMS OR &CHNNL = MMS OR &CHNNL = BMS %THEN %DO;
         * *********************** *;
         * LMS or MMS or BMS 발송  *;
         * *********************** *;

         * 제목-점포코드;
         LEN = &L_PNT_SBJT - LENGTH(STRIP(CHNNL_SBJCT)) - 1;
         IF LEN > 0 THEN
            STMT = STRIP(CHNNL_SBJCT)||REPEAT(' ',LEN)||COMPRESS("&STORE_ID");
         ELSE
            STMT = KSUBSTR(CHNNL_SBJCT,1,&L_PNT_SBJT)||COMPRESS("&STORE_ID");
         PUT +(-1) STMT@@;

         * 내용-채널예약일시;
         LEN = &&L_PNT_&CHNNL - LENGTH(STRIP(CHNNL_DESC)) - 1;
         IF LEN > 0 THEN
            STMT = STRIP(CHNNL_DESC)||REPEAT(' ',LEN)||
                   COMPRESS(PUT(DATEPART(CHNNL_RSV_SND_DTTM),YYMMDDN8.)||COMPRESS(PUT(TIMEPART(CHNNL_RSV_SND_DTTM),TIME9.),':'));
         ELSE
            STMT = KSUBSTR(STRIP(CHNNL_DESC), 1, &&L_PNT_&CHNNL)||
                   COMPRESS(PUT(DATEPART(CHNNL_RSV_SND_DTTM),YYMMDDN8.)||COMPRESS(PUT(TIMEPART(CHNNL_RSV_SND_DTTM),TIME9.),':'));
         PUT +(-1) STMT@@;

         * 점포회신번호-전송일시;
         LEN = &L_PNT_STR - LENGTH(COMPRESS(COMPRESS(STR_RPLY_NO,'-'))) - 1;
         STMT = COMPRESS(COMPRESS(STR_RPLY_NO,'-'))||REPEAT(' ',LEN)||
                COMPRESS(PUT(DATEPART(DATETIME()),YYMMDDN8.)||
                COMPRESS(PUT(TIMEPART(DATETIME()),TIME9.),':'));
         PUT +(-1) STMT@@;

         * MMS or BMS 이미지;
         %IF &CHNNL = MMS %THEN %DO;
            LEN1 = &L_PNT_FLM - LENGTH(STRIP(FL_1_PTH)) - 1;
            LEN2 = &L_PNT_FLM - LENGTH(STRIP(FL_2_PTH)) - 1;
            STMT = STRIP(FL_1_PTH)||REPEAT(' ',LEN1)||
                   STRIP(FL_2_PTH)||REPEAT(' ',LEN2)||
                   STRIP(FL_3_PTH);
            PUT +(-1) STMT@@;
         %END;
         %ELSE %IF &CHNNL = BMS %THEN %DO;
            LEN = &L_PNT_FLB - LENGTH(STRIP(TMP_FL_PTH)) - 1;
            STMT = STRIP(TMP_FL_PTH)||REPEAT(' ',LEN)||STRIP(TMP_FL_NM);
            PUT +(-1) STMT@@;
         %END;
      %END;
      %ELSE %IF &CHNNL = EML %THEN %DO;
         * ********************* *;
         * EMAIL 발송            *;
         * ********************* *;

         * 점포코드;
         STMT = COMPRESS("&STORE_ID");
         PUT +(-1) STMT@@;

         * 전송일시;
         STMT = COMPRESS(PUT(DATEPART(DATETIME()),YYMMDDN8.)||
                COMPRESS(PUT(TIMEPART(DATETIME()),TIME9.),':'));
         PUT +(-1) STMT@@;

         * 포스트ID;
         STMT = COMPRESS(POST_ID);
         PUT +(-1) STMT@@;

         * 채널예약일시;
         STMT = COMPRESS(PUT(DATEPART(CHNNL_RSV_SND_DTTM),YYMMDDN8.)||COMPRESS(PUT(TIMEPART(CHNNL_RSV_SND_DTTM),TIME9.),':'));
         PUT +(-1) STMT;
      %END;
      %ELSE %IF &CHNNL = DM OR &CHNNL = POS %THEN %DO;
         * ************************** *;
         * DM, POS 발송               *;
         * ************************** *;

         * 점포코드;
         STMT = COMPRESS("&STORE_ID");
         PUT +(-1) STMT@@;

         * 전송일시;
         STMT = COMPRESS(PUT(DATEPART(DATETIME()),YYMMDDN8.)||
                COMPRESS(PUT(TIMEPART(DATETIME()),TIME9.),':'));
         PUT +(-1) STMT;
      %END;

      * 문구변환;
      %IF &CHNNL = SMS OR &CHNNL = LMS OR &CHNNL = MMS OR &CHNNL = BMS %THEN %DO;
         * 문자변환1~5;
         LEN1 = &L_PNT_WRD - LENGTH(COMPRESS(RPLC_WRD_1)) - 1; IF LEN1 < 0 THEN LEN1 = 0;
         LEN2 = &L_PNT_WRD - LENGTH(COMPRESS(RPLC_WRD_2)) - 1; IF LEN2 < 0 THEN LEN2 = 0;
         LEN3 = &L_PNT_WRD - LENGTH(COMPRESS(RPLC_WRD_3)) - 1; IF LEN3 < 0 THEN LEN3 = 0;
         LEN4 = &L_PNT_WRD - LENGTH(COMPRESS(RPLC_WRD_4)) - 1; IF LEN4 < 0 THEN LEN4 = 0;
         LEN5 = &L_PNT_WRD - LENGTH(COMPRESS(RPLC_WRD_5)) - 1; IF LEN5 < 0 THEN LEN5 = 0;
         STMT = COMPRESS(RPLC_WRD_1)||REPEAT(' ',LEN1)||
                COMPRESS(RPLC_WRD_2)||REPEAT(' ',LEN2)||
                COMPRESS(RPLC_WRD_3)||REPEAT(' ',LEN3)||
                COMPRESS(RPLC_WRD_4)||REPEAT(' ',LEN4)||
                COMPRESS(RPLC_WRD_5)||REPEAT(' ',LEN5);
         PUT +(-1) STMT;
      %END;
   RUN;

   *** BD ***;
   DATA WORK.CM_CMPGN_TRGT_CUST;
      %IF &IS_HOFFCE = Y %THEN %DO;
         * 본사 채널 미리보기용;
         SET CMSDATA.CM_CHNNL_TST_GRP_CUST(KEEP=TST_GRP_CD CUST_ID
                                           WHERE=(TST_GRP_CD="&TST_GRP_CD"));
      %END;
      %ELSE %DO;
         * 본사/점포;
         SET CMSDATA.CM_CMPGN_TRGT_CUST(KEEP=CMPGN_NO CHNNL_NO CUST_ID BRCD_NO
                                        WHERE=(CMPGN_NO="&CMPGN_NO" AND CHNNL_NO="&CHNNL_NO"));
      %END;

      * 구매횟수;
      PUR_CNT = 0;
      * 구매금액;
      PUR_AMT = 0;
   PROC SORT DATA=WORK.CM_CMPGN_TRGT_CUST; BY CUST_ID;
   RUN;QUIT;

   %IF %SYSFUNC(EXIST(CMSDATA.&TAB)) %THEN %DO;
      PROC SQL NOPRINT;
         CONNECT TO TERADATA(DATABASE="&T_D_DB" TPT=YES SQL_FUNCTIONS=ALL SERVER="&T_D_SRVR" SCHEMA="&T_D_SCHM" USER="&T_D_USER" PASSWORD="&T_D_PSWD");
         EXECUTE(DELETE FROM &TAB) BY TERADATA;
         EXECUTE(COMMIT) BY TERADATA;
         DISCONNECT FROM TERADATA;
      RUN;QUIT;
   %END;
   PROC APPEND BASE=CMSDATA.&TAB(FASTLOAD=YES) DATA=WORK.CM_CMPGN_TRGT_CUST FORCE;
   RUN;QUIT;

   * 고객별 구매횟수, 구매금액 얻음;
   PROC SQL;
      CONNECT TO TERADATA (DATABASE="&T_D_DB" TPT=yes SQL_FUNCTIONS=all SERVER="&T_D_SRVR" SCHEMA="&T_D_SCHM" USER="&T_D_USER" PASSWORD="&T_D_PSWD" MODE=TERADATA);
      CREATE TABLE WORK.PUR_CNT_AMT AS
      SELECT * FROM CONNECTION TO TERADATA
      (
       SELECT DISTINCT  a.CUST_ID
                      , COUNT(b.RECPT_ID) AS PUR_CNT
                      , SUM(b.SALE_AMT-b.DISCNT_AMT) AS PUR_AMT
       FROM  CMSDATA.%BQUOTE(&TAB) a LEFT JOIN TSVM.F_D_RECPT_PROD b
       ON a.CUST_ID = b.CUST_ID
            INNER JOIN TSVM.D_STORE c
         ON b.STR_ID = c.STR_ID
       WHERE c.STR_FORMT_CD = '01'
         AND b.SALE_DT BETWEEN CURRENT_DATE - 30 AND CURRENT_DATE
       GROUP BY a.CUST_ID
       ORDER BY a.CUST_ID
      )
      ;
      DISCONNECT FROM TERADATA;
   DATA WORK.CM_CMPGN_TRGT_CUST;
      MERGE WORK.CM_CMPGN_TRGT_CUST WORK.PUR_CNT_AMT;
      BY CUST_ID;
   RUN;

   * BODY 발송;
   DATA _NULL_;
      LENGTH STMT $32767;
      SET WORK.CM_CMPGN_TRGT_CUST END=LAST;

      LENGTH CNT 8;
      RETAIN CNT 0;
      FILE F_PNT MOD;

      CNT = CNT + 1;

      * 고객아이디 발송;
      %IF &CHNNL = BMS %THEN %DO;
       %IF &IS_HOFFCE = Y %THEN %DO;
            * 본사 채널 미리보기용;
            STMT = COMPRESS("BD"||CUST_ID||"&BRCD_NO");
         %END;
         %ELSE %DO;
            * 본사/점포;
            STMT = COMPRESS("BD"||CUST_ID||BRCD_NO);
         %END;
      %END;
      %ELSE %DO;
         STMT = COMPRESS("BD"||CUST_ID);
      %END;
      PUT +(-1) STMT@@;

      %IF &CHNNL = SMS OR &CHNNL = LMS OR &CHNNL = MMS OR &CHNNL = BMS %THEN %DO;
         * 점포명 - 문구치환;
         LEN1 = &L_PNT_STR_NM - LENGTH(STRIP("&STORE_NM")) - 1;
         * 구매횟수 - 문구치환;
         LEN2 = &L_PNT_PUR_CNT - LENGTH(STRIP(PUR_CNT)) - 1;
         * 구매금액 - 문구치환;
         LEN3 = &L_PNT_PUR_AMT - LENGTH(STRIP(PUR_AMT)) - 1;
         * 예비용 (40);
         STMT = STRIP("&STORE_NM")||REPEAT(' ',LEN1)||
                STRIP(PUR_CNT)||REPEAT(' ',LEN2)||
                STRIP(PUR_AMT)||REPEAT(' ',LEN3)||
                REPEAT(' ',40);
         PUT +(-1) STMT;
      %END;

      IF LAST THEN DO;
         CALL SYMPUT('CUST_CNT', CNT);
      END;
   RUN;

   *** BT ***;
   DATA _NULL_;
      FILE F_PNT MOD;

      STMT = COMPRESS("BT"||PUT(&CUST_CNT,8.));
      PUT STMT;
   RUN;

   * 확인 전송;
   FILENAME F_PNT_OK FTP %SYSFUNC(COMPRESS("&SEND_DTTM._&CMPGN_NO._&CHNNL_NO..OK")) CD=%SYSFUNC(COMPRESS("&&P_PNT_&CHNNL")) HOST="&PNT_IP" USER="&PNT_ID" PASS="&PNT_PW" LRECL=32767;
   DATA _NULL_;
      FILE F_PNT_OK;
   RUN;

   * 임시테이블 삭제;
   PROC SQL;
      DROP TABLE CMSDATA.&TAB;
   RUN;QUIT;

   * 리턴값 - 임시;
   DATA WORK.RC;
      CNT = 1;
   RUN;

   PROC PRINTTO; RUN;
%MEND;
%SND_CHNNL2PNT(CMPGN_NO=C20150828101700001, CHNNL_NO=SMS1017150829001, CHNNL=SMS);
*%SND_CHNNL2PNT(CMPGN_NO=C20150828101700001, CHNNL_NO=MMS1017150829001, CHNNL=MMS);
*%SND_CHNNL2PNT(CMPGN_NO=C20150828101700001, CHNNL_NO=BMS1017150829001, CHNNL=BMS);
*%SND_CHNNL2PNT(CMPGN_NO=C20150828101700001, CHNNL_NO=LMS1017150829001, CHNNL=LMS);
*%SND_CHNNL2PNT(CMPGN_NO=C20150828101700001, CHNNL_NO=EML1017150829001, CHNNL=EML);
*%SND_CHNNL2PNT(CMPGN_NO=C20150828101700001, CHNNL_NO=DM1017150829001,  CHNNL=DM);
*%SND_CHNNL2PNT(CMPGN_NO=C20150828101700001, CHNNL_NO=POS1017150829001, CHNNL=POS);
*%SND_CHNNL2PNT(CMPGN_NO=, CHNNL_NO=SMS1017150829001,  CHNNL=SMS);






----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

■ MTMS(PMS, EMS) DB

  DB VIP : 174.100.22.50
  DB #1  : 174.100.22.52
  DB #2  : 174.100.22.53

■ 계정

  PMS(푸시)   : pmscms / pms2015#
  EMS(이메일) : emscms / ems2015#



DROP TABLE TB_TEST_TARGET;
CREATE  TABLE TB_TEST_TARGET
(
    ID                 DECIMAL(18)  NOT NULL    TITLE  'ID',
    TARGET_CUSTOM_ID   VARCHAR(20)  NOT NULL    TITLE  'TARGET_CUSTOM_ID',
    CUST_ID            VARCHAR(20)  NOT NULL    TITLE  'CUST_ID',
    REG_DATE           DATE         NOT NULL    TITLE  'REG_DATE'
);
CREATE UNIQUE INDEX XPKTB_TEST_TARGET
(
    ID
) ON TB_TEST_TARGET;




/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer1_1/sas_webapps/sas.storedprocess.war/input/ECMS/

https://cms.emart.com:8343/SASEMARTCMS/



오라클(oracle) 연결

    $ sqlplus pmscms/pms2015#@MTMS

        > select count(*) from tb_test_target;
        > select count(*) from tb_msg;
        > select count(*) from tb_send_que;

    $ sqlplus emscms/ems2015#MTMS

        > select count(*) from ems_mass_camp_info;
        > select count(*) from ems_mass_base_info;
        > select count(*) from ems_mass_schedule_info;
        > select count(*) from ems_mass_send_list_01;   ~12

        SQL> desc tb_send_que_log;
         Name                      Null?    Type
         ----------------------------------------- -------- ----------------------------
         ID                        NOT NULL NUMBER(19)
         BIZ_ID                    NOT NULL VARCHAR2(36)
         REQ_UID                   NOT NULL VARCHAR2(36)
         CUST_ID                   NOT NULL VARCHAR2(40)
         RTN_TYPE                  NOT NULL CHAR(1)
         RES_CD                             VARCHAR2(4)
         DATA                               VARCHAR2(300)
         RES_DATE                  NOT NULL CHAR(14)
         CHECK_FLAG                         CHAR(1)
         REG_DATE                  NOT NULL DATE

        SQL>



TEXT BIZ_KEY : 4cbe163d7e6a4fcaa834f7f04a989df3


RICH BIZ_KEY : 73d3d2ba28f4427dab61280a3edb9949


MSG_GRP_CD   : 20003




http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=insertTbSendQue&msg_id=1234567890

https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=insertTbSendQue&msg_id=1234567890



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

Teradata View Point 주소
    - http://174.100.25.253
    계정
    cmsadmin/cmsadmin


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


/* 서버 연결 뒤에 사용자 정의 코드 삽입 */

LIBNAME CMSDATA TERADATA  DATABASE=cmsdata TPT=yes SQL_FUNCTIONS=all  SERVER=dbccop1
SCHEMA=cmsdata  USER=cmsdata01  PASSWORD="{sas002}1950043230F2228538C6A9DD2F9A1A33" ;

LIBNAME tcvm TERADATA  DATABASE=tcvm TPT=yes SQL_FUNCTIONS=all  SERVER=dbccop1
SCHEMA=tcvm  USER=cmsdata01  PASSWORD="{sas002}1950043230F2228538C6A9DD2F9A1A33" ;

LIBNAME tsvm TERADATA  DATABASE=tsvm TPT=yes SQL_FUNCTIONS=all  SERVER=dbccop1
SCHEMA=tsvm  USER=cmsdata01  PASSWORD="{sas002}1950043230F2228538C6A9DD2F9A1A33" ;


LIBNAME ecrmlab TERADATA  DATABASE=ecrmlab TPT=yes SQL_FUNCTIONS=all  SERVER=dbccop1
SCHEMA=ecrmlab  USER=cmsdata01  PASSWORD="{sas002}1950043230F2228538C6A9DD2F9A1A33" ;

LIBNAME EMS_DB1 ORACLE  PATH=MTMS   SCHEMA=emsadm       USER=emscms PASSWORD="{SAS002}841BC34F14CF3C142A4C5D9E4C47B991";
LIBNAME EMS_DB2 ORACLE  PATH=MTMS   SCHEMA=pmsadm       USER=pmscms PASSWORD="{SAS002}841BC34F581D5D842176E3A44823103E";
LIBNAME EMS_DB3 ORACLE  PATH=MTMS   SCHEMA=emsauto   USER=emsauto   PASSWORD="{SAS002}841BC34F14CF3C142A4C5D9E4C47B991";
LIBNAME EMS_DB4 ORACLE  PATH=MTMS   SCHEMA=pmsauto   USER=pmsauto   PASSWORD="{SAS002}841BC34F581D5D842176E3A44823103E";
LIBNAME SMS_DB ORACLE   PATH=ASPDMDB    SCHEMA=ucms  USER=ucms  PASSWORD=ucms;

LIBNAME KKC_TMP "/sas/di_tmp";



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

AppPush 테스트를 위한 화면 소스

    BB02014S.jsp : 1771

    BB02023WController.java : 172


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
import java.net.HttpURLConnection;
import java.net.URL;

public class CallCXF {
    public static void main(String[] args) throws Exception {
        String xml =
            "<soap:Envelope xmlns:soap=\"http://schemas.xmlsoap.org/soap/envelope/\"" +
            "       soap:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\"" +
            "                xmlns:xsi=\"http://www.w3.org/1999/XMLSchema-instance\"" +
            "                xmlns:xsd=\"http://www.w3.org/1999/XMLSchema\">" +
            "<soap:Body>" +
            "    <x:addCustomer xmlns:x=\"http://cxf.gnnet.co.kr/\"> +
            "     <customer>                                                           " +
            " <id>1234</id>                                               " +
            " <name>김학수</name>                                   " +
            " <address>경기도</address>                           " +
            " </customer>                                                        " +
            "    </x:addCustomer>                                                          " +
            "</soap:Body>                                                                       " +
            "</soap:Envelope>                                                                 ";

        URL url = new URL("http://localhost:8080/CXF/services/CXFServicePort/addCustomer");
        HttpURLConnection conn = (HttpURLConnection)url.openConnection();
        conn.setDoOutput(true);
        conn.setRequestMethod("POST");
        // Header 영역에 쓰기
        conn.addRequestProperty("Content-Type", "text/xml");
        // BODY 영역에 쓰기
        OutputStreamWriter wr = new OutputStreamWriter(conn.getOutputStream());
        wr.write(xml);
        wr.flush();

        // 리턴된 결과 읽기
        String inputLine = null;
        BufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream()));
        while ((inputLine = in.readLine()) != null) {
            System.out.println(inputLine);
        }
        in.close();
        wr.close();
    }
}


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

http://localhost:8080/SASEMARTCMS/common/HH14064I.do?method=insertCampInfo

/*
 * SOAP 1.1
 *
 * POST /SPNSRequestPushSrv_v2.asmx HTTP/1.1
 * Host: blossom.shinsegae.com
 * Content-Type: text/xml; charset=utf-8
 * Content-Length: [LENGTH]
 * SOAPAction: "http://tempuri.org/RequestPush"
 *
 * <?xml version="1.0" encoding="utf-8"?>
 * <soap:Envelope
 *   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 *   xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 *   xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
 *   <soap:Body>
 *     <RequestPush xmlns="http://tempuri.org/">
 *       <system_code>[SYSTEM_CODE]</system_code>
 *       <system_key>[SYSTEM_KEY]</system_key>
 *       <receiver_id>[RECEIVER_ID]</receiver_id>
 *       <header>[HEADER]</header>
 *       <message>[MESSAGE]</message>
 *       <message_body>[MESSAGE_BODY]</message_body>
 *       <sender_id>[SENDER_ID]</sender_id>
 *       <applink_yn>[APPLINK_YN]</applink_yn>
 *     </RequestPush>
 *   </soap:Body>
 * </soap:Envelope>
 *
 *
 *
 * HTTP/1.1 200 OK
 * Content-Type: text/xml; charset=utf-8
 * Content-Length: [LENGTH]
 *
 * <?xml version="1.0" encoding="utf-8"?>
 * <soap:Envelope
 *   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 *   xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 *   xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
 *   <soap:Body>
 *     <RequestPushResponse xmlns="http://tempuri.org/">
 *       <RequestPushResult>[REQUEST_PUSH_RESULT]</RequestPushResult>
 *     </RequestPushResponse>
 *   </soap:Body>
 * </soap:Envelope>
 */

----------------------------------------------------------------------------------------------------
/*
 * SOAP 1.2
 *
 * POST /SPNSRequestPushSrv_v2.asmx HTTP/1.1
 * Host: blossom.shinsegae.com
 * Content-Type: application/soap+xml;charset=utf-8
 * Content-Length: [LENGTH]
 * SOAPAction: "http://tempuri.org/RequestPush"
 *
 * <?xml version="1.0" encoding="utf-8"?>
 * <soap12:Envelope
 *   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 *   xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 *   xmlns:soap12="http://www.w3.org/2003/05/soap-envelope">
 *   <soap12:Body>
 *     <RequestPush xmlns="http://tempuri.org/">
 *       <system_code>[SYSTEM_CODE]</system_code>
 *       <system_key>[SYSTEM_KEY]</system_key>
 *       <receiver_id>[RECEIVER_ID]</receiver_id>
 *       <header>[HEADER]</header>
 *       <message>[MESSAGE]</message>
 *       <message_body>[MESSAGE_BODY]</message_body>
 *       <sender_id>[SENDER_ID]</sender_id>
 *       <applink_yn>[APPLINK_YN]</applink_yn>
 *     </RequestPush>
 *   </soap12:Body>
 * </soap12:Envelope>
 *
 *
 *
 * HTTP/1.1 200 OK
 * Content-Type: application/soap+xml;charset=utf-8
 * Content-Length: [LENGTH]
 *
 * <?xml version="1.0" encoding="utf-8"?>
 * <soap12:Envelope
 *   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 *   xmlns:xsd="http://www.w3.org/2001/XMLSchema"
 *   xmlns:soap12="http://www.w3.org/2003/05/soap-envelope">
 *   <soap:Body>
 *     <RequestPushResponse xmlns="http://tempuri.org/">
 *       <RequestPushResult>[REQUEST_PUSH_RESULT]</RequestPushResult>
 *     </RequestPushResponse>
 *   </soap12:Body>
 * </soap12:Envelope>
 */



----------------------------------------------------------------------------------------------------

/*
 * GET
 *
 * GET /SPNSRequestPushSrv_v2.asmx/RequestPush?system_code=[]&system_key=[]&receiver_id=[]&header=[]&message=[]&message_body=[]&sender_id=[]&applink_yn=[] HTTP/1.1
 * Host: blossom.shinsegae.com
 *
 *
 * HTTP/1.1 200 OK
 * Content-Type: text/xml;charset=utf-8
 * Content-Length: [LENGTH]
 *
 * <?xml version="1.0" encoding="utf-8"?>
 * <string xmlns="http://tempuri.org/">[RETURN_MESSAGE]</string>
 */

----------------------------------------------------------------------------------------------------

/*
 * POST
 *
 *
 * POST /SPNSRequestPushSrv_v2.asmx/RequestPush HTTP/1.1
 * Host: blossom.shinsegae.com
 * Content-Type: application/x-www-form-urlencoded
 * Content-Length: [LENGTH]
 *
 * system_code=[]&system_key=[]&receiver_id=[]&header=[]&message=[]&message_body=[]&sender_id=[]&applink_yn=[]
 *
 * HTTP/1.1 200 OK
 * Content-Type: text/xml;charset=utf-8
 * Content-Length: [LENGTH]
 *
 * <?xml version="1.0" encoding="utf-8"?>
 * <string xmlns="http://tempuri.org/">[RETURN_MESSAGE]</string>
 */

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[김대희 차장 요구사항]

SAS 반영

* 캠페인 현황 모니터링 > 캠페인 진행현황 > 스케쥴링 확인 (/SASEMARTCMS/branch/AA01307I.do)
* 점포캠페인 관리 > 캠페인기획 관리 > 스케쥴현황 관리 (/SASEMARTCMS/admin/AA01003I.do)


----------------------------------------------------------------------------------------------------

http://localhost:8080/SASEMARTCMS/common/HH14308I.do?method=callSoap11

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


DROP TABLE CM_CMPGN_SCCS_CNDTN_DTL;



DROP TABLE CM_CMPGN_SCCS_CNDTN_CD;



CREATE  TABLE CM_CMPGN_SCCS_CNDTN_CD
(

    SCCSS_CNDTN_CD       VARCHAR(5) NOT NULL
        TITLE '성공조건코드',
    SCCSS_CNDTN_NM       VARCHAR(100) NULL
        TITLE '성공조건명',
    VSBL_TYP_CD          VARCHAR(5) NULL
        TITLE '노출구분코드',
    SRT_ODR              DECIMAL(18) NULL
        TITLE '정렬일련번호',
    SCCS_CNDTN_DESC      VARCHAR(10000) NULL
        TITLE '성공조건설명',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시',
    SYS_LST_UPDT_ID      VARCHAR(20) NULL
        TITLE 'SYS_최종변경자아이디',
    SYS_FRST_OPRTN_ID    VARCHAR(20) NULL
        TITLE 'SYS_최초등록자아이디'
);



CREATE UNIQUE INDEX XPKCMPGNSCCSCNDTNCD
 (
        SCCSS_CNDTN_CD
 ) ON CM_CMPGN_SCCS_CNDTN_CD;



CREATE TABLE CM_CMPGN_SCCS_CNDTN_DTL
(

    CMPGN_NO             VARCHAR(20) NOT NULL
        TITLE '캠페인번호',
    SCCSS_CNDTN_CD       VARCHAR(5) NOT NULL
        TITLE '성공조건코드',
    SCCSS_CNDTN_DTL_SEQ_NO DECIMAL(18) NOT NULL
        TITLE '성공조건상세일련번호',
    ITM_BYNG_CTGRY_CD    VARCHAR(5) NULL
        TITLE '상품구매카테고리코드',
    ITM_BYNG_CTGRY_NM    VARCHAR(100) NULL
        TITLE '상품구매카테고리명',
    ITM_BYNG_BG_TYP_CD   VARCHAR(5) NULL
        TITLE '상품구매대분류코드',
    ITM_BYNG_BG_TYP_NM   VARCHAR(100) NULL
        TITLE '상품구매대분류명',
    ITM_BYNG_MD_TYP_CD   VARCHAR(5) NULL
        TITLE '상품구매중분류코드',
    ITM_BYNG_MD_TYP_NM   VARCHAR(100) NULL
        TITLE '상품구매중분류명',
    ITM_BYNG_SM_TYP_CD   VARCHAR(5) NULL
        TITLE '상품구매소분류코드',
    ITM_BYNG_SM_TYP_NM   VARCHAR(100) NULL
        TITLE '상품구매소분류명',
    ITM_BYNG_SKU_NO      VARCHAR(100) NULL
        TITLE '상품구매SKU번호',
    ITM_BYNG_SKU_NM      VARCHAR(100) NULL
        TITLE '상품구매SKU명',
    GLAMT_CMPLT_AMT_TYP  VARCHAR(3) NULL
        TITLE '목표금액달성금액구분',
    GLAMT_CMPLT_AMT      DECIMAL(18,2) NULL
        TITLE '목표금액달성금액',
    GLAMT_CMPLT_EVNT_STAT_DT DATE NULL
        TITLE '목표금액달성행사기간시작일자',
    GLAMT_CMPLT_EVNT_END_DT DATE NULL
        TITLE '목표금액달성행사기간종료일자',
    CTMTRNS_GLWUP_SCCS_TYP VARCHAR(3) NULL
        TITLE '객단가증가성공구분',
    CTMTRNS_GLWUP_SCCS_CAD_TYP VARCHAR(3) NULL
        TITLE '결제카드성공카드종류',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_FRST_OPRTN_ID    VARCHAR(20) NULL
        TITLE 'SYS_최초등록자아이디',
    SYS_LST_UPDT_ID      VARCHAR(20) NULL
        TITLE 'SYS_최종변경자아이디'
);



CREATE UNIQUE INDEX XPKCMPGNSCCSCNDTNDTL
 (
        CMPGN_NO,
        SCCSS_CNDTN_CD,
        SCCSS_CNDTN_DTL_SEQ_NO
 ) ON CM_CMPGN_SCCS_CNDTN_DTL;




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
App Push : 관리자 event 생성

    http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=callTbMsg&msg_id=1234567890

    https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=callTbMsg&msg_id=1234567890

    http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=insertTbSendQue&msg_id=1234567890


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

프로젝트 직원 고객ID

    C11758151 (안필재 매니저    )
    C78751126 (강수영 매니저    )
    C85813008 (오미현 치프파트너)
    C70680311 (윤지중 파트너    )
    C15343146 (김현화 파트너    )
    C11509121 (김형담 치프파트너)


http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=insertTbSendQue&msg_id=1234567890



----------------------------------------------------------------------------------------------------

    -------------------파일서버-------------------
    cmsfile
    cmsfile2015
    -------------------SVN-------------------
    lcb
    LCB123!@
    -------------------설치-------------------
    ERWIN 설치
    닷넷프레임웍 설치(필요시)
    teradata 설치
    ------------------putty&winscp 계정----------------
    sas/saspw94!@
    ------------------putty 설치------------------
    접속설정
    matcmsapp01(app01)
    matcmsapp02(app02)
    matcmsmine01(SVN)
    --------------winscp 설치&접속설정---------------
    matcmsapp01(app01)
    matcmsapp02(app02)
    --------SAS94_Window_SRV_64bit_15w08---------
    matcmsva01
    -----------------------sas 계정--------------------
    sasdemo/saspw94!@
    ------------------설치목록------------------
    SAS Manager console
    SAS Enterprise Guide
    SAS DATA Integration Studio
    한국어
    ---------------보안프로그램 다운로드---------------
    http://174.100.67.239:5500/pds_downList.aspx


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ 한글변환 ]

    1. Eclipse > Window > Preference > General > Workspace > Text file encoding > Other : UTF-8

    2. xml 파일 utf-8    <?xml version="1.0" encoding="utf-8"?>

    3. .bash_profile     export LANG=ko_KR.UTF-8    <->    export LANG=ko_KR.EUC-KR

    4. Xshell 등록정보에서 터미널 > 출력변환 > 인코딩 : 유니코드(UTF-8)




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

1. 삭제

    $CATALINA_BASE/bin/catalina.sh 을 편집한다.

        org.apache.catalina.startup.Bootstrap "%@" start >> "$CATALINA_BASE"/logs/catalina.out 2>&1 &

    위와 같이 "$CATALINA_BASE"/logs/catalina.out 으로 로그를 보내는 것을 아래와 같이 변경하여 보내지 않도록 한다.

        org.apache.catalina.startup.Bootstrap "%@" start >> /dev/null 2>&1 &

    if else 로 구성되어서 아마 2군데를 편집해야 할 것이다.

        touch "$CATALINA_BASE"/logs/catalina.out

    쓸데없기 때문에 주석(#) 처리하거나 삭제한다.

2. rotatecatalinalog.sh을 생성하여 cron에 등록한다.

        $ vi rotatecatalinalog.sh

        #!/bin/sh
        LOG_DIR=/util/esb/tomcat6/logs
        DATE=`/bin/date +%Y-%m-%d`
        /bin/nice /bin/cp $LOG_DIR/catalina.out $LOG_DIR/$DATE.catalina.out
        /bin/nice /bin/cat /dev/null > $LOG_DIR/catalina.out

    위와 같이 해당 날짜로 복사하고 원판 catalina.out은 비워주는 sh을 만들어서 crontab에 등록한다.

        $ chmod 755 rotatecatalinalog.sh

        $ crontab -e

            59 23 * * * /util/esb/tomcat6/bin/rotatecatalinalog.sh

3. cronolog사용

    http://cronolog.org

        $ cd /home/esb

        $ wget http://cronolog.org/download/cronolog-1.6.2.tar.gz

        # tar xzvf cronolog-1.6.2.tar.gz

        # cd cronolog-1.6.2

        # ./configure --prefix=/home/esb/cronolog

        # make && make install

        # ls -al /home/esb/cronolog/sbin

    $CATALINA_BASE/bin/catalina.sh을 편집한다.

        org.apache.catalina.startup.Bootstrap "$@" start >> "$CATALINA_BASE"/logs/catalina.out 2>&1 &

    ->  org.apache.catalina.startup.Bootstrap "$@" start | /home/esb/cronolog/sbin/cronolog "$CATALINA_BASE"/logs/%Y-%m-%d.catalina.out >> /dev/null 2>&1 &




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

2015-10-08 17:03:57,973 DEBUG [egovframework.rte.ptl.mvc.handler.SimpleUrlAnnotationHandlerMapping] Mapping [/branch/BB02009S.do] to HandlerExecutionChain with handler [com.emart.campaign.branch.ctr.BB02009SController@79ecd9dc] and 1 interceptor
params: {thm_trgt_cd=202, topn=, cust_cnt=, cmpgn_no=C20151008101700173, trgt_mthd_cd=01, slct_excp_cond_list=[]}

2015-10-08 17:03:57,974 DEBUG [java.sql.Connection] {conn-106795} Connection
2015-10-08 17:03:57,975 DEBUG [java.sql.Connection] {conn-106795} Preparing Statement:        UPDATE CMSDATA.CM_CMPGN_MST       SET CMPGN_STTS = 'CP02'      /* 캠페인상태 */      , TRGT_MTHD_CD = ?     /* 타겟팅방법코드 */      , THM_TRGT_TYP_CD = (SELECT THM_TRGT_TYP_CD                FROM CM_THM_TRGT               WHERE THM_TRGT_CD = ?) /* 테마별타겟분류코드 */      , THM_TRGT_CD = ?      /* 테마별타겟코드 */      , TOPN = ?      , CUST_CNT = ?       WHERE CMPGN_NO = ?
2015-10-08 17:03:57,977 DEBUG [java.sql.PreparedStatement] {pstm-106796} Executing Statement:        UPDATE CMSDATA.CM_CMPGN_MST       SET CMPGN_STTS = 'CP02'      /* 캠페인태 */      , TRGT_MTHD_CD = ?     /* 타겟팅방법코드 */      , THM_TRGT_TYP_CD = (SELECT THM_TRGT_TYP_CD                FROM CM_THM_TRGT               WHERE THM_TRGT_CD = ?) /* 테마별타겟분류코드 */      , THM_TRGT_CD = ?      /* 테마별타겟코드 */      , TOPN = ?      , CUST_CNT = ?       WHERE CMPGN_NO = ?
2015-10-08 17:03:57,977 DEBUG [java.sql.PreparedStatement] {pstm-106796} Parameters: [01, 202, 202, , , C20151008101700173]
2015-10-08 17:03:57,977 DEBUG [java.sql.PreparedStatement] {pstm-106796} Types: [java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String]


2015-10-08 17:03:58,039 DEBUG [java.sql.Connection] {conn-106797} Connection
2015-10-08 17:03:58,039 DEBUG [java.sql.Connection] {conn-106797} Preparing Statement:       DELETE FROM CMSDATA.CM_CMPGN_TRGT_CHC          WHERE CMPGN_NO = ?
2015-10-08 17:03:58,040 DEBUG [java.sql.PreparedStatement] {pstm-106798} Executing Statement:       DELETE FROM CMSDATA.CM_CMPGN_TRGT_CHC          WHERE CMPGN_NO = ?
2015-10-08 17:03:58,040 DEBUG [java.sql.PreparedStatement] {pstm-106798} Parameters: [C20151008101700173]
2015-10-08 17:03:58,040 DEBUG [java.sql.PreparedStatement] {pstm-106798} Types: [java.lang.String]
%get_cust_cnt(CMPGN_NO=C20151008101700173)
^C
matcmsapp01:/sas/sasuser/sas/was/logs>

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


http://www8.hp.com/kr/ko/software-solutions/free-enterprise-software-downloads/index.html


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

--REPLACE VIEW CMSVIEW.CM_CHNNL_DVD_WGHT AS LOCKING TABLE CMSDATA.CM_CHNNL_DVD_WGHT FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_DVD_WGHT );

SELECT * FROM CMSVIEW.CM_CHNNL_DVD_WGHT;

SELECT * FROM CMSVIEW.CM_CMPGN_PLCY;

SELECT * FROM CMSVIEW.CM_CHNNL_PLCY;

SELECT * FROM CMSVIEW.CM_CHNNL_RMNS_CNT_BY_DAY;

-------------------------------------------

--UPDATE
--    CM_CMPGN_PLCY
--SET
--    --CMPGN_PLCY_STRT_DT = '2015-10-06'
--    CMGPN_LMT_CSTMR_CNT = 50000
--WHERE
--    CMPGN_PLCY_NO = 5
--;


-------------------------------------------
--DELETE FROM CMSDATA.CM_CHNNL_DVD_WGHT;

--INSERT INTO CMSDATA.CM_CHNNL_DVD_WGHT ( CHNNL_TYP_CD, DVD_WGHT_CNT ) VALUES ( 'SMS',  60 );
--INSERT INTO CMSDATA.CM_CHNNL_DVD_WGHT ( CHNNL_TYP_CD, DVD_WGHT_CNT ) VALUES ( 'MMS',  40 );
--INSERT INTO CMSDATA.CM_CHNNL_DVD_WGHT ( CHNNL_TYP_CD, DVD_WGHT_CNT ) VALUES ( 'LMS', 100 );
--INSERT INTO CMSDATA.CM_CHNNL_DVD_WGHT ( CHNNL_TYP_CD, DVD_WGHT_CNT ) VALUES ( 'BMS',   0 );
--INSERT INTO CMSDATA.CM_CHNNL_DVD_WGHT ( CHNNL_TYP_CD, DVD_WGHT_CNT ) VALUES ( 'DM' ,   0 );
--INSERT INTO CMSDATA.CM_CHNNL_DVD_WGHT ( CHNNL_TYP_CD, DVD_WGHT_CNT ) VALUES ( 'EML',  20 );
--INSERT INTO CMSDATA.CM_CHNNL_DVD_WGHT ( CHNNL_TYP_CD, DVD_WGHT_CNT ) VALUES ( 'APR',  40 );
--INSERT INTO CMSDATA.CM_CHNNL_DVD_WGHT ( CHNNL_TYP_CD, DVD_WGHT_CNT ) VALUES ( 'APT',  40 );

SELECT SUM(DVD_WGHT_CNT) FROM CMSVIEW.CM_CHNNL_DVD_WGHT WHERE CHNNL_TYP_CD IN ('LMS', 'SMS', 'APT');


SELECT
    A.CHNNL_TYP_CD
    , A.DVD_WGHT_CNT
    , B.SUM_WGHT
    , A.DVD_WGHT_CNT / B.SUM_WGHT
FROM
    CMSVIEW.CM_CHNNL_DVD_WGHT A
    , (
        SELECT
            SUM(DVD_WGHT_CNT) AS SUM_WGHT
        FROM
            CMSVIEW.CM_CHNNL_DVD_WGHT
        WHERE 1=1
            AND CHNNL_TYP_CD IN ( 'LMS', 'SMS', 'APT' )
    ) B
WHERE 1=1
    AND A.CHNNL_TYP_CD IN ('LMS', 'SMS', 'APT')
;


        SELECT  TOP 1
            CMPGN_PLCY_NO
            , CMGPN_LMT_CSTMR_CNT
        FROM
            CMSVIEW.CM_CMPGN_PLCY
        WHERE 1=1
            AND '2015-10-12' BETWEEN CMPGN_PLCY_STRT_DT AND CMPGN_PLCY_END_DT
        ORDER BY
            1 DESC
;


SELECT
    A.CHNNL_TYP_CD
    , A.DVD_WGHT_CNT
    , B.SUM_WGHT
    , A.DVD_WGHT_CNT * C.CMGPN_LMT_CSTMR_CNT / B.SUM_WGHT
FROM
    CMSVIEW.CM_CHNNL_DVD_WGHT A
    , (
        SELECT
            SUM(DVD_WGHT_CNT) AS SUM_WGHT
        FROM
            CMSVIEW.CM_CHNNL_DVD_WGHT
        WHERE 1=1
            AND CHNNL_TYP_CD IN ( 'LMS', 'SMS', 'APT' )
    ) B
    , (
        SELECT  TOP 1
            CMPGN_PLCY_NO
            , CMGPN_LMT_CSTMR_CNT
        FROM
            CMSVIEW.CM_CMPGN_PLCY
        WHERE 1=1
            AND '2015-10-12' BETWEEN CMPGN_PLCY_STRT_DT AND CMPGN_PLCY_END_DT
        ORDER BY
            1 DESC
    ) C
WHERE 1=1
    AND A.CHNNL_TYP_CD IN ('LMS', 'SMS', 'APT')
;

-------------------------------------------

SELECT * FROM CMSVIEW.CM_CHNNL_PLCY;

SELECT * FROM CMSVIEW.CM_CHNNL_RMNS_CNT_BY_DAY;

-------------------------------------------

--INSERT INTO
--    CMSDATA.CM_CHNNL_RMNS_CNT_BY_DAY
--(
--    CHNNL_TYP_CD
--    , CHNNL_PLCY_NO
--    , CMPGN_NO
--    , CHNNL_RSV_SND_DT
--    , CHNNL_RMNS_CNT
--)
--VALUES
--(
--    'LMS'
--    , 2
--    , 'C2015101200001'
--    , '2015-10-09'
--    , 12000
--)
--;



UPDATE
    CMSDATA.CM_CHNNL_RMNS_CNT_BY_DAY
SET
    CHNNL_RMNS_CNT = 180000
WHERE 1=1
    AND CHNNL_TYP_CD = 'LMS'
;

-------------------------------------------

SELECT
    CHNNL_TYP_CD
    , CHNNL_PLCY_NO
    , CHNNL_LMT_CUST_CNT
FROM
    CMSVIEW.CM_CHNNL_PLCY
WHERE
    ( CHNNL_TYP_CD = 'LMS'
        AND '2015-10-09' BETWEEN CHNNL_PLCY_STRT_DT AND CHNNL_PLCY_END_DT
    )
    OR ( CHNNL_TYP_CD = 'SMS'
        AND '2015-10-10' BETWEEN CHNNL_PLCY_STRT_DT AND CHNNL_PLCY_END_DT
    )
    OR ( CHNNL_TYP_CD = 'APT'
        AND '2015-10-15' BETWEEN CHNNL_PLCY_STRT_DT AND CHNNL_PLCY_END_DT
    )
;

-------------------------------------------

SELECT
    A.CHNNL_TYP_CD
    , A.CHNNL_PLCY_NO
    , A.CHNNL_LMT_CUST_CNT
    , NVL(B.CHNNL_RMNS_CNT, 0)
FROM
    (
        SELECT
            CHNNL_TYP_CD
            , CHNNL_PLCY_NO
            , CHNNL_LMT_CUST_CNT
        FROM
            CMSVIEW.CM_CHNNL_PLCY
        WHERE
            ( CHNNL_TYP_CD = 'LMS'
                AND '2015-10-09' BETWEEN CHNNL_PLCY_STRT_DT AND CHNNL_PLCY_END_DT
            )
            OR ( CHNNL_TYP_CD = 'SMS'
                AND '2015-10-10' BETWEEN CHNNL_PLCY_STRT_DT AND CHNNL_PLCY_END_DT
            )
            OR ( CHNNL_TYP_CD = 'APT'
                AND '2015-10-15' BETWEEN CHNNL_PLCY_STRT_DT AND CHNNL_PLCY_END_DT
            )
    ) A
    LEFT OUTER JOIN CMSVIEW.CM_CHNNL_RMNS_CNT_BY_DAY B
        ON A.CHNNL_TYP_CD = B.CHNNL_TYP_CD AND A.CHNNL_PLCY_NO = B.CHNNL_PLCY_NO
WHERE 1=1
;

-------------------------------------------

SELECT
    A.CHNNL_TYP_CD
    , A.CHNNL_PLCY_NO
    , A.CHNNL_LMT_CUST_CNT
    , A.CHNNL_RMNS_CNT
    , B.DVD_WGHT_CNT
    , B.SUM_WGHT
    , B.DVD_CNT
    , CASE
        WHEN A.CHNNL_LMT_CUST_CNT - A.CHNNL_RMNS_CNT > B.DVD_CNT THEN B.DVD_CNT
        ELSE 0
        END                AS RMNS_CNT
FROM
    (
        SELECT
            A.CHNNL_TYP_CD
            , A.CHNNL_PLCY_NO
            , A.CHNNL_LMT_CUST_CNT
            , NVL(B.CHNNL_RMNS_CNT, 0)   AS CHNNL_RMNS_CNT
        FROM
            (
                SELECT
                    CHNNL_TYP_CD
                    , CHNNL_PLCY_NO
                    , CHNNL_LMT_CUST_CNT
                FROM
                    CMSVIEW.CM_CHNNL_PLCY
                WHERE
                    ( CHNNL_TYP_CD = 'LMS'
                        AND '2015-10-09' BETWEEN CHNNL_PLCY_STRT_DT AND CHNNL_PLCY_END_DT
                    )
                    OR ( CHNNL_TYP_CD = 'SMS'
                        AND '2015-10-10' BETWEEN CHNNL_PLCY_STRT_DT AND CHNNL_PLCY_END_DT
                    )
                    OR ( CHNNL_TYP_CD = 'APT'
                        AND '2015-10-15' BETWEEN CHNNL_PLCY_STRT_DT AND CHNNL_PLCY_END_DT
                    )
            ) A
            LEFT OUTER JOIN CMSVIEW.CM_CHNNL_RMNS_CNT_BY_DAY B
                ON A.CHNNL_TYP_CD = B.CHNNL_TYP_CD AND A.CHNNL_PLCY_NO = B.CHNNL_PLCY_NO
        WHERE 1=1
    ) A,
    (
        SELECT
            A.CHNNL_TYP_CD
            , A.DVD_WGHT_CNT
            , B.SUM_WGHT
            , A.DVD_WGHT_CNT * C.CMGPN_LMT_CSTMR_CNT / B.SUM_WGHT  AS DVD_CNT
        FROM
            CMSVIEW.CM_CHNNL_DVD_WGHT A
            , (
                SELECT
                    SUM(DVD_WGHT_CNT) AS SUM_WGHT
                FROM
                    CMSVIEW.CM_CHNNL_DVD_WGHT
                WHERE 1=1
                    AND CHNNL_TYP_CD IN ( 'LMS', 'SMS', 'APT' )
            ) B
            , (
                SELECT  TOP 1
                    CMPGN_PLCY_NO
                    , CMGPN_LMT_CSTMR_CNT
                FROM
                    CMSVIEW.CM_CMPGN_PLCY
                WHERE 1=1
                    AND '2015-10-12' BETWEEN CMPGN_PLCY_STRT_DT AND CMPGN_PLCY_END_DT
                ORDER BY
                    1 DESC
            ) C
        WHERE 1=1
            AND A.CHNNL_TYP_CD IN ('LMS', 'SMS', 'APT')
    ) B
WHERE 1=1
    AND A.CHNNL_TYP_CD = B.CHNNL_TYP_CD
;






----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW.CM_CHNNL_DVD_WGHT     AS LOCKING TABLE CMSDATA.CM_CHNNL_DVD_WGHT     FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_DVD_WGHT     );
REPLACE VIEW CMSVIEW.SIMUL_EXP_SMM         AS LOCKING TABLE CMSDATA.SIMUL_EXP_SMM         FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_EXP_SMM         );
REPLACE VIEW CMSVIEW.SIMUL_STR_MAP_SMM     AS LOCKING TABLE CMSDATA.SIMUL_STR_MAP_SMM     FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_STR_MAP_SMM     );
REPLACE VIEW CMSVIEW.SIMUL_FORCST_SMM      AS LOCKING TABLE CMSDATA.SIMUL_FORCST_SMM      FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_FORCST_SMM      );


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


http://a.com/one.html
...
$.get('http://b.com/another.php', function(data) {
  alert(data);
})



http://b.com/another.php
...
<?php header('Access-Control-Allow-Origin:*'); ?>
...




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


DROP TABLE CM_CMPGN_CHNNL;



DROP TABLE CM_CMPGN_REG;



DROP TABLE CM_CHNNL_REG;



CREATE  TABLE CM_CHNNL_REG
(

    CMPGN_NO             VARCHAR(20) NOT NULL
        TITLE '캠페인번호',
    CMPGN_SEQ_NO         DECIMAL(18) NOT NULL
        TITLE '캠페인일련번호',
    CHNNL_PLCY_NO        DECIMAL(18) NOT NULL
        TITLE '채널정책번호',
    CHNNL_NO             VARCHAR(20) NULL
        TITLE '채널번호',
    CHNNL_NM             VARCHAR(100) NULL
        TITLE '채널명',
    CHNNL_TYP_CD         VARCHAR(5) NULL
        TITLE '채널종류코드',
    SND_DTTM             TIMESTAMP NULL
        TITLE '발송일시',
    SYS_LST_UPDT_ID      VARCHAR(20) NULL
        TITLE 'SYS_최종변경자아이디',
    SYS_FRST_OPRTN_ID    VARCHAR(20) NULL
        TITLE 'SYS_최초등록자아이디',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시'
);



CREATE UNIQUE INDEX XPKCMCHNNLRMNSCNTBYDAY
 (
        CMPGN_NO,
        CMPGN_SEQ_NO,
        CHNNL_PLCY_NO
 ) ON CM_CHNNL_REG;



CREATE  TABLE CM_CMPGN_CHNNL
(

    CMPGN_NO             VARCHAR(20) NOT NULL
        TITLE '캠페인번호',
    CHNNL_PLCY_NO        DECIMAL(18) NOT NULL
        TITLE '채널정책번호',
    CHNNL_TYP_CD         VARCHAR(5) NULL
        TITLE '채널종류코드',
    SYS_LST_UPDT_ID      VARCHAR(20) NULL
        TITLE 'SYS_최종변경자아이디',
    SYS_FRST_OPRTN_ID    VARCHAR(20) NULL
        TITLE 'SYS_최초등록자아이디',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시'
);



CREATE UNIQUE INDEX XPKCMCHNNLRMNSCNTBYDAY
 (
        CMPGN_NO,
        CHNNL_PLCY_NO
 ) ON CM_CMPGN_CHNNL;



CREATE  TABLE CM_CMPGN_REG
(

    CMPGN_NO             VARCHAR(20) NOT NULL
        TITLE '캠페인번호',
    CMPGN_SEQ_NO         DECIMAL(18) NOT NULL
        TITLE '캠페인일련번호',
    RFR_CMPGN_NO         VARCHAR(20) NULL
        TITLE '참조캠페인번호',
    CMPGN_NM             VARCHAR(100) NULL
        TITLE '캠페인명',
    CMPGN_ANNTN          VARCHAR(10000) NULL
        TITLE '캠페인설명',
    CMPGN_STTS           VARCHAR(5) NULL
        TITLE '캠페인상태',
    TRGT_MTHD_CD         VARCHAR(5) NULL
        TITLE '타겟팅방법코드',
    CMPGN_CTGRY_CD       VARCHAR(5) NULL
        TITLE '캠페인분류코드',
    CMPGN_CTGRY_SB_CD    VARCHAR(5) NULL
        TITLE '캠페인세분류코드',
    STR_ID               VARCHAR(20) NULL
        TITLE '점포아이디',
    CMPGN_STRT_DT        DATE NULL
        TITLE '캠페인시작일자',
    CMPGN_END_DT         DATE NULL
        TITLE '캠페인종료일자',
    CMPGN_RJCT_RSN       VARCHAR(10000) NULL
        TITLE '캠페인반려사유',
    CMPGN_OFFR_CD        VARCHAR(5) NULL
        TITLE '캠페인오퍼코드',
    CMPGN_OFFR_EXP       DECIMAL(18,2) NULL
        TITLE '캠페인오퍼비용',
    CMPGN_OFFR_EXP_TYP_CD VARCHAR(5) NULL
        TITLE '캠페인오퍼비용구분코드',
    CMPGN_OFFR_PAY_DT    DATE NULL
        TITLE '캠페인오퍼지급일자',
    CMPGN_OFFR_EVNT_DESC VARCHAR(10000) NULL
        TITLE '캠페인오퍼행사내용',
    CMPGN_PRDGFT_NM      VARCHAR(100) NULL
        TITLE '캠페인사은품명',
    EVNT_NO              VARCHAR(20) NULL
        TITLE '행사번호',
    EVNT_DESC            VARCHAR(2000) NULL
        TITLE '행사내용',
    CMPGN_PLCY_NO        DECIMAL(18) NULL
        TITLE '캠페인정책번호',
    THM_TRGT_TYP_CD      VARCHAR(5) NULL
        TITLE '테마별타겟분류코드',
    THM_TRGT_CD          VARCHAR(5) NULL
        TITLE '테마별타겟코드',
    SCCSS_CNDTN_CD       VARCHAR(5) NULL
        TITLE '성공조건코드',
    CMPGN_EXCT_RNK       INTEGER NULL
        TITLE '캠페인실행순위',
    CMPGN_RQST_ID        VARCHAR(20) NULL
        TITLE '캠페인요청자아이디',
    FNL_APPRVL_ID        VARCHAR(20) NULL
        TITLE '최종승인자아이디',
    FNL_APPRVL_DTTM      TIMESTAMP NULL
        TITLE '최종승인일시',
    FNL_APPRVL_STS       VARCHAR(5) NULL
        TITLE '최종승인상태',
    CMPGN_TRGT_RQST_STTS VARCHAR(5) NULL
        TITLE '캠페인대상요청상태',
    CMPGN_MK_RQST_STTS   VARCHAR(5) NULL
        TITLE '캠페인제작요청상태',
    RSPS_RTO_US_TYP_CD   VARCHAR(5) NULL
        TITLE '반응율사용구분코드',
    EFF_ANAL_STRT_DT     DATE NULL
        TITLE '효과분석시작일자',
    EFF_ANAL_END_DT      DATE NULL
        TITLE '효과분석종료일자',
    TOPN                 NUMERIC(8) NULL
        TITLE 'TOPN',
    CUST_CNT             NUMERIC(8) NULL
        TITLE '고객수',
    GFT_SYS_REG_YN       CHAR(1) NULL
        TITLE '사은품시스템등록여부',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시',
    SYS_FRST_OPRTN_ID    VARCHAR(20) NULL
        TITLE 'SYS_최초등록자아이디',
    SYS_LST_UPDT_ID      VARCHAR(20) NULL
        TITLE 'SYS_최종변경자아이디'
);



CREATE UNIQUE INDEX XPKCM_CMPGN_MST
 (
        CMPGN_NO,
        CMPGN_SEQ_NO
 ) ON CM_CMPGN_REG;

REPLACE VIEW CMSVIEW.CM_CMPGN_CHNNL   AS LOCKING TABLE CMSDATA.CM_CMPGN_CHNNL     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_CHNNL  );
REPLACE VIEW CMSVIEW.CM_CMPGN_REG     AS LOCKING TABLE CMSDATA.CM_CMPGN_REG       FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_REG    );
REPLACE VIEW CMSVIEW.CM_CHNNL_REG     AS LOCKING TABLE CMSDATA.CM_CHNNL_REG       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_REG    );




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------



DROP TABLE CM_CMPGN_MST;



CREATE TABLE CM_CMPGN_MST
(

    CMPGN_NO             VARCHAR(20) NOT NULL
        TITLE '캠페인번호',
    RFR_CMPGN_NO         VARCHAR(20) NULL
        TITLE '참조캠페인번호',
    CMPGN_NM             VARCHAR(100) NULL
        TITLE '캠페인명',
    CMPGN_ANNTN          VARCHAR(10000) NULL
        TITLE '캠페인설명',
    CMPGN_STTS           VARCHAR(5) NULL
        TITLE '캠페인상태',
    TRGT_MTHD_CD         VARCHAR(5) NULL
        TITLE '타겟팅방법코드',
    CMPGN_CTGRY_CD       VARCHAR(5) NULL
        TITLE '캠페인분류코드',
    CMPGN_CTGRY_SB_CD    VARCHAR(5) NULL
        TITLE '캠페인세분류코드',
    STR_ID               VARCHAR(20) NULL
        TITLE '점포아이디',
    CMPGN_STRT_DT        DATE NULL
        TITLE '캠페인시작일자',
    CMPGN_END_DT         DATE NULL
        TITLE '캠페인종료일자',
    CMPGN_RJCT_RSN       VARCHAR(10000) NULL
        TITLE '캠페인반려사유',
    CMPGN_OFFR_CD        VARCHAR(5) NULL
        TITLE '캠페인오퍼코드',
    CMPGN_OFFR_EXP       DECIMAL(18,2) NULL
        TITLE '캠페인오퍼비용',
    CMPGN_OFFR_EXP_TYP_CD VARCHAR(5) NULL
        TITLE '캠페인오퍼비용구분코드',
    CMPGN_OFFR_PAY_DT    DATE NULL
        TITLE '캠페인오퍼지급일자',
    CMPGN_OFFR_EVNT_DESC VARCHAR(10000) NULL
        TITLE '캠페인오퍼행사내용',
    CMPGN_PRDGFT_NM      VARCHAR(100) NULL
        TITLE '캠페인사은품명',
    EVNT_NO              VARCHAR(20) NULL
        TITLE '행사번호',
    EVNT_DESC            VARCHAR(2000) NULL
        TITLE '행사내용',
    CMPGN_PLCY_NO        DECIMAL(18) NULL
        TITLE '캠페인정책번호',
    THM_TRGT_TYP_CD      VARCHAR(5) NULL
        TITLE '테마별타겟분류코드',
    THM_TRGT_CD          VARCHAR(5) NULL
        TITLE '테마별타겟코드',
    SCCSS_CNDTN_CD       VARCHAR(5) NULL
        TITLE '성공조건코드',
    CMPGN_EXCT_RNK       INTEGER NULL
        TITLE '캠페인실행순위',
    CMPGN_RQST_ID        VARCHAR(20) NULL
        TITLE '캠페인요청자아이디',
    FNL_APPRVL_ID        VARCHAR(20) NULL
        TITLE '최종승인자아이디',
    FNL_APPRVL_DTTM      TIMESTAMP NULL
        TITLE '최종승인일시',
    FNL_APPRVL_STS       VARCHAR(5) NULL
        TITLE '최종승인상태',
    CMPGN_TRGT_RQST_STTS VARCHAR(5) NULL
        TITLE '캠페인대상요청상태',
    CMPGN_MK_RQST_STTS   VARCHAR(5) NULL
        TITLE '캠페인제작요청상태',
    RSPS_RTO_US_TYP_CD   VARCHAR(5) NULL
        TITLE '반응율사용구분코드',
    EFF_ANAL_STRT_DT     DATE NULL
        TITLE '효과분석시작일자',
    EFF_ANAL_END_DT      DATE NULL
        TITLE '효과분석종료일자',
    TOPN                 NUMERIC(8) NULL
        TITLE 'TOPN',
    CUST_CNT             NUMERIC(8) NULL
        TITLE '고객수',
    GFT_SYS_REG_YN       CHAR(1) NULL
        TITLE '사은품시스템등록여부',
    REG_YN               CHAR(1) NULL
        TITLE '정기비정기여부',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시',
    SYS_FRST_OPRTN_ID    VARCHAR(20) NULL
        TITLE 'SYS_최초등록자아이디',
    SYS_LST_UPDT_ID      VARCHAR(20) NULL
        TITLE 'SYS_최종변경자아이디'
);



CREATE UNIQUE INDEX XPKCM_CMPGN_MST
 (
        CMPGN_NO
 ) ON CM_CMPGN_MST;


REPLACE VIEW CMSVIEW.CM_CMPGN_MST   AS LOCKING TABLE CMSDATA.CM_CMPGN_MST     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_MST  );


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------

SELECT CUST_ID FROM CMSVIEW.CM_CUST_MST WHERE CUST_ID IN ('C11758151','C78751126');

SELECT * FROM CMSVIEW.CM_CHNNL_TST_GRP_CUST;

SELECT * FROM CMSVIEW.CM_CHNNL_TST_GRP;

SELECT * FROM CMSVIEW.CM_CMPGN_EXCT WHERE CMPGN_NO LIKE 'C20151014%' AND CHNNL_NO LIKE 'APT%' ORDER BY CMPGN_NO;

------------------------------------------------------------------------------

--INSERT INTO CMSDATA.CM_CHNNL_TST_GRP (TST_GRP_CD, TST_GRP_NM) VALUES ('00011', 'AppPush 테스트그룹');

--INSERT INTO CMSDATA.CM_CHNNL_TST_GRP_CUST (TST_GRP_CD, CUST_ID, CHNNL_TYP_CD, EMPLY_NO, TESTER_NAME) VALUES ('00011','C11758151','APT','031880','안필재매니져');
--INSERT INTO CMSDATA.CM_CHNNL_TST_GRP_CUST (TST_GRP_CD, CUST_ID, CHNNL_TYP_CD, EMPLY_NO, TESTER_NAME) VALUES ('00011','C78751126','APT','112644','강수영매니져');

--UPDATE CMSDATA.CM_CMPGN_EXCT SET TST_GRP_CD = '00011' WHERE CMPGN_NO IN ('C20151014101700295', 'C20151014101700294');

------------------------------------------------------------------------------

SELECT
    A.CMPGN_NO
    , A.CHNNL_NO
    , A.TST_GRP_CD
    , A.CHNNL_TYP_CD
    , B.CUST_ID
    , B.CHNNL_TYP_CD
    , B.EMPLY_NO
    , B.TESTER_NAME
FROM
    CMSVIEW.CM_CMPGN_EXCT A
    , CMSVIEW.CM_CHNNL_TST_GRP_CUST B
WHERE 1=1
    AND A.CMPGN_NO = 'C20151014101700294'
    AND A.CHNNL_TYP_CD IN ( 'APT', 'APR' )
    AND A.TST_GRP_CD = B.TST_GRP_CD
;

------------------------------------------------------------------------------

SHOW TABLE CMSDATA.CM_CMPGN_EXCT;

------------------------------------------------------------------------------

SELECT * FROM CMSVIEW.CM_CMPGN_TRGT_CUST;

SELECT CHNNL_NO, COUNT(*) FROM CMSVIEW.CM_CMPGN_TRGT_CUST GROUP BY CHNNL_NO;

------------------------------------------------------------------------------


SELECT
    A.CHNNL_TYP_CD
    , A.CHNNL_PLCY_NO
    , A.CHNNL_LMT_CUST_CNT
    , A.CHNNL_RMNS_CNT
    , B.DVD_WGHT_CNT
    , B.SUM_WGHT
    , B.DVD_CNT
    , CASE
        WHEN A.CHNNL_LMT_CUST_CNT - A.CHNNL_RMNS_CNT > B.DVD_CNT THEN B.DVD_CNT
        ELSE 0
        END                AS RMNS_CNT
FROM
    (
        SELECT
            A.CHNNL_TYP_CD
            , A.CHNNL_PLCY_NO
            , A.CHNNL_LMT_CUST_CNT
            , NVL(B.CHNNL_RMNS_CNT, 0)   AS CHNNL_RMNS_CNT
        FROM
            (
                SELECT
                    CHNNL_TYP_CD
                    , CHNNL_PLCY_NO
                    , CHNNL_LMT_CUST_CNT
                FROM
                    CMSVIEW.CM_CHNNL_PLCY
                WHERE
                    ( CHNNL_TYP_CD = 'LMS'
                        AND '2015-10-09' BETWEEN CHNNL_PLCY_STRT_DT AND CHNNL_PLCY_END_DT
                    )
                    OR ( CHNNL_TYP_CD = 'SMS'
                        AND '2015-10-10' BETWEEN CHNNL_PLCY_STRT_DT AND CHNNL_PLCY_END_DT
                    )
                    OR ( CHNNL_TYP_CD = 'APT'
                        AND '2015-10-15' BETWEEN CHNNL_PLCY_STRT_DT AND CHNNL_PLCY_END_DT
                    )
            ) A
            LEFT OUTER JOIN CMSVIEW.CM_CHNNL_RMNS_CNT_BY_DAY B
                ON A.CHNNL_TYP_CD = B.CHNNL_TYP_CD AND A.CHNNL_PLCY_NO = B.CHNNL_PLCY_NO
        WHERE 1=1
    ) A,
    (
        SELECT
            A.CHNNL_TYP_CD
            , A.DVD_WGHT_CNT
            , B.SUM_WGHT
            , A.DVD_WGHT_CNT * C.CMGPN_LMT_CSTMR_CNT / B.SUM_WGHT  AS DVD_CNT
        FROM
            CMSVIEW.CM_CHNNL_DVD_WGHT A
            , (
                SELECT
                    SUM(DVD_WGHT_CNT) AS SUM_WGHT
                FROM
                    CMSVIEW.CM_CHNNL_DVD_WGHT
                WHERE 1=1
                    AND CHNNL_TYP_CD IN ( 'LMS', 'SMS', 'APT' )
            ) B
            , (
                SELECT  TOP 1
                    CMPGN_PLCY_NO
                    , CMGPN_LMT_CSTMR_CNT
                FROM
                    CMSVIEW.CM_CMPGN_PLCY
                WHERE 1=1
                    AND '2015-10-12' BETWEEN CMPGN_PLCY_STRT_DT AND CMPGN_PLCY_END_DT
                ORDER BY
                    1 DESC
            ) C
        WHERE 1=1
            AND A.CHNNL_TYP_CD IN ('LMS', 'SMS', 'APT')
    ) B
WHERE 1=1
    AND A.CHNNL_TYP_CD = B.CHNNL_TYP_CD
;






----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SHOW TABLE CMSDATA.SIMUL_ANLYSS_CMPGN_INFO ;
SHOW TABLE CMSDATA.SIMUL_CUST_PROFIL_SMM   ;
SHOW TABLE CMSDATA.SIMUL_EXP_SMM           ;
SHOW TABLE CMSDATA.SIMUL_FORCST_SMM        ;
SHOW TABLE CMSDATA.SIMUL_STR_MAP_SMM       ;

------------------------------------------------------------------------------

DROP TABLE SIMUL_ANLYSS_CMPGN_INFO;

CREATE SET TABLE CMSDATA.SIMUL_ANLYSS_CMPGN_INFO ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CMPGN_CTGRY_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인분류코드' NOT NULL,
      CMPGN_CTGRY_SB_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상세분류코드' NOT NULL,
      TC_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'TC구분코드' NOT NULL,
      TRGT_CUST_CNT DECIMAL(8,0) TITLE '대상고객수',
      PRCHSE_CUST_CNT DECIMAL(8,0) TITLE '구매고객수',
      PRCHSE_AMT DECIMAL(18,2) TITLE '구매금액',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초변경자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이')
PRIMARY INDEX ( CMPGN_NO,CMPGN_CTGRY_CD ,CMPGN_CTGRY_SB_CD ,TC_GRP_CD );

------------------------------------------------------------------------------

DROP TABLE SIMUL_CUST_PROFIL_SMM;

CREATE SET TABLE CMSDATA.SIMUL_CUST_PROFIL_SMM ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CUST_MAN_CNT DECIMAL(8,0) TITLE '남자고객수',
      CUST_WMAN_CNT DECIMAL(8,0) TITLE '여자고객수',
      CUST_10AGE_CNT DECIMAL(8,0) TITLE '10대고객수',
      CUST_20AGE_CNT DECIMAL(8,0) TITLE '20대고객수',
      CUST_30AGE_CNT DECIMAL(8,0) TITLE '30대고객수',
      CUST_40AGE_CNT DECIMAL(8,0) TITLE '40대고객수',
      CUST_50AGE_CNT DECIMAL(8,0) TITLE '50대고객수',
      CUST_60AGE_CNT DECIMAL(8,0) TITLE '60대이상고객수',
      EXCELNT_CUST_CNT DECIMAL(8,0) TITLE '우수고객수',
      GENRAL_CUST_CNT DECIMAL(8,0) TITLE '일반고객수',
      NEW_CUST_CNT DECIMAL(8,0) TITLE '신규고객수',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초변경자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이')
PRIMARY INDEX ( CMPGN_NO );

------------------------------------------------------------------------------

DROP TABLE SIMUL_EXP_SMM;

CREATE SET TABLE CMSDATA.SIMUL_EXP_SMM ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      STR_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포ID' NOT NULL,
      MON_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '월구분코드' NOT NULL,
      SND_EXP DECIMAL(18,2) TITLE '발송비용',
      OFF_EXP DECIMAL(18,2) TITLE '오퍼비용',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시')
PRIMARY INDEX ( CMPGN_NO ,STR_ID ,MON_GRP_CD );

------------------------------------------------------------------------------

DROP TABLE SIMUL_FORCST_SMM;

CREATE SET TABLE CMSDATA.SIMUL_FORCST_SMM ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      FORCST_RSPNC_RTO DECIMAL(18,2) TITLE '예상반응률',
      FORCST_SLS_AMT DECIMAL(18,2) TITLE '예상매출금액',
      FORCST_EXP_AMT DECIMAL(18,2) TITLE '예상비용금액',
      FORCST_ADD_SLS_AMT DECIMAL(18,2) TITLE '예상추가매출',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초변경자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이')
PRIMARY INDEX ( CMPGN_NO );

------------------------------------------------------------------------------

DROP TABLE SIMUL_STR_MAP_SMM;

CREATE SET TABLE CMSDATA.SIMUL_STR_MAP_SMM ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호',
      STR_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포ID',
      STR_NM VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포명',
      CATCHMNT_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상권명',
      ADDRSS_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '주소명',
      LAT FLOAT TITLE '위도',
      LON FLOAT TITLE '경도',
      CUST_CNT DECIMAL(8,0) TITLE '고객수',
      SLS_AMT DECIMAL(18,2) TITLE '매출금액',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시')
PRIMARY INDEX ( CMPGN_NO );

------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW.SIMUL_ANLYSS_CMPGN_INFO   AS LOCKING TABLE CMSDATA.SIMUL_ANLYSS_CMPGN_INFO    FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_ANLYSS_CMPGN_INFO  );
REPLACE VIEW CMSVIEW.SIMUL_CUST_6MON_SLS       AS LOCKING TABLE CMSDATA.SIMUL_CUST_6MON_SLS        FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_CUST_6MON_SLS      );
REPLACE VIEW CMSVIEW.SIMUL_CUST_PROFIL_SMM     AS LOCKING TABLE CMSDATA.SIMUL_CUST_PROFIL_SMM      FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_CUST_PROFIL_SMM    );
REPLACE VIEW CMSVIEW.SIMUL_CUST_SMM            AS LOCKING TABLE CMSDATA.SIMUL_CUST_SMM             FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_CUST_SMM           );
REPLACE VIEW CMSVIEW.SIMUL_EXP_SMM             AS LOCKING TABLE CMSDATA.SIMUL_EXP_SMM              FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_EXP_SMM            );
REPLACE VIEW CMSVIEW.SIMUL_FORCST_SMM          AS LOCKING TABLE CMSDATA.SIMUL_FORCST_SMM           FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_FORCST_SMM         );
REPLACE VIEW CMSVIEW.SIMUL_SIMUL_SMM           AS LOCKING TABLE CMSDATA.SIMUL_SIMUL_SMM            FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_SIMUL_SMM          );
REPLACE VIEW CMSVIEW.SIMUL_STR_MAP_SMM         AS LOCKING TABLE CMSDATA.SIMUL_STR_MAP_SMM          FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_STR_MAP_SMM        );


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ 그룹관리 ]

    SAS Management Console - matcmsva01_sasadmin > 플러그인 > 환경관리 > 사용자 관리자



----------------------------------------------------------------------------------------------------

[ 그룹별/사용자별 메뉴 ]

    001.branch      (점포캠페인)        : 점포그룹, 보고서파트                       001810

    002.admin       (점포관리자)        : 관리자그룹, 보고서파트, 126300             105902

    003.CIStudio    (CISTUDIO)          : 관리자그룹, 분석그룹, 126300               105902

    004.CIStudioApp (본사 캠페인 지원)  : 보고서파트, 분석그룹, 126300

    005.BarCode     (바코드업로드)      : 126300                                     126300

    006.HeadOffice  (본사 캠페인)       : 052613                                     052613



----------------------------------------------------------------------------------------------------

[ 관련 테이블 ]

    TSVM.CMS_USER_CRM.CMS_AUTH




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SELECT  CMPGN_PLCY_NO, CMPGN_PLCY_STRT_DT, CMPGN_PLCY_END_DT, CMGPN_LMT_CSTMR_CNT,
        TST_GRP_RT, CTR_GRP_RT, SYS_LST_UPDT_ID, SYS_FRST_OPRTN_ID, SYS_CRTN_DTTM,
        SYS_UPDT_DTTM
FROM CMSDATA.CM_CMPGN_PLCY
order by 1
;

update cmsdata.cm_cmpgn_plcy set cmpgn_plcy_strt_dt = '2015-10-15', cmpgn_plcy_end_dt = '2015-10-16', cmgpn_lmt_cstmr_cnt = 50000 where cmpgn_plcy_no = 6;

update cmsdata.cm_cmpgn_plcy set cmpgn_plcy_strt_dt = '2015-10-17', cmpgn_plcy_end_dt = '2015-10-18', cmgpn_lmt_cstmr_cnt = 50000 where cmpgn_plcy_no = 7;

update cmsdata.cm_cmpgn_plcy set cmpgn_plcy_strt_dt = '2015-10-19', cmpgn_plcy_end_dt = '9999-12-31', cmgpn_lmt_cstmr_cnt = 50000 where cmpgn_plcy_no = 8;



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

AA
AA11
BF_WEEK
CM_AMT_RSPNS_SMM
CM_BDSRCT_RSPNS_SMM
CM_BST_CMPGN
CM_CARD_CO
CM_CATCHMNT_INCRSS_RTO_SMM
CM_CHNNL_APR
CM_CHNNL_APT
CM_CHNNL_BMS
CM_CHNNL_DM
CM_CHNNL_DVD_WGHT
CM_CHNNL_EML
CM_CHNNL_LMS
CM_CHNNL_MMS
CM_CHNNL_PLCY
CM_CHNNL_POS
CM_CHNNL_REG
CM_CHNNL_RMNS_CNT_BY_DAY
CM_CHNNL_RSPNS_SMM
CM_CHNNL_SMS
CM_CHNNL_SMS_test
CM_CHNNL_TST_GRP
CM_CHNNL_TST_GRP_CUST
CM_CMMN_CD
CM_CMPGN_CHNNL
CM_CMPGN_CTGRY
CM_CMPGN_EXCT
CM_CMPGN_HISTRY
CM_CMPGN_MST
CM_CMPGN_MST_bak
CM_CMPGN_OFFR
CM_CMPGN_PLCY
CM_CMPGN_REG
CM_CMPGN_SCCS_CNDTN_CD
CM_CMPGN_SCCS_CNDTN_DTL
CM_CMPGN_SIMUL_CUST
CM_CMPGN_SIMUL_CUST_1
CM_CMPGN_SIMUL_CUST_2
CM_CMPGN_SIMUL_CUST_3
CM_CMPGN_SIMUL_CUST_TMP
CM_CMPGN_TRGT_CHC
CM_CMPGN_TRGT_CUST
CM_CMPGN_TRGT_CUST_old
CM_CMPGN_TRGT_CUST_TMP
CM_CMTN_PLN
CM_CMTN_PLN_KSY
CM_CTGY_INCRSS_RTO_SMM
CM_CUST_FAV_CHNNL
CM_CUST_GRADE
CM_CUST_GRADE_TMP
CM_CUST_MST
CM_CUST_MST_TMP
CM_CUST_RSPNS_SMM
CM_CUST_SCCSS_RSPNC_HSTRY
CM_DAY_VISIT_INCRSS_SMM
CM_DT_RSPNS_SMM
CM_MON_VISIT_EXCSS_SMM
CM_NTC
CM_OFFR_SCCS_CNDTN
CM_RSLT_ANLYSS_SMM
CM_SCCSS_RSPNC_SMM
CM_SCHDL_HO
CM_SCHDL_HO_DTTM
CM_SCHDL_HO_SCCS_CNDTN_DTL
CM_STR
CM_STR_CHGR
CM_STR_DAY_SMM
CM_STR_EXP
CM_STR_GRADE_SMM
CM_TGT_CUST_RSPNC_HSTRY
CM_THM_TRGT
CM_THM_TRGT_CUST
CM_THM_TRGT_CUST_20151014
CM_THM_TRGT_CUST_APJ
CM_THM_TRGT_CUST_OLD
CM_THM_TRGT_STR
CM_TRGT_CNDTN
CM_TRGT_CNDTN_BY_STR
CM_TRGT_CNDTN_INSTNC
CM_TRGT_CUST_CHNNL_RSPNC
CM_TRGT_CUST_INFO
CM_TRGT_CUST_OFFR_RSLT
CM_TRGT_CUST_PRCHSE_INFO
CM_TRGT_RQST_RSLT
CM_WRD_RPLC
CM_YM_CHNNL_SMM
CM_YM_CMPGN_EXP_SMM
CM_YM_CRRNT_OFFR
CM_YM_CTGRY_SMM
CM_YM_EXP_SMM
CM_YM_MNTH_EXP_SMM
CM_YM_OFFR_SMM
CM_YM_RSLT_SMM
CM_YM_SCCSS_SMM
CM_YM_SCCS_SMM
CM_YM_TOT_EXP_SMM
CM_YM_YEAR_EXP_SMM
EMS_MASS_BASE_INFO
EMS_MASS_CAMP_INFO
EMS_MASS_SCHEDULE_INFO
EMS_MASS_SEND_LIST_01
EMS_MASS_SEND_LIST_02
EMS_MASS_SEND_LIST_03
EMS_MASS_SEND_LIST_04
EMS_MASS_SEND_LIST_05
EMS_MASS_SEND_LIST_06
EMS_MASS_SEND_LIST_07
EMS_MASS_SEND_LIST_08
EMS_MASS_SEND_LIST_09
EMS_MASS_SEND_LIST_10
EMS_MASS_SEND_LIST_11
EMS_MASS_SEND_LIST_12
EXC_ZIP_CODE_load
EXN_APT_HOUSE_CNT
korea_lat_lon
LAT_LON_TOT
LAT_LON_TOT_ZIPCODE
mload_test
OLAP_USER_CRM
POLYGON_LONLAT
prdsale
prdsale2
SIMUL_ANLYSS_CMPGN_INFO
SIMUL_CUST_6MON_SLS
SIMUL_CUST_PROFIL_SMM
SIMUL_CUST_SMM
SIMUL_EXP_SMM
SIMUL_FORCST_SMM
SIMUL_SIMUL_SMM
SIMUL_STR_MAP_SMM
STB_TEST_TARGET
STR_ADMIN_AREA_ADDRSS
TB_MSG
TB_SEND_QUE
TB_TEST_TARGET
test1
test2
test3
TMP_BF_WEEK
T_00204638317
T_00700241709
T_00754199406
T_01142867944
T_01198023735
T_02204372176
T_02231314509
T_02599576615
T_02985364652
T_04254129661
T_04385126347
T_04466728244
T_04491286303
T_04926783547
T_04932230131
T_0560052675
T_0565666308
T_06452409763
T_06480235772
T_07068721679
T_07408068458
T_07793856495
T_08048442205
T_08453934807
T_08498584879
T_09234225414
T_09818850281
T_R_00062264153
T_R_00119005488
T_R_00379037783
T_R_00468252981
T_R_01251121588
T_R_01917844579
T_R_01976958272
T_R_02253330318
T_R_02664160725
T_R_02931418872
T_R_03034710243
T_R_03252259182
T_R_03709542762
T_R_03830844375
T_R_05143375781
T_R_0533675411
T_R_05804543409
T_R_06303305973
T_R_08002327284
T_R_08333250116
T_R_08455846686
T_R_08538223481
T_R_085589205
T_R_09084237949
T_R_09333873302
T_R_09678073577
T_R_09994447841



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


DROP TABLE CM_YM_RSLT_SMM;



--DROP TABLE CM_OFFR_ACHIVE_COMPRSM_SMM;



--DROP TABLE CM_CTGRY_ACHIVE_COMPRSM_SMM;



--DROP TABLE CM_CHNNL_ACHIVE_COMPRSM_SMM;



--DROP TABLE CM_ACHIVE_COMPRSM_SMM;



CREATE  TABLE CM_ACHIVE_COMPRSM_SMM
(

    CHNNL_NM             VARCHAR(100) NOT NULL
        TITLE '채널명',
    CMPGN_NO             VARCHAR(20) NOT NULL
        TITLE '캠페인번호',
    STR_ID               VARCHAR(20) NOT NULL
        TITLE '점포아이디',
    CTGRY_NM             VARCHAR(100) NULL
        TITLE '캠페인분류명',
    CTGRY_SB_NM          VARCHAR(100) NULL
        TITLE '캠페인상세분류명',
    CMPGN_NM             VARCHAR(100) NULL
        TITLE '캠페인명',
    CMPGN_STRT_DT        DATE NULL
        TITLE '캠페인시작일자',
    CMPGN_END_DT         DATE NULL
        TITLE '캠페인종료일자',
    EVNT_DAY_CNT         NUMERIC(8) NULL
        TITLE '캠페인행사일수',
    OFFR_NM              VARCHAR(100) NULL
        TITLE '캠페인오퍼명',
    SCCSS_CNDTN_NM       VARCHAR(100) NULL
        TITLE '캠페인성공조건명',
    CHNNL_SND_DT         DATE NULL
        TITLE '채널발송일자',
    CHNNL_SND_CNT        NUMERIC(8) NULL
        TITLE '채널발송고객수',
    PRCHSE_CUST_CNT      NUMERIC(8) NULL
        TITLE '구매현황구매고객수',
    PRCHSE_CUST_RTO      DECIMAL(18,2) NULL
        TITLE '구매현황구매고객율',
    PRCHSE_SLS_AMT       DECIMAL(18,2) NULL
        TITLE '구매현황매출금액',
    PRCHSE_STT_CTMTRNS   DECIMAL(18,2) NULL
        TITLE '구매현황객단가',
    SCCSS_CUST_CNT       NUMERIC(8) NULL
        TITLE '성공현황성공고객수',
    SCCSS_RTO            DECIMAL(18,2) NULL
        TITLE '성공현황성공율',
    SCCSS_SLS_AMT        DECIMAL(18,2) NULL
        TITLE '성공현황구매매출금액',
    SCCSS_STT_CTMTRNS    DECIMAL(18,2) NULL
        TITLE '성공현황객단가',
    EFFCT_ADD_RSPNS_RTO  DECIMAL(18,2) NULL
        TITLE '효과측정추가반응율',
    EFFCT_ADD_SLS_AMT    DECIMAL(18,2) NULL
        TITLE '효과측정추가매출금액',
    EFFCT_EXP            DECIMAL(18,2) NULL
        TITLE '효과측정비용',
    EFFCT_ROI            DECIMAL(18,2) NULL
        TITLE '효과측정ROI',
    EFFCT_YN             CHAR(1) NULL
        TITLE '효과측정효과여부',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시',
    CHNNL_SCSS_RTO       DECIMAL(18,2) NULL
        TITLE '채널발송성공율'
)
UNIQUE PRIMARY INDEX (
        CHNNL_NM,
        CMPGN_NO,
        STR_ID
);



CREATE  TABLE CM_CHNNL_ACHIVE_COMPRSM_SMM
(

    CHNNL_NM             VARCHAR(100) NOT NULL
        TITLE '채널명',
    STR_ID               VARCHAR(20) NOT NULL
        TITLE '점포아이디',
    CMPGN_NO             VARCHAR(20) NULL
        TITLE '캠페인번호',
    CMPGN_NM             VARCHAR(100) NULL
        TITLE '캠페인명',
    CMPGN_STRT_DT        DATE NULL
        TITLE '캠페인시작일자',
    CMPGN_END_DT         DATE NULL
        TITLE '캠페인종료일자',
    EVNT_DAY_CNT         NUMERIC(8) NULL
        TITLE '캠페인행사일수',
    SCCSS_CNDTN_NM       VARCHAR(100) NULL
        TITLE '캠페인성공조건명',
    CHNNL_SND_DT         DATE NULL
        TITLE '채널발송일자',
    CHNNL_SND_CNT        NUMERIC(8) NULL
        TITLE '채널발송고객수',
    CHNNL_SCSS_RTO       DECIMAL(18,2) NULL
        TITLE '채널발송성공율',
    PRCHSE_CUST_CNT      NUMERIC(8) NULL
        TITLE '구매현황구매고객수',
    PRCHSE_CUST_RTO      DECIMAL(18,2) NULL
        TITLE '구매현황구매고객율',
    PRCHSE_SLS_AMT       DECIMAL(18,2) NULL
        TITLE '구매현황매출금액',
    PRCHSE_STT_CTMTRNS   DECIMAL(18,2) NULL
        TITLE '구매현황객단가',
    SCCSS_CUST_CNT       NUMERIC(8) NULL
        TITLE '성공현황성공고객수',
    SCCSS_RTO            DECIMAL(18,2) NULL
        TITLE '성공현황성공율',
    SCCSS_SLS_AMT        DECIMAL(18,2) NULL
        TITLE '성공현황구매매출금액',
    SCCSS_STT_CTMTRNS    DECIMAL(18,2) NULL
        TITLE '성공현황객단가',
    EFFCT_ADD_RSPNS_RTO  DECIMAL(18,2) NULL
        TITLE '효과측정추가반응율',
    EFFCT_ADD_SLS_AMT    DECIMAL(18,2) NULL
        TITLE '효과측정추가매출금액',
    EFFCT_EXP            DECIMAL(18,2) NULL
        TITLE '효과측정비용',
    EFFCT_ROI            DECIMAL(18,2) NULL
        TITLE '효과측정ROI',
    EFFCT_YN             CHAR(1) NULL
        TITLE '효과측정효과여부',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시'
)
UNIQUE PRIMARY INDEX (
        CHNNL_NM,
        STR_ID
);






CREATE  TABLE CM_CTGRY_ACHIVE_COMPRSM_SMM
(

    CTGRY_NM             VARCHAR(100) NOT NULL
        TITLE '캠페인분류명',
    CTGRY_SB_NM          VARCHAR(100) NOT NULL
        TITLE '캠페인상세분류명',
    STR_ID               VARCHAR(20) NOT NULL
        TITLE '점포아이디',
    CMPGN_NO             VARCHAR(20) NULL
        TITLE '캠페인번호',
    CMPGN_NM             VARCHAR(100) NULL
        TITLE '캠페인명',
    CMPGN_STRT_DT        DATE NULL
        TITLE '캠페인시작일자',
    CMPGN_END_DT         DATE NULL
        TITLE '캠페인종료일자',
    EVNT_DAY_CNT         NUMERIC(8) NULL
        TITLE '캠페인행사일수',
    SCCSS_CNDTN_NM       VARCHAR(100) NULL
        TITLE '캠페인성공조건명',
    PRCHSE_CUST_CNT      NUMERIC(8) NULL
        TITLE '구매현황구매고객수',
    PRCHSE_CUST_RTO      DECIMAL(18,2) NULL
        TITLE '구매현황구매고객율',
    PRCHSE_SLS_AMT       DECIMAL(18,2) NULL
        TITLE '구매현황매출금액',
    PRCHSE_STT_CTMTRNS   DECIMAL(18,2) NULL
        TITLE '구매현황객단가',
    SCCSS_CUST_CNT       NUMERIC(8) NULL
        TITLE '성공현황성공고객수',
    SCCSS_RTO            DECIMAL(18,2) NULL
        TITLE '성공현황성공율',
    SCCSS_SLS_AMT        DECIMAL(18,2) NULL
        TITLE '성공현황구매매출금액',
    SCCSS_STT_CTMTRNS    DECIMAL(18,2) NULL
        TITLE '성공현황객단가',
    EFFCT_ADD_RSPNS_RTO  DECIMAL(18,2) NULL
        TITLE '효과측정추가반응율',
    EFFCT_ADD_SLS_AMT    DECIMAL(18,2) NULL
        TITLE '효과측정추가매출금액',
    EFFCT_EXP            DECIMAL(18,2) NULL
        TITLE '효과측정비용',
    EFFCT_ROI            DECIMAL(18,2) NULL
        TITLE '효과측정ROI',
    EFFCT_YN             CHAR(1) NULL
        TITLE '효과측정효과여부',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시'
)
UNIQUE PRIMARY INDEX (
        CTGRY_NM,
        CTGRY_SB_NM,
        STR_ID
);





CREATE  TABLE CM_OFFR_ACHIVE_COMPRSM_SMM
(

    STR_ID               VARCHAR(20) NOT NULL
        TITLE '점포아이디',
    OFFR_NM              VARCHAR(100) NOT NULL
        TITLE '캠페인오퍼명',
    CMPGN_NO             VARCHAR(20) NULL
        TITLE '캠페인번호',
    CMPGN_NM             VARCHAR(100) NULL
        TITLE '캠페인명',
    CMPGN_STRT_DT        DATE NULL
        TITLE '캠페인시작일자',
    CMPGN_END_DT         DATE NULL
        TITLE '캠페인종료일자',
    EVNT_DAY_CNT         NUMERIC(8) NULL
        TITLE '캠페인행사일수',
    SCCSS_CNDTN_NM       VARCHAR(100) NULL
        TITLE '캠페인성공조건명',
    PRCHSE_CUST_CNT      NUMERIC(8) NULL
        TITLE '구매현황구매고객수',
    PRCHSE_CUST_RTO      DECIMAL(18,2) NULL
        TITLE '구매현황구매고객율',
    PRCHSE_SLS_AMT       DECIMAL(18,2) NULL
        TITLE '구매현황매출금액',
    PRCHSE_STT_CTMTRNS   DECIMAL(18,2) NULL
        TITLE '구매현황객단가',
    SCCSS_CUST_CNT       NUMERIC(8) NULL
        TITLE '성공현황성공고객수',
    SCCSS_RTO            DECIMAL(18,2) NULL
        TITLE '성공현황성공율',
    SCCSS_SLS_AMT        DECIMAL(18,2) NULL
        TITLE '성공현황구매매출금액',
    SCCSS_STT_CTMTRNS    DECIMAL(18,2) NULL
        TITLE '성공현황객단가',
    EFFCT_ADD_RSPNS_RTO  DECIMAL(18,2) NULL
        TITLE '효과측정추가반응율',
    EFFCT_ADD_SLS_AMT    DECIMAL(18,2) NULL
        TITLE '효과측정추가매출금액',
    EFFCT_EXP            DECIMAL(18,2) NULL
        TITLE '효과측정비용',
    EFFCT_ROI            DECIMAL(18,2) NULL
        TITLE '효과측정ROI',
    EFFCT_YN             CHAR(1) NULL
        TITLE '효과측정효과여부',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시'
)
UNIQUE PRIMARY INDEX (
        STR_ID,
        OFFR_NM
);




CREATE  TABLE CM_YM_RSLT_SMM
(

    CHNNL_NM             VARCHAR(100) NOT NULL
        TITLE '채널명',
    CMPGN_NO             VARCHAR(20) NOT NULL
        TITLE '캠페인번호',
    STR_ID               VARCHAR(20) NOT NULL
        TITLE '점포아이디',
    CTGRY_NM             VARCHAR(100) NULL
        TITLE '캠페인분류명',
    CTGRY_SB_NM          VARCHAR(100) NULL
        TITLE '캠페인상세분류명',
    CMPGN_NM             VARCHAR(100) NULL
        TITLE '캠페인명',
    CMPGN_STRT_DT        DATE NULL
        TITLE '캠페인시작일자',
    CMPGN_END_DT         DATE NULL
        TITLE '캠페인종료일자',
    EVNT_DAY_CNT         NUMERIC(8) NULL
        TITLE '캠페인행사일수',
    OFFR_NM              VARCHAR(100) NULL
        TITLE '캠페인오퍼명',
    SCCSS_CNDTN_NM       VARCHAR(100) NULL
        TITLE '캠페인성공조건명',
    CHNNL_SND_DT         DATE NULL
        TITLE '채널발송일자',
    CHNNL_SND_CNT        NUMERIC(8) NULL
        TITLE '채널발송고객수',
    PRCHSE_CUST_CNT      NUMERIC(8) NULL
        TITLE '구매현황구매고객수',
    PRCHSE_CUST_RTO      DECIMAL(18,2) NULL
        TITLE '구매현황구매고객율',
    PRCHSE_SLS_AMT       DECIMAL(18,2) NULL
        TITLE '구매현황매출금액',
    PRCHSE_STT_CTMTRNS   DECIMAL(18,2) NULL
        TITLE '구매현황객단가',
    SCCSS_CUST_CNT       NUMERIC(8) NULL
        TITLE '성공현황성공고객수',
    SCCSS_RTO            DECIMAL(18,2) NULL
        TITLE '성공현황성공율',
    SCCSS_SLS_AMT        DECIMAL(18,2) NULL
        TITLE '성공현황구매매출금액',
    SCCSS_STT_CTMTRNS    DECIMAL(18,2) NULL
        TITLE '성공현황객단가',
    EFFCT_ADD_RSPNS_RTO  DECIMAL(18,2) NULL
        TITLE '효과측정추가반응율',
    EFFCT_ADD_SLS_AMT    DECIMAL(18,2) NULL
        TITLE '효과측정추가매출금액',
    EFFCT_EXP            DECIMAL(18,2) NULL
        TITLE '효과측정비용',
    EFFCT_ROI            DECIMAL(18,2) NULL
        TITLE '효과측정ROI',
    EFFCT_YN             CHAR(1) NULL
        TITLE '효과측정효과여부',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시',
    CHNNL_SCSS_RTO       DECIMAL(18,2) NULL
        TITLE '채널발송성공율'
)
UNIQUE PRIMARY INDEX (
        CHNNL_NM,
        CMPGN_NO,
        STR_ID
);


REPLACE VIEW CMSVIEW.CM_YM_RSLT_SMM                AS LOCKING TABLE CMSDATA.CM_YM_RSLT_SMM                 FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_RSLT_SMM               );
REPLACE VIEW CMSVIEW.CM_OFFR_ACHIVE_COMPRSM_SMM    AS LOCKING TABLE CMSDATA.CM_OFFR_ACHIVE_COMPRSM_SMM     FOR ACCESS (SELECT * FROM CMSDATA.CM_OFFR_ACHIVE_COMPRSM_SMM   );
REPLACE VIEW CMSVIEW.CM_CTGRY_ACHIVE_COMPRSM_SMM   AS LOCKING TABLE CMSDATA.CM_CTGRY_ACHIVE_COMPRSM_SMM    FOR ACCESS (SELECT * FROM CMSDATA.CM_CTGRY_ACHIVE_COMPRSM_SMM  );
REPLACE VIEW CMSVIEW.CM_CHNNL_ACHIVE_COMPRSM_SMM   AS LOCKING TABLE CMSDATA.CM_CHNNL_ACHIVE_COMPRSM_SMM    FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_ACHIVE_COMPRSM_SMM  );
REPLACE VIEW CMSVIEW.CM_ACHIVE_COMPRSM_SMM         AS LOCKING TABLE CMSDATA.CM_ACHIVE_COMPRSM_SMM          FOR ACCESS (SELECT * FROM CMSDATA.CM_ACHIVE_COMPRSM_SMM        );





----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ 치환문자 정의 ]

    치환위치       항목코드  항목내용
    포인트시스템    PNT01    이름
    포인트시스템    PNT02    가용포인트
    포인트시스템    PNT03    가입일
    포인트시스템    PNT04    소멸포인트
    포인트시스템    PNT05    (예비용)
    캠페인시스템    CMS01    점포명
    캠페인시스템    CMS02    구매횟수
    캠페인시스템    CMS03    구매금액
    캠페인시스템    CMS04    (예비용)
    캠페인시스템    CMS05    (예비용)


    내용에 추가 됨     위치정의    항목
    %CHANGEWORD1%      순서1       PNT01~PNT05, CMS01~CMS05 중에 하나
    %CHANGEWORD2%      순서2       PNT01~PNT05, CMS01~CMS05 중에 하나
    %CHANGEWORD3%      순서3       PNT01~PNT05, CMS01~CMS05 중에 하나
    %CHANGEWORD4%      순서4       PNT01~PNT05, CMS01~CMS05 중에 하나
    %CHANGEWORD5%      순서5       PNT01~PNT05, CMS01~CMS05 중에 하나



----------------------------------------------------------------------------------------------------

[ SMS ]

    파일명
        자료       파일 : 채널예약일시(YYYYMMDDHH24MISS)_캠페인번호_채널번호
        송신완료시 파일 : 채널예약일시(YYYYMMDDHH24MISS)_캠페인번호_채널번호.OK

    HEAD
        HEADER          :   2  : BH                     : 헤더구분값
        CMPGN_NO        :  18  : C20150722470000001     : 캠페인번호
        CHNNL_NO        :  16  : SMS4700150722001       : 채널번호
        POS_STR_CODE    :   4  : 4700                   : 점포코드
        CHNNL_DESC      :  80  :                        : 내용
        CHNNL_RSV_DTTM  :  14  : 20150723143022         : 채널예약일시
        BRNCH_RPLY_NO   :  11  : 03112341234            : 점포회신번호
        TRNSFR_DTTM     :  14  : 20150722033210         : 전송일시
        RPLC_WRD_1      :   5  : PNT01                  : 문자변환1
        RPLC_WRD_2      :   5  : PNT02                  : 문자변환2
        RPLC_WRD_3      :   5  : CMS01                  : 문자변환3
        RPLC_WRD_4      :   5  : PNT03                  : 문자변환4
        RPLC_WRD_5      :   5  : CMS02                  : 문자변환5

    BODY
        BODY            :   2  : BD
        CUST_NO         :   9  : C05921660
        CMS01           :  20  : 성수점
        CMS02           :  20  : 10
        CMS03           :  20  : 150000
        CMS04           :  20  : (공백20)
        CMS05           :  20  : (공백20)

    TAIL
        TAIL            :   2  : BT
        LINE COUNT      : 100  : 100 (왼쪽정렬)



----------------------------------------------------------------------------------------------------

SELECT COUNT(*) FROM CMSVIEW.CM_CMPGN_MST          ;
SELECT COUNT(*) FROM CMSVIEW.CM_CMPGN_EXCT         ;
SELECT COUNT(*) FROM CMSVIEW.CM_CMPGN_TRGT_CUST    ;

SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_SMS          ;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_LMS          ;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_MMS          ;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_BMS          ;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_DM           ;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_EML          ;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_APR          ;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_APT          ;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_POS          ;

SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_TST_GRP      ;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_TST_GRP_CUST ;

SELECT COUNT(*) FROM TCVM.STORE;

SELECT COUNT(*) FROM TSVM.F_D_RECPT_PROD;
SELECT COUNT(*) FROM TSVM.D_STORE;

----------------------------------------------------------------------------------------------------

SELECT * FROM CMSVIEW.CM_CMPGN_MST          ;
SELECT * FROM CMSVIEW.CM_CMPGN_EXCT         ;
SELECT TOP 10 * FROM CMSVIEW.CM_CMPGN_TRGT_CUST    ;

SELECT * FROM CMSVIEW.CM_CHNNL_SMS          ;
SELECT * FROM CMSVIEW.CM_CHNNL_LMS          ;
SELECT * FROM CMSVIEW.CM_CHNNL_MMS          ;
SELECT * FROM CMSVIEW.CM_CHNNL_BMS          ;
SELECT * FROM CMSVIEW.CM_CHNNL_DM           ;
SELECT * FROM CMSVIEW.CM_CHNNL_EML          ;
SELECT * FROM CMSVIEW.CM_CHNNL_APR          ;
SELECT * FROM CMSVIEW.CM_CHNNL_APT          ;
SELECT * FROM CMSVIEW.CM_CHNNL_POS          ;

SELECT * FROM CMSVIEW.CM_CHNNL_TST_GRP      ;
SELECT * FROM CMSVIEW.CM_CHNNL_TST_GRP_CUST ;

SELECT * FROM TCVM.STORE;

    SELECT
        A.STR_ID                      AS STR_ID
        , A.STR_NM                    AS STR_NM
        , A.POS_STR_CODE              AS POS_STR_CODE_ORG
        , DECODE(TRIM(A.POS_STR_CODE), NULL, '0000', '', '0000', A.POS_STR_CODE) AS POS_STR_CODE
    FROM
        TCVM.STORE A
    WHERE 1=1
    ORDER BY
        A.STR_ID
    ;

SELECT TOP 10 * FROM TSVM.F_D_RECPT_PROD;
SELECT * FROM TSVM.D_STORE;

SELECT CMPGN_NO, CHNNL_NO, COUNT(*) FROM CMSVIEW.CM_CMPGN_TRGT_CUST GROUP BY CMPGN_NO, CHNNL_NO;

----------------------------------------------------------------------------------------------------






SELECT
    'BH'                           AS GUBUN
    , A.CMPGN_NO                   AS CMPGN_NO
    , B.CHNNL_NO                   AS CHNNL_NO
    , C.POS_STR_CODE               AS POS_STR_CODE
    , C.STR_ID                     AS STR_ID
    , C.STR_NM                     AS STR_NM
    , ''                           AS CHNNL_DESC
    , TO_CHAR(D.CHNNL_RSV_SND_DTTM
        , 'YYYYMMDDHH24MISS')      AS CHNNL_RSV_DTTM
    , D.STR_RPLY_NO                AS BRNCH_RPLY_NO
    , TO_CHAR(CURRENT_DATE
        , 'YYYYMMDD')              AS TRNSFR_DTTM
    , D.RPLC_WRD_1                 AS RPLC_WRD_1
    , D.RPLC_WRD_2                 AS RPLC_WRD_2
    , D.RPLC_WRD_3                 AS RPLC_WRD_3
    , D.RPLC_WRD_4                 AS RPLC_WRD_4
    , D.RPLC_WRD_5                 AS RPLC_WRD_5
FROM
    CMSVIEW.CM_CMPGN_MST    A
    , CMSVIEW.CM_CMPGN_EXCT B
    , TCVM.STORE            C  /* 점포정보 table */
    , CMSVIEW.CM_CHNNL_SMS  D
WHERE 1=1
    AND A.CMPGN_NO = 'C20151016101700375'
    AND B.CMPGN_NO = A.CMPGN_NO
    AND B.CHNNL_TYP_CD = 'SMS'
    AND C.STR_ID = A.STR_ID
    AND D.CHNNL_NO = B.CHNNL_NO
;




SELECT
    'BD'                               AS GUBUN
    , B.CUST_ID                        AS CUST_ID
    , COUNT(C.RECPT_ID)                AS PUR_CNT
    , SUM(C.SALE_AMT - C.DISCNT_AMT)   AS PUR_AMT
FROM
    (
        SELECT /* TOP 100 */
            CUST_ID
        FROM
            CMSVIEW.CM_CMPGN_TRGT_CUST A
        WHERE 1=1
            AND A.CMPGN_NO = 'C20151014101700300'
            /* AND A.CHNNL_NO = 'SMS1017151014167' */
            AND A.CHNNL_TYP_CD = 'SMS'
    ) B
    , TSVM.F_D_RECPT_PROD C   /* 영수증 table */
    , TSVM.D_STORE D          /* 점포정보 table */
WHERE 1=1
    AND C.CUST_ID = B.CUST_ID
    AND C.SALE_DT BETWEEN (CURRENT_DATE - 30) AND CURRENT_DATE  /* 30일 안에 */
    AND D.STR_ID = C.STR_ID
    AND D.STR_FORMT_CD = '01'  /* TODO : ? */
GROUP BY
    B.CUST_ID
ORDER BY
    B.CUST_ID
;



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW.CM_CMPGN_MST       AS LOCKING TABLE CMSDATA.CM_CMPGN_MST       FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_MST   );
REPLACE VIEW CMSVIEW.CM_CMPGN_CHNNL     AS LOCKING TABLE CMSDATA.CM_CMPGN_CHNNL     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_CHNNL );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------

SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CMPGN_MST          ;
SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CMPGN_EXCT         ;
SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CMPGN_TRGT_CUST    ;

SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CHNNL_SMS          ;
SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CHNNL_LMS          ;
SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CHNNL_MMS          ;
SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CHNNL_BMS          ;
SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CHNNL_DM           ;
SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CHNNL_EML          ;
SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CHNNL_APR          ;
SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CHNNL_APT          ;
SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CHNNL_POS          ;

SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CHNNL_TST_GRP      ;
SELECT COUNT(*) FROM CMSVIEW_DEV.CM_CHNNL_TST_GRP_CUST ;

SELECT COUNT(*) FROM TCVM.STORE;

SELECT COUNT(*) FROM TSVM.F_D_RECPT_PROD;
SELECT COUNT(*) FROM TSVM.D_STORE;

----------------------------------------------------------------------------------------------------

SELECT * FROM CMSVIEW_DEV.CM_CMPGN_MST  ORDER BY CMPGN_NO DESC;
SELECT * FROM CMSVIEW_DEV.CM_CMPGN_EXCT ORDER BY CMPGN_NO DESC;
SELECT TOP 100 * FROM CMSVIEW_DEV.CM_CMPGN_TRGT_CUST WHERE CMPGN_NO LIKE 'C2015%' ORDER BY CMPGN_NO DESC  ;

SELECT * FROM CMSVIEW_DEV.CM_CUST_MST           ;

SELECT * FROM CMSVIEW_DEV.CM_CHNNL_SMS          ;
SELECT * FROM CMSVIEW_DEV.CM_CHNNL_LMS          ;
SELECT * FROM CMSVIEW_DEV.CM_CHNNL_MMS          ;
SELECT * FROM CMSVIEW_DEV.CM_CHNNL_BMS          ;
SELECT * FROM CMSVIEW_DEV.CM_CHNNL_DM           ;
SELECT * FROM CMSVIEW_DEV.CM_CHNNL_EML          ;
SELECT * FROM CMSVIEW_DEV.CM_CHNNL_APR          ;
SELECT * FROM CMSVIEW_DEV.CM_CHNNL_APT          ;
SELECT * FROM CMSVIEW_DEV.CM_CHNNL_POS          ;

SELECT * FROM CMSVIEW_DEV.CM_CHNNL_TST_GRP      ;
SELECT * FROM CMSVIEW_DEV.CM_CHNNL_TST_GRP_CUST ORDER BY TST_GRP_CD;

SELECT * FROM TCVM.STORE;

    SELECT
        A.STR_ID                      AS STR_ID
        , A.STR_NM                    AS STR_NM
        , A.POS_STR_CODE              AS POS_STR_CODE_ORG
        , DECODE(TRIM(A.POS_STR_CODE), NULL, '0000', '', '0000', A.POS_STR_CODE) AS POS_STR_CODE
    FROM
        TCVM.STORE A
    WHERE 1=1
    ORDER BY
        A.STR_ID
    ;

SELECT TOP 10 * FROM TSVM.F_D_RECPT_PROD;
SELECT * FROM TSVM.D_STORE;

SELECT CMPGN_NO, CHNNL_NO, COUNT(*) FROM CMSVIEW_DEV.CM_CMPGN_TRGT_CUST GROUP BY CMPGN_NO, CHNNL_NO;

----------------------------------------------------------------------------------------------------

        SELECT /* TOP 100 */
            A.CMPGN_NO
            , COUNT(*)
        FROM
            CMSVIEW_DEV.CM_CMPGN_TRGT_CUST A
        WHERE 1=1
            AND A.CMPGN_NO = 'C20151014101700300'
            --AND A.CMPGN_NO LIKE 'C201510%'
            /* AND A.CHNNL_NO = 'SMS1017151014167' */
            AND A.CHNNL_TYP_CD = 'SMS'
        GROUP BY
            A.CMPGN_NO
        ;

        SELECT /* TOP 100 */
            A.CMPGN_NO
            , A.CUST_ID
        FROM
            CMSVIEW_DEV.CM_CMPGN_TRGT_CUST A
        WHERE 1=1
            AND A.CMPGN_NO = 'C20151014101700300'
            --AND A.CMPGN_NO LIKE 'C201510%'
            /* AND A.CHNNL_NO = 'SMS1017151014167' */
            AND A.CHNNL_TYP_CD = 'SMS'
        ORDER BY
            A.CMPGN_NO
            , A.CUST_ID


----------------------------------------------------------------------------------------------------

/* 채널번호에 대한 캠페인번호를 얻는다. */


            SELECT  /* HH14065I.listCmpgnNoFromChnnlNo : TOP 1 */
                A.CMPGN_NO         AS CMPGN_NO
                , A.CHNNL_NO       AS CHNNL_NO
            FROM
                CMSVIEW_DEV.CM_CMPGN_EXCT A
            WHERE 1=1
                --AND A.CHNNL_NO = 'SMS0000151104239'
                AND A.CMPGN_NO IN (''
                    ,'C20151012101711121'
                    ,'C20151018101711122'
                    ,'C20151001101711119'
                    ,'C20151014101700300'
                    )
            ;





/* SMS 배치 HEADER */
SELECT
    'BH'                           AS GUBUN
    , A.CMPGN_NO                   AS CMPGN_NO
    , B.CHNNL_NO                   AS CHNNL_NO
    , DECODE(TRIM(C.POS_STR_CODE), NULL, '0000', '', '0000', C.POS_STR_CODE) AS POS_STR_CODE
    , C.STR_ID                     AS STR_ID
    , C.STR_NM                     AS STR_NM
    , ''                           AS CHNNL_DESC
    , TO_CHAR(D.CHNNL_RSV_SND_DTTM
        , 'YYYYMMDDHH24MISS')      AS CHNNL_RSV_DTTM
    , D.STR_RPLY_NO                AS BRNCH_RPLY_NO
    , TO_CHAR(CURRENT_DATE
        , 'YYYYMMDD')              AS TRNSFR_DTTM
    , D.RPLC_WRD_1                 AS RPLC_WRD_1
    , D.RPLC_WRD_2                 AS RPLC_WRD_2
    , D.RPLC_WRD_3                 AS RPLC_WRD_3
    , D.RPLC_WRD_4                 AS RPLC_WRD_4
    , D.RPLC_WRD_5                 AS RPLC_WRD_5
FROM
    CMSVIEW_DEV.CM_CMPGN_MST    A
    , CMSVIEW_DEV.CM_CMPGN_EXCT B
    , TCVM.STORE            C  /* 점포정보 table */
    , CMSVIEW_DEV.CM_CHNNL_SMS  D
WHERE 1=1
    -- AND A.CMPGN_NO = 'C20151016101700375'
    AND A.CMPGN_NO LIKE 'C20151104%'
    AND B.CMPGN_NO = A.CMPGN_NO
    AND B.CHNNL_TYP_CD = 'SMS'
    AND C.STR_ID = A.STR_ID
    AND D.CHNNL_NO = B.CHNNL_NO
;



/* SMS 배치 BODY 타겟고객 */
SELECT
    'BD'                               AS GUBUN
    , B.CUST_ID                        AS CUST_ID
    , COUNT(C.RECPT_ID)                AS PUR_CNT
    , SUM(C.SALE_AMT - C.DISCNT_AMT)   AS PUR_AMT
FROM
    (
        SELECT /* TOP 100 */
            A.CMPGN_NO
            , A.CUST_ID
        FROM
            CMSVIEW_DEV.CM_CMPGN_TRGT_CUST A
        WHERE 1=1
            AND A.CMPGN_NO = 'C20151014101700300'
            /* AND A.CMPGN_NO LIKE 'C201510%' */
            /* AND A.CHNNL_NO = 'SMS1017151014167' */
            AND A.CHNNL_TYP_CD = 'SMS'
        /*ORDER BY
            A.CMPGN_NO
            , A.CUST_ID */
    ) B
    , TSVM.F_D_RECPT_PROD C   /* 영수증 table */
    , TSVM.D_STORE D          /* 점포정보 table */
WHERE 1=1
    AND C.CUST_ID = B.CUST_ID
    AND C.SALE_DT BETWEEN (CURRENT_DATE - 30) AND CURRENT_DATE  /* 30일 안에 */
    AND D.STR_ID = C.STR_ID
    AND D.STR_FORMT_CD = '01'  /* TODO : ? */
GROUP BY
    B.CUST_ID
ORDER BY
    B.CUST_ID
;


-- UPDATE CMSDATA.CM_CMPGN_EXCT SET TST_GRP_CD = '00010' WHERE CMPGN_NO = 'C20151014101700300';
-- UPDATE CMSDATA.CM_CHNNL_TST_GRP_CUST SET CUST_ID='C78751126', EMPLY_NO='112644'  WHERE TST_GRP_CD = '00010' AND CHNNL_TYP_CD = 'SMS'
-- UPDATE CMSDATA.CM_CHNNL_TST_GRP_CUST SET TESTER_NAME='강수영매니져', EMPLY_NO='112644'  WHERE TST_GRP_CD = '00010' AND CHNNL_TYP_CD = 'SMS'



/* SMS 배치 BODY 테스트그룹 고객 */
SELECT
    'BD'                               AS GUBUN
    , D.CUST_ID                        AS CUST_ID
    , CAST(COUNT(C.RECPT_ID) AS VARCHAR(20))                                 AS PUR_CNT
    , CAST(CAST(SUM(C.SALE_AMT - C.DISCNT_AMT) AS INTEGER) AS VARCHAR(20))   AS PUR_AMT
FROM
    (
        SELECT
            A.CMPGN_NO
            , A.CHNNL_NO
            , A.CHNNL_TYP_CD
            , A.TST_GRP_CD
            , B.TST_GRP_NM
            , C.CUST_ID
            , C.EMPLY_NO
            , C.TESTER_NAME
        FROM
            CMSVIEW_DEV.CM_CMPGN_EXCT           A
            , CMSVIEW_DEV.CM_CHNNL_TST_GRP      B
            , CMSVIEW_DEV.CM_CHNNL_TST_GRP_CUST C
        WHERE 1=1
            AND A.CMPGN_NO = 'C20151014101700300'
            AND A.CHNNL_TYP_CD = 'SMS'
            AND B.TST_GRP_CD = A.TST_GRP_CD
            AND C.TST_GRP_CD = A.TST_GRP_CD
            AND C.CHNNL_TYP_CD = A.CHNNL_TYP_CD
    ) D
    , TSVM.F_D_RECPT_PROD  E   /* 영수증 table */
    , TSVM.D_STORE         F   /* 점포정보 table */
WHERE 1=1
    AND E.CUST_ID = D.CUST_ID
    AND E.SALE_DT BETWEEN (CURRENT_DATE - 30) AND CURRENT_DATE  /* 30일 안에 */
    AND F.STR_ID = E.STR_ID
    AND F.STR_FORMT_CD = '01'  /* TODO : ? */
GROUP BY
    D.CUST_ID
ORDER BY
    D.CUST_ID
;

----------------------------------------------------------------------------------------------------


            SELECT    TOP 5 /* hh14065I.listPmsBody */
                'BD'                               AS GUBUN
                , B.CUST_ID                        AS CUST_ID
                , CAST(COUNT(C.RECPT_ID)              AS VARCHAR(20))   AS PUR_CNT
                , CAST(CAST(SUM(C.SALE_AMT - C.DISCNT_AMT) AS INTEGER) AS VARCHAR(20))   AS PUR_AMT
            FROM
                (
                    SELECT /* TOP 100 */
                        A.CMPGN_NO
                        , A.CUST_ID
                    FROM
                        CMSVIEW_DEV.CM_CMPGN_TRGT_CUST A
                    WHERE 1=1
                        AND A.CMPGN_NO = 'C20151014101700300'
                        /* AND A.CMPGN_NO LIKE 'C201510%' */
                        /* AND A.CHNNL_NO = 'SMS1017151014167' */
                        AND A.CHNNL_TYP_CD = 'SMS'
                    /*ORDER BY
                        A.CMPGN_NO
                        , A.CUST_ID */
                ) B
                , TSVM.F_D_RECPT_PROD C   /* 영수증 table */
                , TSVM.D_STORE D          /* 점포정보 table */
            WHERE 1=1
                AND C.CUST_ID = B.CUST_ID
                AND C.SALE_DT BETWEEN (CURRENT_DATE - 30) AND CURRENT_DATE  /* 30일 안에 */
                AND D.STR_ID = C.STR_ID
                AND D.STR_FORMT_CD = '01'  /* TODO : ? */
            GROUP BY
                B.CUST_ID
            ORDER BY
                B.CUST_ID


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


select * from cmsview.cm_cmpgn_mst where cmpgn_no = 'C20151014101700300';

show table cm_cmpgn_mst;

show view cm_cmpgn_mst;

REPLACE VIEW CMSVIEW.CM_CMPGN_MST       AS LOCKING TABLE CMSDATA.CM_CMPGN_MST       FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_MST   );

show table cm_cmpgn_trgt_chc;

select count(*) from cm_cmpgn_trgt_chc;

--drop table cm_cmpgn_trgt_chc;

--CREATE SET TABLE CMSDATA.cm_cmpgn_trgt_chc ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      TRGT_CNDTN_CD VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건코드' NOT NULL,
      SEQ_NO DECIMAL(18,0) TITLE '일련번호' NOT NULL,
      MLT_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '멀티여부',
      EXCPT_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제외여부',
      CNDTN_CHC_MTHD_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '조건선택방법코드',
      DB_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '데이터베이스명',
      TBL_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테이블명',
      CLMN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '컬럼명',
      TRGT_CHC_VL1 VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택값1',
      TRGT_CHC_VL2 VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택값2',
      TRGT_CHC_VL3 VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택값3',
      TRGT_CHC_VL4 VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택값4',
      TRGT_CHC_VL5 VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택값5',
      TRGT_CHC_NM1 VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택이름1',
      TRGT_CHC_NM2 VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택이름2',
      TRGT_CHC_NM3 VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택이름3',
      TRGT_CHC_NM4 VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택이름4',
      TRGT_CHC_NM5 VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택이름5',
      TRGT_CHC_GRP_NM VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건그룹명',
      LGC_OPRTR_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '논리연산자구분코드',
      CMPRSN_OPRTR_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '비교연산자구분코드',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,TRGT_CNDTN_CD ,SEQ_NO );


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

sshpass -p saspw94\!\@ scp sas@matcmsmine01:/sas/sasv94/config/Lev1/Web/WebAppServer.tar /sas/sasv94/config/Lev1/Web

sshpass -p saspw94\!\@ scp sas@matcmsmine01:/sas/sasv94/config/Lev1/Web/WebAppServer.tar /sas/sasv94/config/Lev1/Web

----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW.CM_CMPGN_TRGT_CHC       AS LOCKING TABLE CMSDATA.CM_CMPGN_TRGT_CHC       FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_TRGT_CHC   );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

http://174.100.67.38:8080/SASEMARTCMS

http://174.100.67.38:8080/SASAdmin/AdminHome.do



http://174.100.67.26:8343/SASAdmin/AdminHome.do

http://174.100.67.26:8343/SASAdmin/AdminHome.do


http://174.100.67.38:8080/SASEMARTCMS/common/FF12060W.do

http://174.100.67.38:8080/SASEMARTCMS/branch/AA01001W.do?method=page






----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

DROP TABLE CM_OFFR_ACHIVE_COMPRSM_SMM;



DROP TABLE CM_CTGRY_ACHIVE_COMPRSM_SMM;



DROP TABLE CM_CHNNL_ACHIVE_COMPRSM_SMM;





CREATE  TABLE CM_CHNNL_ACHIVE_COMPRSM_SMM
(

    STR_ID               VARCHAR(20) NOT NULL
        TITLE '점포아이디',
    CHNNL_NM             VARCHAR(100) NOT NULL
        TITLE '채널명',
    CMPGN_NO             VARCHAR(20) NULL
        TITLE '캠페인번호',
    CMPGN_NM             VARCHAR(100) NULL
        TITLE '캠페인명',
    CMPGN_STRT_DT        DATE NULL
        TITLE '캠페인시작일자',
    CMPGN_END_DT         DATE NULL
        TITLE '캠페인종료일자',
    EVNT_DAY_CNT         NUMERIC(8) NULL
        TITLE '캠페인행사일수',
    SCCSS_CNDTN_CD       VARCHAR(5) NULL
        TITLE '성공조건코드',
    CHNNL_SND_DT         DATE NULL
        TITLE '채널발송일자',
    CHNNL_SND_CNT        NUMERIC(8) NULL
        TITLE '채널발송고객수',
    CHNNL_SCSS_RTO       DECIMAL(18,2) NULL
        TITLE '채널발송성공율',
    PRCHSE_CUST_CNT      NUMERIC(8) NULL
        TITLE '구매현황구매고객수',
    PRCHSE_CUST_RTO      DECIMAL(18,2) NULL
        TITLE '구매현황구매고객율',
    PRCHSE_SLS_AMT       DECIMAL(18,2) NULL
        TITLE '구매현황매출금액',
    PRCHSE_STT_CTMTRNS   DECIMAL(18,2) NULL
        TITLE '구매현황객단가',
    SCCSS_CUST_CNT       NUMERIC(8) NULL
        TITLE '성공현황성공고객수',
    SCCSS_RTO            DECIMAL(18,2) NULL
        TITLE '성공현황성공율',
    SCCSS_SLS_AMT        DECIMAL(18,2) NULL
        TITLE '성공현황구매매출금액',
    SCCSS_STT_CTMTRNS    DECIMAL(18,2) NULL
        TITLE '성공현황객단가',
    EFFCT_ADD_RSPNS_RTO  DECIMAL(18,2) NULL
        TITLE '효과측정추가반응율',
    EFFCT_ADD_SLS_AMT    DECIMAL(18,2) NULL
        TITLE '효과측정추가매출금액',
    EFFCT_EXP            DECIMAL(18,2) NULL
        TITLE '효과측정비용',
    EFFCT_ROI            DECIMAL(18,2) NULL
        TITLE '효과측정ROI',
    EFFCT_YN             CHAR(1) NULL
        TITLE '효과측정효과여부',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시'
)
UNIQUE PRIMARY INDEX (
        CHNNL_NM,
        STR_ID
);






CREATE  TABLE CM_CTGRY_ACHIVE_COMPRSM_SMM
(

    STR_ID               VARCHAR(20) NOT NULL
        TITLE '점포아이디',
    CMPGN_CTGRY_CD       VARCHAR(5) NOT NULL
        TITLE '캠페인분류코드',
    CMPGN_CTGRY_SB_CD    VARCHAR(5) NOT NULL
        TITLE '캠페인상세분류코드',
    CHNNL_NM             VARCHAR(100) NOT NULL
        TITLE '채널명',
    CMPGN_NO             VARCHAR(20) NULL
        TITLE '캠페인번호',
    CMPGN_NM             VARCHAR(100) NULL
        TITLE '캠페인명',
    CMPGN_STRT_DT        DATE NULL
        TITLE '캠페인시작일자',
    CMPGN_END_DT         DATE NULL
        TITLE '캠페인종료일자',
    EVNT_DAY_CNT         NUMERIC(8) NULL
        TITLE '캠페인행사일수',
    SCCSS_CNDTN_CD       VARCHAR(20) NULL
        TITLE '캠페인성공조건코드',
    CHNNL_SND_DT         DATE NULL
        TITLE '채널발송일자',
    CHNNL_SND_CNT        NUMERIC(8) NULL
        TITLE '채널발송고객수',
    CHNNL_SCSS_RTO       DECIMAL(18,2) NULL
        TITLE '채널발송성공율',
    PRCHSE_CUST_CNT      NUMERIC(8) NULL
        TITLE '구매현황구매고객수',
    CMPGN_OFFR_CD        VARCHAR(5) NULL
        TITLE '캠페인오퍼코드',
    PRCHSE_CUST_RTO      DECIMAL(18,2) NULL
        TITLE '구매현황구매고객율',
    PRCHSE_SLS_AMT       DECIMAL(18,2) NULL
        TITLE '구매현황매출금액',
    PRCHSE_STT_CTMTRNS   DECIMAL(18,2) NULL
        TITLE '구매현황객단가',
    SCCSS_CUST_CNT       NUMERIC(8) NULL
        TITLE '성공현황성공고객수',
    SCCSS_RTO            DECIMAL(18,2) NULL
        TITLE '성공현황성공율',
    SCCSS_SLS_AMT        DECIMAL(18,2) NULL
        TITLE '성공현황구매매출금액',
    SCCSS_STT_CTMTRNS    DECIMAL(18,2) NULL
        TITLE '성공현황객단가',
    EFFCT_ADD_RSPNS_RTO  DECIMAL(18,2) NULL
        TITLE '효과측정추가반응율',
    EFFCT_ADD_SLS_AMT    DECIMAL(18,2) NULL
        TITLE '효과측정추가매출금액',
    EFFCT_EXP            DECIMAL(18,2) NULL
        TITLE '효과측정비용',
    EFFCT_ROI            DECIMAL(18,2) NULL
        TITLE '효과측정ROI',
    EFFCT_YN             CHAR(1) NULL
        TITLE '효과측정효과여부',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시'
)
UNIQUE PRIMARY INDEX (
        CMPGN_CTGRY_CD,
        CMPGN_CTGRY_SB_CD,
        STR_ID
);





CREATE  TABLE CM_OFFR_ACHIVE_COMPRSM_SMM
(

    STR_ID               VARCHAR(20) NOT NULL
        TITLE '점포아이디',
    CMPGN_OFFR_CD        VARCHAR(5) NOT NULL
        TITLE '캠페인오퍼코드',
    CMPGN_NO             VARCHAR(20) NULL
        TITLE '캠페인번호',
    CMPGN_NM             VARCHAR(100) NULL
        TITLE '캠페인명',
    CMPGN_STRT_DT        DATE NULL
        TITLE '캠페인시작일자',
    CMPGN_END_DT         DATE NULL
        TITLE '캠페인종료일자',
    EVNT_DAY_CNT         NUMERIC(8) NULL
        TITLE '캠페인행사일수',
    SCCSS_CNDTN_CD       VARCHAR(5) NULL
        TITLE '캠페인성공조건코드',
    PRCHSE_CUST_CNT      NUMERIC(8) NULL
        TITLE '구매현황구매고객수',
    PRCHSE_CUST_RTO      DECIMAL(18,2) NULL
        TITLE '구매현황구매고객율',
    PRCHSE_SLS_AMT       DECIMAL(18,2) NULL
        TITLE '구매현황매출금액',
    PRCHSE_STT_CTMTRNS   DECIMAL(18,2) NULL
        TITLE '구매현황객단가',
    SCCSS_CUST_CNT       NUMERIC(8) NULL
        TITLE '성공현황성공고객수',
    SCCSS_RTO            DECIMAL(18,2) NULL
        TITLE '성공현황성공율',
    SCCSS_SLS_AMT        DECIMAL(18,2) NULL
        TITLE '성공현황구매매출금액',
    SCCSS_STT_CTMTRNS    DECIMAL(18,2) NULL
        TITLE '성공현황객단가',
    EFFCT_ADD_RSPNS_RTO  DECIMAL(18,2) NULL
        TITLE '효과측정추가반응율',
    EFFCT_ADD_SLS_AMT    DECIMAL(18,2) NULL
        TITLE '효과측정추가매출금액',
    EFFCT_EXP            DECIMAL(18,2) NULL
        TITLE '효과측정비용',
    EFFCT_ROI            DECIMAL(18,2) NULL
        TITLE '효과측정ROI',
    EFFCT_YN             CHAR(1) NULL
        TITLE '효과측정효과여부',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시'
)
UNIQUE PRIMARY INDEX (
        STR_ID,
        CMPGN_OFFR_CD
);





REPLACE VIEW CMSVIEW.CM_OFFR_ACHIVE_COMPRSM_SMM    AS LOCKING TABLE CMSDATA.CM_OFFR_ACHIVE_COMPRSM_SMM     FOR ACCESS (SELECT * FROM CMSDATA.CM_OFFR_ACHIVE_COMPRSM_SMM   );
REPLACE VIEW CMSVIEW.CM_CTGRY_ACHIVE_COMPRSM_SMM   AS LOCKING TABLE CMSDATA.CM_CTGRY_ACHIVE_COMPRSM_SMM    FOR ACCESS (SELECT * FROM CMSDATA.CM_CTGRY_ACHIVE_COMPRSM_SMM  );
REPLACE VIEW CMSVIEW.CM_CHNNL_ACHIVE_COMPRSM_SMM   AS LOCKING TABLE CMSDATA.CM_CHNNL_ACHIVE_COMPRSM_SMM    FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_ACHIVE_COMPRSM_SMM  );


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------




http://localhost:8080/SASEMARTCMS/



http://localhost:8080/SASEMARTCMS/branch/BB02006S.do?method=page&cmpgn_no=C20151019101700053



http://localhost:8080/SASEMARTCMS/branch/BB02012S.do?method=selectSimulation&cmpgn_no=C20151019101700056&chnnl_typ_nm=SMS&chnnl_typ_nm=APR&APR_rsv_snd_dttm=2015-10-19+10%3A30&SMS_rsv_snd_dttm=2015-10-19+12%3A00


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

<%@page import="com.sas.iom.SAS.IWorkspaceHelper                                "%>
<%@page import="com.sas.services.connection.BridgeServer                        "%>
<%@page import="com.sas.services.connection.ConnectionFactoryAdminInterface     "%>
<%@page import="com.sas.services.connection.ConnectionFactoryConfiguration      "%>
<%@page import="com.sas.services.connection.ConnectionFactoryInterface          "%>
<%@page import="com.sas.services.connection.ConnectionFactoryManager            "%>
<%@page import="com.sas.services.connection.ConnectionInterface                 "%>
<%@page import="com.sas.services.connection.ManualConnectionFactoryConfiguration"%>
<%@page import="com.sas.services.connection.Server                              "%>
<%@page import="com.sas.iom.SAS.ILanguageService"%>
<%@page import="com.sas.iom.SAS.ILanguageServicePackage.CarriageControlSeqHolder"%>
<%@page import="com.sas.iom.SAS.ILanguageServicePackage.LineTypeSeqHolder"%>
<%@page import="com.sas.iom.SAS.IWorkspace"%>
<%@page import="com.sas.iom.SASIOMDefs.StringSeqHolder"%>

<%@page import="com.sas.iom.SAS.IDataService"%>
<%@page import="java.sql.Connection"%>
<%@page import="java.sql.ResultSet"%>
<%@page import="java.sql.SQLException"%>
<%@page import="java.sql.Statement"%>
<%@page import="java.util.Properties"%>
<%@page import="com.sas.rio.MVAConnection"%>
<%@page import="SCSL.*"%>

<%@ page import="com.sas.services.session.SessionContextInterface"%>

<%

String valueNames[];

if ( session != null )
   valueNames = session.getValueNames();
else
   valueNames = null;

   out.println( valueNames.length );

if ( valueNames != null && valueNames.length != 0 ) {
   out.println( "<H1>Recommendations</H1>" );

   for ( int i = 0; i < valueNames.length; i++ ) {
      String value =
         (String) session.getValue( valueNames[ i ] );

      out.println(
         valueNames[ i ] + " How to Program. " +
         "ISBN#: " + value + "<BR>" );
   }
}
else {
   out.println( "<H1>No Recommendations</H1>" );
}





        String srcFile,dstFile;

        srcFile="/sas/softcamp/03_Sample/test_Enc.txt";
        dstFile="/sas/softcamp/03_Sample/test_Dec_1.txt";

        SLDsFile sFile = new SLDsFile();

        sFile.SettingPathForProperty("/sas/softcamp/02_Module/02_ServiceLinker/softcamp.properties");

        int GradeDACCreateDecryptFileDAC = sFile.CreateDecryptFileDAC (
        "/sas/softcamp/04_KeyFile/keyDAC_SVR0.sc",
        "SECURITYDOMAIN",
        srcFile,
        dstFile);
//      System.out.println( " GradeDACCreateDecryptFileDAC [" + GradeDACCreateDecryptFileDAC + "]");
        out.println( " GradeDACCreateDecryptFileDAC [" + GradeDACCreateDecryptFileDAC + "]");





// identify the IOM server, userid, password
String classID = Server.CLSID_SAS;
String host = "matcmsma01";
int port = 8591;
String userName = "sasdemo";
String password = "saspw94!@";

//String var1 = "William";

Server server = new BridgeServer(classID,host,port);

// make a connection factory configuration with the server
ConnectionFactoryConfiguration cxfConfig =
   new ManualConnectionFactoryConfiguration(server);

// get a connection factory manager
ConnectionFactoryManager cxfManager = new ConnectionFactoryManager();

// get a connection factory that matches the configuration
ConnectionFactoryInterface cxf = cxfManager.getFactory(cxfConfig);

// get the administrator interface
ConnectionFactoryAdminInterface admin = cxf.getAdminInterface();

// get a connection
ConnectionInterface cx = cxf.getConnection(userName,password);
org.omg.CORBA.Object obj = cx.getObject();
IWorkspace iWorkspace = IWorkspaceHelper.narrow(obj);

//use the Connection Factory to get a reference to a workspace object stub
//IWorkspace iWorkspace = ...
ILanguageService sasLanguage = iWorkspace.LanguageService();

      String cmd = " Proc sql; select name, age from sashelp.class; quit; ";
      sasLanguage.Submit(cmd);






/////////////////////////////////////////  아래를 분석하여 소스에 적용할 것 ////////////////////////////
      String logstring = "",
             retstr = null,
             outstring = "";

CarriageControlSeqHolder logCarriageControlHldr = new CarriageControlSeqHolder();
LineTypeSeqHolder logLineTypeHldr = new LineTypeSeqHolder();
StringSeqHolder logHldr = new StringSeqHolder();
sasLanguage.FlushLogLines(Integer.MAX_VALUE,logCarriageControlHldr, logLineTypeHldr,logHldr);
String[] logLines = logHldr.value;
CarriageControlSeqHolder listCarriageControlHldr = new CarriageControlSeqHolder();
LineTypeSeqHolder listLineTypeHldr = new LineTypeSeqHolder();
StringSeqHolder listHldr = new StringSeqHolder();
sasLanguage.FlushListLines(Integer.MAX_VALUE,listCarriageControlHldr, listLineTypeHldr,listHldr);
String[] listLines = listHldr.value;
///////////////////////////////////////////////////////////////////////////////////////////////////////




             for (int i = 0; i < logLines.length; ++i) {
                   // System.out.println(logLines[i]);
                   logstring = logstring + logLines[i] + "\n";
             }

             outstring = "";
             for (int i = 0; i < listLines.length & i < 1000; ++i) {
                 // System.out.println(listLines[i]);
                 outstring = outstring + listLines[i] + "\n";
                 out.println( "<br>" + listLines[i] + "\n" );

             }

//out.println( "logstring =====================<br>" + logstring + "<br>===================<br>");
//out.println( "outstring =====================<br>" + outstring + "<br>===================");
             if ( outstring != "" ) /* & showOutput Nur wenn es Out gibtund showLog=false */
             {
                retstr = outstring;
             }
        //////////////////////////////////////////////////////////////

out.println( "<br> ====================  SASHELP.AIR   ==================== <br>");

        cmd = " data tmp; set sashelp.air; run; ";
        sasLanguage.Submit(cmd);

        //////////////////////////////////////////////////////////////
        IDataService rio = iWorkspace.DataService();
        Connection sqlConnection = new MVAConnection(rio,new Properties());

        Statement stmt = sqlConnection.createStatement();
        ResultSet rs = stmt.executeQuery("SELECT * from tmp");

        int columnCount = rs.getMetaData().getColumnCount();

        for (int i = 1; i <= columnCount; i++) {
            String strCol=rs.getMetaData().getColumnName(i);
            out.print(strCol + " - ");
        }

        out.println("<br>");

        while (rs.next()) {
            for (int i = 1; i <= columnCount; i++) {
                String strData = rs.getString(i);
                out.print(strData+" | ");
            }
        out.println("<br>");
        }
        //////////////////////////////////////////////////////////////

cx.close();

// tell the factory that it can destroy unused connections
admin.shutdown();

>

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

/*
 *  [ JAVA SSL PKIX path building failed 오류시 ]
 *
 *
 *  JSSE(Java Secure Socket Extension, J2SE 1.4 이후 버전에는 JSSE가 포함되어 있다.)를 이용하여
 *  SSL 연결을 시도할 때 아래와 같은 exception이 발생할 수 있다. 공인 인증기관에서 받은 인증서가
 *  아닌 개인 인증서를 사용하는 경우 많이 발생할 수 있다.
 *
 *  javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path
 *  building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find
 *  valid certification path to requested target
 *
 *  그렇다면 어떻게 해야 하느냐?? 여러 가지 방법이 있지만, 간단한 방법은 서버의 인증서를 신뢰할
 *  수 있는 인증서 목록(KeyStore)에 추가하면 된다. 인증서를 추가하려면 우선 인증서를 받아야겠다.
 *  인증서는 첨부된 파일(installcert.java)을 받아서 컴파일하고 실행하면 된다. 실행시키면 아래와
 *  같은 화면이 나타날 것이다. "ecc.fedora.redhat.com" 부분에 인증서를 원하는 서버의 ip와 port를
 *  써주면 된다.
 *
 *          관련 소스 : installcert.java
 *
 *      % java InstallCert ecc.fedora.redhat.com
 *      Loading KeyStore C:\Program Files\Java\jre1.5.0_08\lib\security\cacerts...
 *      Opening connection to ecc.fedora.redhat.com:443...
 *      Starting SSL handshake...
 *
 *      javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX
 *          path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable
 *          to find valid certification path to requested target
 *      at com.sun.net.ssl.internal.ssl.Alerts.getSSLException(Alerts.java:150)
 *      at com.sun.net.ssl.internal.ssl.SSLSocketImpl.fatal(SSLSocketImpl.java:1476)
 *      at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:174)
 *      at com.sun.net.ssl.internal.ssl.Handshaker.fatalSE(Handshaker.java:168)
 *      at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:846)
 *      at com.sun.net.ssl.internal.ssl.ClientHandshaker.processMessage(ClientHandshaker.java:106)
 *      at com.sun.net.ssl.internal.ssl.Handshaker.processLoop(Handshaker.java:495)
 *      at com.sun.net.ssl.internal.ssl.Handshaker.process_record(Handshaker.java:433)
 *      at com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:815)
 *      at com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1025)
 *      at com.sun.net.ssl.internal.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1038)
 *      at InstallCert.main(InstallCert.java:63)
 *      Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.
 *          provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
 *      at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:221)
 *      at sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:145)
 *      at sun.security.validator.Validator.validate(Validator.java:203)
 *      at com.sun.net.ssl.internal.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:172)
 *      at InstallCert$SavingTrustManager.checkServerTrusted(InstallCert.java:158)
 *      at com.sun.net.ssl.internal.ssl.JsseX509TrustManager.checkServerTrusted(SSLContextImpl.java:320)
 *      at com.sun.net.ssl.internal.ssl.ClientHandshaker.serverCertificate(ClientHandshaker.java:839)
 *      ... 7 more
 *      Caused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
 *      at sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:236)
 *      at java.security.cert.CertPathBuilder.build(CertPathBuilder.java:194)
 *      at sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:216)
 *      ... 13 more
 *
 *      Server sent 2 certificate(s):
 *
 *      1 Subject CN=ecc.fedora.redhat.com, O=example.com, C=US
 *      Issuer CN=Certificate Shack, O=example.com, C=US
 *      sha1 2e 7f 76 9b 52 91 09 2e 5d 8f 6b 61 39 2d 5e 06 e4 d8 e9 c7
 *      md5 dd d1 a8 03 d7 6c 4b 11 a7 3d 74 28 89 d0 67 54
 *
 *      2 Subject CN=Certificate Shack, O=example.com, C=US
 *      Issuer CN=Certificate Shack, O=example.com, C=US
 *      sha1 fb 58 a7 03 c4 4e 3b 0e e3 2c 40 2f 87 64 13 4d df e1 a1 a6
 *      md5 72 a0 95 43 7e 41 88 18 ae 2f 6d 98 01 2c 89 68
 *
 *      Enter certificate to add to trusted keystore or 'q' to quit: [1]
 *
 *  실행시키면 SSL handshake가 일어난다. 화면에는 exception 부분도 출력된다. exception이 출력되는
 *  이유는 서버에서 사용하는 인증서가 없기 때문에 SSL 연결을 성공할 수 없기 때문이다. 자, 인증서를
 *  받자. 그리고 화면에는 trusted KeyStore에 인증서를 추가할 것인지 묻고 있다. sha1과 md5를 확인해서
 *  올바른 인증서인지 확인한 다음, 올바른 인증서인 경우 "1"을 입력해서 인증서를 받으면 되고,
 *  받고 싶지 않은 경우는 "q"를 입력해서 프로그램을 종료시키면 된다. 인증서를 받게 되면 아래와
 *  같은 화면이 출력되고, "jssecacerts" 파일로 인증서가 저장된다.
 *
 *      [
 *      [
 *      Version: V3
 *      Subject: CN=ecc.fedora.redhat.com, O=example.com, C=US
 *      Signature Algorithm: MD5withRSA, OID = 1.2.840.113549.1.1.4
 *
 *      Key: SunPKCS11-Solaris RSA public key, 1024 bits (id 5158256, session object)
 *      modulus: 1402933022884660852748661816869706021655226675890
 *      635441166580364941191074987345500771612454338502131694873337
 *      233737712894815966313948609351561047977102880577818156814678
 *      041303637255354084762814638611185951230474669455913908815827
 *      173696651397340074281578017567044868711049821409365743953199
 *      69584127568303024757
 *      public exponent: 65537
 *      Validity: [From: Wed Jan 18 13:16:12 PST 2006,
 *      To: Wed Apr 18 14:16:12 PDT 2007]
 *      Issuer: CN=Certificate Shack, O=example.com, C=US
 *      SerialNumber: [ 0f]
 *
 *      Certificate Extensions: 2
 *      [1]: ObjectId: 2.16.840.1.113730.1.1 Criticality=false
 *      NetscapeCertType [
 *      SSL server
 *      ]
 *
 *      [2]: ObjectId: 2.5.29.15 Criticality=false
 *      KeyUsage [
 *      Key_Encipherment
 *      ]
 *
 *      ]
 *      Algorithm: [MD5withRSA]
 *      Signature:
 *      0000: 6D F4 2A 63 76 2A 05 70 A2 21 0E 1E 4A 31 BE 6B m.*cv*.p.!..J1.k
 *      0010: 15 64 D8 BB 35 36 82 B0 0D 2A 96 FA 7A 9F A1 59 .d..56...*..z..Y
 *      0020: CA 90 C3 28 C5 A6 9B 59 05 3B EB B2 8D C9 5E 38 ...(...Y.;....^8
 *      0030: 62 ED 1A D7 93 DF 2A A5 D6 54 94 23 15 A2 0C E5 b.....*..T.#....
 *      0040: 13 40 2C 3E 59 E4 2A EB 51 AC 9E 28 44 23 87 B1 .@,>Y.*.Q..(D#..
 *      0050: 34 0B AC F3 E0 39 CA B8 35 B4 78 07 BF 28 4C C4 4....9..5.x..(L.
 *      0060: 9A 2B A3 E9 04 26 78 19 F0 62 EA 0A B5 BB DC 0B .+...&x..b......
 *      0070: 90 59 E7 77 90 F8 BC 8A 1B 74 4B 4D C1 F8 3B 6C .Y.w.....tKM..;l
 *
 *      ]
 *
 *      Added certificate to keystore 'jssecacerts' using alias 'ecc.fedora.redhat.com-1'
 *
 *  이제 이 인증서를 어떻게 사용할까?? 여기에도 몇 가지 방법이 있다. 가장 간단한 방법은
 *  "$JAVA_HOME/jre/lib/security" 폴더에 받은 인증서 파일을 복사하는 방법이다. (이 경우는
 *  파일명을 변경하면 인증서를 찾지 못 한다. 원인은 아직까지는 잘 모르겠다. 본인은
 *  이 방법 대신 다음 방법을 사용한다.)
 *  그리고 다른 방법은 인증서를 원하는 위치로 옮기고 (이 경우는 파일명을 변경해도 상관 없다.)
 *  SSL 연결이 필요한 java 명령을 실행할 때, VM 옵션으로 "-Djavax.net.ssl.trustStore=인증서의
 *  경로(인증서 파일명 포함)"를 추가해주면 된다. 다시 첨부 파일을 실행시켰을 때, 아까와는
 *  다른 아래와 같은 화면이 출력되면 성공이다.
 *
 *      % java InstallCert ecc.fedora.redhat.com
 *      Loading KeyStore jssecacerts...
 *      Opening connection to ecc.fedora.redhat.com:443...
 *      Starting SSL handshake...
 *
 *      No errors, certificate is already trusted
 *
 *      Server sent 2 certificate(s):
 *
 *      1 Subject CN=ecc.fedora.redhat.com, O=example.com, C=US
 *      Issuer CN=Certificate Shack, O=example.com, C=US
 *      sha1 2e 7f 76 9b 52 91 09 2e 5d 8f 6b 61 39 2d 5e 06 e4 d8 e9 c7
 *      md5 dd d1 a8 03 d7 6c 4b 11 a7 3d 74 28 89 d0 67 54
 *
 *      2 Subject CN=Certificate Shack, O=example.com, C=US
 *      Issuer CN=Certificate Shack, O=example.com, C=US
 *      sha1 fb 58 a7 03 c4 4e 3b 0e e3 2c 40 2f 87 64 13 4d df e1 a1 a6
 *      md5 72 a0 95 43 7e 41 88 18 ae 2f 6d 98 01 2c 89 68
 *
 *      Enter certificate to add to trusted keystore or 'q' to quit: [1]
 *      q
 *      KeyStore not changed
 *
 *  위 프로그램 실행으로 생성된 jssecacerts 파일을 %JAVA_HOME%/jre/lib/security 로 복사한다.
 *  그리고 HttpsURLConnection을 실행하면 에러가 생성되지 않는다.
 *
 *      javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX
 *          path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable
 *          to find valid certification path to requested target
 *
 *  위 에러가 해결된다.
 *
 */

import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.security.KeyStore;
import java.security.MessageDigest;
import java.security.cert.CertificateException;
import java.security.cert.X509Certificate;

import javax.net.ssl.SSLContext;
import javax.net.ssl.SSLException;
import javax.net.ssl.SSLSocket;
import javax.net.ssl.SSLSocketFactory;
import javax.net.ssl.TrustManager;
import javax.net.ssl.TrustManagerFactory;
import javax.net.ssl.X509TrustManager;


public class InstallCert {

    public static void main(String[] args) throws Exception {
        String host;
        int port;
        char[] passphrase;
        if ((args.length == 1) || (args.length == 2)) {
            String[] c = args[0].split(":");
            host = c[0];
            port = (c.length == 1) ? 443 : Integer.parseInt(c[1]);
            String p = (args.length == 1) ? "changeit" : args[1];
            passphrase = p.toCharArray();
        } else {
            System.out.println("Usage: java InstallCert <host>[:port] [passphrase]");
            return;
        }

        File file = new File("jssecacerts");
        if (file.isFile() == false) {
            char SEP = File.separatorChar;
            File dir = new File(System.getProperty("java.home") + SEP + "lib" + SEP + "security");
            file = new File(dir, "jssecacerts");
            if (file.isFile() == false) {
                file = new File(dir, "cacerts");
            }
        }
        System.out.println("Loading KeyStore " + file + "...");
        InputStream in = new FileInputStream(file);
        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());
        ks.load(in, passphrase);
        in.close();

        SSLContext context = SSLContext.getInstance("TLS");
        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
        tmf.init(ks);
        X509TrustManager defaultTrustManager = (X509TrustManager)tmf.getTrustManagers()[0];
        SavingTrustManager tm = new SavingTrustManager(defaultTrustManager);
        context.init(null, new TrustManager[] {tm}, null);
        SSLSocketFactory factory = context.getSocketFactory();

        System.out.println("Opening connection to " + host + ":" + port + "...");
        SSLSocket socket = (SSLSocket)factory.createSocket(host, port);
        socket.setSoTimeout(10000);
        try {
            System.out.println("Starting SSL handshake...");
            socket.startHandshake();
            socket.close();
            System.out.println();
            System.out.println("No errors, certificate is already trusted");
        } catch (SSLException e) {
            System.out.println();
            e.printStackTrace(System.out);
        }

        X509Certificate[] chain = tm.chain;
        if (chain == null) {
            System.out.println("Could not obtain server certificate chain");
            return;
        }

        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));

        System.out.println();
        System.out.println("Server sent " + chain.length + " certificate(s):");
        System.out.println();
        MessageDigest sha1 = MessageDigest.getInstance("SHA1");
        MessageDigest md5 = MessageDigest.getInstance("MD5");
        for (int i = 0; i < chain.length; i++) {
            X509Certificate cert = chain[i];
            System.out.println(" " + (i + 1) + " Subject " + cert.getSubjectDN());
            System.out.println("   Issuer  " + cert.getIssuerDN());
            sha1.update(cert.getEncoded());
            System.out.println("   sha1    " + toHexString(sha1.digest()));
            md5.update(cert.getEncoded());
            System.out.println("   md5     " + toHexString(md5.digest()));
            System.out.println();
        }

        System.out.println("Enter certificate to add to trusted keystore or 'q' to quit: [1]");
        String line = reader.readLine().trim();
        int k;
        try {
            k = (line.length() == 0) ? 0 : Integer.parseInt(line) - 1;
        } catch (NumberFormatException e) {
            System.out.println("KeyStore not changed");
            return;
        }

        X509Certificate cert = chain[k];
        String alias = host + "-" + (k + 1);
        ks.setCertificateEntry(alias, cert);

        OutputStream out = new FileOutputStream("jssecacerts");
        ks.store(out, passphrase);
        out.close();

        System.out.println();
        System.out.println(cert);
        System.out.println();
        System.out.println("Added certificate to keystore 'jssecacerts' using alias '" + alias + "'");
    }

    private static final char[] HEXDIGITS = "0123456789abcdef".toCharArray();

    private static String toHexString(byte[] bytes) {
        StringBuilder sb = new StringBuilder(bytes.length * 3);
        for (int b : bytes) {
            b &= 0xff;
            sb.append(HEXDIGITS[b >> 4]);
            sb.append(HEXDIGITS[b & 15]);
            sb.append(' ');
        }
        return sb.toString();
    }

    private static class SavingTrustManager implements X509TrustManager {

        private final X509TrustManager tm;
        private X509Certificate[] chain;

        SavingTrustManager(X509TrustManager tm) {
            this.tm = tm;
        }

        public X509Certificate[] getAcceptedIssuers() {
            throw new UnsupportedOperationException();
        }

        public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {
            throw new UnsupportedOperationException();
        }

        public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {
            this.chain = chain;
            tm.checkServerTrusted(chain, authType);
        }
    }
}


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

package tain.kr.test.url.v01;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.security.KeyStore;
import java.security.MessageDigest;
import java.security.cert.CertificateException;
import java.security.cert.X509Certificate;

import javax.net.ssl.SSLContext;
import javax.net.ssl.SSLException;
import javax.net.ssl.SSLSocket;
import javax.net.ssl.SSLSocketFactory;
import javax.net.ssl.TrustManager;
import javax.net.ssl.TrustManagerFactory;
import javax.net.ssl.X509TrustManager;

public class InstallCert2 {

    public static void main(String[] args) throws Exception {
        checkCert();
    }

    public static void checkCert() throws Exception {
        String host = "www.itis.or.kr";
        int port = 443;
        char[] passphrase = "changeit".toCharArray();

        File file = new File("jssecacerts");
        System.out.println(System.getProperty("java.home"));

        if (file.isFile() == false) {
            char SEP = File.separatorChar;
            File dir = new File(System.getProperty("java.home") + SEP + "lib" + SEP + "security");
            file = new File(dir, "jssecacerts");
            if (file.isFile() == false) {
                file = new File(dir, "cacerts");
            }
        }
        System.out.println("Loading KeyStore " + file + "...");
        InputStream in = new FileInputStream(file);
        KeyStore ks = KeyStore.getInstance(KeyStore.getDefaultType());
        ks.load(in, passphrase);
        in.close();

        SSLContext context = SSLContext.getInstance("TLS");
        TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());
        tmf.init(ks);
        X509TrustManager defaultTrustManager = (X509TrustManager)tmf.getTrustManagers()[0];
        SavingTrustManager tm = new SavingTrustManager(defaultTrustManager);
        context.init(null, new TrustManager[] {tm}, null);
        SSLSocketFactory factory = context.getSocketFactory();

        System.out.println("Opening connection to " + host + ":" + port + "...");
        SSLSocket socket = (SSLSocket)factory.createSocket(host, port);
        socket.setSoTimeout(10000);
        try {
            System.out.println("Starting SSL handshake...");
            socket.startHandshake();
            socket.close();
            System.out.println();
            System.out.println("No errors, certificate is already trusted");
            return;
        } catch (SSLException e) {
            System.out.println(e.getMessage());
            //e.printStackTrace(System.out);
        }

        X509Certificate[] chain = tm.chain;
        if (chain == null) {
            System.out.println("Could not obtain server certificate chain");
            return;
        }

        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));

        //System.out.println();
        //System.out.println("Server sent " + chain.length + " certificate(s):");
        //System.out.println();
        MessageDigest sha1 = MessageDigest.getInstance("SHA1");
        MessageDigest md5 = MessageDigest.getInstance("MD5");
        for (int i = 0; i < chain.length; i++) {
            X509Certificate cert = chain[i];
            //System.out.println
            //  (" " + (i + 1) + " Subject " + cert.getSubjectDN());
            //System.out.println("   Issuer  " + cert.getIssuerDN());
            sha1.update(cert.getEncoded());
            //System.out.println("   sha1    " + toHexString(sha1.digest()));
            md5.update(cert.getEncoded());
            //System.out.println("   md5     " + toHexString(md5.digest()));
            //System.out.println();
        }

        //System.out.println("Enter certificate to add to trusted keystore or 'q' to quit: [1]");
        //String line = reader.readLine().trim();
        //int k;
        //try {
        //    k = (line.length() == 0) ? 0 : Integer.parseInt(line) - 1;
        //} catch (NumberFormatException e) {
        //    System.out.println("KeyStore not changed");
        //    return;
        //}

        int k=0;
        X509Certificate cert = chain[k];
        String alias = host + "-" + (k + 1);
        ks.setCertificateEntry(alias, cert);

        OutputStream out = new FileOutputStream("jssecacerts");
        ks.store(out, passphrase);
        out.close();

        //System.out.println();
        //System.out.println(cert);
        //System.out.println();
        System.out.println("Added certificate to keystore 'jssecacerts' using alias '" + alias + "'");
    }

    private static final char[] HEXDIGITS = "0123456789abcdef".toCharArray();

    private static String toHexString(byte[] bytes) {
        StringBuilder sb = new StringBuilder(bytes.length * 3);
        for (int b : bytes) {
            b &= 0xff;
            sb.append(HEXDIGITS[b >> 4]);
            sb.append(HEXDIGITS[b & 15]);
            sb.append(' ');
        }
        return sb.toString();
    }

    private static class SavingTrustManager implements X509TrustManager {

        private final X509TrustManager tm;
        private X509Certificate[] chain;

        SavingTrustManager(X509TrustManager tm) {
            this.tm = tm;
        }

        public X509Certificate[] getAcceptedIssuers() {
            throw new UnsupportedOperationException();
        }

        public void checkClientTrusted(X509Certificate[] chain, String authType) throws CertificateException {
            throw new UnsupportedOperationException();
        }

        public void checkServerTrusted(X509Certificate[] chain, String authType) throws CertificateException {
            this.chain = chain;
            tm.checkServerTrusted(chain, authType);
        }
    }
}


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

웹서버에서 종종 중요한 정보교환을 위해 SSL을 사용하곤 한다.
이번의 경우는 HttpsURLConnection을 통해 SSL연결을 하는데 있어 문제되었던 사항이다.

<환경>
- Tomcat 5.5
- Apache 2.0 OpenSSL 포함 버전
- J2EE 5.X

<문제>
SSL연결시 아래와 같은 Exception이 발생했다.

javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX
path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable
to find valid certification path to requested target

javax.net.ssl.SSLHandshakeException 은 접속하려는 SSL서버에 유효한 인증서가 없는 경우를 의미한다.
이러한 인증서의 위치는 %JRE_HOME%\lib\security 에 cacerts 파일로 존재한다.
즉, 이파일에 현재 접속하려는 SSL서버의 인증서가 존재하지 않는것이다.

<해결>
첨부된 InstallCert.java을 열면 소스 상단부분에
/************** 소스 24째줄 ***************/
String host = "127.0.0.1"; //SSL서버의 도메인이나 IP
 int port = 443;

위와같이 host를 설정하는 부분이 있다. host에는 접속하려는 SSL서버의 IP나 도메인을 설정한다.
이소스는 java.net.ssl.SSLHandshakeException이 발생하면 해당 서버에서 인증서를 받아 파일로
저장해주는 역할을 한다.

컴파일하고 클래스를 실행하면 전과같이 java.net.ssl.SSLHandshakeException이 발생하고 class와
동일한 위치에 jssecacerts라는 인증서 파일이 생성된다. 이 파일을 J2EE 5 설치시 생성됬던
%JRE_HOME%\lib\security 에 넣어주면 완료된다.
기존의 cacerts파일에 인증서가 존재하지 않으면 jssecacerts에서 찾는다고 한다.
[출처] HttpsURLConnection 을 사용한 SSL서버 접속|작성자 소요


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


DROP TABLE CM_TRGT_CUST_CHNNL_RSPNC;



CREATE  TABLE CM_TRGT_CUST_CHNNL_RSPNC
(

    CMPGN_NO             VARCHAR(20) NOT NULL
        TITLE '캠페인번호',
    CHNNL_NO             VARCHAR(20) NOT NULL
        TITLE '채널번호',
    CUST_ID              CHAR(9) NOT NULL
        TITLE '고객아이디',
    CHNNL_TYP_CD         VARCHAR(5) NULL
        TITLE '채널종류코드',
    CHNNL_SND_DTTM       TIMESTAMP NULL
        TITLE '채널발송시간',
    CHNNL_OPN_DTTM       TIMESTAMP NULL
        TITLE '채널오픈시간',
    CHNNL_SND_EXP        DECIMAL(18,2) NULL
        TITLE '채널발송비용',
    SYS_CRTN_DTTM        TIMESTAMP NULL
        TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL
        TITLE 'SYS_변경일시',
    SYS_FRST_OPRTN_ID    VARCHAR(20) NULL
        TITLE 'SYS_최초등록자아이디',
    SYS_LST_UPDT_ID      VARCHAR(20) NULL
        TITLE 'SYS_최종변경자아이디'
)

UNIQUE PRIMARY INDEX
 (
        CMPGN_NO,
        CHNNL_NO,
        CUST_ID
 );


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


%snd_chnnl2pnt(CMPGN_NO=, CHNNL_NO=SMS1017151021022, CHNNL=SMS, STR_ID=1017)

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

<script type="text/javascript">location.replace("/SASEMARTCMS/common/FF14306W.do?method=page")</script>

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

사이트 : http://pyrasis.com/book/WindowsProjectEssentialUtility/Chapter01

간단히

    $ svn --help

    $ svn list svn://localhost/repo-tasks --username #### --password #####


[ 버전관리 시스템 용어 ]

    - Repository : 저장소라고 하며 모든 프로젝트의 프로그램 소스들은 이 저장소 안에 저장됩니다.
        그리고 소스뿐만 아니라 소스의 변경 사항도 모두 저장됩니다. 네트워크를 통해서 여러 사람이
        접근할 수 있습니다. 버전관리 시스템마다 고유의 저장소 포맷이 있습니다.

    - Check Out : 저장소에서 소스를 받아오는 것입니다. 체크아웃한 소스를 보면 프로그램 소스가 아닌 다른
        디렉토리와 파일들이 섞여 있는 것을 볼 수 있습니다. 이 디렉토리와 파일들은 버전 관리를 위한 파일들입니다.
        임의로 지우거나 변경하면 저장소와 연결이 되지 않습니다. 이 체크아웃에는 권한을 줄 수 있습니다.
        오픈 소스 프로젝트에서는 대부분 익명 체크아웃을 허용하고 있습니다.

    - Commit : 체크아웃 한 소스를 수정, 파일 추가, 삭제한 뒤 저장소에 저장하고 갱신하는 것입니다. 커밋을
        하면 CVS에서는 수정한 파일의 리비전이 증가하고 Subversion에서는 전체 리비전이 1증가하게 됩니다.
        버전관리 시스템에 따라서는 리비전이 해쉬값인 경우도 있습니다.

    - Update : 체크아웃을 해서 소스를 가져 왔더라도 다른 사람이 커밋을 하였다면 소스가 달라졌을 것입니다.
        이럴 때는 업데이트해서 저장소에 있는 최신 버전의 소스를 가져옵니다. 물론 바뀐부분만 가져옵니다.

    - Revision : 소스 파일 들을 수정하여 커밋하게 되면 일정한 규칙에 따라 숫자가 증가합니다. 버전관리 시스템에
        따라 해쉬값을 사용하는 경우도 있습니다. 저장소에 저장된 각각의 파일 버전이라 할 수 있습니다.
        Subversion은 파일 별로 리비전을 매기지 않고 한번 커밋 한 것으로 전체 리비젼을 매깁니다.
        따라서 리비전을 보고 프로젝트 진행 상황을 알수 있습니다.

    - Import : 아무것도 들어 있지 않은 저장소에 맨 처음 소스를 넣는 작업입니다.

    - Export : 체크아웃과는 달리 버전 관리 파일들을 뺀 순수한 소스파일을 받아올 수 있습니다.
        오픈 소스 프로젝트에서는 소스를 압축해서 릴리즈 할 때 사용합니다.

----------------------------------------------------------------------------------------------------
[ 저장소 접근 방법 ]

    - file://
        로컬파일시스템 접근

    - svn://
        svnserve.exe 프로그램 실행과 서버/클라이언트 접근

    - http://   https://
        아파치 웹서버와 연동하여 접근

    - svn+ssh://
        ssh를 통하여 저장소에 접근



    - trunk : 나무의 몸통을 뜻하는데 프로젝트의 원본이 관리되는 곳입니다.

    - branches : 몸통에서 뻗어나온 나뭇가지를 뜻하는데 개발을 하다 보면 고객시연용 개발발 등과 같이
        원본과는 다른 목적으로 프로젝트가 분기되는 경우가 있습니다. 이런 경우, 프로젝트의 원본을 분기시킨
        버전을 branchs에 만들어 관리하게 됩니다.

    - tags : 꼬리표를 뜻하며, 정기적으로 1.0, 2.0 버전과 같은 식으로 특정 시점의 릴리스를 관리하게 됩니다.


    http://svn.samplerepository.org/svn/sample

        trunk
            src
            doc
            Makefile

        branches
            dev-mirror
                src
                doc
                Makefile
            svn-push
            svnserve-thread-pools

        tags
            0.10
                0.10.1
                    src
                    doc
                    Makefile
            0.20
            0.30
            0.50
            1.01



----------------------------------------------------------------------------------------------------
[ 관련 폴더 ]

    $ mkdir Repos
    $ cd Repos
    $ svnadmin create sample
    $ svnadmin create kang

        C:.
        ├─kang
        │  ├─conf
        │  ├─db
        │  │  ├─revprops
        │  │  │  └─0
        │  │  ├─revs
        │  │  │  └─0
        │  │  ├─transactions
        │  │  └─txn-protorevs
        │  ├─hooks
        │  └─locks
        └─sample
            ├─conf
            ├─db
            │  ├─revprops
            │  │  └─0
            │  ├─revs
            │  │  └─0
            │  ├─transactions
            │  └─txn-protorevs
            ├─hooks
            └─locks

    - conf

        svnserve.conf : svnserve를사용하여 저장소 서버를 구성할 때 사용합니다. 이 파일을 설정해 주지 않으면
            svnserve를 통하여 저장소에 접근 할 수 없습니다.

            [general]
            anon-access = read    # anonymous access로 로그인 여부에 관계없이 접근방식을 설정하는 부분입니다.
                                  # write(쓰기 허용) read(읽기 허용) none(읽기/쓰기 모두 금지)
            auth-access = write   # 로그인 한 사용자에게 한해 접근방식을 설정하는 부분

            password-db = passwd

            authz-db = authz

        passwd : svnserve에서 사용하는 사용자ID와 암호 설정 파일입니다. 암호는 암호화되지 않은 텍스트로 바로 저장됩니다.
            이 파일은 저장소 컴퓨터에 접근 할 수 있는 사람만 볼 수 있기 때문에 암호화 되지 않더라도 큰 문제는
            없습니다. 이미 암호 설정 파일을 볼 정도로 서버에 접근했다 하는 것은 저장소를 모두 가져갈 수 있는 위치에 와
            있다는 것입니다. 암호를 암호화 되지 않은 텍스트로 자장하고 싶지 않은 경우에는 Apache와 연동해야 합니다.

            [users]
            sampleuser = abc123!@

        authz : svnserve와 Apache에서 사용하는 파일, 디렉토리별 접근 권한 설정 파일입니다. 특정 파일, 디렉터리에
            대해 각 사용자에게 읽기, 쓰기 권한을 지정할 수 있습니다. 사용자를 그룹화 하여 지정할 수도 있습니다.

            [groups]

            [/foo/bar]               foo아래 bar 디렉터리에 대한 경로 설정
            [/trunk:/readme.txt]     trunk 디렉터리 아래에 readme.txt 파일에 대한 경로 설정
            [kang:/trunk]            kang 저장소의 trunk 디렉터리에 대한 경로 설정
            [kang:/branches/hello.c] kang 저장소의 trunk 디렉터리 아래에 hello.c 파일에 대한 경로 설정

            사용자       : sampleuser harry
            모든 사용자  : *
            그룹         : @harry_and_sally

            아래는 모든경로에 대해 sampleuser는 읽기, 쓰기를 가능하도록 설정

                [/]
                sampleuser = rw




----------------------------------------------------------------------------------------------------
[ Subversion 서버 사용하기 ]

    서버로 실행하는 방법에는 일반모드와 서비스 모드 두가지가 있습니다. svn://프로토콜 서버인 svnserve를
    사용하는 방법을 설명하도록 하겠습니다. svnserve는 명령행 도구입니다. 윈도우 프롬프트에서 svnserve -help를
    입력하면 옵션들의 도움말을 볼 수 있습니다.

        -d : [daemon] 데몬 모드입니다. svnserve는 일반 모드와 서비스 모드로 실행할 수 있는데 -d는
            일반 모드로 실행하는 옵션입니다.

        --listen-port : 기본 포트 3690 이외의 포트를 사용하고자 할 때 설정합니다.

            -listen-port 12345

        --listen-host : 컴퓨터의 IP가 여러개 일 때 하나의 IP를 지정하여 사용하고자 할 때 설정합니다.

            -listen-host 123.123.123.123

        -r [-root] : 저장소들이 모여 있는 부모 디렉토리나 개별 저장소의 경로를 지정합니다.

            -r C:\Repos

        -service : 서비스 모드로 실행할 때 사용합니다. 이 옵션은 서비스를 따로 등록해주어야 사용할 수 있습니다.
            서비스 모드는 일반 모드와 달리 윈도우 서비스로 등록해서 Subversion 서버를 실행하는 방법입니다.
            서비스 등록을 통해 Subversion 서버의 자동시작 여부를 지정하고 실행할 수 있습니다.
            서비스 모드 등록은 윈도우 관리 명령인 sc명령을 이용합니다.


[ 일반 모드로 사용하기 ]

    svnserve.exe -d -r C:\Repos

    svnserve.exe -d -r C:\Repos --listen-port 7777

[ 서비스 모드로 사용하기 ]

    아래의 \\experience는 'echo %COMPUTERNAME%' 을 해서 나온 값에 \\을 붙인 것이다.

        sc \\experience create svnserve binpath= "C:\Program Files\Subversion\bin\svnserve.exe --service -r C:\Repos" DisplayName= "Subversion svnserve"

        sc create svnserve binpath= "C:\Program Files\Subversion\bin\svnserve.exe --service -r C:\Repos" DisplayName= "Subversion svnserve"

        sc \\experience create svnserve binpath= "C:\Program Files\Subversion\bin\svnserve.exe --service -r C:\Repos --listen-port 7777" DisplayName= "Subversion svnserve"

    서비스 등록을 확인한다. 그리고 명령창에서 net start svnserve, net stop svnserve로 시작/종료할 수 있다.

        sc \\experience delete svnserve

    위와 같이 하면 서비스가 제거된다.


[ 기본 에디터 지정하기 ]

    먼저 Subversion의 svn.exe를 사용하기 위해서는 기본 에디터를 지정해주어야 합니다. 기본 에디터는
    환경변수에 SVN_EDITOR를 만들고 에디터의 실행파일 경로를 설정해 줍니다.
    기본 에디터를 지정하지 않고 사용하려면 svn.exe 명령을 내릴 때 마다 -m "로그 메시지"의 형태로
    로그 메시지를 지정해주면 됩니다.

        svn ci -m "main 함수 수정"

    환경변수 SVN_EDITOR=C:\Windows\notepad.exe

    svnserve.exe를 실행합니다.

        svnserve.exe -d -r C:\Repos

[ 기본 디렉토리 생성 ]

    프로젝트를 시작하기 전 기본 디렉토리인 trunk, branches, tags를 만들어 주어야 합니다.

        svn mkdir svn://127.0.0.1/sample/trunk
        svn mkdir svn://127.0.0.1/sample/branches
        svn mkdir svn://127.0.0.1/sample/tags

        svn mkdir svn://127.0.0.1/sample/trunk     --username kang --password seok123
        svn mkdir svn://127.0.0.1/sample/branches  --username kang --password seok123
        svn mkdir svn://127.0.0.1/sample/tags      --username kang --password seok123



    위와 같이 svn 명령을 실행하면 SVN_EDITOR에 설정한 에디터가 실행되며, 에디터에 적절한 로그 메시지를 입력
    하고 저장한 뒤 종료합니다.
    svn 명령을 처음 실행했다면 그림과 같이 사용자명과 암호를 입력하라고 합니다. 기본적으로 현재 컴퓨터의 계정이
    표시되고 암호를 입력하라고 하는데, 다시 한번 엔터를 치면 사용자면을 입력할 수 있습니다. 암호까지 정확
    하게 입력하면 커밋이 됩니다. 이후 사용자면과 암호는 저장되기 때문에 다시 입력할 필요가 없습니다.
    암호가 저장되지 않게 하려면 -no-auth-cache 옵션을 사용하면 됩니다.

        > svn mkdir svn://127.0.0.1/sample/trunk
        인증 영역(realm): <svn://127.0.0.1:3690> 1860###########################
        'xp'의 암호:
        인증 영역(realm): <svn://127.0.0.1:3690> 1860###########################
        사용자명:sampleuser
        'sampleuser'의 암호:**********

        커밋된 리비전 1.
        >


    * svn:호스트 '127.0.0.1'에 접속할 수 없습니다. : 대상 컴퓨터에서 연결을 거부했으므로 연결하지 못했습니다. 라는 오류 메시지가 나올 때

        1. svnserve.exe 가 정상적으로 실행되고 있는가? (일반모드) 아니라면 새로운 명령프트를 열고
            svnserve.exe -d -r C:\Repos를 실행한다.

        2. 서비스 모드일 경우 서비스를 시작헀는가? 아니라면 명령 프롬프트에서 'net start svnserve'를
            실행하거나 관리도구의 서비스에서 Subversion svnserve서비스를 시작합니다.

    * svn:인증 실패 라는 오류 메시지가 나올 때

        1. C:\Repos\sample\conf 디렉토리에 svnserve.conf 파일을 열고 아래와 같이 anon-access, auth-access,
            password-db 가 정상적으로 설정되어 있는지 확인합니다.

                anon-access = none
                auth-access = write
                password-db = passwd

        2. C:\Repos\sample\conf 디렉토리에 svnserve.conf 파일에서 아래와 같이 authz-db=authz로 설정했다면
            C:\Repos\sample\conf 디렉터리 아래에 authz 파일을 다음과 같이 설정되어 있는지 확인

                [/]
                sampleuser = rw

        3. C:\Repos\sample\conf 디렉토리에 passwd 파일을 열고 아래와 같이 사용자 설정이 정상적으로 되어
            있는지 확인합니다.

                [users]
                sampleuser = abc123

        4. C:\Repos\sample\conf 디렉토리의 authz 파일에서 쓰기 권한을 막아놓지는 않았는지 확인합니다.






























----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


Header : %CMPGN_NM% (%CMPGN_NO%)

Message : 승인을 요청합니다.

Message-body :
블라썸 전자결재 처리가 완료되었니 캠페인 승인을 요청합니다.
캠페인명 : %CMPGN_NM%
캠페인번호 : %CMPGN_NO%


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

1Chapter. Subversion 레퍼런스

Table of Contents
1.1.
1.1. Subversion 커멘드 라인 클라이언트: svn
1.1.1. svn 의 스윗치
1.1.2. svn 서브 커멘드
svn add -- 파일이나 디렉토리를 추가합니다.
svn cat -- 지정한 파일 또는 URL의 내용을 표시합니다.
svn checkout -- 저장소(repository)로부터 작업 카피를 체크아웃 합니다.
svn cleanup -- 작업 카피를 재귀적으로 정상화한다.
svn commit -- 작업 카피의 변경점을 저장소(repository)에 보냅니다.
svn copy -- 작업 카피나 저장소(repository)중의, 파일이나 디렉토리를 카피.
svn delete -- 작업 카피나 저장소(repository)로부터 파일 또는 디렉토리를 삭제합니다.
svn diff -- 두 개의 패스동안의 차이점을 표시합니다.
svn export -- 디렉토리 트리의 export
svn help -- 헬프
svn import -- PATH를 URL에 대해서 재귀적으로 커밋합니다.
svn info -- PATH에 대한 정보를 표시합니다.
svn list -- 저장소(repository)중의 디렉토리 엔트리를 일람표 가리킵니다.
svn log -- 커밋 로그 메세지의 표시.
svn merge -- 두 소스의 차이를 작업 카피 패스에 반영합니다.
svn mkdir -- 버전 관리하에 있는 새로운 디렉토리를 만듭니다.
svn move -- 파일이나 디렉토리를 이동한다.
svn propdel -- 아이템으로부터 속성을 삭제합니다.
svn propedit -- 버전 관리되고 있는 하나 이상의 아이템의 속성을 편집한다.
svn propget -- 속성의 값을 표시합니다.
svn proplist -- 모든 속성을 일람표 가리킵니다.
svn propset -- 파일, 디렉토리, 리비전의 PROPNAME 의 값 (을)를 PROPVAL로 설정한다.
svn resolved -- 작업 카피의 파일 또는 디렉토리의 "충돌" 상태를 잡기 들여다 봅니다.
svn revert -- 로컬 파일에의 모든 편집을 취소합니다.
svn status -- 작업 카피에 있는 파일이나 디렉토리 상태를 표시.
svn switch -- 작업 카피를 다른 URL에 갱신합니다.
svn update -- 작업 카피의 갱신.
1.2. svnadmin
1.2.1. svnadmin스윗치
1.2.2. svnadmin 서브 커멘드
svnadmin list-unused-dblogs -- 어느 로그 파일이 안전하게 삭제 가능한가를 Berkeley DB 에 문의 .
svnadmin create -- REPOS_PATH에 신규의 빈 저장소(repository)를 만듭니다.
svnadmin dump -- 파일 시스템의 내용을 표준 출력에 덤프 합니다.
svnadmin help --
svnadmin load -- 표준 입력으로부터"덤프 형식" 의 데이터를 읽어들입니다.
svnadmin lstxns -- 커밋되어 있지 않은 모든 트랜잭션(transaction)의 이름의 표시.
svnadmin recover -- 저장소(repository)중이 없어진 상황의 복원.
svnadmin rmtxns -- 저장소(repository)로부터 트랜잭션(transaction)를 삭제합니다.
svnadmin setlog -- 리비전에 로그 메세지를 설정합니다.
1.3. svnlook
1.3.1. svnlook스윗치
1.3.2. svnlook 서브 커멘드
svnlook author -- 처리한 사람의 표시.
svnlook cat -- 파일의 내용을 표시합니다
svnlook changed -- 변경된 패스를 표시합니다.
svnlook date -- 일자를 표시합니다.
svnlook diff -- 변경된 파일, 디렉토리의 차분을 표시합니다.
svnlook dirs-changed -- 변경이 있던 디렉토리를 표시합니다.
svnlook help --
svnlook history -- 저장소(repository)중의 패스의 히스토리에 관한 정보를 표시합니다 (혹은 패스가 지정되지 않았던 경우에는 루트 디렉토리가 됩니다).
svnlook info -- 작업자, 일자, 로그 메세지의 크기, 로그 메세지를 표시합니다.
svnlook log -- 로그 메세지를 표시합니다.
svnlook proplist -- 버전화 된 파일과 디렉토리의 속성의 이름과 값을 표시합니다.
svnlook tree -- 트리를 표시합니다.
svnlook youngest -- 제일 최근의 리비전 번호를 표시합니다.
1.1.

이 장은 Subversion의 완전한 레퍼런스입니다. 커멘드 라인 클라이언트 (svn)(와)과 그 모든 서브 커멘드, 한층 더 저장소(repository) 관리 프로그램 (svnadmin와svnlook)(와)과 그 모든 서브 커멘드입니다.

1.1. Subversion 커멘드 라인 클라이언트: svn

커멘드 라인 클라이언트를 사용하려면 svn (이)라고 입력하고 나서, 사용하고 싶은 서브 커멘드를 입력해 주세요. [1], 어떤 스윗치나 대상이 된다 타겟으로 붙어도 그렇습니다 서브 커멘드와 스윗치의 및은 특정의 순서는 없습니다. 예를 들어 svn status: (을)를 사용하는 경우에, 이하는 모두 유효합니다:

$ svn -v status
$ svn status -v
$ svn status -v myfile

클라이언트 커멘드의 이용법에 대해서는, 좀 더 많은 예가 >에 있어, 속성의 관리에 대해서는 >에 있습니다.

1.1.1. svn 의 스윗치

Subversion 는 서브 커멘드 마다 다른 스윗치를 가져 있습니다만, 모두 글로벌하게 일합니다즉 각각의 스윗치는 함께 이용되는 서브 커멘드에 관계없이 같은 의미 (을)를 가집니다. 예를 들어--verbose (-v) (은)는 항상, 어느 서브 커멘드와 함께 사용해도"장황한 출력"을 의미합니다.

--diff-cmd CMD
파일간의 차이를 표시하기 위해서 사용하는 외부 프로그램을 지정합니다. svn diff가 기동되면(자), 디폴트에서는 unifid diff 형식 인 Subversion의 내부 diff 엔진이 이용됩니다. 외부 diff 프로그램 (을)를 이용하고 싶은 경우는,--diff-cmd를 사용해 주세요. --extensions스윗치로 diff 프로그램을 지정하는 일도로 옵니다. (자세하게는 이 장의 나중에 설명하겠습니다).

--diff3-cmd CMD
파일을 merge 하기 위해서 사용하는 외부 프로그램을 지정합니다.

--dry-run
커멘드의 실행을 그대로 더듬습니다만, 실제의 동작은 하지 않습니다 작업 카피에 대해서도, 저장소(repository)에 대한 커멘드에도 사용할 수 있습니다.

--editor-cmd CMD
로그 메세지나 속성치를 편집하는데 사용하는 외부 프로그램을 지정합니다.

--encoding ENC
Subversion 에 커밋의 메세지를 준비한 charset로 encode 하도록(듯이) 지시합니다. 디폴트는 당신의 operating system의 원래의 locale 로, 커밋 메세지개의 encode의 경우에는 그것을 지정할 필요가 있습니다.

--extensions(-x) "ARGS"
Subverion 가 파일간의 차이를 얻을 때에 사용하는 외부 diff 커멘드에 건네주지 않고 (이)라고는 안 되는 하나 이상의 인수를 지정합니다. 복수의 인수를 건네주고 싶다 경우는, 그것들 모든 것을 인용부호로 묶지 않으면 안됩니다. (예를 들어, svn diff --diff-cmd /usr/bin/diff -x "-b -E"). 이 스윗치는--diff-cmd스윗치도 지정했을 경우 에마셔이용할 수가 있습니다.

--file (-F) FILENAME
지정한 서브 커멘드에 대해, 이 스윗치의 인수로서 건네준 파일의 내용이 사용됩니다.

--force
특정의 커멘드 또는 조작의 실행을 강제합니다. Subversion 가 통상이라면 거부하는 것 같은 몇개의 조작이 있습니다만, 이 강제 스윗치를 사용해, Subversion 에"그것을 하면(자) 어떻게 되는 일이 있을까는 알고 있기 때문에, 어쨌든 그것을 시켜 줘"라고 전할 수가 있습니다. 이 스윗치는, 전자 공작이나 무엇인가로, 마지막에 전원을 넣는 상황에 닮습니다무엇을 하려 하고 있는지 잘 이해하고 있지 않으면 반드시 싫은 눈을 당하겠지요.

--force-log
--messages (-m)나 --file (-F) 옵션에 건네주는 의심스러운 인수를 올바른 것으로서 강제적으로 받아들인다 같게 지시합니다. 디폴트에서는, Subversion 는 올바른 서브 커멘드로 어느 해석하는 대신에, 그러한 인수가 실수이다고 하여 에러를 생성합니다. 예를 들어, 버전화 된 파일의 패스를--file (-F) 옵션에 건네주면(자), Subversion 는 그 패스가 조작 대상으로 해 의도되고 있었다고 생각하지 않고 , 그 인수에는 실수가 있으면(자) 간주, 로그 메세지를 위한 버전화되어 있지 않은 원파일을 준비하는 것에 실패해 버립니다. 자신의 의도를 선언해, 이런 종류의 에러 (을)를 무시하기 위해서는,--force-log옵션을 로그 메세지 (을)를 받아들이는 커멘드에 대해서 지정할 필요가 있습니다.

--help (-h or -? )
하나 이상의 서브 커멘드와 함께 사용해, 각각의 서브 커멘드의 편입 헬프 텍스트를 표시합니다. 이 스윗치만을 단독으로 사용하면(자), 일반적인 커멘드 클라이언트의 헬프 텍스트를 표시합니다.

--notice-ancestry
차분을 계산할 경우에, 히스토리에 주의합니다.

--incremental
(다른 출력과) 연결하는데 적합한 형식에서 출력을 표시합니다.

--message (-m) MESSAGE
커멘드 라인상에서 커밋 메세지를 지정합니다. 이 스윗치의 나중에, 예를 들어:

$ svn commit -m "They don't make Sunday. "

--new ARG
ARG 를 새로운 타겟으로서 이용합니다.

--no-auth-cache
인증 정보(유저명이나 패스워드등)를 Subversion 관리 디렉토리에 캐쉬하지 않게 지시합니다.

--no-diff-deleted
삭제된 파일의 차분을 표시하지 않게 Subversion에 지시합니다. 디폴트에서는 파일을 삭제했을 때의svn diff의 출력은, 파일은 삭제되지 않고 제로 아르바이트로 남아 있는 것과 같은 형태가 됩니다.

--no-ignore
svn:ignore 속성에 성냥 했기 때문에 통상이라면 생략 되는 것 같은 파일의 스테이터스 일람을 표시합니다. > 에 한층 더 자세한 정보가 있습니다.

--non-interactive
인증이 실패하거나 충분한 허가가 없을 때에, 인증 요구하는 것을 억제합니다. (예를 들어, 유저명과 패스워드) 이것은, Subversion을 자동 스크립트중에서 실행하고 있는 것 같은 때로 인증 요구시키는 것보다도 단지 실패하는 편이 편리한 경우에 도움이 됩니다.

--non-recursive (-N)
서브 디렉토리에 대해서 서브 커멘드를 재귀적으로 실행하는 것을 억제합니다. 대부분의 서브 커멘드는 디폴트로 재귀적으로 실행 됩니다만, 몇개의 서브 커멘드보통은, 작업 카피의 변경에 대한 삭제나 취소가 일어나는 것 같은 것는 그런 것은 없습니다.

--old ARG
ARG 를 낡은 타겟으로서 이용합니다.

--passwordPASS
커멘드 라인상에서 인증용 패스워드를 지정합니다이것을 지정하지 않으면, 필요한 장소에서 Subversion 는 패스워드 입력을 요구해 옵니다.

--quiet (-q)
실행중에 중요한 정보만을 표시하도록(듯이) 지시합니다.

--recursive (-R)
서브 커멘드를 서브 디렉토리에 대해서 재귀적으로 실행한다 같게 합니다. 대부분의 서브 커멘드는 디폴트로 재귀적인 동작을 합니다.

--relocate FROM TO [PATH...]
svn switch서브 커멘드와 함께 사용하는 것으로 작업 카피 하지만 참조하고 있는 저장소(repository)의 장소를 변경합니다. 이것은, 저장소(repository)의 장소가 이동해도, 벌써 존재하고 있는 작업 카피를 계속해 이용하고 싶은 경우 에 편리합니다. 예로서svn switch를 참조해 주세요.

--revision (-r) REV
특정의 조작으로, 리비전(또는 리비전의 범위)을 설정합니다. 리비전은 리비전 스윗치의 인수로서 번호, 키워드, 일자(이 경우는 안외모를 사용해)의 어떤 것인가로 지정할 수가 있습니다. 리비전을 둘지정할 때에는 코론으로 단락짓습니다. 예를 들어:

$ svn log -r 1729
$ svn log -r 1729:HEAD
$ svn log -r 1729:1744
$ svn log -r {12/04/01}:{2/17/02}
$ svn log -r 1729:{2/17/02}

자세하게는> 을 봐 주세요.

--revprop
파일이나 디렉토리의 속성의 대신에, 리비전의 속성에 대해 조작하도록(듯이) 합니다. 이 스윗치를 사용하는 경우는 --revision(-r)를 사용해 리비전도 건네줄 필요가 있습니다. 버전화하지 않는 속성에 대한 자세한 것은> (을)를 봐 주세요.

--show-updates (-u)
작업 카피의 어느 파일이 최신일까의 정보를 표시합니다. 이것은 실제로 자신에게 작업 파일을 갱신하지 않습니다만약 svn update 를 실행했다고 하면(자), 어느 파일이 갱신되는지를 표시할 뿐입니다.

--strict
Subversion은 엄밀한 의미론을 사용하게 됩니다. 자세하게는 > (을)를 참조해 주세요.

--targets FILENAME
Subversion 에 커멘드 라인상의 모든 파일을 일람표시 하는 대신에 지정한 파일의 일람을 취득하도록 지시합니다.

--usernameNAME
커멘드 라인상에서의 인증에, 지정한 유저 명칭을 사용하도록(듯이) 지시합니다그렇지 않으면, 필요한 장소에서, Subversion은 그 입력을 유저에게 요구합니다.

--verbose (-v)
서브 커멘드 실행시에, 할 수 있는 사나워지고 많은 정보를 표시하도록(듯이) 지시합니다. Subversion 는, 추가 필드, 모든 파일의 상세 정보, 동작 내용에 대한 추가 정보등을 표시하게 됩니다.

--version
클라이언트 프로그램의 버전 번호를 표시합니다. 이 정보는 버전 번호외, Subversion 저장소(repository)에 클라이언트 프로그램 하지만 액세스 하기 위해서 이용할 수 있는 모듈의 일람도 표시합니다.

--xml
XML 포맷으로 출력합니다.

1.1.2. svn 서브 커멘드

Table of Contents
svn add -- 파일이나 디렉토리를 추가합니다.
svn cat -- 지정한 파일 또는 URL의 내용을 표시합니다.
svn checkout -- 저장소(repository)로부터 작업 카피를 체크아웃 합니다.
svn cleanup -- 작업 카피를 재귀적으로 정상화한다.
svn commit -- 작업 카피의 변경점을 저장소(repository)에 보냅니다.
svn copy -- 작업 카피나 저장소(repository)중의, 파일이나 디렉토리를 카피.
svn delete -- 작업 카피나 저장소(repository)로부터 파일 또는 디렉토리를 삭제합니다.
svn diff -- 두 개의 패스동안의 차이점을 표시합니다.
svn export -- 디렉토리 트리의 export
svn help -- 헬프
svn import -- PATH를 URL에 대해서 재귀적으로 커밋합니다.
svn info -- PATH에 대한 정보를 표시합니다.
svn list -- 저장소(repository)중의 디렉토리 엔트리를 일람표 가리킵니다.
svn log -- 커밋 로그 메세지의 표시.
svn merge -- 두 소스의 차이를 작업 카피 패스에 반영합니다.
svn mkdir -- 버전 관리하에 있는 새로운 디렉토리를 만듭니다.
svn move -- 파일이나 디렉토리를 이동한다.
svn propdel -- 아이템으로부터 속성을 삭제합니다.
svn propedit -- 버전 관리되고 있는 하나 이상의 아이템의 속성을 편집한다.
svn propget -- 속성의 값을 표시합니다.
svn proplist -- 모든 속성을 일람표 가리킵니다.
svn propset -- 파일, 디렉토리, 리비전의 PROPNAME 의 값 (을)를 PROPVAL로 설정한다.
svn resolved -- 작업 카피의 파일 또는 디렉토리의 "충돌" 상태를 잡기 들여다 봅니다.
svn revert -- 로컬 파일에의 모든 편집을 취소합니다.
svn status -- 작업 카피에 있는 파일이나 디렉토리 상태를 표시.
svn switch -- 작업 카피를 다른 URL에 갱신합니다.
svn update -- 작업 카피의 갱신.
svn add

Name

svn add  -- 파일이나 디렉토리를 추가합니다.
용법

svn add PATH...
설명

파일이나 디렉토리를 작업 카피에 추가해 저장소(repository)에 추가할 것을 예약 합니다. 실제의 추가는 커밋 명령으로 저장소(repository)에 업로드하여 이루어집니다. 커밋 전에 마음이 바뀌었을 경우엔 svn revert로 추가를 취소할 수 있습니다.

별명

없음

변경 대상

작업 카피

스윗치

--targets FILENAME
--non-recursive (-N)
--quiet (-q)

례

작업 카피에 파일을 추가:

$ svn add foo.c
A         foo.c

디렉토리를 추가할 때 svn add 의 디폴트는 재귀적입니다:

$ svn add testdir
A         testdir
A         testdir/a
A         testdir/b
A         testdir/c
A         testdir/d

내부에 있는 파일을 추가하는 것 없이 , 디렉토리만 추가한다 일이 생깁니다:

$ svn add --non-recursive otherdir
A         otherdir

svn cat

Name

svn cat  -- 지정한 파일 또는 URL의 내용을 표시합니다.
용법

svn cat TARGET...
설명

지정한 파일 또는 URL의 내용을 표시합니다. 디렉토리의 내용의 표시에 대해서는,svn list 를 봐 주세요.

별명

없음

변경 대상

없음

저장소(repository)에의 액세스

발생

스윗치

--revision (-r) REV
--username USER
--password PASS

례

체크아웃 하는 것 없이 저장소(repository)중의 readme.txt를 표시하고 싶다 경우:

$ svn cat http://svn.red-bean.com/repos/test/readme.txt
This is a README file.
You should read this.

Tip: 작업 카피가 최신은 아니다(인가, 작업 카피에 무엇인가 수정을 더했다 경우) 상태로, 작업 카피가 있는 파일의 HEAD 리비전을 보고 싶은 경우, 패스를 지정하면svn cat 는 자동적으로 HEAD 리비전 에 액세스 합니다:

$ cat foo.c
This file is in my local working copy
and has changes that I've made.

$ svn cat foo.c
Latest revision fresh from the repository!

svn checkout

Name

svn checkout  -- 저장소(repository)로부터 작업 카피를 체크아웃 합니다.
용법

svn checkout URL... [PATH]
설명

저장소(repository)로부터 작업 카피를 체크아웃 합니다. PATH 가 생략 되면 카피처로서 URL의 베이스명이 사용됩니다. 복수의 URL가 지정되었을 경우에는, 각각이, PATH의 서브 디렉토리에 체크아웃 됩니다만 여기서의 서브 디렉토리의 이름은 URL의 베이스명이 됩니다.

별명

co

변경 대상

작업 카피가 새롭게 만들어집니다.

저장소(repository)에의 액세스

발생

스윗치

--revision (-r) REV
--quiet (-q)
--non-recursive (-N)
--username USER
--password PASS
--no-auth-cache
--non-interactive

례

'mine'로 불리는 디렉토리에 작업 카피를 체크아웃:

$ svn checkout file:///tmp/repos/test mine
A  mine/a
A  mine/b
Checked out revision 2.
$ ls
mine

두 다른 디렉토리를 두 개개의 작업 카피에 체크아웃:

$ svn checkout file:///tmp/repos/test  file:///tmp/repos/quiz
A  test/a
A  test/b
Checked out revision 2.
A  quiz/l
A  quiz/m
Checked out revision 2.
$ ls
quiz  test

두 다른 디렉토리를 두 개개의 작업 카피에 체크아웃 하지만, 양쪽 모두 'working-copies'로 불린다 디렉토리안에 만든다:

$ svn checkout file:///tmp/repos/test  file:///tmp/repos/quiz working-copies
A  working-copies/test/a
A  working-copies/test/b
Checked out revision 2.
A  working-copies/quiz/l
A  working-copies/quiz/m
Checked out revision 2.
$ ls
working-copies

체크아웃을 중단한다(가마타는, 네트워크 접속의 불편 등에 의해 체크아웃이 중단될까 할) 경우, 한번 더 순수한 체크아웃을 실행해도, 불완전한 작업 카피를 갱신하는 것도 재개할 수 있습니다:

$ svn checkout file:///tmp/repos/test test
A  test/a
A  test/b
^C
svn: The operation was interrupted
svn: caught SIGINT

$ svn checkout file:///tmp/repos/test test
A  test/c
A  test/d
^C
svn: The operation was interrupted
svn: caught SIGINT

$ cd test
$ svn update
A  test/e
A  test/f
Updated to revision 3.

svn cleanup

Name

svn cleanup  -- 작업 카피를 재귀적으로 정상화한다.
용법

svn cleanup [PATH...]
설명

작업 카피를 재귀적으로 정상화하기 위해(때문에), 조작이 미완료의 락을 삭제합니다. "작업 카피 락"에러가 발생했을 때에는, 이 커멘드를 실행해, 락을 해제해, 작업 카피를 정상적으로 되돌려 주세요. >(을)를 봐 주세요.

별명

없음

변경 대상

작업 카피

저장소(repository)에의 액세스

발생하지 않는다

스윗치:

없음

례

svn cleanup 는 아무것도 출력하지 않기 때문에, 그다지 예는 없습니다. 만약, PATH 를 지정하지 않으면, '. '를 대신에 사용합니다.

$ svn cleanup

$ svn cleanup /path/to/working-copy

svn commit

Name

svn commit  -- 작업 카피의 변경점을 저장소(repository)에 보냅니다.
용법

svn commit [PATH...]
설명

작업 카피의 변경점을 저장소(repository)에 보냅니다. --file인가, --message 의 옵션을 지정하지 않으면 svn 는 에디터를 기동해, 유저에게 커밋 메세지를 작성시킵니다. >에 있다 editor-cmd 의 장을 봐 주세요.

Tip: 커밋 처리를 시작해 Subversion가 메세지 작성을 위한 에디터를 기동 한 다음에도 아직 변경을 커밋하지 않고 중단할 수가 있습니다. 커밋을 취소하고 싶다면 커밋 메세지를 보존하지 않고 단지 에디터를 종료 해 주세요. Subversion은 커밋을 중단하는지, 메세지없이 계속 하는지, 메세지를 재편집할까를 (들)물어 옵니다.

별명

ci

ci (short for "check in" 의 단축형으로, "co"의 단축이 아닙니다. "co"는"checkout"의 단축형입니다. )

변경 대상

작업 카피, 저장소(repository)

저장소(repository)에의 액세스

발생

스윗치

--message (-m) TEXT
--file (-F) FILE
--quiet (-q)
--non-recursive (-N)
--targets FILENAME
--force-log
--username USER
--password PASS
--no-auth-cache
--non-interactive
--encoding ENC

례

커멘드 라인으로 지정한 커밋 메세지와 커런트 디렉토리 (". ")(을)를 암묵의 타겟으로서 단순한 변경을 커밋합니다:

$ svn commit -m "added howto section. "
Sending        a
Transmitting file data .
Committed revision 3.

파일foo.c (커멘드 라인으로 명시적으로 지정)의 변경점을, 파일msg의 내용을 커밋 메세지와 해 커밋:

$ svn commit -F msg foo.c
Sending        foo.c
Transmitting file data .
Committed revision 5.

커밋 메세지로서--file로 지정한 파일이 버전 관리하에 있는 경우, --force-log 스윗치를 사용할 필요가 있다:

$ svn commit --file file_under_vc.txt foo.c
svn: The log message file is under version control
svn: Log message file is a versioned file; use `--force-log' to override.

$ svn commit --force --file-log file_under_vc.txt foo.c
Sending        foo.c
Transmitting file data .
Committed revision 6.

삭제 예고 파일을 커밋:

svn commit -m "removed file 'c'. "
Deleting       c

Committed revision 7.

svn copy

Name

svn copy  -- 작업 카피나 저장소(repository)중의, 파일이나 디렉토리를 카피.
용법

svn copy SRC DST
설명

작업 카피 또는 저장소(repository)중의 파일을 카피합니다. SRC 와 DST 는, 작업 카피(WC) 상의 패스로도, URL에서도 괜찮습니다:

WC - WC
추가용으로 파일을 카피해, 추가 예고합니다. (with history).

WC - URL
WC의 카피를 직접 URL에 커밋.

URL - WC
URL를 WC에 체크아웃 해, 추가 예고한다.

URL - URL
완전한 서버상만에서의 카피. 이것은 보통 브랜치(branch)나 태그에 이용됩니다.

Warning
파일은 하나의 저장소(repository)의 내부에서만 카피 가능합니다. Subversion은 저장소(repository)간 카피를 서포트하고 있지 않습니다.

별명

cp

변경 대상

카피처가 URL 인 경우는 저장소(repository).

카피처가 작업 카피의 패스인 경우는 작업 카피.

저장소(repository)에의 액세스

카피원 또는 카피처가 저장소(repository)인지, 소스 리비전 번호를 참조할 필요가 있는 경우에는 발생.

스윗치

--message (-m) TEXT
--file (-F) FILE
--revision (-r) REV
--quiet (-q)
--username USER
--password PASS
--no-auth-cache
--non-interactive
--encoding ENC

례

작업 카피중의 파일 또는 디렉토리를 카피( 카피 예고만다음의 커밋까지 저장소(repository)에는 아무것도 일어나지 않는다):

$ svn copy foo.txt bar.txt
A         bar.txt
$ svn status
A  +   bar.txt

저장소(repository)중의 URL 에 작업 카피중의 파일 또는 디렉토리 (을)를 카피(동시에 커밋되므로, 커밋 메세지를 지정할 필요 있어):

$ svn copy near.txt file:///tmp/repos/test/far-away.txt -m "Remote copy. "

Committed revision 8.

저장소(repository)의 파일 또는 디렉토리를 작업 카피에 카피(카피의 예고만다음의 커밋까지 저장소(repository)에는 아무것도 일어나지 않는다):

Tip: 이것은 저장소(repository)중이 죽은 파일을 restore시키는 추천하는 방법입니다

$ svn copy file:///tmp/repos/test/far-away near-here
A         near-here

그리고 마지막에 두 개의 URL의 사이에 카피하는 방법:

$ svn copy file:///tmp/repos/test/far-away file:///tmp/repos/test/over-there -m "remote copy. "

Committed revision 9.

Tip: 저장소(repository)중의 리비전에 태그 짓고 하는 제일 간단한 방법 그 리비전(보통은 HEAD)을 태그 짓고 되었다 디렉토리에, 단지 svn copy 한다.

$ svn copy file:///tmp/repos/test/trunk file:///tmp/repos/test/tags/0. 6.32-prerelease -m "tag tree"

Committed revision 12.

그 태그를 잊는 것을 신파일 할 필요는 없습니다 언제라도 낡은 리비전을 지정해 태그 붙이고 하는 것이 할 수 있습니다:

$ svn copy -r 11 file:///tmp/repos/test/trunk file:///tmp/repos/test/tags/0. 6.32-prerelease -m "Forgot to tag at rev 11"

Committed revision 13.

svn delete

Name

svn delete  -- 작업 카피나 저장소(repository)로부터 파일 또는 디렉토리를 삭제합니다.
용법

svn delete PATH...
svn delete URL...
설명

PATH로 지정된 파일 또는 디렉토리는 다음의 커밋 그리고 삭제하는 것을 예고합니다. 파일(와 아직 커밋하고 있지 않다 디렉토리)는 즉시 작업 카피로부터 삭제됩니다. 이 커멘드는 버전화되어 있지 않은가 수정되어 있지 않은 것에 대해서는 동작하지 않습니다. --force스윗치를 사용하면 이 동작을 변경할 수 있습니다.

URL로 지정된 파일 또는 디렉토리는 직접 커밋을 발행하는 형태로 삭제됩니다. 복수의 URL 는 단일의 트랜잭션(transaction)와 해 불분할에 커밋됩니다.

별명

del, remove, rm

변경 대상

파일에 대해서 실행했을 경우는 작업 카피. URL에 대해서 실행했을 경우는 저장소(repository)

저장소(repository)에의 액세스

URL에 대해서 조작했을 경우만 발생

스윗치

--force
--force-log
--message (-m) TEXT
--file (-F) FILE
--quiet (-q)
--targets FILENAME
--username USER
--password PASS
--no-auth-cache
--non-interactive
--encoding ENC

례

svn 를 사용해 작업 카피로부터 파일을 삭제하면(자), 단지 삭제가 예고될 뿐입니다. 파일은 다음의 커밋 그리고 저장소(repository)로부터 삭제됩니다.

$ svn delete myfile
D         myfile

$ svn commit -m "Deleted file 'myfile'. "
Deleting       myfile
Transmitting file data .
Committed revision 14.

URL를 삭제합니다만, 그것은 즉시 일어나므로 로그 메세지를 지정할 필요가 있습니다:

$ svn delete -m "Deleting file 'yourfile'" file:///tmp/repos/test/yourfile

Committed revision 15.

이 예는 작업 카피에 수정이 있는 파일을 강제 삭제하는 방법입니다:

$ svn delete over-there
svn: Attempting restricted operation for modified resource
svn: Use --force to override this restriction
svn: 'over-there' has local modifications

$ svn delete --force over-there
D         over-there

svn diff

Name

svn diff  -- 두 개의 패스동안의 차이점을 표시합니다.
용법

svn diff [-r N[:M]] [TARGET...]
svn diff URL1[@N] URL2[@M]
설명

두 개의 패스동안의 차이점을 표시합니다. 각각의 TARGET 는 작업 카피 패스나 URL입니다. 만약 TARGET를 지정하지 않으면 '. '가 사용됩니다.

TARGET 가 URL라면 리비전 N와 M는--revision를 사용해 지정됩니다.

TARGET가 작업 카피 패스라면,--revision 스윗치의 의미는 이하와 같이 됩니다:

--revision N:M
서버는 TARGET@N 와 TARGET@M 를 비교합니다.

--revision N
클라이언트는 TARGET@N와 작업 카피를 비교합니다.

(no --revision)
클라이언트는 TARGET의 베이스 리비전과 작업 카피를 비교합니다.

다른 구문을 사용하면(자) 서버는 각각 리비전 N와 M에 있는 URL1와 URL2 (을)를 비교합니다. 만약 N나 M가 생략 되면 HEAD의 값이 사용됩니다.

별명

di

변경 대상

없음

저장소(repository)에의 액세스

차이점을 아는데 필요한 경우는 발생합니다. 다만 작업 카피의 BASE 리비전을 취득하는 경우는 제외합니다.

스윗치

--revision (-r) REV
--extensions (-x) "ARGS"
--non-recursive (-N)
--diff-cmd CMD
--username USER
--password PASS
--no-auth-cache
--non-interactive
--no-diff-deleted

례

BASE 리비전과 작업 카피를 비교합니다. (svn diff 의 제일 자주 있는 사용법):

$ svn diff COMMITTERS
Index: COMMITTERS
===================================================================
--- COMMITTERS  (revision 4404)
+++ COMMITTERS  (working copy)

작업 카피의 변경을 이전의 리비전과 비교하는 방법:

$ svn diff -r 3900 COMMITTERS
Index: COMMITTERS
===================================================================
--- COMMITTERS  (revision 3900)
+++ COMMITTERS  (working copy)

리비전 3000으로 리비전 3500을'@'구문을 사용해 비교:

$ svn diff http://svn.collab.net/repos/svn/trunk/COMMITTERS@3000 http://svn.collab.net/repos/svn/trunk/COMMITTERS@3500
Index: COMMITTERS
===================================================================
--- COMMITTERS  (revision 3000)
+++ COMMITTERS  (revision 3500)


리비전 3000으로 리비전 3500을 범위 지정으로 비교( 이 경우는 하나의 URL만을 건네주면 된다):

$ svn diff -r 3000:3500 http://svn.collab.net/repos/svn/trunk/COMMITTERS
Index: COMMITTERS
===================================================================
--- COMMITTERS  (revision 3000)
+++ COMMITTERS  (revision 3500)

작업 카피가 있는 경우, 긴 URL 지정하는 것 없이 차이점을 취득할 수가 있습니다:

$ svn diff -r 3000:3500 COMMITTERS
Index: COMMITTERS
===================================================================
--- COMMITTERS  (revision 3000)
+++ COMMITTERS  (revision 3500)

--diff-cmd CMD -x 를 사용해 외부 diff 프로그램에 직접 인수를 건네줍니다

svn diff --diff-cmd /usr/bin/diff -x "-i -b" COMMITTERS
Index: COMMITTERS
===================================================================
0a1, 2
 This is a test


svn export

Name

svn export  -- 디렉토리 트리의 export
용법

svn export [-r REV] URL [PATH]
svn export PATH1 PATH2
설명

최초의 구문에서는 지정된 URL의 저장소(repository)로부터 디렉토리 트리를 export 합니다. 이 차이, REV 가 지정되면 리비전 REV 로부터, 그렇지 않으면 HEAD의 리비전이 이용되어 결과는 PATH에 출력됩니다. PATH가 생략 되면 URL의 마지막 부분이 로컬 디렉토리 명칭으로서 이용됩니다.

두번째의 구문에서는 PATH1로 지정된 로컬 작업 카피를 PATH2에 출력 합니다. 모든 작업 카피에의 변경은 보존됩니다만, 버전 관리하 에 없는 파일은 카피되지 않습니다.

별명

없음

변경 대상

로컬 디스크

저장소(repository)에의 액세스

URL로부터의 export의 경우만 발생

스윗치

--revision (-r) REV
--quiet (-q)
--username USER
--password PASS
--no-auth-cache
--non-interactive

례

작업 카피로부터의 export( 모든 파일과 디렉토리를 하나 하나 표시하지 않는다):

$ svn export a-wc my-export
pantheon: /tmp

저장소(repository)로부터 직접 export( 모든 파일과 디렉토리를 표시):

$ svn export file:///tmp/repos my-export
A  my-export/test
A  my-export/quiz

Exported revision 15.

svn help

Name

svn help  -- 헬프
용법

svn help [SUBCOMMAND...]
설명

Subversion을 사용하는 경우의 최선의 가이드로, 거기에 비교하면(자) 이 책 등은 미치지 않습니다!

별명

?, h

변경 대상

없음

저장소(repository)에의 액세스

발생하지 않는다

스윗치

--version
--quiet (-q)

svn import

Name

svn import  -- PATH를 URL에 대해서 재귀적으로 커밋합니다.
용법

svn import [PATH] URL
설명

PATH의 카피를 재귀적으로URL 에 커밋합니다. PATH 가 없으면 '. '가 가정됩니다. 필요에 따라서 친디렉토리가 저장소(repository)에 만들어집니다.

별명

없음

변경 대상

저장소(repository)

저장소(repository)에의 액세스

발생한다

스윗치

--message (-m) TEXT
--file (-F) FILE
--quiet (-q)
--non-recursive (-N)
--username USER
--password PASS
--no-auth-cache
--non-interactive
--force-log
--encoding ENC

례

이것은, 로컬 디렉토리'myproj'를 저장소(repository)의 근원에 임포트 합니다:

$ svn import -m "New import" myproj http://svn.red-bean.com/repos/test
Adding         myproj/sample.txt

Transmitting file data .........
Committed revision 16.

이것은 로컬 디렉토리'myproj'를 저장소(repository)의'trunk/vendors' 에 임포트 합니다. 디렉토리'trunk/vendor'는 임포트 하기 전에 존재하고 있지 않아도 괜찮습니다 svn import (은)는 재귀적으로 디렉토리를 만듭니다:

$ svn import -m "New import" myproj \
    http://svn.red-bean.com/repos/test/trunk/vendors/myproj
Adding         myproj/sample.txt

Transmitting file data .........
Committed revision 19.

svn info

Name

svn info  -- PATH에 대한 정보를 표시합니다.
용법

svn info [PATH...]
설명

작업 카피의 패스에 대한 정보를 표시합니다. 이것에는:

패스

이름

URL

리비전

노드의 종류

마지막에 수정한 사람

마지막에 수정한 리비전

마지막에 수정한 일시

마지막에 갱신한 텍스트

마지막에 갱신한 속성

체크 섬

별명

없음

변경 대상

없음

저장소(repository)에의 액세스

발생하지 않는다

스윗치

--targets FILENAME
--recursive (-R)

례

svn info 는 작업 카피중의 파일 또는 디렉토리에 관한 유용한 정보를 표시합니다. 다음은 파일에 관한 정보를 표시합니다:

$ svn info foo.c
Path: foo.c
Name: foo.c
URL: http://svn.red-bean.com/repos/test/foo.c
Revision: 4417
Node Kind: file
Schedule: normal
Last Changed Author: sally
Last Changed Rev: 20
Last Changed Date: 2003-01-13 16:43:13 -0600 (Mon, 13 Jan 2003)
Text Last Updated: 2003-01-16 21:18:16 -0600 (Thu, 16 Jan 2003)
Properties Last Updated: 2003-01-13 21:50:19 -0600 (Mon, 13 Jan 2003)
Checksum: /3L38YwzhT93BWvgpdF6Zw==

디렉토리에 대한 정보를 표시할 수도 있습니다:

$ svn info vendors
Path: trunk
URL: http://svn.red-bean.com/repos/test/vendors
Revision: 19
Node Kind: directory
Schedule: normal
Last Changed Author: harry
Last Changed Rev: 19
Last Changed Date: 2003-01-16 23:21:19 -0600 (Thu, 16 Jan 2003)

svn list

Name

svn list  -- 저장소(repository)중의 디렉토리 엔트리를 일람표 가리킵니다.
용법

svn list [TARGET...]
설명

각각의 TARGET 파일과 TARGET 디＋쿠트리의 저장소(repository) 안의 내용을 일람표 가리킵니다. TARGET 가 작업 카피의 패스인 경우, 대응하는 저장소(repository) URL 가 이용됩니다.

디폴트의 TARGET 치는 '. '로, 현재의 작업 카피 디렉토리 의 저장소(repository) URL를 의미합니다.

--verbose를 사용하면(자) 이하의 필드가 아이템마다의 상태를 나타냅니다:

마지막 커밋의 리비전 번호

마지막 커밋을 한 사람

데이터 사이즈 (아르바이트 단위의)

마지막 커밋의 일시

별명

ls

변경 대상

없음

저장소(repository)에의 액세스

발생한다

스윗치

--revision (-r) REV
--verbose (-v)
--recursive (-R)
--username USER
--password PASS
--no-auth-cache
--non-interactive

례

svn list 는, 작업 카피를 다운로드하는 것 없이 어떤 파일이 저장소(repository)에 있을까를 안다 때에 도움이 됩니다:

$ svn list http://svn.red-bean.com/repos/test/support
README.txt
INSTALL
례/


UNIX 의 ls와 같이 추가 정보를 얻기 위해서(때문에) --verbose 스윗치를 붙일 수도 있습니다:

svn list --verbose file:///tmp/repos
     16 sally         28361 Jan 16 23:18 README.txt
     27 sally             0 Jan 18 15:27 INSTALL
     24 harry               Jan 18 11:27 예/

자세하게는>(을)를 봐 주세요.

svn log

Name

svn log  -- 커밋 로그 메세지의 표시.
용법

svn log [PATH]
svn log URL [PATH...]
설명

디폴트의 타겟은 현재의 작업 디렉토리의 패스가 됩니다. 인수를 지정하지 않으면 svn log 는 자신의 작업 카피의 현재의 작업 디렉토리 자신과 그 내부의 모든 파일과 디렉토리에 관한 로그 메세지를 표시합니다. 하나의 패스, 하나 이상의 리비전, 혹은 그러한 편성을 지정하는 것으로 결과 내용을 지정을 할 수 있습니다. 로컬 패스의 디폴트 리비전 범위는, BASE:1 입니다.

URL만을 지정하면, 그 URL 에 포함되는 모든 로그 메세지가 표시됩니다. URL의 뒤에 패스를 붙이면 URL중의 그러한 패스에 포함된다 메세지만이 표시됩니다. URL 의 디폴트 리비전 범위는 HEAD:1 입니다.

--verbose 를 지정하면(자)svn log (은)는 각각의 로그 메세지와 함께 관련한 모든 패스를 표시합니다. --quiet 를 지정하면(자) svn log (은)는 로그 메세지의 본체 부분을 표시하지 않게 됩니다(이것은 --verbose 스윗치와 양립합니다).

각각의 로그 메세지는, 그 리비전에 영향이 있는 패스가 두 번 이상 요구되어도, 한 번만 표시됩니다. 디폴트에서는 Logs cross copy history; --strict 로 이 동작을 무효로 할 수 있습니다.

별명

없음

변경 대상

없음

저장소(repository)에의 액세스

발생한다

스윗치

--revision (-r) REV
--quiet (-q)
--verbose (-v)
--targets FILENAME
--username USER
--password PASS
--no-auth-cache
--non-interactive
--strict
--incremental
--xml

례

최상정도로 svn log 를 실행하는 것에 의해 작업 카피중의 변경된 모든 패스의 로그 메세지를 볼 수가 있습니다:

$ svn log
------------------------------------------------------------------------
r20 | harry | 2003-01-17 22:56:19 -0600 (Fri, 17 Jan 2003) | 1 line

Tweak.
------------------------------------------------------------------------
r17 | sally | 2003-01-16 23:21:19 -0600 (Thu, 16 Jan 2003) | 2 lines


작업 카피중의 특정의 파일에 관한 모든 로그 메세지를 조사합니다:

$ svn log foo.c
------------------------------------------------------------------------
r32 | sally | 2003-01-13 16:43:13 -0600 (Mon, 13 Jan 2003) | 1 line

Added defines.
------------------------------------------------------------------------
r28 | sally | 2003-01-07 21:48:33 -0600 (Tue, 07 Jan 2003) | 3 lines


작업 카피가 수중에 없는 경우, URL를 log 할 수가 있습니다:

$ svn log http://svn.red-bean.com/repos/test/foo.c
------------------------------------------------------------------------
r32 | sally | 2003-01-13 16:43:13 -0600 (Mon, 13 Jan 2003) | 1 line

Added defines.
------------------------------------------------------------------------
r28 | sally | 2003-01-07 21:48:33 -0600 (Tue, 07 Jan 2003) | 3 lines


같은 URL아래의 몇개의 다른 패스를 갖고 싶은 경우URL [PATH...] 구문을 사용할 수가 있습니다.

$ svn log http://svn.red-bean.com/repos/test/ foo.c bar.c
------------------------------------------------------------------------
r32 | sally | 2003-01-13 16:43:13 -0600 (Mon, 13 Jan 2003) | 1 line

Added defines.
------------------------------------------------------------------------
r31 | harry | 2003-01-10 12:25:08 -0600 (Fri, 10 Jan 2003) | 1 line

Added new file bar.c
------------------------------------------------------------------------
r28 | sally | 2003-01-07 21:48:33 -0600 (Tue, 07 Jan 2003) | 3 lines


그것은 커멘드 라인상에서 양쪽 모두의 URL를 명시적으로 두는 것과 같은 것이 됩니다:

$ svn log http://svn.red-bean.com/repos/test/foo.c \
          http://svn.red-bean.com/repos/test/bar.c


복수의 log 커멘드의 결과를 연결하고 싶은 경우,--incremental 스윗치를 사용할 수가 있습니다. svn log는 보통 메세지의 최초로 데쉬의 행을 표시 해, 각각의 계속하는 로그 메세지를 표시해, 마지막 로그 메세지가 거기에 계속됩니다. 만약 svn log 를 두 개의 리비전 범위에서 실행했을 경우, 다음과 같은 출력 (이)가 됩니다:

$ svn log -r 14:15
------------------------------------------------------------------------
r14 | ...

------------------------------------------------------------------------
r15 | ...

------------------------------------------------------------------------

그러나, 두 차례로 되지 않은 로그 메세지를 파일에 출력하고 싶은 경우, 무엇인가 다음과 같은 기분이 들겠지요:

$ svn log -r 14 > mylog
$ svn log -r 19 >> mylog
$ svn log -r 27 >> mylog
$ cat mylog
------------------------------------------------------------------------
r14 | ...

------------------------------------------------------------------------
------------------------------------------------------------------------
r19 | ...

------------------------------------------------------------------------
------------------------------------------------------------------------
r27 | ...

------------------------------------------------------------------------

incremental 스윗치를 사용하면, 출력중의 중복 한 데쉬행 의 표시를 피할 수가 있습니다:

$ svn log --incremental -r 14 > mylog
$ svn log --incremental -r 19 >> mylog
$ svn log --incremental -r 27 >> mylog
$ cat mylog
------------------------------------------------------------------------
r14 | ...

------------------------------------------------------------------------
r19 | ...

------------------------------------------------------------------------
r27 | ...

--incremental 스윗치는, --xml 스윗치를 사용했을 때 것과 같은 출력 제어를 합니다.

Tip: 만약 svn log 를 특정의 패스상의 특정의 리비전 지정으로 실행하면(자) 아무것도 출력되지 않을 것입니다

$ svn log -r 20 http://svn.red-bean.com/untouched.txt
------------------------------------------------------------------------

그것은 패스는 리비전에 따라서는 수정되지 않았던 것을 의미 하고 있습니다. 저장소(repository)의 최상정도로 log 하는지, 그 리비전으로 수정한 파일을 알고 있다면, 명시적으로 그것을 지정하는 것이 할 수 있습니다:

$ svn log -r 20 touched.txt
------------------------------------------------------------------------
r20 | sally | 2003-01-17 22:56:19 -0600 (Fri, 17 Jan 2003) | 1 line

Made a change.
------------------------------------------------------------------------

svn merge

Name

svn merge  -- 두 소스의 차이를 작업 카피 패스에 반영합니다.
용법

svn merge sourceURL1[@N] sourceURL2[@M] [WCPATH]
svn merge -r N:M SOURCE [PATH]
설명

최초의 형식에서는 소스가 되는 URL는 리비전 N 와 M 로 지정되어 그 둘이 비교됩니다. 리비전이 생략 되면 HEAD 를 지정된 것과 간주합니다.

두번째의 형식에서는 SOURCE 는 URL 인가, 작업 카피 아이템이며, 그 경우, 대응한 URL가 이용됩니다. 이, 리비전 N 와 M 의 URL가, 비교 대상과 됩니다.

WCPATH 가 변경을 받아들이는 작업 카피 패스입니다. 만약 WCPATH가 생략 되면(자), 디폴트로서'. '가 이용됩니다. 다만, 양쪽 모두의 소스의 베이스명이 같아, 게다가 그 이름의 파일이'. '에 있는 경우는 별개로, 이 경우는, 차분은 그 파일에 적용됩니다.

별명

없음

변경 대상

작업 카피

저장소(repository)에의 액세스

URL에 대해서 동작할 때 마셔 발생한다

스윗치

--revision (-r) REV
--non-recursive (-N)
--quiet (-q)
--force
--dry-run
--username USER
--password PASS
--no-auth-cache
--non-interactive

례

브랜치(branch)를 주계에 merge 합니다 (주계의 작업 카피가 있는 것이 전제가 됩니다):

$ svn merge http://svn.red-bean.com/repos/trunk/vendors \
            http://svn.red-bean.com/repos/branches/vendors-with-fix
U  myproj/tiny.txt
U  myproj/thhgttg.txt
U  myproj/win.txt
U  myproj/flo.txt

리비전 23으로 분기(브랜치(branch)화) 해, 그 브랜치(branch)안의 주계로 변경을 merge 하고 싶다고 합니다. 이것에는 브랜치(branch)의 작업 카피 중(안)에서 이하와 같은 조작을 합니다:

$ svn merge -r 23:30 file:///tmp/repos/trunk/vendors
U  myproj/thhgttg.txt


변경을 하나의 파일에 merge 하려면:

$ cd myproj
$ svn merge -r 30:31 thhgttg.txt
U  thhgttg.txt

svn mkdir

Name

svn mkdir  -- 버전 관리하에 있는 새로운 디렉토리를 만듭니다.
용법

svn mkdir PATH...
svn mkdir URL...
설명

PATH 또는 URL를 마지막 부분으로 할 것 같은 디렉토리를 만듭니다. 작업 카피 PATH 로 지정된 디렉토리는 작업 카피에의 추가로서 예고됩니다. URL 에 의해 지정된 디렉토리는 작성과 동시에 커밋됩니다. 복수의 디렉토리 URL 는 불분할에 커밋됩니다. 어느 쪽의 경우에서도 도중의 디렉토리는 모두 존재하고 있지 않으면 안됩니다.

별명

없음

변경 대상

작업 카피. URL를 지정했을 경우는 저장소(repository)

저장소(repository)에의 액세스

URL를 지정했을 경우는 발생한다

스윗치

--message (-m) TEXT
--file (-F) FILE
--quiet (-q)
--username USER
--password PASS
--no-auth-cache
--non-interactive
--encoding ENC
--force-log

례

작업 카피중에 디렉토리를 만든다:

$ svn mkdir newdir
A         newdir

저장소(repository)에 만든다(커밋이 발생하므로 로그 메세지를 지정할 필요가 있다) :

$ svn mkdir -m "Making a new dir. " http://svn.red-bean.com/repos/newdir

Committed revision 26.

svn move

Name

svn move  -- 파일이나 디렉토리를 이동한다.
용법

svn move SRC DST
설명

이 커멘드는 작업 카피 또는 저장소(repository)에 있다 파일이나 디렉토리를 이동합니다.

Tip: 이 커멘드는,svn copy 의 뒤에 svn delete를 실행하는 것과 같은 것입니다.

Warning
Subversion에서는 작업 카피와 URL의 사이의 이동은 서포트하고 있지 않습니다. 게다가 파일의 이동은 하나의 저장소(repository)의 내부에서만 가능합니다 Subversion은 저장소(repository)간의 이동을 서포트하고 있지 않습니다.

WC - WC
이동하고 나서, 파일이나 디렉토리를 추가 예고합니다.

URL - URL
서버상에서의 명칭 변경

별명

mv, rename, ren

변경 대상

작업 카피. URL를 지정했을 경우는 저장소(repository)

저장소(repository)에의 액세스

URL를 지정했을 경우는 발생한다

스윗치

--message (-m) TEXT
--file (-F) FILE
--revision (-r) REV
--quiet (-q)
--force
--username USER
--password PASS
--no-auth-cache
--non-interactive
--encoding ENC
--force-log

례

작업 카피의 파일을 이동:

$ svn move foo.c bar.c
A         bar.c
D         foo.c

저장소(repository)의 파일을 이동(커밋이 발생하므로 커밋 메세지를 지정할 필요가 있다):

$ svn move -m "Move a file" http://svn.red-bean.com/repos/foo.c \
                            http://svn.red-bean.com/repos/bar.c

Committed revision 27.

svn propdel

Name

svn propdel  -- 아이템으로부터 속성을 삭제합니다.
용법

svn propdel PROPNAME [PATH...]
svn propdel PROPNAME --revprop -r REV [URL]
설명

이것은 파일, 디렉토리, 리비전으로부터 속성을 삭제합니다. 최초의 형식은 작업 카피의 버전 관리된 속성을 삭제해, 두번째의 형식에서는 저장소(repository) 리비전상의 버전 관리되어 있지 않은 속성을 삭제합니다.

별명

pdel, pd

변경 대상

작업 카피. URL를 지정했을 경우는 저장소(repository)

저장소(repository)에의 액세스

URL를 지정했을 경우만 발생한다

스윗치

--quiet (-q)
--recursive (-R)
--revision (-r) REV
--revprop

례

작업 카피의 파일로부터 속성을 삭제한다

$ svn propdel svn:mime-type  some-script
property `svn:mime-type' deleted from 'some-script'.

리비전 속성을 삭제한다:

$ svn propdel --revprop -r 26 release-date
property `release-date' deleted from repository revision '26'

svn propedit

Name

svn propedit  -- 버전 관리되고 있는 하나 이상의 아이템의 속성을 편집한다.
용법

svn propedit PROPNAME PATH...
svn propedit PROPNAME --revprop -r REV [URL]
설명

하나 이상의 속성을 좋아하는 에디터로 수정합니다. 최초의 형식은 작업 카피중의 버전 관리된 속성을 편집합니다. 두번째의 형식에서는 저장소(repository) 리비전상의 버전 관리되어 있지 않다 속성을 편집합니다.

별명

pedit, pe

변경 대상

작업 카피. URL를 지정했을 경우는 저장소(repository)

저장소(repository)에의 액세스

URL를 지정했을 경우만 발생한다

스윗치

--revision (-r) REV
--revprop
--encoding ENC

례

svn propedit 는, 복수의 값을 가진다 속성을 간단하게 변경할 수가 있습니다:

$ svn propedit svn:keywords  foo.c
    svn will launch your favorite editor here, with a buffer open
    containing the current contents of the svn:keywords property.   You
    can add multiple values to a property easily here by entering one
    value per line.
Set new value for property `svn:keywords' on `foo.c'

svn propget

Name

svn propget  -- 속성의 값을 표시합니다.
용법

svn propget PROPNAME [PATH...]
svn propget PROPNAME --revprop -r REV [URL]
설명

파일, 디렉토리, 리비전의 속성치를 표시합니다. 최초의 형식은 작업 카피에 있는 하나 이상의 아이템의 버전 관리된 속성을 표시합니다. 두번째의 형식인 저장소(repository) 리비전의 버전 관리하고 있지 않는 속성을 표시합니다. 속성에 대한 자세한 것은 > (을)를 봐 주세요.

별명

pget, pg

변경 대상

작업 카피. URL를 지정했을 경우는 저장소(repository)

저장소(repository)에의 액세스

URL를 지정했을 때 마셔 발생한다

스윗치

--recursive (-R)
--revision (-r) REV
--revprop

례

작업 카피중의 아이템의 속성을 조사한다:

$ svn propget svn:keywords foo.c
Author
Date
Rev

리비전 속성에 대해서도 같이:

$ svn propget svn:log --revprop -r 20
Began journal.

svn proplist

Name

svn proplist  -- 모든 속성을 일람표 가리킵니다.
용법

svn proplist [PATH...]
svn proplist --revprop -r REV [URL]
설명

파일, 디렉토리, 리비전의 모든 속성을 일람표 가리킵니다. 최초의 형식에서는 작업 카피중의 버전 관리된 속성을 표시합니다만, 두번째의 형식인 저장소(repository) 리비전의 속성을 표시합니다.

별명

plist, pl

변경 대상

작업 카피. URL가 지정되어 있는 경우는 저장소(repository)

저장소(repository)에의 액세스

URL를 지정했을 경우만 발생한다

스윗치

--verbose (-v)
--recursive (-R)
--revision (-r) REV
--revprop

례

작업 카피의 아이템의 속성의 일람을 보고 싶은 경우는 proplist 커멘드를 사용할 수가 있습니다:

$ svn proplist foo.c
Properties on 'foo.c':
  svn:mime-type
  svn:keywords
  owner

그러나--verbose 플래그를 붙이면(자), 각각의 속성의 값도 함께 표시할 수가 있으므로 매우 편리합니다:

$ svn proplist --verbose foo.c
Properties on 'foo.c':
  svn:mime-type : text/plain
  svn:keywords : Author Date Rev
  owner : sally

svn propset

Name

svn propset  -- 파일, 디렉토리, 리비전의 PROPNAME 의 값 (을)를 PROPVAL로 설정한다.
용법

svn propset PROPNAME [PROPVAL | -F VALFILE] PATH [PATH [PATH ... ]]
svn propset PROPNAME --revprop -r REV [PROPVAL | -F VALFILE] [URL]
설명

파일, 디렉토리, 리비전의 PROPNAME의 값을 PROPVAL로 설정합니다. 최초의 예는 버전 관리된 작업 카피중의 속성치의 변경으로, 두번째는 버전 관리되어 있지 않은 저장소(repository)상의 리비전 속성치의 작성입니다.

Tip: Subversion은, 동작에 영향을 주는 많은"특별한"속성 (을)를 갖고 있습니다. 자세하게는 >(을)를 봐 주세요.

별명

pset, ps

변경 대상

작업 카피. URL를 지정했을 경우만 저장소(repository)

저장소(repository)에의 액세스

URL를 지정했을 경우만 발생한다

스윗치

--file (-F) FILE
--quiet (-q)
--revision (-r) REV
--targets FILENAME
--recursive (-R)
--revprop
--encoding ENC

례

파일의 MIME 타입을 설정한다:

$ svn propset svn:mime-type image/jpeg foo.jpg
property `svn:mime-type' set on 'foo.jpg'

UNIX 상에서, 어느 파일에 실행 속성을 붙이고 싶을 때에는:

$ svn propset svn:executable ON somescript
property `svn:executable' set on 'somescript'

아마, 공동 작업자의 편의를 생각하면(자), 어느 속성을 설정 하려면 내부적인 폴리시가 없으면 안됩니다:

$ svn propset owner sally foo.c
property `owner' set on 'foo.c'

특정의 리비전의 로그 메세지를 틀려 버려, 그것을 변경하고 싶을 때, --revprop 를 사용해, svn:log 에 새로운 메세지를 설정합니다:

$ svn propset --revprop -r 25 svn:log "Journaled about trip to New York. "
property `svn:log' set on repository revision '25'

혹은, 작업 카피를 가지고 있지 않은 경우에서도, URL를 설정하는 것이 할 수 있습니다.

$ svn propset --revprop -r 26 svn:log "Document nap. " http://svn.red-bean.com/repos
property `svn:log' set on repository revision '25'

마지막으로, 속성치를 파일을 입력으로서 설정할 수도 있습니다. 이 방법으로, 속성치에 바이너리치를 설정하는 것 조차 할 수 있습니다:

$ svn propset owner-pic -F sally.jpg moo.c
property `owner-pic' set on 'moo.c'

Warning
디폴트에서는 Subversion 저장소(repository)중의 리비전 속성은 변경 할 수 없습니다. 저장소(repository) 관리자는'pre-revprop-change'라고 한다 이름의 훅을 만드는 것으로 명시적으로 리비전 프롭퍼티의 수정을 유효하게 하지 않으면 안됩니다. 푹스 클립트에 대해 자세하게는 > (을)를 봐 주세요.

svn resolved

Name

svn resolved  -- 작업 카피의 파일 또는 디렉토리의 "충돌" 상태를 잡기 들여다 봅니다.
용법

svn resolved PATH...
설명

작업 카피의 파일 또는 디렉토리의 "충돌" 상태를 잡기 들여다 봅니다. 이 커멘드는 충돌 마커를 의미적으로 해소하는 것이 아니라, 단지 충돌에 관계한 중간 파일을 삭제해, PATH로 한번 더 커밋한다 뿐입니다. 즉 Subversion에 그 충돌은 벌써"해소되었다"라고 전합니다. 충돌의 해소에 대한 자세한 것은 > (을)를 봐 주세요.

별명

없음

변경 대상

작업 카피

저장소(repository)에의 액세스

No

스윗치

--targets FILENAME
--recursive (-R)
--quiet (-q)

례

갱신 조작중에 충돌이 있었을 경우, 작업 카피는 세 개의 새로운 파일을 만듭니다:

$ svn update
C  foo.c
Updated to revision 31.
$ ls
foo.c
foo.c.mine
foo.c.r30
foo.c.r31

충돌을 해소해,foo.c 의 커밋의 준비가 할 수 있던 상태에 있는 경우,svn resolved 는 당신의 작업 카피에, 주의하지 않으면 안 되는 모든 일을 전합니다.

Warning
단지 충돌 파일을 삭제하고 나서 커밋할 수도있습니다 하지만 svn resolved 는 작업 카피 관리 area의 기록으로서 충돌 파일을 삭제했다 일도 덧붙이므로, 이 커멘드를 사용하는 것을 추천합니다.

svn revert

Name

svn revert  -- 로컬 파일에의 모든 편집을 취소합니다.
용법

svn revert PATH...
설명

파일, 디렉토리에 대한 변경을 모두 취소해 충돌 상태를 해소합니다. svn revert 작업 카피의 아이템의 내용 만이 아니고, 속성의 변경도 취소합니다. 한층 더 벌써 한 예고 조작을 취소하는데도 사용할 수 있습니다. (예를 들어, 파일에 대한 추가 또는 삭제의 예고 도"삭제되고".

별명

없음

변경 대상

작업 카피

저장소(repository)에의 액세스

없음

스윗치

--targets FILENAME
--recursive (-R)
--quiet (-q)

례

파일에 대한 변경의 취소:

$ svn revert foo.c
Reverted foo.c

디렉토리 전체를 취소하고 싶은 경우는, --recursive 플래그를 사용합니다:

$ svn revert --recursive .
Reverted newdir/afile
Reverted foo.c
Reverted bar.txt

마지막으로, 어느 예고 조작도 취소할 수가 있습니다:

$ svn add mistake.txt whoops
A         mistake.txt
A         whoops
A         whoops/oopsie.c

$ svn revert mistake.txt whoops
Reverted mistake.txt
Reverted whoops

$ svn status
?       mistake.txt
?       whoops

Warning
svn revert 의 대상을 지정하지 않으면, 그것은 아무것도 하지 않습니다 잘못한 수정의 파기로부터 작업 카피를 지키기 위해서,svn revert 조작은 적어도 하나의 인수를 지정하도록(듯이) 요구합니다.

svn status

Name

svn status  -- 작업 카피에 있는 파일이나 디렉토리 상태를 표시.
용법

svn status [PATH...]
설명

작업 카피에 있는 파일이나 디렉토리 상태를 표시합니다. 인수가 없는 경우는, 로컬로 수정된 아이템만이 표시됩니다(저장소(repository)에 대하는 액세스는 발생하지 않습니다 --show-updates를 사용하면(자), 작업 리비전과 서버의 최신이 아닌 정보도 추가됩니다. --verbose를 사용하면(자), 모든 아이템에 대한다 완전한 리비전 정보를 표시합니다.

출력의 최초의 5열의 칼럼은 각각 한 글자폭으로, 작업 카피 아이템 마다 여러가지 정보를 표시합니다.

최초의 칼럼은, 아이템이 추가, 삭제, 그 이외의 변경, 목 상태인지를 (을)를 나타냅니다.

' '
변경은 없습니다.

'A'
아이템은 추가 예고되고 있습니다.

'D'
아이템은 삭제 예고되고 있습니다.

'M'
아이템은 수정되었습니다.

'C'
아이템은 저장소(repository)로부터 받은 갱신에 의해 충돌 한 상태에 있습니다.

'I'
아이템은 무시되고 있는 속성입니다 (예를 들어, svn:ignore와 같은)

'? '
아이템은 버전 관리하에 없습니다.

'! '
아이템은 없어졌습니다(이것은 예를 들어, svn를 사용하지 않고 파일을 삭제하거나 이동했을 경우에 일어납니다). 또, 이것은 디렉토리가 불완전한 것을 나타내고 있습니다 (체크아웃이나 갱신이 중단된, 등).

'~'
아이템은 디렉토리로서 버전 관리되어 있습니다만, 파일로 옮겨놓을 수 있어 버렸습니다. 혹은 그 역의 상황이 일어났습니다.

두번째의 칼럼은 파일이나 디렉토리의 속성 상태를 나타냅니다.

' '
수정은 없습니다.

'M'
이 아이템의 속성은 수정되었습니다.

'C'
이 아이템의 속성은 저장소(repository)로부터 받은 속성 갱신에 의해 충돌한 상태에 있습니다.

3번째의 칼럼은 작업 카피가 락 되고 있는 경우에만 사용됩니다.

' '
아이템은 락 되고 있지 않습니다.

'L'
아이템은 락 되고 있습니다.

4번째의 칼럼은 아이템이 추가 예고되고 있는 경우에게만 사용됩니다.

' '
커밋 기다리는 예고는 없습니다.

'+'
커밋 기다리는 예고가 있습니다.

다섯번째의 칼럼은 아이템이 부모에 대해서 상대적으로 교체되었다 때에만 사용됩니다. (>를 봐 주세요).

' '
아이템은 친디렉토리의 아이입니다.

'S'
아이템은 바뀌고 있습니다.

최신 상태에 관계한 정보가 8번째의 칼럼에 표시됩니다 (--show-updates 스윗치를 건네주었을 경우).

' '
작업 카피의 아이템은 최신입니다.

'*'
서버에는 아이템의 것 좀 더 새로운 버전이 존재합니다.

나머지의 필드는 공백에서 단락지어진 가변장입니다. --show-updates 나--verbose (을)를 지정했을 경우는 작업 리비전이 다음의 필드가 됩니다.

--verbose 스윗치를 지정하면(자) 마지막 커밋 리비전 (와)과 그것을 한 사람이 다음에 표시됩니다.

작업 카피의 패스는 항상 마지막 필드가 되므로, 공백을 포함하는 것이 할 수 있습니다.

별명

stat, st

변경 대상

없음

저장소(repository)에의 액세스

--show-updates가 지정되었을 경우에 한발생한다

스윗치

--show-updates (-u)
--verbose (-v)
--non-recursive (-N)
--quiet (-q)
--username USER
--password PASS
--no-auth-cache
--non-interactive
--force-log
--no-ignore

례

작업 카피(?변경점을 조사하기 위한 제일 간단한 방법:

$ svn status wc
 M     wc/bar.c
A  +   wc/qax.c

작업 카피중, 어느 파일이 최신이 아닌가를 알고 싶은 경우 (은)는--show-updates 스윗치를 지정해 주세요(이것은 작업 카피의 내용을결코변경하지 않습니다). 마지막에 자신의 작업 카피를 갱신하고 나서 저장소(repository)의wc/foo.c (으)로 변경이 있었을 때에는 다음과 같이 됩니다:

$ svn status --show-updates wc
 M           965    wc/bar.c
       *     965    wc/foo.c
A  +         965    wc/qax.c
Head revision:   981

Warning
--show-updates는, 최신이 아닌 아이템의 이웃에 asterisk를 두는만 입니다(즉,svn update를 실행했다고 하면 저장소(repository)로부터 의 정보로 갱신될 아이템의 전에게만, 이라고 하는 의미입니다). --show-updates 은, 아이템의 저장소(repository) 버전을 반영 한 상태 일람을 표시하는 것은아닙니다.

마지막으로, status 서브 커멘드로 제일 많은 정보를 얻으려면:

$ svn status --show-updates --verbose wc
 M           965       938 sally        wc/bar.c
       *     965       922 harry        wc/foo.c
A  +         965       687 harry        wc/qax.c
             965       687 harry        wc/zig.c
Head revision:   981

svn status 의 것 좀 더 많은 예는 >에 있습니다.

svn switch

Name

svn switch  -- 작업 카피를 다른 URL에 갱신합니다.
용법

svn switch URL [PATH]
설명

이 서브 커멘드는 자신의 작업 카피를 새로운 URL에 갱신해, 복제를 만듭니다. 그렇게 할 필요는 없습니다만, 보통은 그 URL는 바탕으로 되는 작업 카피와 공통의 조상을 가집니다. 이것이 Subversion로 작업 카피를 다른 브랜치(branch)에 이동시키는 방법 입니다. > 에 의해 자세한 설명이 있습니다.

별명

sw

변경 대상

작업 카피

저장소(repository)에의 액세스

발생한다

스윗치

--revision (-r) REV
--non-recursive (-N)
--quiet (-q)
--diff3-cmd CMD
--relocate
--username USER
--password PASS
--no-auth-cache
--non-interactive

례

지금'vendors-with-fix'로부터 분기 한'vendors'라고 하는 디렉토리의 내부에 있어, 그 브랜치(branch)의 작업 카피로 옮기고 싶을 때에는:

$ svn switch http://svn.red-bean.com/repos/branches/vendors-with-fix .
U  myproj/foo.txt
U  myproj/bar.txt
U  myproj/baz.c
U  myproj/qux.c
Updated to revision 31.

그리고, 원래대로 돌아가고 싶을 때에는, 최초로 작업 카피를 체크아웃 했다 저장소(repository)의 장소를 URL로서 지정할 뿐입니다:

$ svn switch http://svn.red-bean.com/repos/trunk/vendors .
U  myproj/foo.txt
U  myproj/bar.txt
U  myproj/baz.c
U  myproj/qux.c
Updated to revision 31.

Tip: 작업 카피 전체를 바꾸고 싶지 않은 경우, 그 일부만을 브랜치(branch)에 바꿀 수도 있습니다.

저장소(repository)의 장소가 변경되었지만, 그대로 계속해 이용하고 싶다고 생각한다 작업 카피가 있는 경우,svn switch --relocate를 사용해 어느 URL로부터 다른 URL를 가리키도록(듯이) 작업 카피를 변경할 수가 있습니다:

$ svn checkout file:///tmp/repos test
A  test/a
A  test/b


$ mv repos newlocation
$ cd test/

$ svn update
svn: Couldn't open a repository.
svn: Unable to open an ra_local session to URL
svn: Unable to open repository 'file:///tmp/repos'

$ svn switch --relocate file:///tmp/repos file:///tmp/newlocation .
$ svn update
At revision 3.

svn update

Name

svn update  -- 작업 카피의 갱신.
용법

svn update [PATH...]
설명

svn update 는, 저장소(repository)의 수정을 작업 카피에 반영합니다. 리비전을 지정하지 않으면, HEAD 리비전의 최신 의 내용이 반영됩니다. 그렇지 않으면,--revision 스윗치 그리고 지정된 리비전에 작업 카피를 동기 합니다.

갱신되는 아이템 마다, 어떠한 동작을 일으켰는지를 나타내는 캐릭터로 시작된다 행이 표시됩니다. 이 캐릭터는 이하와 같은 의미입니다:

A
추가

D
삭제

U
갱신

C
충돌

M
merge

최초의 칼럼의 캐릭터는 실제의 파일의 갱신을 나타냅니다만, 파일의 속성의 갱신 상황은 두번째의 칼럼에서 가리킵니다.

별명

up

변경 대상

작업 카피

저장소(repository)에의 액세스

발생한다

스윗치

--revision (-r) REV
--non-recursive (-N)
--quiet (-q)
--username USER
--password PASS
--no-auth-cache
--non-interactive

례

마지막 갱신 후에 일어난 저장소(repository)의 수정을 수중에 넣습니다:

$ svn update
A  newdir/toggle.c
A  newdir/disclose.c
A  newdir/launch.c
D  newdir/README
Updated to revision 32.

좀 더 낡은 리비전으로 작업 카피를 갱신할 수도 있습니다. (Subversion 는 CVS 와 같이"붙어" 파일 의 개념을 가지지 않습니다. >(을)를 봐 주세요):

svn update -r30
A  newdir/README
D  newdir/toggle.c
D  newdir/disclose.c
D  newdir/launch.c
U  foo.c
Updated to revision 30.

Tip: 하나의 파일의 낡은 버전을 조사하고 싶을 때에는 svn cat를 사용하고 싶어질지도 알려지지 않습니다.

1.2. svnadmin

svnadmin 는 Subversion 저장소(repository)를 감시하거나 수복하거나하기 위한 관리툴입니다. 자세하게는>을 봐 주세요.

svnadmin는 직접 저장소(repository)에 대한 액세스에 보다 동작하므로(그리고, 저장소(repository)가 존재하는 머신상에서만 이용하는 것이 할 수 있으므로), URL가 아니고, 패스명에 의해 저장소(repository)를 참조합니다.

1.2.1. svnadmin스윗치

--bypass-hooks
저장소(repository)의 훅을 우회 합니다.

--copies
패스를 조사할 때 카피 히스토리를 표시합니다.

--in-repos-template ARG
새로운 저장소(repository)를 작성할 경우에, 저장소(repository) 구조의 템플릿을 지정합니다.

"in-repository" 템플릿은 저장소(repository) 자신의 레이아웃 (을)를 지정합니다(그것은, db/ 디렉토리안의 Berkeley DB 파일 그리고 사용됩니다). /trunk, /branches ···(와)과 같은 형태입니다. 템플릿은 저장소(repository)의 최초의 로드를(hook 없음으로) 실행하는데 관리자나 어플리케이션에 의해 사용하는 것이라고 옵니다. 디폴트는 없습니다. 아무것도 지정하지 않으면 저장소(repository)는"빈 상태로" 로 작성됩니다.

--incremental
리비전의 전체를 덤프 하는 것이 아니라, 이전의 리비전에 대한 차분으로서 덤프 합니다.

--on-disk-template ARG
만들고 싶다고 생각하는 저장소(repository)를 위해서(때문에), 디스크상의 구조를 템플릿에 이용하도록(듯이) 지정합니다.

"on-disk" 템플릿은 저장소(repository)의 디렉토리 그것을 나타냅니다. 각각의 템플릿은 이름을 갖고, "default" 의 디스크 템플릿은, 이하와 같은 내용을 가집니다:

default/

README.txt

dav/

format

hooks/

post-commit.tmpl

post-revprop-change.tmpl

pre-commit.tmpl

pre-revprop-change.tmpl

start-commit.tmpl

locks/

db.lock

디스크상의 구조의 전형적인 사용법은 작성되는 푹스 클립트로서 벌써 정의된 것을 사용하는 것 같은 경우입니다. 예를 들어 커밋시의 메일러와 백업 스크립트가 있다 post-commit 스크립트를 만들어 있다고 합니다. 이후, 관리자가 새로운 저장소(repository)를 만들 때마다, 모든 훅을 미리 자동적으로 포함한, 이 새로운 템플릿을 지정한다 일이 생깁니다.

--revision (-r) ARG
조작 대상이 되는 특정의 리비전을 지정합니다.

1.2.2. svnadmin 서브 커멘드

Table of Contents
svnadmin list-unused-dblogs -- 어느 로그 파일이 안전하게 삭제 가능한가를 Berkeley DB 에 문의 .
svnadmin create -- REPOS_PATH에 신규의 빈 저장소(repository)를 만듭니다.
svnadmin dump -- 파일 시스템의 내용을 표준 출력에 덤프 합니다.
svnadmin help --
svnadmin load -- 표준 입력으로부터"덤프 형식" 의 데이터를 읽어들입니다.
svnadmin lstxns -- 커밋되어 있지 않은 모든 트랜잭션(transaction)의 이름의 표시.
svnadmin recover -- 저장소(repository)중이 없어진 상황의 복원.
svnadmin rmtxns -- 저장소(repository)로부터 트랜잭션(transaction)를 삭제합니다.
svnadmin setlog -- 리비전에 로그 메세지를 설정합니다.
svnadmin list-unused-dblogs

Name

svnadmin list-unused-dblogs  -- 어느 로그 파일이 안전하게 삭제 가능한가를 Berkeley DB 에 문의 .
용법

svnadmin list-unused-dblogs REPOS_PATH
설명

Berkeley DB 는 긴급시의 리커버리를 위해서(때문에) 저장소(repository)의 모든 변경점의 로그를 만듭니다. 시간과 함께 로그 파일은 축적됩니다만, 그 대부분은 벌써 이용되지 않고, 디스크 area를 펼치기 위해서(때문에) 삭제할 수가 있습니다. 자세한 것은 > (을)를 봐 주세요.

례

모든 이용되어 있지 않은 로그 파일을 저장소(repository)로부터 삭제합니다:

$ svnadmin list-unused-dblogs /path/to/repos
/path/to/repos/log. 0000000031
/path/to/repos/log. 0000000032
/path/to/repos/log. 0000000033

$ svnadmin list-unused-dblogs /path/to/repos | xargs rm
## disk space reclaimed!

svnadmin create

Name

svnadmin create  -- REPOS_PATH에 신규의 빈 저장소(repository)를 만듭니다.
용법

svnadmin create REPOS_PATH
설명

지정한 패스에 신규에 빈 저장소(repository)를 만듭니다. 패스가 존재하지 않으면 자동적으로 만들어집니다.

스윗치

--on-disk-template arg
--in-repos-template arg

례

새롭게 저장소(repository)를 만들려면 단지 이하와 같이 합니다:

$ svnadmin create /usr/local/svn/repos

svnadmin dump

Name

svnadmin dump  -- 파일 시스템의 내용을 표준 출력에 덤프 합니다.
용법

svnadmin dump REPOS_PATH [-r LOWER[:UPPER]] [--incremental]
설명

파일 시스템의 내용을'dumpfile'가반가능 형식에서 덤프 해, 진행 상황 (을)를 표준 출력에 표시합니다. 리비전 LOWER 로부터, UPPER까지를 덤프 합니다. 리비전이 지정 되지 않으면 모든 리비전 트리를 덤프 합니다. LOWER만이 지정되었을 경우는 하나의 리비전 트리만 덤프 합니다. 실제의 사용법에 대해서는> 을 봐 주세요.

스윗치

--revision (-r)
--incremental

례

저장소(repository) 전체의 덤프:

$ svnadmin dump /usr/local/svn/repos
SVN-fs-dump-format-version: 1
Revision-number: 0
* Dumped revision 0.
Prop-content-length: 56
Content-length: 56


저장소(repository)의 하나의 트랜잭션(transaction)의 차분 덤프:

$ svnadmin dump /usr/local/svn/repos -r 21 --incremental
* Dumped revision 21.
SVN-fs-dump-format-version: 1
Revision-number: 21
Prop-content-length: 101
Content-length: 101


svnadmin help

Name

svnadmin help
용법

svnadmin help [SUBCOMMAND...]
설명

이 서브 커멘드는 네트워크 접속이 잘 되지 않게 되어 이 책의 카피를 읽을 수 없게 되거나 해 어디엔가 헤매어 버렸다 같은 때에 도움이 됩니다.

svnadmin load

Name

svnadmin load  -- 표준 입력으로부터"덤프 형식" 의 데이터를 읽어들입니다.
용법

svnadmin load REPOS_PATH
설명

표준 입력으로부터"덤프 형식" 의 데이터를 읽어들여, 저장소(repository)의 파일 시스템에 새롭다 리비전을 커밋합니다. 진행 상황은 표준 출력에 표시됩니다.

례

이것은 백업파일로부터 저장소(repository)를 로드하는 최초의 부분입니다(물론 미리svn dump로 덤프 해 둔 것입니다):

$ svnadmin load /usr/local/svn/restored  repos-backup
 Started new txn, based on original revision 1
     * adding path : test ... done.
     * adding path : test/a ... done.


svnadmin lstxns

Name

svnadmin lstxns  -- 커밋되어 있지 않은 모든 트랜잭션(transaction)의 이름의 표시.
용법

svnadmin lstxns REPOS_PATH
설명

커밋되어 있지 않은 모든 트랜잭션(transaction)의 이름을 표시합니다. 커밋되어 있지 않은 트랜잭션(transaction)는 어떻게 만들어져 어떻게 취급해야할 것인가에 대해서는> 을 봐 주세요.

례

저장소(repository)중의 미해결의 트랜잭션(transaction) 일람의 표시.

$ svnadmin lstxns /usr/local/svn/repos/
1w
1x

svnadmin recover

Name

svnadmin recover  -- 저장소(repository)중이 없어진 상황의 복원.
용법

svnadmin recover REPOS_PATH
설명

저장소(repository)는 수복될 필요가 있다고 하는 에러 메세지를 받아들였다 때로는 이 커멘드를 실행해 주세요.

Warning
저장소(repository)에 액세스 하고 있는 것이 자신 뿐이다고 하는 것이 완전하게 확실한 경우에만 이 커멘드를 실행해 주세요이 커멘드에는 배타적인 액세스권이 필요합니다. 저장소(repository)의 수복에 관한 자세한 것은 >(을)를 봐 주세요.

례

헹 해 버린 저장소(repository)의 수복:

$ svnadmin recover /usr/local/svn/repos/
Acquiring exclusive lock on repository db.
Recovery is running, please stand by...
Recovery completed.
The latest repos revision is 34.

svnadmin rmtxns

Name

svnadmin rmtxns  -- 저장소(repository)로부터 트랜잭션(transaction)를 삭제합니다.
용법

svnadmin rmtxns REPOS_PATH TXN_NAME...
설명

미해결의 트랜잭션(transaction)를 저장소(repository)로부터 삭제합니다. 이것은,>그리고 자세하게 접할 수 있고 있습니다.

례

이름이 붙은 트랜잭션(transaction)의 삭제:

$ svnadmin rmtxns /usr/local/svn/repos/ 1w 1x

행운의 일로, svn lstxns 의 출력은, rmtxns의 입력과 같은 정도 잘 움직입니다:

$ svnadmin rmtxns /usr/local/svn/repos/  `svnadmin lstxns /usr/local/svn/repos/`

이것은 저장소(repository)로부터 모든 커밋되어 있지 않은 트랜잭션(transaction) (을)를 삭제합니다.

svnadmin setlog

Name

svnadmin setlog  -- 리비전에 로그 메세지를 설정합니다.
용법

svnadmin setlog REPOS_PATH -r REVISION FILE
설명

FILE의 내용을 리비전 REVISION의 로그 메세지로서 설정합니다.

이것은,svn propset --revprop를 사용해 리비전상에 svn:log속성을 설정하는 것과 닮아 있습니다만, --bypass-hooks를 사용해 커밋 전후의 훅의 실행을 피한다 일이 생깁니다. 이것은 pre-revprop-change 훅중에서 리비전 속성의 수정 하지만 유효하지 않는 경우에 편리합니다.

Warning
리비전 속성은 버전 관리하에는 없기 때문에 이 커멘드는 이전의 로그 메세지를 완전하게 덧쓰기해 버립니다.

스윗치

--revision (-r) ARG
--bypass-hooks

례

파일'msg'의 내용을 리비전 19의 로그 메세지로 설정합니다:

$ svnadmin setlog /usr/local/svn/repos/ -r 19 msg

1.3. svnlook

svnlook 는 Subversion 저장소(repository)의 다른 부분을 조사하기 위한 커멘드 라인 툴입니다. 이 커멘드는 저장소(repository)에는 무슨 변경도 더하지 않습니다단지"조사하는"싶은 에 이용됩니다. svnlook는 저장소(repository) 훅으로 이용되는 것이 전형적입니다만, 저장소(repository) 관리자는 진단의 목적으로도 이용할 수 있는 것에 눈치챌지도 알려지지 않습니다.

svnlook 는 직접 저장소(repository)에 액세스 하는 형태로 실행된다 의로(그리고, 그것이 이유로 저장소(repository)의 존재하는 머신상에서만 이용하는 것이 할 수 있습니다만), URL가 아니고, 패스 명칭에 의해 저장소(repository)를 참조합니다.

리비전이나 트랜잭션(transaction)가 지정되지 않으면, svnlook 는 저장소(repository)의 최신 리비전을 사용합니다.

1.3.1. svnlook스윗치

svnlook 중의 스윗치는 svn 나svnadmin등과 함께로 글로벌하게 일합니다만, (정도)만큼 어느 스윗치는 하나의 서브 커멘드에 밖에 효과가 없습니다. 그것은svnlook의 기능의 유효 범위가(의도적으로) 한정되어 있기 때문입니다.

--no-diff-deleted
svnlook가 삭제된 파일의 차이를 표시하지 않게 합니다. 트랜잭션(transaction)/리비전중에서 파일이 삭제되었을 때의 디폴트 동작은, 그 파일이 빈 파일로서 남아 있을 때 것과 같게 됩니다.

--revision (-r)
조사하고 싶은 특정의 리비전 번호를 지정합니다.

--transaction (-t)
조사하고 싶은 특정의 트랜잭션(transaction) 번호를 지정합니다.

--show-ids
파일 시스템 트리중의, 각각의 패스마다의 파일 시스템 노드 리비전 번호를 표시합니다.

1.3.2. svnlook 서브 커멘드

Table of Contents
svnlook author -- 처리한 사람의 표시.
svnlook cat -- 파일의 내용을 표시합니다
svnlook changed -- 변경된 패스를 표시합니다.
svnlook date -- 일자를 표시합니다.
svnlook diff -- 변경된 파일, 디렉토리의 차분을 표시합니다.
svnlook dirs-changed -- 변경이 있던 디렉토리를 표시합니다.
svnlook help --
svnlook history -- 저장소(repository)중의 패스의 히스토리에 관한 정보를 표시합니다 (혹은 패스가 지정되지 않았던 경우에는 루트 디렉토리가 됩니다).
svnlook info -- 작업자, 일자, 로그 메세지의 크기, 로그 메세지를 표시합니다.
svnlook log -- 로그 메세지를 표시합니다.
svnlook proplist -- 버전화 된 파일과 디렉토리의 속성의 이름과 값을 표시합니다.
svnlook tree -- 트리를 표시합니다.
svnlook youngest -- 제일 최근의 리비전 번호를 표시합니다.
svnlook author

Name

svnlook author  -- 처리한 사람의 표시.
용법

svnlook author REPOS_PATH
설명

저장소(repository)의 리비전이나 트랜잭션(transaction)를 실행했다 사람을 표시합니다.

스윗치

--revision (-r)
--transaction (-t)

례

svnlook author는 편리합니다만, 그만큼 재미있는 커멘드가 아닙니다:

$ svnlook author -r 40 /usr/local/svn/repos
sally

svnlook cat

Name

svnlook cat  -- 파일의 내용을 표시합니다
용법

svnlook cat REPOS_PATH PATH_IN_REPOS
설명

파일의 내용을 표시합니다.

스윗치

--revision (-r)
--transaction (-t)

례

이하는/trunk/README 에 있는 트랜잭션(transaction) ax8중의 파일의 내용을 표시하고 있습니다:

$ svnlook cat -t ax8 /usr/local/svn/repos /trunk/README

               Subversion, a version control system.
               =====================================

$LastChangedDate: 2003-07-17 10:45:25 -0500 (Thu, 17 Jul 2003) $

Contents:

     I.  A FEW POINTERS
    II.  DOCUMENTATION
   III.  PARTICIPATING IN THE SUBVERSION COMMUNITY


svnlook changed

Name

svnlook changed  -- 변경된 패스를 표시합니다.
용법

svnlook changed REPOS_PATH
설명

"svn update-style" 의 제일 스테이터스 캐릭터와 같이 특정의 리비전이나 트랜잭션(transaction)로 변경된 패스를 표시합니다: A 는 추가,D 는 삭제,U 는 수정을 나타냅니다.

스윗치

--revision (-r)
--transaction (-t)

례

테스트 저장소(repository)의 리비전 99로 수정한 모든 파일의 일람을 표시합니다:

$ svnlook changed -r 39 /usr/local/svn/repos
A   trunk/vendors/deli/
A   trunk/vendors/deli/chips.txt
A   trunk/vendors/deli/sandwich.txt
A   trunk/vendors/deli/pickle.txt

svnlook date

Name

svnlook date  -- 일자를 표시합니다.
용법

svnlook date REPOS_PATH
설명

저장소(repository)중의 특정 리비전이나 트랜잭션(transaction)의 일자를 표시합니다.

스윗치

--revision (-r)
--transaction (-t)

례

이것은, 테스트 저장소(repository)의 리비전 40의 일자를 표시합니다:


$ svnlook date -r 40 /tmp/repos/
2003-02-22 17:44:49 -0600 (Sat, 22 Feb 2003)

svnlook diff

Name

svnlook diff  -- 변경된 파일, 디렉토리의 차분을 표시합니다.
용법

svnlook diff REPOS_PATH
설명

저장소(repository)중에서 변경된 파일, 속성의 차분을 GNU 형식에서 표시합니다.

스윗치

--revision (-r)
--transaction (-t)
--no-diff-deleted

례

이것은, 새롭게 추가된 파일(빈 파일), 삭제된 파일, 카피되었다 파일을 표시합니다:

$ svnlook diff -r 40 /usr/local/svn/repos/
Copied: egg.txt (from rev 39, trunk/vendors/deli/pickle.txt)

Added: trunk/vendors/deli/soda.txt
==============================================================================

Modified: trunk/vendors/deli/sandwich.txt
==============================================================================
--- trunk/vendors/deli/sandwich.txt (original)
+++ trunk/vendors/deli/sandwich.txt 2003-02-22 17:45:04. 000000000 -0600
@@ -0, 0 +1 @@
+Don't forget the mayo!

Deleted: trunk/vendors/deli/chips.txt
==============================================================================

Deleted: trunk/vendors/deli/pickle.txt
==============================================================================

svnlook dirs-changed

Name

svnlook dirs-changed  -- 변경이 있던 디렉토리를 표시합니다.
용법

svnlook dirs-changed REPOS_PATH
설명

(속성을 편집에 의해) 그것 자신으로 변경이 있었는지, 그 아이의 파일로 변경이 있던 디렉토리를 표시합니다.

스윗치

--revision (-r)
--transaction (-t)

례

우리의 샘플 저장소(repository)중의 리비전 40으로 수정되었다 디렉토리를 표시합니다:

$ svnlook dirs-changed -r 40 /usr/local/svn/repos
trunk/vendors/deli/

svnlook help

Name

svnlook help
용법

Also svnlook -h and svnlook -?.
설명

svnlook 의 헬프를 표시합니다. svn help의 헬프와 같아, 무엇인가가 모르게 되었을 때에는 항상 도움이 됩니다.

svnlook history

Name

svnlook history  -- 저장소(repository)중의 패스의 히스토리에 관한 정보를 표시합니다 (혹은 패스가 지정되지 않았던 경우에는 루트 디렉토리가 됩니다).
용법

svnlook history REPOS_PATH
            [PATH_IN_REPOS]
설명

저장소(repository)중의 패스의 히스토리에 관한 정보를 표시합니다 (혹은 패스가 지정되지 않았던 경우에는 루트 디렉토리가 됩니다).

스윗치

--revision (-r)
--show-ids

례

이하는 예로서 만든 저장소(repository)의 리비전 15 로 보았다 패스/tags/1. 0의 히스토리 표시입니다.

$ svnlook history -r 20 /usr/local/svn/repos /tags/1. 0 --show-ids
REVISION   PATH ID
--------   ---------
      19   /tags/1. 0 1. 2.12
      17   /branches/1. 0-rc2 1. 1.10
      16   /branches/1. 0-rc2 1. 1. x
      14   /trunk 1. 0. q
      13   /trunk 1. 0. o
      11   /trunk 1. 0. k
       9   /trunk 1. 0. g
       8   /trunk 1. 0. e
       7   /trunk 1. 0. b
       6   /trunk 1. 0.9
       5   /trunk 1. 0.7
       4   /trunk 1. 0.6
       2   /trunk 1. 0.3
       1   /trunk 1. 0.2

svnlook info

Name

svnlook info  -- 작업자, 일자, 로그 메세지의 크기, 로그 메세지를 표시합니다.
용법

svnlook info REPOS_PATH
설명

작업자, 일자, 로그 메세지의 크기, 로그 메세지를 표시합니다.

스윗치

--revision (-r)
--transaction (-t)

례

이것은 샘플 저장소(repository)의 리비전 40에 대한 info 의 출력입니다.

$ svnlook info -r 40 /usr/local/svn/repos
sally
2003-02-22 17:44:49 -0600 (Sat, 22 Feb 2003)
15
Rearrange lunch.

svnlook log

Name

svnlook log  -- 로그 메세지를 표시합니다.
용법

svnlook log REPOS_PATH
설명

로그 메세지를 표시합니다.

스윗치

--revision (-r)
--transaction (-t)

례

이것은 샘플 저장소(repository)의 리비전 40의 로그 표시입니다:

$ svnlook log /tmp/repos/
Rearrange lunch.

svnlook proplist

Name

svnlook proplist  -- 버전화 된 파일과 디렉토리의 속성의 이름과 값을 표시합니다.
용법

svnlook proplist REPOS_PATH PATH_IN_REPOS
설명

저장소(repository)중의 패스의 속성을 일람표 가리킵니다. -v를 사용해 속성치도 표시할 수 있습니다.

스윗치

--revision (-r)
--transaction (-t)
--verbose (-v)

례

이것은 HEAD 리비전에 있는 파일/trunk/README (으)로 설정된 속성명을 표시하고 있습니다:

$ svnlook proplist /usr/local/svn/repos /trunk/README
  original-author
  svn:mime-type

이것은 전의 예와 같은 커멘드입니다만, 이번은 속성치도 함께 표시 하고 있습니다:

$ svnlook proplist /usr/local/svn/repos /trunk/README
  original-author : fitz
  svn:mime-type : text/plain

svnlook tree

Name

svnlook tree  -- 트리를 표시합니다.
용법

svnlook tree REPOS_PATH [PATH_IN_REPOS]
설명

PATH_IN_REPOS 로부터 시작되는 트리를 표시합니다. (PATH_IN_REPOS 의 지정이 없는 경우에는 루트로부터 시작되는 트리를 표시합니다. ). 옵션으로 노드 리비전 id를 표시시킬 수도 있습니다.

스윗치

--revision (-r)
--transaction (-t)
--show-ids

례

이것은, (노드 번호 돌출하고) 샘플 저장소(repository)의 리비전 40의 트리를 표시한 것입니다:

$ svnlook tree -r 40 /usr/local/svn/repos --show-ids
/ 0. 0.2j
 trunk/ p. 0.2j
  vendors/ q. 0.2j
   deli/ 1g. 0.2j
    egg.txt 1i.e. 2j
    soda.txt 1k. 0.2j
    sandwich.txt 1j. 0.2j

svnlook youngest

Name

svnlook youngest  -- 제일 최근의 리비전 번호를 표시합니다.
용법

svnlook youngest REPOS_PATH
설명

저장소(repository)에 있는 제일 최근의 리비전 번호를 표시합니다.

례

이것은, 샘플 저장소(repository)의 제일 최근의 리비전 번호를 표시하고 있습니다:


$ svnlook youngest /tmp/repos/
42

Notes

[1]
네, 그렇네요. --version 스윗치를 사용할 때에는 서브 커멘드는 불필요합니다. 조금 다음에 그것에 접합니다.

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


REPLACE VIEW CMSVIEW.CM_CHNNL_STR_CUST_ID
AS LOCKING TABLE CMSDATA.CM_CHNNL_TST_GRP_CUST
FOR ACCESS (
    SELECT
        '1017'        AS  STR_ID
        , '전주점'    AS  STR_NM
        , '3200'      AS  POS_STR_CODE
        , CUST_ID     AS  CUST_ID
        , EMPLY_NO    AS  EMP_NO
        , TESTER_NAME AS  EMP_NM
    FROM
        CMSDATA.CM_CHNNL_TST_GRP_CUST
    WHERE 1=1
        AND CUST_ID IN ('C11758151', 'C78751126')
        AND TST_GRP_CD = '00011'
);


SELECT * FROM CMSVIEW.CM_CHNNL_TST_GRP_CUST;

SELECT * FROM CMSVIEW.CM_CHNNL_STR_CUST_ID;


----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW.CM_CHNNL_STR_CUST_ID
AS LOCKING TABLE CMSDATA.CM_TST_CHRGPERS
FOR ACCESS (
    SELECT DISTINCT
        A.CHNNL_NO                     AS CHNNL_NO
        , A.STR_ID                     AS STR_ID
        , B.STR_NM                     AS STR_NM
        , NVL(B.POS_STR_CODE, '0000')  AS POS_STR_CODE
        , NVL(A.CUST_ID, '000000000')  AS CUST_ID
        , A.CHRGPERS_CD                AS EMP_NO
        , A.CHRGPERS_NM                AS EMP_NM
    FROM
        CMSDATA.CM_TST_CHRGPERS  A
        , TCVM.STORE             B
    WHERE 1=1
        AND A.STR_ID = B.STR_ID
);



SELECT * FROM CMSVIEW.CM_CHNNL_TST_GRP_CUST;

SELECT * FROM CMSVIEW.CM_CHNNL_STR_CUST_ID;

SELECT * FROM CMSVIEW.CM_TST_CHRGPERS;

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


drop table CMSDATA.CM_CHNNL_BMS;

CREATE SET TABLE CMSDATA.CM_CHNNL_BMS ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      EVNT_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사번호',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TMP_FL_PTH VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '템플릿파일경로',
      TMP_FL_NM VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '템플릿파일명',
      CISTUDIO_TMP_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'CISTUDIO양식명',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      FL_1_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일1경로',
      FL_2_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일2경로',
      FL_3_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일3경로'
)
UNIQUE PRIMARY INDEX ( CHNNL_NO );


----------------------------------------------------------------------------------------------------

drop table cm_cmpgn_trgt_chc;

CREATE SET TABLE CMSDATA.CM_CMPGN_TRGT_CHC ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      TRGT_CNDTN_CD VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건코드' NOT NULL,
      SEQ_NO DECIMAL(18,0) TITLE '일련번호' NOT NULL,
      MLT_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '멀티여부',
      EXCPT_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제외여부',
      CNDTN_CHC_MTHD_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '조건선택방법코드',
      DB_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '데이터베이스명',
      TBL_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테이블명',
      CLMN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '컬럼명',
      TRGT_CHC_VL1 VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택값1',
      TRGT_CHC_VL2 VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택값2',
      TRGT_CHC_VL3 VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택값3',
      TRGT_CHC_VL4 VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택값4',
      TRGT_CHC_VL5 VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택값5',
      TRGT_CHC_VL6 VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택값6',
      TRGT_CHC_NM1 VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택이름1',
      TRGT_CHC_NM2 VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택이름2',
      TRGT_CHC_NM3 VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택이름3',
      TRGT_CHC_NM4 VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택이름4',
      TRGT_CHC_NM5 VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택이름5',
      TRGT_CHC_NM6 VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건선택이름6',
      TRGT_CHC_GRP_NM VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건그룹명',
      LGC_OPRTR_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '논리연산자구분코드',
      CMPRSN_OPRTR_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '비교연산자구분코드',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,TRGT_CNDTN_CD ,SEQ_NO );


----------------------------------------------------------------------------------------------------

drop table CM_CMPGN_HISTRY;

CREATE SET TABLE CMSDATA.CM_CMPGN_HISTRY ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_HISTRY_NO DECIMAL(18,0) TITLE '이력번호' NOT NULL,
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      PRCS_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '처리자아이디',
      PRCS_DTTM TIMESTAMP(6) TITLE '처리일시',
      PRCS_MM VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '처리내용',
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드',
      IMG_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지제작요청상태',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_HISTRY_NO ,CMPGN_NO );




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 직원번호_점장조회.log ]

/* 직원번호로 조회 시
SELECT A.BIZTP_CODE
      ,A.POS_STR_CODE
      ,A.STR_CODE
      ,A.STR_NM
      ,A.JOB_CODE
      ,A.JOB_NM
      ,B.USER_ID AS EMP_NO           -- 직원번호
      ,A.USER_ID AS BOSS_EMP_NO      -- (같은점포) 점장, 지원팀장, 지원파트장 정보
      ,A.USER_NM AS BOSS_EMP_NM
      ,A.CUST_ID AS BOSS_EMP_CUST_ID
      --,B.USER_NM
      --,B.CUST_ID
  FROM ( /* 점장, 지워팀장, 지원파트장 */
        SELECT A.BIZTP_CODE
              ,POS_STR_CODE
              ,STR_CODE
              ,STR_NM
              ,A.JOB_CODE
              ,JOB_NM
              ,USER_ID
              ,USER_NM
              ,CUST_ID
          FROM (SELECT BIZTP_CODE
                      ,CASE WHEN TRIM(STR_CODE)='' THEN '0000'
                            ELSE STR_CODE
                       END STR_CODE
                      ,JOB_CODE
                      ,USER_ID
                      ,USER_NM
                  FROM XODS.MTAUD_USER) A
                      ,TDATA.EMP_INFO   B
                      ,TDATA.STORE      C
                      ,XODS.MTAUD_JOB   D
         WHERE A.USER_ID    = B.EMP_NO
           AND B.RTR_YN     = 'Y'
           AND A.STR_CODE   = C.STR_ID
           AND A.BIZTP_CODE = D.BIZTP_CODE
           AND A.JOB_CODE   = D.JOB_CODE
           AND D.JOB_CODE IN ('400', '660'         -- 점장, 점장(트)
                             ,'410', '662', '411') -- 지원팀장, 지원팀장(트)
         GROUP BY 1, 2, 3, 4, 5, 6, 7, 8, 9
       ) A,
       ( /* 직원 */
        SELECT A.BIZTP_CODE, STR_CODE, STR_NM, A.JOB_CODE, JOB_NM, USER_ID, USER_NM, CUST_ID
          FROM (SELECT BIZTP_CODE
                      ,CASE WHEN TRIM(STR_CODE)='' THEN '0000'
                            ELSE STR_CODE
                       END STR_CODE
                      ,JOB_CODE
                      ,USER_ID
                      ,USER_NM
                  FROM XODS.MTAUD_USER) A
                      ,TDATA.EMP_INFO   B
                      ,TDATA.STORE      C
                      ,XODS.MTAUD_JOB   D
                 WHERE A.USER_ID    = B.EMP_NO
                   AND B.RTR_YN     = 'Y'
                   AND A.STR_CODE   = C.STR_ID
                   AND A.BIZTP_CODE = D.BIZTP_CODE
                   AND A.JOB_CODE   = D.JOB_CODE
       ) B
 WHERE A.BIZTP_CODE = B.BIZTP_CODE
   AND A.STR_CODE   = B.STR_CODE
   --AND B.USER_ID = '141903'
 GROUP BY 1, 2, 3, 4, 5, 6, 7, 8, 9

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 박경민부장 요청 ]


DROP TABLE CM_CMPGN_REG;

CREATE  TABLE CM_CMPGN_REG
(

    CMPGN_NO             VARCHAR(20) NOT NULL   TITLE '캠페인번호',
    RFR_CMPGN_NO         VARCHAR(20) NULL       TITLE '참조캠페인번호',
    CMPGN_STRT_DT        DATE NULL              TITLE '캠페인시작일자',
    CMPGN_END_DT         DATE NULL              TITLE '캠페인종료일자',
    SYS_CRTN_DTTM        TIMESTAMP NULL         TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL         TITLE 'SYS_변경일시',
    SYS_FRST_OPRTN_ID    VARCHAR(20) NULL       TITLE 'SYS_최초등록자아이디',
    SYS_LST_UPDT_ID      VARCHAR(20) NULL       TITLE 'SYS_최종변경자아이디'
)
UNIQUE PRIMARY INDEX ( CMPGN_NO );


DROP TABLE CM_CHNNL_REG;

--DROP TABLE CM_CMPGN_REG_DTL;

CREATE  TABLE CM_CMPGN_REG_DTL
(

    CMPGN_NO             VARCHAR(20) NOT NULL   TITLE '캠페인번호',
    CHNNL_NO             VARCHAR(20) NOT NULL   TITLE '채널번호',
    CHNNL_NM             VARCHAR(100) NULL      TITLE '채널명',
    CHNNL_TYP_CD         VARCHAR(5) NULL        TITLE '채널종류코드',
    SND_DTTM             TIMESTAMP NULL         TITLE '발송일시',
    CMPGN_RJCT_RSN       VARCHAR(10000) NULL    TITLE '캠페인반려사유',
    CMPGN_OFFR_CD        VARCHAR(5) NULL        TITLE '캠페인오퍼코드',
    CMPGN_OFFR_EXP       DECIMAL(18,2) NULL     TITLE '캠페인오퍼비용',
    CMPGN_OFFR_EXP_TYP_CD VARCHAR(5) NULL       TITLE '캠페인오퍼비용구분코드',
    CMPGN_OFFR_PAY_DT    DATE NULL              TITLE '캠페인오퍼지급일자',
    CMPGN_OFFR_EVNT_DESC VARCHAR(10000) NULL    TITLE '캠페인오퍼행사내용',
    CMPGN_PRDGFT_NM      VARCHAR(100) NULL      TITLE '캠페인사은품명',
    EVNT_NO              VARCHAR(20) NULL       TITLE '행사번호',
    EVNT_DESC            VARCHAR(2000) NULL     TITLE '행사내용',
    CMPGN_PLCY_NO        DECIMAL(18) NULL       TITLE '캠페인정책번호',
    THM_TRGT_TYP_CD      VARCHAR(5) NULL        TITLE '테마별타겟분류코드',
    THM_TRGT_CD          VARCHAR(5) NULL        TITLE '테마별타겟코드',
    SCCSS_CNDTN_CD       VARCHAR(5) NULL        TITLE '성공조건코드',
    CMPGN_EXCT_RNK       INTEGER NULL           TITLE '캠페인실행순위',
    CMPGN_RQST_ID        VARCHAR(20) NULL       TITLE '캠페인요청자아이디',
    FNL_APPRVL_ID        VARCHAR(20) NULL       TITLE '최종승인자아이디',
    FNL_APPRVL_DTTM      TIMESTAMP NULL         TITLE '최종승인일시',
    FNL_APPRVL_STS       VARCHAR(5) NULL        TITLE '최종승인상태',
    CMPGN_TRGT_RQST_STTS VARCHAR(5) NULL        TITLE '캠페인대상요청상태',
    CMPGN_MK_RQST_STTS   VARCHAR(5) NULL        TITLE '캠페인제작요청상태',
    RSPS_RTO_US_TYP_CD   VARCHAR(5) NULL        TITLE '반응율사용구분코드',
    EFF_ANAL_STRT_DT     DATE NULL              TITLE '효과분석시작일자',
    EFF_ANAL_END_DT      DATE NULL              TITLE '효과분석종료일자',
    TOPN                 NUMERIC(8) NULL        TITLE 'TOPN',
    CUST_CNT             NUMERIC(8) NULL        TITLE '고객수',
    GFT_SYS_REG_YN       CHAR(1) NULL           TITLE '사은품시스템등록여부',
    SYS_LST_UPDT_ID      VARCHAR(20) NULL       TITLE 'SYS_최종변경자아이디',
    SYS_FRST_OPRTN_ID    VARCHAR(20) NULL       TITLE 'SYS_최초등록자아이디',
    SYS_CRTN_DTTM        TIMESTAMP NULL         TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM        TIMESTAMP NULL         TITLE 'SYS_변경일시'
)
UNIQUE PRIMARY INDEX ( CMPGN_NO, CHNNL_NO );





----------------------------------------------------------------------------------------------------

ALTER TABLE [TABLE_NAME] MODIFY (CM_CMPGN_NO VARCHAR2(30) NOT NULL);

----------------------------------------------------------------------------------------------------


drop table CM_CMPGN_EXCT;


CREATE SET TABLE CMSDATA.CM_CMPGN_EXCT ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      IMMDTLY_SND_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '즉시발송여부',
      CMPGN_EXCT_SCHDLD_DTTM TIMESTAMP(6) TITLE '캠페인실행예정일시',
      CMPGN_EXCT_FNSH_DTTM TIMESTAMP(6) TITLE '캠페인실행완료일시',
      CMPGN_EXCT_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인실행상태',
      RSV_CNT DECIMAL(8,0) TITLE '예약건수',
      SND_CNT DECIMAL(8,0) TITLE '발송건수',
      SND_FL_CNT DECIMAL(8,0) TITLE '발송실패건수',
      CMPGN_OPN_CNT DECIMAL(8,0) TITLE '캠페인오픈건수',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드',
      CHNNL_PLCY_NO DECIMAL(18,0) TITLE '채널정책번호',
      IMG_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지제작요청상태',
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      CHNNL_RSV_SND_DT DATE FORMAT 'YYYY-MM-DD' TITLE '채널예약발송일자',
      TST_SND_CNT DECIMAL(2,0) TITLE '테스트발송횟수',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,CHNNL_NO );

REPLACE VIEW CMSVIEW.CM_CMPGN_EXCT    AS LOCKING TABLE CMSDATA.CM_CMPGN_EXCT     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_EXCT   );


select * from cmsview.CM_CMPGN_EXCT;

----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW.CM_CMPGN_REG_DTL    AS LOCKING TABLE CMSDATA.CM_CMPGN_REG_DTL     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_REG_DTL   );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

###################################################################
# 이마트웹 INDB : blsapproval / blsapproval#234
###################################################################

EMTINDB =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = 10.253.32.23)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = EMTINDB)
    )
  )


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ SVN ]

폴더 제외

- 제외 하고 자 하는 폴더를 마우스 오른쪽 버튼 -> Team -> Add to svn:ignore

파일 제외(확장자 등)

- Windows -> Preference -> Team -> Ignored Resources

에서 특정 확장자를 선택해서 제외 하면 됨

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

Corp.  (corporation) : 법인 종합상사로 단체, 사단법인을 칭할 때 사용합니다.
    미국에서는 법인을 뜻하고 영국에서는 주식회사로 통합니다.
    보통 이것은 규모가 좀 큰 곳에서 사용하는 것 같습니다.

Co., Ltd. (Company Limited): . : 주식회사이면서 유한책임회사인 경우에 사용하는 표기 입니다.
    Company는 말그대로 회사의 약자임을 나타내고 limited는 유한책임을 나타내는 말입니다.
    이 단어는 표기에 주의해야하는데 .(마침표)는 compant의 약자이므로 표시하는것이고 ,(콤마) 는
    company 와 limited를 구분표시할 때 사용하는 것이기 때문에 꼭 사용해야 합니다.

Inc.  (Incorporated) : 미국에서 말하는 주식회사는 이 표기를 많이 사용합니다.

    이외에 개인회사의 경우에는 Company의 줄임말인 Co.를 사용하시는 것이 좋습니다.

PLC  (Public Limited Company) – 상장법인으로 이것도 개인회사의 경우 많이 사용되는데 영국에서 많이 사용됩니다.
    또 우리나라 회사법제에서 인정되지 아니하는 회사형태로 LLC라는 형태가 있습니다. 이는
    유한책임이라는 점에서 주식회사와 유사하나 법인세 면제조치 등 측면에서 조합적 겅격이
    강조되는 회사로 유한회사와 조합의 중간정도의 성격이라고 생각하시면 되는 곳입니다.

    이는 명확히 구분하기 힘들 수도 있는데 이들의 가장 큰 차이점은 문제발생시 책임을 어디까지
    지는가입니다. Corp.의 경우에는 개인사업자와 동일한 책임을 지는 무한책임회사를 말합니다.
    보통합자회사의 경우 무한책임을 집니다. 즉, 자신들이 투자한 회사돈이 채권자들에게 줄돈보다
    부족하면 사재를 털어서라도 갚아야 합니다. 그러나 Co.,Ltd는 유한책임회사이기 때문에 회사가
    파산한다고해도 사주에게 책임을 물을 수 없는 곳을 회사의 사주가 출자한 범위내에서만 회사의
    자본위엄에 대한 책임을 집니다.

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

create table cmsdata_bak.테이블_날짜 as cmsdata.테이블 with data;

CM_CMPGN_MST

CREATE TABLE CMSDATA_BAK.CM_CMPGN_MST_151024 AS CMSDATA.CM_CMPGN_MST WITH DATA;

----------------------------------------------------------------------------------------------------

DROP TABLE CMSDATA_BAK.CM_CMPGN_MST_151024;


CREATE TABLE CMSDATA_BAK.CM_CMPGN_MST_151024 AS CMSDATA.CM_CMPGN_MST WITH DATA;


SELECT COUNT(*) FROM CMSDATA_BAK.CM_CMPGN_MST_151024;


----------------------------------------------------------------------------------------------------
[ 테이블 목록 보기 ]

SELECT
    TABLENAME
    , DATABASENAME
FROM
    DBC.TABLES
WHERE 1=1
    AND (
        TABLENAME LIKE 'CM%'
        OR TABLENAME LIKE 'SIMUL%'
    )
    AND DATABASENAME = 'CMSDATA'
ORDER BY
    TABLENAME
;

----------------------------------------------------------------------------------------------------


DROP TABLE CM_CMPGN_EXCT;

CREATE SET TABLE CMSDATA.CM_CMPGN_EXCT ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      IMMDTLY_SND_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '즉시발송여부',
      CMPGN_EXCT_SCHDLD_DTTM TIMESTAMP(6) TITLE '캠페인실행예정일시',
      CMPGN_EXCT_FNSH_DTTM TIMESTAMP(6) TITLE '캠페인실행완료일시',
      CMPGN_EXCT_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인실행상태',
      RSV_CNT DECIMAL(8,0) TITLE '예약건수',
      SND_CNT DECIMAL(8,0) TITLE '발송건수',
      SND_FL_CNT DECIMAL(8,0) TITLE '발송실패건수',
      CMPGN_OPN_CNT DECIMAL(8,0) TITLE '캠페인오픈건수',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드',
      CHNNL_PLCY_NO DECIMAL(18,0) TITLE '채널정책번호',
      IMG_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지제작요청상태',
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_SND_CNT DECIMAL(2,0) TITLE '테스트발송횟수',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,CHNNL_NO );

REPLACE VIEW CMSVIEW.CM_CMPGN_EXCT    AS LOCKING TABLE CMSDATA.CM_CMPGN_EXCT     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_EXCT   );


----------------------------------------------------------------------------------------------------

DROP TABLE CM_SCCSS_RSPNS_SMM;

CREATE SET TABLE CMSDATA.CM_SCCS_RSPNS_SMM ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      SCCSS_CNDTN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '성공조건명' NOT NULL,
      CUST_GENDER VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '고객성별' NOT NULL,
      CUST_AGE VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '고객나이' NOT NULL,
      CUST_GRADE VARCHAR(3) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '고객등급' NOT NULL,
      BDSRCT_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포상권' NOT NULL,
      TRGT_CUST_CNT DECIMAL(8,0) TITLE '대상고객건수',
      SCCSS_CUST_CNT DECIMAL(8,0) TITLE '성공고객건수',
      SCCSS_RTO VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '성공율',
      SLS_AMT DECIMAL(18,2) TITLE '매출금액',
      CTMTRNS_AMT DECIMAL(18,2) TITLE '객단가금액',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초변경아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,SCCSS_CNDTN_NM ,CUST_GENDER ,
CUST_AGE ,CUST_GRADE ,BDSRCT_NM );

REPLACE VIEW CMSVIEW.CM_SCCS_RSPNS_SMM    AS LOCKING TABLE CMSDATA.CM_SCCS_RSPNS_SMM     FOR ACCESS (SELECT * FROM CMSDATA.CM_SCCS_RSPNS_SMM   );


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

CREATE TABLE CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS AS CMSDATA.CM_TRGT_CUST_CHNNL_RSPNC WITH DATA;

CREATE TABLE CMSDATA.CM_TGT_CUST_RSPNS_HSTRY AS CMSDATA.CM_TGT_CUST_RSPNC_HSTRY WITH DATA;

CREATE TABLE CMSDATA.CM_SCCSS_RSPNS_SMM AS CMSDATA.CM_SCCSS_RSPNC_SMM WITH DATA;

----------------------------------------------------------------------------------------------------

SHOW TABLE CM_TRGT_CUST_CHNNL_RSPNS  ;   -- 캠페인 대상고객 채널 반응정보

SHOW TABLE CM_TGT_CUST_RSPNS_HSTRY   ;   -- 캠페인 타겟별 반응이력

SHOW TABLE CM_CHNNL_RSPNS_SMM        ;   -- 캠페인 채널별     반응현황
SHOW TABLE CM_CUST_RSPNS_SMM         ;   -- 캠페인 고객특성별 반응현황
SHOW TABLE CM_AMT_RSPNS_SMM          ;   -- 캠페인 금액대별   반응현황
SHOW TABLE CM_BDSRCT_RSPNS_SMM       ;   -- 캠페인 상권별     반응현황
SHOW TABLE CM_DT_RSPNS_SMM           ;   -- 캠페인 일자별     반응현황
SHOW TABLE CM_SCCSS_RSPNS_SMM        ;   -- 캠페인 성공조건별 반응현황

----------------------------------------------------------------------------------------------------

DROP TABLE CMSDATA.CM_TRGT_CUST_CHNNL_RSPNC ;

DROP TABLE CMSDATA.CM_TGT_CUST_RSPNC_HSTRY ;

DROP TABLE CMSDATA.CM_SCCSS_RSPNC_SMM ;


----------------------------------------------------------------------------------------------------

SELECT COUNT(*) FROM CM_TRGT_CUST_CHNNL_RSPNS  ;   -- 캠페인 대상고객 채널 반응정보 (184,700)

SELECT COUNT(*) FROM CM_TGT_CUST_RSPNS_HSTRY   ;   -- 캠페인 타겟별 반응이력 (4)

SELECT COUNT(*) FROM CM_CHNNL_RSPNS_SMM        ;   -- 캠페인 채널별     반응현황 (4)
SELECT COUNT(*) FROM CM_CUST_RSPNS_SMM         ;   -- 캠페인 고객특성별 반응현황 (114)
SELECT COUNT(*) FROM CM_AMT_RSPNS_SMM          ;   -- 캠페인 금액대별   반응현황 (7)
SELECT COUNT(*) FROM CM_BDSRCT_RSPNS_SMM       ;   -- 캠페인 상권별     반응현황 (11)
SELECT COUNT(*) FROM CM_DT_RSPNS_SMM           ;   -- 캠페인 일자별     반응현황 (8)
SELECT COUNT(*) FROM CM_SCCSS_RSPNS_SMM        ;   -- 캠페인 성공조건별 반응현황 (7)


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


<!-- script type="text/javascript">location.replace("/SASEMARTCMS/common/FF14306W.do?method=page")</script -->
<HTML><HEAD>
<TITLE>BarCode</TITLE>
</HEAD>
<BODY>
<iframe id=BarCode src="/SASEMARTCMS/common/FF14306W.do?method=page"
        width="100%" height="1000" scrolling="auto" frameborder="0">
</BODY>
</HTML>




<HTML><HEAD>
<TITLE>BarCode</TITLE>
</HEAD>
<BODY>
<iframe id=BarCode src="http://matcmsmine01:7981/SASEMARTCMS/common/FF14306W.do?method=page">
</iframe>
</BODY>
</HTML>




----------------------------------------------------------------------------------------------------

<HTML><HEAD>
<TITLE>BarCode</TITLE>
</HEAD>
<BODY>
<iframe id=BarCode src="http://matcmsmine01:7981/SASEMARTCMS/common/FF14306W.do?method=page">
</iframe>
</BODY>
</HTML>




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

 CM_TRGT_CUST_CHNNL_RSPNS
 CM_TGT_CUST_RSPNS_HSTRY
 CM_CHNNL_RSPNS_SMM
 CM_CUST_RSPNS_SMM
 CM_AMT_RSPNS_SMM
 CM_BDSRCT_RSPNS_SMM
 CM_DT_RSPNS_SMM
 CM_SCCSS_RSPNS_SMM

REPLACE VIEW CMSVIEW.CM_TRGT_CUST_CHNNL_RSPNS    AS LOCKING TABLE CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS     FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS   );
REPLACE VIEW CMSVIEW.CM_TGT_CUST_RSPNS_HSTRY     AS LOCKING TABLE CMSDATA.CM_TGT_CUST_RSPNS_HSTRY      FOR ACCESS (SELECT * FROM CMSDATA.CM_TGT_CUST_RSPNS_HSTRY    );
REPLACE VIEW CMSVIEW.CM_CHNNL_RSPNS_SMM          AS LOCKING TABLE CMSDATA.CM_CHNNL_RSPNS_SMM           FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_RSPNS_SMM         );
REPLACE VIEW CMSVIEW.CM_CUST_RSPNS_SMM           AS LOCKING TABLE CMSDATA.CM_CUST_RSPNS_SMM            FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_RSPNS_SMM          );
REPLACE VIEW CMSVIEW.CM_AMT_RSPNS_SMM            AS LOCKING TABLE CMSDATA.CM_AMT_RSPNS_SMM             FOR ACCESS (SELECT * FROM CMSDATA.CM_AMT_RSPNS_SMM           );
REPLACE VIEW CMSVIEW.CM_BDSRCT_RSPNS_SMM         AS LOCKING TABLE CMSDATA.CM_BDSRCT_RSPNS_SMM          FOR ACCESS (SELECT * FROM CMSDATA.CM_BDSRCT_RSPNS_SMM        );
REPLACE VIEW CMSVIEW.CM_DT_RSPNS_SMM             AS LOCKING TABLE CMSDATA.CM_DT_RSPNS_SMM              FOR ACCESS (SELECT * FROM CMSDATA.CM_DT_RSPNS_SMM            );
REPLACE VIEW CMSVIEW.CM_SCCSS_RSPNS_SMM          AS LOCKING TABLE CMSDATA.CM_SCCSS_RSPNS_SMM           FOR ACCESS (SELECT * FROM CMSDATA.CM_SCCSS_RSPNS_SMM         );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ C:\oraclexe\app\oracle\product\10.2.0\server\NETWORK\ADMIN\   tnsnames.ora ]

XE =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = AE0-W-D08345.ssg.global)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = XE)
    )
  )

EXTPROC_CONNECTION_DATA =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC_FOR_XE))
    )
    (CONNECT_DATA =
      (SID = PLSExtProc)
      (PRESENTATION = RO)
    )
  )

ORACLR_CONNECTION_DATA =
  (DESCRIPTION =
    (ADDRESS_LIST =
      (ADDRESS = (PROTOCOL = IPC)(KEY = EXTPROC_FOR_XE))
    )
    (CONNECT_DATA =
      (SID = CLRExtProc)
      (PRESENTATION = RO)
    )
  )



###################################################################
# 이마트웹 INDB : blsapproval / blsapproval#23
###################################################################

EMTINDB =
  (DESCRIPTION =
    (ADDRESS = (PROTOCOL = TCP)(HOST = 10.253.32.23)(PORT = 1521))
    (CONNECT_DATA =
      (SERVER = DEDICATED)
      (SERVICE_NAME = EMTINDB)
    )
  )



----------------------------------------------------------------------------------------------------

###################################################################
# SMS/MMS/LMS SEND SYSTEM
###################################################################
# REAL
ASPDMDB =
(DESCRIPTION =
    (ADDRESS_LIST =
        (ADDRESS = (PROTOCOL = TCP)(HOST = 174.100.24.69)(PORT = 1521))
    )
    (CONNECT_DATA =
        (SERVICE_NAME = MOBILEDM)
    )
)

# DEV
ASPDMDB_DEV =
(DESCRIPTION =
    (ADDRESS_LIST =
        (ADDRESS = (PROTOCOL = TCP)(HOST = 174.100.24.93)(PORT = 1521))
    )
    (CONNECT_DATA =
        (SERVICE_NAME = ASP)
    )
)

###################################################################
# EMAIL/PUSH SEND SYSTEM
###################################################################
MTMS =
(DESCRIPTION =
    (ADDRESS_LIST =
        (ADDRESS = (PROTOCOL = TCP) (HOST = 174.100.22.50)(PORT = 1521))
    )
    (CONNECT_DATA =
        (SERVICE_NAME = CUSTDB)
    )
)



----------------------------------------------------------------------------------------------------
[ data grid : 한글문제 (32BIT) ]

AMERICAN_AMERICA.US7ASCII


----------------------------------------------------------------------------------------------------
[ DATA GRID : 한글문제 (64BIT) ]

http://metalzang.blog.me/130127660830

1. Toad에서 데이터 베이스의 캐릭터 셋을 확인

    select * from nls_database_parameters where parameter = 'NLS_CHARACTERSET';

2. 결과를 확인하니 'KO16MSWIN949'임.



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SELECT
    CAMPAIGN_CD
    , CHANNEL_CD
    , STO_CD
    , CUST_ID
    , TRAN_DATETIME
    , CASE
        WHEN TRAN_RESULT_CODE = '1000' THEN RECV_DATETIME
        ELSE ''
        END       AS RECV_DATETIME
    , CASE
        WHEN SERVICE_TYPE = '0' THEN 'SMS'
        WHEN SERVICE_TYPE = '2' THEN 'MMS'  -- BAR CODE
        WHEN SERVICE_TYPE = '3' THEN 'LMS'
        WHEN SERVICE_TYPE = 'B' THEN 'BMS'
        END       AS CHNNL_TYP_CD
    , TRAN_YN
FROM
    SSG_TRAN
WHERE 1=1
ORDER BY 1 DESC
;

--DESC SSG_TRAN;


SELECT
    *
FROM
    SSG_CLIENT
WHERE 1=1
ORDER BY 1 DESC
;

SELECT
    *
FROM
    SSG_LOG_201508
WHERE 1=1
ORDER BY 1 DESC
;

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

TABLE SSG_LOG_201510
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 TRAN_NO                                   NOT NULL NUMBER(11,)        시퀀스번호
 COM_CD                                             VARCHAR2(16)       회사코드
 STO_CD                                             VARCHAR2(16)       지점코드
 SERVICE_TYPE                              NOT NULL CHAR(1)            서비스종류(0:SMS, 2:MMS/BMS, 3:LMS)
 CALLBACK                                  NOT NULL VARCHAR2(20)       회신번호
 TRAN_SUBJECT                              NOT NULL VARCHAR2(40)       제목
 TRAN_MESSAGE                              NOT NULL VARCHAR2(4000)     내용
 TRAN_COUNT                                NOT NULL NUMBER(11,)        총건수(동보전송건수)
 TRAN_YN                                   NOT NULL VARCHAR2(1)        송신여부(1:대기, 2:전송, 3:완료)
 TRAN_DATETIME                             NOT NULL DATE               전송요청일시
 CAMPAIGN_CD                                        VARCHAR2(50)       캠페인코드
 FILE_PATH_1                                        VARCHAR2(200)      MMS 첨부파일1(웹으로 접근 가능한 URL)
 FILE_PATH_2                                        VARCHAR2(200)      MMS 첨부파일2(웹으로 접근 가능한 URL)
 FILE_PATH_3                                        VARCHAR2(200)      MMS 첨부파일3(웹으로 접근 가능한 URL)
 FILE_TEMPLATE_NAME                                 VARCHAR2(200)      바코드 템플릿명
 FILE_TEMPLATE_PATH                                 VARCHAR2(200)      바코드 템플릿 경로
 REG_DATE                                  NOT NULL DATE               등록일
 REG_ID                                             VARCHAR2(50)       등록자ID
 MOD_DATE                                  NOT NULL DATE               수정일
 MOD_ID                                             VARCHAR2(50)       수정자ID
 MT_SEQ                                    NOT NULL NUMBER(5,)         동보시퀸스
 RECIPIENT_ID                                       VARCHAR2(20)       수신자ID
 RECIPIENT_NUM                             NOT NULL VARCHAR2(20)       수신자번호
 CHANGEWORD1                                        VARCHAR2(20)       치환1
 CHANGEWORD2                                        VARCHAR2(20)       치환2
 CHANGEWORD3                                        VARCHAR2(20)       치환3
 CHANGEWORD4                                        VARCHAR2(20)       치환4
 CHANGEWORD5                                        VARCHAR2(20)       치환5
 BARCODEWORD                                        VARCHAR2(20)       바코드 번호
 RECV_DATETIME                                      DATE               수신일시
 TRAN_RESULT_CODE                                   VARCHAR2(6)        전송결과코드(1000:성공, 나머지 실패)
 TRAN_DATE                                          VARCHAR2(8)        발송년월일


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


DROP TABLE UCMS.SSG_LOG_201510 CASCADE CONSTRAINTS;

CREATE TABLE UCMS.SSG_LOG_201510
(
  TRAN_NO             NUMBER(11)                NOT NULL,
  COM_CD              VARCHAR2(16 BYTE),
  STO_CD              VARCHAR2(16 BYTE),
  SERVICE_TYPE        CHAR(1 BYTE)              NOT NULL,
  CALLBACK            VARCHAR2(20 BYTE)         NOT NULL,
  TRAN_SUBJECT        VARCHAR2(40 BYTE)         NOT NULL,
  TRAN_MESSAGE        VARCHAR2(4000 BYTE)       NOT NULL,
  TRAN_COUNT          NUMBER(11)                NOT NULL,
  TRAN_YN             VARCHAR2(1 BYTE)          NOT NULL,
  TRAN_DATETIME       DATE                      NOT NULL,
  CAMPAIGN_CD         VARCHAR2(50 BYTE),
  FILE_PATH_1         VARCHAR2(200 BYTE),
  FILE_PATH_2         VARCHAR2(200 BYTE),
  FILE_PATH_3         VARCHAR2(200 BYTE),
  FILE_TEMPLATE_NAME  VARCHAR2(200 BYTE),
  FILE_TEMPLATE_PATH  VARCHAR2(200 BYTE),
  REG_DATE            DATE                      NOT NULL,
  REG_ID              VARCHAR2(50 BYTE),
  MOD_DATE            DATE                      NOT NULL,
  MOD_ID              VARCHAR2(50 BYTE),
  MT_SEQ              NUMBER(5)                 NOT NULL,
  RECIPIENT_ID        VARCHAR2(20 BYTE),
  RECIPIENT_NUM       VARCHAR2(20 BYTE)         NOT NULL,
  CHANGEWORD1         VARCHAR2(20 BYTE),
  CHANGEWORD2         VARCHAR2(20 BYTE),
  CHANGEWORD3         VARCHAR2(20 BYTE),
  CHANGEWORD4         VARCHAR2(20 BYTE),
  CHANGEWORD5         VARCHAR2(20 BYTE),
  BARCODEWORD         VARCHAR2(20 BYTE),
  RECV_DATETIME       DATE,
  TRAN_RESULT_CODE    VARCHAR2(6 BYTE),
  TRAN_DATE           VARCHAR2(8 BYTE),
  CHANNEL_NO          VARCHAR2(20 BYTE)
)
TABLESPACE UFASHION_DATA
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING
NOCOMPRESS
NOCACHE
NOPARALLEL
MONITORING;



CREATE INDEX UCMS.IDX_SSG_LOG_201510_01 ON UCMS.SSG_LOG_201510
(TRAN_NO)
LOGGING
TABLESPACE UFASHION_DATA
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE INDEX UCMS.IDX_SSG_LOG_201510_02 ON UCMS.SSG_LOG_201510
(TRAN_DATE)
LOGGING
TABLESPACE UFASHION_DATA
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


CREATE INDEX UCMS.IDX_SSG_LOG_201510_03 ON UCMS.SSG_LOG_201510
(TRAN_RESULT_CODE)
LOGGING
TABLESPACE UFASHION_DATA
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

CREATE TABLE CMSDATA.CM_CUST_SCCSS_RSPNS_HSTRY AS CMSDATA.CM_CUST_SCCSS_RSPNC_HSTRY WITH DATA;


DROP TABLE CMSDATA.CM_CUST_SCCSS_RSPNC_HSTRY;

CREATE SET TABLE CMSDATA.CM_CUST_SCCSS_RSPNS_HSTRY ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      CUST_ID CHAR(9) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '고객아이디' NOT NULL,
      TC_GRP_CD CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테스트그룹여부',
      STR_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      SCCSS_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '성공여부',
      SCCSS_CNDTN_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인성공조건코드',
      CMPGN_OFFR_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼코드',
      OFFR_EXP DECIMAL(18,2) TITLE '비용',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,CHNNL_NO ,CUST_ID );


REPLACE VIEW CMSVIEW.CM_CUST_SCCSS_RSPNS_HSTRY   AS LOCKING TABLE CMSDATA.CM_CUST_SCCSS_RSPNS_HSTRY   FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_SCCSS_RSPNS_HSTRY );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

---------------------------------------------------------------------------
-- 공통코드(CM_CMMN_CD)
SELECT COUNT(*) FROM CMSVIEW.CM_CMMN_CD;
SELECT * FROM CMSVIEW.CM_CMMN_CD ORDER BY GRP_CD ASC, SRT_SEQ_NO ASC;

---------------------------------------------------------------------------
-- 캠페인정책(CM_CMPGN_PLCY)
SELECT COUNT(*) FROM CMSVIEW.CM_CMPGN_PLCY;
SELECT * FROM CMSVIEW.CM_CMPGN_PLCY ORDER BY CMPGN_PLCY_NO;

-- 캠페인분류코드(CM_CMPGN_CTGRY)
SELECT COUNT(*) FROM CMSVIEW.CM_CMPGN_CTGRY;
SELECT * FROM CMSVIEW.CM_CMPGN_CTGRY ORDER BY TO_NUMBER(CMPGN_CTGRY_SB_CD), TO_NUMBER(CMPGN_CTGRY_CD);

-- 캠페인마스터(CM_CMPGN_MST)
SELECT COUNT(*) FROM CMSVIEW.CM_CMPGN_MST;
SELECT * FROM CMSVIEW.CM_CMPGN_MST;

-- 캠페인실행(CM_CMPGN_EXCT)
SELECT COUNT(*) FROM CMSVIEW.CM_CMPGN_EXCT;
SELECT * FROM CMSVIEW.CM_CMPGN_EXCT;

-- 캠페인타겟고객(CM_CMPGN_TRGT_CUST)
SELECT COUNT(*) FROM CMSVIEW.CM_CMPGN_TRGT_CUST;
SELECT TOP 100 * FROM CMSVIEW.CM_CMPGN_TRGT_CUST;

-- 캠페인채널(CM_CMPGN_CHNNL)
SELECT COUNT(*) FROM CMSVIEW.CM_CMPGN_CHNNL;
SELECT * FROM CMSVIEW.CM_CMPGN_CHNNL;

---------------------------------------------------------------------------
-- 고객마스터(CM_CUST_MST)
SELECT COUNT(*) FROM CMSVIEW.CM_CUST_MST;
SELECT TOP 100 * FROM CMSVIEW.CM_CUST_MST;

-- 고객등급(CM_CUST_GRADE)
SELECT COUNT(*) FROM CMSVIEW.CM_CUST_GRADE;
SELECT * FROM CMSVIEW.CM_CUST_GRADE;

-- 고객선호채널(CM_CUST_FAV_CHNNL)
SELECT COUNT(*) FROM CMSVIEW.CM_CUST_FAV_CHNNL;
SELECT * FROM CMSVIEW.CM_CUST_FAV_CHNNL;

---------------------------------------------------------------------------
-- 채널정책(CM_CHNNL_PLCY)
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_PLCY;
SELECT * FROM CMSVIEW.CM_CHNNL_PLCY ORDER BY CHNNL_PLCY_NO;

-- 채널(SMS,LMS,MMS,BMS,PMS,EMS,DM,POS,GFT)
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_SMS;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_LMS;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_MMS;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_BMS;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_APT;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_APR;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_DM;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_POS;
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_EML;

SELECT * FROM CMSVIEW.CM_CHNNL_SMS;
SELECT * FROM CMSVIEW.CM_CHNNL_LMS;
SELECT * FROM CMSVIEW.CM_CHNNL_MMS;
SELECT * FROM CMSVIEW.CM_CHNNL_BMS;
SELECT * FROM CMSVIEW.CM_CHNNL_APT;
SELECT * FROM CMSVIEW.CM_CHNNL_APR;
SELECT * FROM CMSVIEW.CM_CHNNL_DM;
SELECT * FROM CMSVIEW.CM_CHNNL_POS;
SELECT * FROM CMSVIEW.CM_CHNNL_EML;

---------------------------------------------------------------------------
-- 타겟조건(CM_TRGT_CNDTN)
SELECT COUNT(*) FROM CMSVIEW.CM_TRGT_CNDTN;
SELECT * FROM CMSVIEW.CM_TRGT_CNDTN ORDER BY TRGT_CNDTN_CD;

-- 타겟조건인스턴스(CM_TRGT_CNDTN_INSTNC)
SELECT COUNT(*) FROM CMSVIEW.CM_TRGT_CNDTN_INSTNC;
SELECT * FROM CMSVIEW.CM_TRGT_CNDTN_INSTNC ORDER BY TRGT_CNDTN_CD, INSTNC_SEQ_NO;

-- 점포별타겟조건(CM_TRGT_CNDTN_BY_STR)
SELECT COUNT(*) FROM CMSVIEW.CM_TRGT_CNDTN_BY_STR;
SELECT * FROM CMSVIEW.CM_TRGT_CNDTN_BY_STR ORDER BY TRGT_CNDTN_CD, STR_ID;

-- 캠페인별타겟팅선택(CM_CMPGN_TRGT_CHC)
SELECT COUNT(*) FROM CMSVIEW.CM_CMPGN_TRGT_CHC;
SELECT * FROM CMSVIEW.CM_CMPGN_TRGT_CHC ORDER BY CMPGN_NO DESC, TRGT_CNDTN_CD, SEQ_NO;

---------------------------------------------------------------------------
-- 캠페인 대상고객 채널 반응정보(CM_TRGT_CUST_CHNNL_RSPNS)
SELECT COUNT(*) FROM CMSVIEW.CM_TRGT_CUST_CHNNL_RSPNS;
SELECT TOP 100 * FROM CMSVIEW.CM_TRGT_CUST_CHNNL_RSPNS;

-- 캠페인 타겟별 반응이력(CM_TGT_CUST_RSPNS_HSTRY)
SELECT COUNT(*) FROM CMSVIEW.CM_TGT_CUST_RSPNS_HSTRY;
SELECT * FROM CMSVIEW.CM_TGT_CUST_RSPNS_HSTRY;


-- 캠페인 채널별 반응현황(CM_CHNNL_RSPNS_SMM)
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_RSPNS_SMM;
SELECT * FROM CMSVIEW.CM_CHNNL_RSPNS_SMM;

-- 캠페인 고객특성별 반응현황(CM_CUST_RSPNS_SMM)
SELECT COUNT(*) FROM CMSVIEW.CM_CUST_RSPNS_SMM;
SELECT * FROM CMSVIEW.CM_CUST_RSPNS_SMM;

-- 캠페인 금액대별 반응현황(CM_AMT_RSPNS_SMM)
SELECT COUNT(*) FROM CMSVIEW.CM_AMT_RSPNS_SMM;
SELECT * FROM CMSVIEW.CM_AMT_RSPNS_SMM;

-- 캠페인 상권별 반응현황(CM_BDSRCT_RSPNS_SMM)
SELECT COUNT(*) FROM CMSVIEW.CM_BDSRCT_RSPNS_SMM;
SELECT * FROM CMSVIEW.CM_BDSRCT_RSPNS_SMM;

-- 캠페인 일자별 반응현황(CM_DT_RSPNS_SMM)
SELECT COUNT(*) FROM CMSVIEW.CM_DT_RSPNS_SMM;
SELECT * FROM CMSVIEW.CM_DT_RSPNS_SMM;

-- 캠페인 성공조건별 반응현황(CM_SCCSS_RSPNS_SMM)
SELECT COUNT(*) FROM CMSVIEW.CM_SCCSS_RSPNS_SMM;
SELECT * FROM CMSVIEW.CM_SCCSS_RSPNS_SMM;


-- 캠페인 성공조건별 반응이력(CM_CUST_SCCSS_RSPNS_HSTRY)
SELECT COUNT(*) FROM CMSVIEW.CM_CUST_SCCSS_RSPNS_HSTRY;
SELECT * FROM CMSVIEW.CM_CUST_SCCSS_RSPNS_HSTRY;

---------------------------------------------------------------------------
-- 캠페인별성과분석(CM_RSLT_ANLYSS_SMM)
SELECT COUNT(*) FROM CMSVIEW.CM_RSLT_ANLYSS_SMM;
SELECT * FROM CMSVIEW.CM_RSLT_ANLYSS_SMM;

---------------------------------------------------------------------------
-- 대상선정요청결과(CM_TRGT_RQST_RSLT)
SELECT COUNT(*) FROM CMSVIEW.CM_TRGT_RQST_RSLT;
SELECT * FROM CMSVIEW.CM_TRGT_RQST_RSLT;

---------------------------------------------------------------------------
-- 채널테스트그룹(CM_CHNBNL_TST_GRP)
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_TST_GRP;
SELECT * FROM CMSVIEW.CM_CHNNL_TST_GRP ORDER BY TST_GRP_CD;

-- 채널테스트그룹별고객(CM_CHNNL_TST_GRP_CUST)
SELECT COUNT(*) FROM CMSVIEW.CM_CHNNL_TST_GRP_CUST;
SELECT * FROM CMSVIEW.CM_CHNNL_TST_GRP_CUST;

---------------------------------------------------------------------------
-- 캠페인오퍼(CM_CMPGN_OFFR)
SELECT COUNT(*) FROM CMSVIEW.CM_CMPGN_OFFR;
SELECT * FROM CMSVIEW.CM_CMPGN_OFFR ORDER BY CMPGN_OFFR_CD;

-- 캠페인성공조건코드(CM_CMPGN_SCCS_CNDTN_CD)
SELECT COUNT(*) FROM CMSVIEW.CM_CMPGN_SCCS_CNDTN_CD;
SELECT * FROM CMSVIEW.CM_CMPGN_SCCS_CNDTN_CD ORDER BY SCCSS_CNDTN_CD;

-- 캠페인오퍼별성공조건코드(CM_OFFR_SCCS_CNDTN)
SELECT COUNT(*) FROM CMSVIEW.CM_OFFR_SCCS_CNDTN;
SELECT * FROM CMSVIEW.CM_OFFR_SCCS_CNDTN ORDER BY CMPGN_OFFR_CD, SCCSS_CNDTN_CD;

---------------------------------------------------------------------------
-- 점포(CM_STR)
SELECT COUNT(*) FROM CMSVIEW.CM_STR;
SELECT * FROM CMSVIEW.CM_STR;

-- 점포담당자(CM_STR_CHGR)
SELECT COUNT(*) FROM CMSVIEW.CM_STR_CHGR;
SELECT * FROM CMSVIEW.CM_STR_CHGR;

-- 점포별캠페인비용(CM_STR_EXP)
SELECT COUNT(*) FROM CMSVIEW.CM_STR_EXP;
SELECT * FROM CMSVIEW.CM_STR_EXP;

---------------------------------------------------------------------------
-- 테마별타겟(CM_THM_TRGT)
SELECT COUNT(*) FROM CMSVIEW.CM_THM_TRGT;
SELECT * FROM CMSVIEW.CM_THM_TRGT ORDER BY THM_TRGT_CD, THM_TRGT_TYP_CD;

-- 테마별타겟점포(CM_THM_TRGT_STR)
SELECT COUNT(*) FROM CMSVIEW.CM_THM_TRGT_STR;
SELECT * FROM CMSVIEW.CM_THM_TRGT_STR;

-- 테마별타겟고객(CM_THM_TRGT_CUST)
SELECT COUNT(*) FROM CMSVIEW.CM_THM_TRGT_CUST;
SELECT * FROM CMSVIEW.CM_THM_TRGT_CUST;

---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------

SELECT * FROM CMSVIEW.CM_CHNNL_SMS;


SELECT
    A.CMPGN_NO
    , A.CHNNL_NO
    , A.CHNNL_TYP_CD
    , A.CMPGN_STTS
    , A.CMPGN_EXCT_SCHDLD_DTTM
    , A.CHNNL_RSV_SND_DTTM
    , B.CUST_ID
    , B.CHNNL_TYP_CD
    , B.BRCD_NO
FROM
    CMSVIEW.CM_CMPGN_EXCT A
    , CMSVIEW.CM_CMPGN_TRGT_CUST B
WHERE 1=1
    --AND A.CHNNL_RSV_SND_DTTM >= TO_DATE('20151001','YYYYMMDD')
    --AND A.CHNNL_RSV_SND_DTTM IS NOT NULL
    AND A.CMPGN_EXCT_SCHDLD_DTTM >= TO_DATE('20151026','YYYYMMDD')
    AND B.CMPGN_NO = A.CMPGN_NO
    AND B.CHNNL_NO = A.CHNNL_NO
ORDER BY
    A.CMPGN_NO DESC
    , A.CHNNL_NO
;

---------------------------------------------------------------------------

SELECT
    B.CMPGN_NO
    , A.CHNNL_NO
    , B.CHNNL_TYP_CD
    , B.CMPGN_STTS
    , B.CMPGN_EXCT_SCHDLD_DTTM
    , B.CHNNL_RSV_SND_DTTM
    --, C.CUST_ID
    --, C.CHNNL_TYP_CD
    --, C.BRCD_NO
FROM
    CMSVIEW.CM_CHNNL_SMS         A
    , CMSVIEW.CM_CMPGN_EXCT      B
    --, CMSVIEW.CM_CMPGN_TRGT_CUST C
WHERE 1=1
    --AND A.CHNNL_RSV_SND_DTTM >= TO_DATE('20151025','YYYYMMDD')
    AND B.CMPGN_EXCT_SCHDLD_DTTM >= TO_DATE('20151010','YYYYMMDD')
    AND B.CHNNL_NO = A.CHNNL_NO
    --AND C.CMPGN_NO = B.CMPGN_NO
    --AND C.CHNNL_NO = B.CHNNL_NO
ORDER BY
    B.CMPGN_NO DESC
    , A.CHNNL_NO
;

---------------------------------------------------------------------------

SELECT
    *
FROM
    CMSVIEW.CM_CMPGN_TRGT_CUST
WHERE 1=1
    AND CMPGN_NO LIKE 'C20151010%'
    --AND CHNNL_TYP_CD IN ('SMS','LMS','MMS','BMS')
    AND CHNNL_TYP_CD IN ('BMS')
ORDER BY
    CMPGN_NO DESC
;

---------------------------------------------------------------------------

SELECT
    CMPGN_NO
    , CHNNL_NO
    , COUNT(*)
FROM
    CMSVIEW.CM_CMPGN_TRGT_CUST
WHERE 1=1
    AND CMPGN_NO LIKE 'C201510%'
    AND CHNNL_TYP_CD IN ('SMS','LMS','MMS','BMS')
GROUP BY
    CMPGN_NO
    , CHNNL_NO
ORDER BY
    CMPGN_NO DESC
;

---------------------------------------------------------------------------
---------------------------------------------------------------------------


SELECT
    A.CMPGN_NO
    , A.CHNNL_NO
    , A.CHNNL_TYP_CD
    , A.CMPGN_STTS
    , A.CHNNL_RSV_SND_DTTM
    , B.CUST_ID
    , B.CHNNL_TYP_CD
    , B.BRCD_NO
FROM
    CMSVIEW.CM_CMPGN_EXCT A
    , CMSVIEW.CM_CMPGN_TRGT_CUST B
WHERE 1=1
    AND B.CMPGN_NO = A.CMPGN_NO
    AND B.CHNNL_NO = A.CHNNL_NO
ORDER BY
    A.CMPGN_NO DESC
    , A.CHNNL_NO
;

---------------------------------------------------------------------------

SELECT
    *
FROM
    CMSVIEW.CM_CMPGN_TRGT_CUST  A
    --, CMSVIEW.CM_CHNNL_BMS      B
WHERE 1=1
    AND A.CMPGN_NO LIKE 'C201510%'
    -- AND A.CHNNL_TYP_CD IN ('SMS','LMS','MMS','BMS')
    AND A.CHNNL_TYP_CD IN ('BMS')
    --AND B.CHNNL_NO = A.CHNNL_NO
ORDER BY
    A.CMPGN_NO DESC
;

---------------------------------------------------------------------------

SELECT
    A.*
FROM
    CMSVIEW.CM_CMPGN_EXCT A
WHERE 1=1
    --AND A.CMPGN_NO = 'C20151027103811310'
;

---------------------------------------------------------------------------

            SELECT BIZ_TYPECD  AS BIZ_TYPECD
                 , CHRGPERS_CD AS CHRGPERS_CD
                 , CHRGPERS_NM AS CHRGPERS_NM
                 , STORECD     AS STORECD
                 , STORENM     AS STORENM
                 , OCCTYPE     AS OCCTYPE
                 , OCCTYPE_NM  AS OCCTYPE_NM
                 , LOGIN_PWD   AS LOGIN_PWD
                 , MSTR_ID     AS MSTR_ID
                 , CMS_AUTH    AS CMS_AUTH    /* 01 : 관리자(CI점포 모두) , 02 : CI전용 */
              FROM TSVM.CMS_USER_CRM
              ORDER BY STORECD
 --            WHERE CHRGPERS_CD = #chrgpers_cd#
  --             AND LOGIN_PWD   = #login_pwd#

---------------------------------------------------------------------------

SELECT
    *
FROM
    CMSVIEW.CM_CMPGN_EXCT A
WHERE 1=1
;

---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------

SELECT
    A.CMPGN_NO
    , A.CHNNL_NO
    , COUNT(*)
FROM
    CMSVIEW.CM_CMPGN_TRGT_CUST A
    --, CMSVIEW.CM_CHNNL_SMS     B
WHERE 1=1
    AND A.CHNNL_TYP_CD = 'SMS'
    --AND B.CHNNL_NO = A.CHNNL_NO
    AND A.CMPGN_NO LIKE 'C201510%'
GROUP BY
    A.CMPGN_NO
    , A.CHNNL_NO
;

---------------------------------------------------------------------------

SELECT
    A.CMPGN_NO
    , A.CHNNL_NO
    , COUNT(*)
FROM
    CMSVIEW.CM_CMPGN_TRGT_CUST A
    --, CMSVIEW.CM_CHNNL_SMS     B
WHERE 1=1
    AND A.CHNNL_TYP_CD = 'MMS'
    --AND B.CHNNL_NO = A.CHNNL_NO
    AND A.CMPGN_NO LIKE 'C201510%'
GROUP BY
    A.CMPGN_NO
    , A.CHNNL_NO
;

---------------------------------------------------------------------------

SELECT
    A.CMPGN_NO
    , A.CHNNL_NO
    , COUNT(*)
FROM
    CMSVIEW.CM_CMPGN_TRGT_CUST A
    --, CMSVIEW.CM_CHNNL_SMS     B
WHERE 1=1
    AND A.CHNNL_TYP_CD = 'LMS'
    --AND B.CHNNL_NO = A.CHNNL_NO
    AND A.CMPGN_NO LIKE 'C201510%'
GROUP BY
    A.CMPGN_NO
    , A.CHNNL_NO
;

---------------------------------------------------------------------------

SELECT
    A.CMPGN_NO
    , A.CHNNL_NO
    , COUNT(*)
FROM
    CMSVIEW.CM_CMPGN_TRGT_CUST A
    --, CMSVIEW.CM_CHNNL_SMS     B
WHERE 1=1
    AND A.CHNNL_TYP_CD = 'BMS'
    --AND B.CHNNL_NO = A.CHNNL_NO
    AND A.CMPGN_NO LIKE 'C201510%'
GROUP BY
    A.CMPGN_NO
    , A.CHNNL_NO
;

---------------------------------------------------------------------------
---------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 주말작업 ]

DROP TABLE CM_CHNNL_APR;

CREATE SET TABLE CMSDATA.CM_CHNNL_APR ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      PUSH_MSG VARCHAR(120) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지',
      POP_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '팝업내용',
      INAPP_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '인앱내용',
      MAKE_FNSH_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작완료여부',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      BIZ_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '비즈아이디',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW.CM_CHNNL_APR    AS LOCKING TABLE CMSDATA.CM_CHNNL_APR     FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APR   );

----------------------------------------------------------------------------------------




DROP TABLE CM_CHNNL_APT;


CREATE SET TABLE CMSDATA.CM_CHNNL_APT ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      PUSH_MSG VARCHAR(120) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지',
      POP_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '팝업내용',
      INAPP_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '인앱내용',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      BIZ_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '비즈아이디',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW.CM_CHNNL_APT    AS LOCKING TABLE CMSDATA.CM_CHNNL_APT     FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APT   );

----------------------------------------------------------------------------------------

DROP TABLE CM_CHNNL_EML;

CREATE SET TABLE CMSDATA.CM_CHNNL_EML ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      POST_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '포스트아이디',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW.CM_CHNNL_EML    AS LOCKING TABLE CMSDATA.CM_CHNNL_EML     FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_EML   );

----------------------------------------------------------------------------------------

DROP TABLE CM_CHNNL_BMS;

CREATE SET TABLE CMSDATA.CM_CHNNL_BMS ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      EVNT_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사번호',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TMP_FL_PTH VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '템플릿파일경로',
      TMP_FL_NM VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '템플릿파일명',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      FL_1_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일1경로',
      FL_2_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일2경로',
      FL_3_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일3경로')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW.CM_CHNNL_BMS    AS LOCKING TABLE CMSDATA.CM_CHNNL_BMS     FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_BMS   );

----------------------------------------------------------------------------------------




DROP TABLE CM_CHNNL_MMS;

CREATE SET TABLE CMSDATA.CM_CHNNL_MMS ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      FL_1_PTH VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일1경로',
      FL_2_PTH VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일2경로',
      FL_3_PTH VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일3경로',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW.CM_CHNNL_MMS    AS LOCKING TABLE CMSDATA.CM_CHNNL_MMS     FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_MMS   );

----------------------------------------------------------------------------------------




DROP TABLE CM_CHNNL_LMS;

CREATE SET TABLE CMSDATA.CM_CHNNL_LMS ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW.CM_CHNNL_LMS    AS LOCKING TABLE CMSDATA.CM_CHNNL_LMS     FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_LMS   );

----------------------------------------------------------------------------------------




DROP TABLE CM_CHNNL_SMS;

CREATE SET TABLE CMSDATA.CM_CHNNL_SMS ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW.CM_CHNNL_SMS    AS LOCKING TABLE CMSDATA.CM_CHNNL_SMS     FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_SMS   );

----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------
[ 2015.10.27 마침 ]


DROP TABLE CM_CMPGN_EXCT;

CREATE SET TABLE CMSDATA.CM_CMPGN_EXCT ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      IMMDTLY_SND_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '즉시발송여부',
      CMPGN_EXCT_SCHDLD_DTTM TIMESTAMP(6) TITLE '캠페인실행예정일시',
      CMPGN_EXCT_FNSH_DTTM TIMESTAMP(6) TITLE '캠페인실행완료일시',
      CMPGN_EXCT_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인실행상태',
      RSV_CNT DECIMAL(8,0) TITLE '예약건수',
      SND_CNT DECIMAL(8,0) TITLE '발송건수',
      SND_FL_CNT DECIMAL(8,0) TITLE '발송실패건수',
      CMPGN_OPN_CNT DECIMAL(8,0) TITLE '캠페인오픈건수',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드',
      CHNNL_PLCY_NO DECIMAL(18,0) TITLE '채널정책번호',
      IMG_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지제작요청상태',
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_SND_CNT DECIMAL(2,0) TITLE '테스트발송횟수',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,CHNNL_NO );

REPLACE VIEW CMSVIEW.CM_CMPGN_EXCT    AS LOCKING TABLE CMSDATA.CM_CMPGN_EXCT     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_EXCT   );

----------------------------------------------------------------------------------------



DROP TABLE CM_CMPGN_REG_DTL;

CREATE SET TABLE CMSDATA.CM_CMPGN_REG_DTL ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      CHNNL_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널명',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호' NOT NULL,
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드',
      SND_DTTM TIMESTAMP(6) TITLE '발송일시',
      CMPGN_RJCT_RSN VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인반려사유',
      CMPGN_OFFR_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼코드',
      CMPGN_OFFR_EXP DECIMAL(18,2) TITLE '캠페인오퍼비용',
      CMPGN_OFFR_EXP_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼비용구분코드',
      CMPGN_OFFR_PAY_DT DATE FORMAT 'YYYY-MM-DD' TITLE '캠페인오퍼지급일자',
      CMPGN_OFFR_EVNT_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼행사내용',
      CMPGN_PRDGFT_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인사은품명',
      EVNT_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사번호',
      EVNT_DESC VARCHAR(2000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사내용',
      CMPGN_PLCY_NO DECIMAL(18,0) TITLE '캠페인정책번호',
      THM_TRGT_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테마별타겟분류코드',
      THM_TRGT_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테마별타겟코드',
      SCCSS_CNDTN_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '성공조건코드',
      CMPGN_EXCT_RNK INTEGER TITLE '캠페인실행순위',
      CMPGN_RQST_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인요청자아이디',
      FNL_APPRVL_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '최종승인자아이디',
      FNL_APPRVL_DTTM TIMESTAMP(6) TITLE '최종승인일시',
      FNL_APPRVL_STS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '최종승인상태',
      CMPGN_TRGT_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인대상요청상태',
      CMPGN_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인제작요청상태',
      RSPS_RTO_US_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '반응율사용구분코드',
      EFF_ANAL_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '효과분석시작일자',
      EFF_ANAL_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '효과분석종료일자',
      TOPN DECIMAL(8,0) TITLE 'TOPN',
      CUST_CNT DECIMAL(8,0) TITLE '고객수',
      GFT_SYS_REG_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사은품시스템등록여부',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,CHNNL_NO );

REPLACE VIEW CMSVIEW.CM_CMPGN_REG_DTL    AS LOCKING TABLE CMSDATA.CM_CMPGN_REG_DTL     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_REG_DTL   );

----------------------------------------------------------------------------------------




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

 TRAN_NO                                   NOT NULL NUMBER(11,)        시퀀스번호
 COM_CD                                             VARCHAR2(16)       회사코드
 STO_CD                                             VARCHAR2(16)       지점코드
 SERVICE_TYPE                              NOT NULL CHAR(1)            서비스종류(0:SMS, 2:MMS/BMS, 3:LMS)
 CALLBACK                                  NOT NULL VARCHAR2(20)       회신번호
 TRAN_SUBJECT                              NOT NULL VARCHAR2(40)       제목
 TRAN_MESSAGE                              NOT NULL VARCHAR2(4000)     내용
 TRAN_COUNT                                NOT NULL NUMBER(11,)        총건수(동보전송건수)
 TRAN_YN                                   NOT NULL VARCHAR2(1)        송신여부(1:대기, 2:전송, 3:완료)
 TRAN_DATETIME                             NOT NULL DATE               전송요청일시
 CAMPAIGN_CD                                        VARCHAR2(50)       캠페인코드
 FILE_PATH_1                                        VARCHAR2(200)      MMS 첨부파일1(웹으로 접근 가능한 URL)
 FILE_PATH_2                                        VARCHAR2(200)      MMS 첨부파일2(웹으로 접근 가능한 URL)
 FILE_PATH_3                                        VARCHAR2(200)      MMS 첨부파일3(웹으로 접근 가능한 URL)
 FILE_TEMPLATE_NAME                                 VARCHAR2(200)      바코드 템플릿명
 FILE_TEMPLATE_PATH                                 VARCHAR2(200)      바코드 템플릿 경로
 REG_DATE                                  NOT NULL DATE               등록일
 REG_ID                                             VARCHAR2(50)       등록자ID
 MOD_DATE                                  NOT NULL DATE               수정일
 MOD_ID                                             VARCHAR2(50)       수정자ID
 MT_SEQ                                    NOT NULL NUMBER(5,)         동보시퀸스
 RECIPIENT_ID                                       VARCHAR2(20)       수신자ID
 RECIPIENT_NUM                             NOT NULL VARCHAR2(20)       수신자번호
 CHANGEWORD1                                        VARCHAR2(20)       치환1
 CHANGEWORD2                                        VARCHAR2(20)       치환2
 CHANGEWORD3                                        VARCHAR2(20)       치환3
 CHANGEWORD4                                        VARCHAR2(20)       치환4
 CHANGEWORD5                                        VARCHAR2(20)       치환5
 BARCODEWORD                                        VARCHAR2(20)       바코드 번호
 RECV_DATETIME                                      DATE               수신일시
 TRAN_RESULT_CODE                                   VARCHAR2(6)        전송결과코드(1000:성공, 나머지 실패)
 TRAN_DATE                                          VARCHAR2(8)        발송년월일
 CHANNEL_NO                                         VARCHAR2(20)       채널번호


----------------------------------------------------------------------------------------------------

[ SMS 샘플 ]

INSERT INTO
    SSG_LOG_201510
(
    TRAN_NO
    , COM_CD
    , STO_CD
    , SERVICE_TYPE
    , CALLBACK
    , TRAN_SUBJECT
    , TRAN_MESSAGE
    , TRAN_COUNT
    , TRAN_YN
    , TRAN_DATETIME
    , CAMPAIGN_CD
    , FILE_PATH_1
    , FILE_PATH_2
    , FILE_PATH_3
    , FILE_TEMPLATE_NAME
    , FILE_TEMPLATE_PATH
    , REG_DATE
    , REG_ID
    , MOD_DATE
    , MOD_ID
    , MT_SEQ
    , RECIPIENT_ID
    , RECIPIENT_NUM
    , CHANGEWORD1
    , CHANGEWORD2
    , CHANGEWORD3
    , CHANGEWORD4
    , CHANGEWORD5
    , BARCODEWORD
    , RECV_DATETIME
    , TRAN_RESULT_CODE
    , TRAN_DATE
    , CHANNEL_NO
)
VALUES
(
    1                                                      /* TRAN_NO            : 시퀸스번호                            */
    , 'COM_CD'                                             /* COM_CD             : 회사코드                              */
    , 'STO_CD'                                             /* STO_CD             : 지점코드                              */
    , '0'                                                  /* SERVICE_TYPE       : 서비스종류(0:SMS, 2:MMS/BMS, 3:LMS)   */
    , '0233334444'                                         /* CALLBACK           : 회신번호                              */
    , 'SMS 샘플입니다.'                                    /* TRAN_SUBJECT       : 제목                                  */
    , '내용입니다. 내용은 4000 바이트 사용할 수 있습니다.' /* TRAN_MESSAGE       : 내용                                  */
    , 1024                                                 /* TRAN_COUNT         : 총건수(동보전송건수)                  */
    , '1'                                                  /* TRAN_YN            : 송신여부(1:대기, 2:전송, 3:완료)      */
    , TO_DATE('20151025121212', 'YYYYMMDDHH24MISS')        /* TRAN_DATETIME      : 전송요청일시                          */
    , 'C20151027103811310'                                 /* CAMPAIGN_CD        : 캠페인코드                            */
    , NULL                                                 /* FILE_PATH_1        : MMS 첨부파일1(웹으로 접근 가능한 URL) */
    , NULL                                                 /* FILE_PATH_2        : MMS 첨부파일2(웹으로 접근 가능한 URL) */
    , NULL                                                 /* FILE_PATH_3        : MMS 첨부파일3(웹으로 접근 가능한 URL) */
    , NULL                                                 /* FILE_TEMPLATE_NAME : 바코드 템플릿명                       */
    , NULL                                                 /* FILE_TEMPLATE_PATH : 바코드 템플릿 경로                    */
    , SYSDATE                                              /* REG_DATE           : 등록일                                */
    , 'admin'                                              /* REG_ID             : 등록자ID                              */
    , SYSDATE                                              /* MOD_DATE           : 수정일                                */
    , 'admin'                                              /* MOD_ID             : 수정자ID                              */
    , 1                                                    /* MT_SEQ             : 동보시퀸스                            */
    , 'C90640219'                                          /* RECIPIENT_ID       : 수신자ID = CUST_ID                    */
    , '01022223333'                                        /* RECIPIENT_NUM      : 수신자번호                            */
    , NULL                                                 /* CHANGEWORD1        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD2        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD3        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD4        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD5        : 치환1                                 */
    , NULL                                                 /* BARCODEWORD        : 바코드 번호                           */
    , NULL                                                 /* RECV_DATETIME      : 수신일시                              */
    , NULL                                                 /* TRAN_RESULT_CODE   : 전송결과코드(1000:성공, 나머지 실패)  */
    , NULL                                                 /* TRAN_DATE          : 발송년월일                            */
    , 'SMS1017151019253'
)
;

----------------------------------------------------------------------------------------------------

[ MMS 샘플 ]

INSERT INTO
    SSG_LOG_201510
(
    TRAN_NO
    , COM_CD
    , STO_CD
    , SERVICE_TYPE
    , CALLBACK
    , TRAN_SUBJECT
    , TRAN_MESSAGE
    , TRAN_COUNT
    , TRAN_YN
    , TRAN_DATETIME
    , CAMPAIGN_CD
    , FILE_PATH_1
    , FILE_PATH_2
    , FILE_PATH_3
    , FILE_TEMPLATE_NAME
    , FILE_TEMPLATE_PATH
    , REG_DATE
    , REG_ID
    , MOD_DATE
    , MOD_ID
    , MT_SEQ
    , RECIPIENT_ID
    , RECIPIENT_NUM
    , CHANGEWORD1
    , CHANGEWORD2
    , CHANGEWORD3
    , CHANGEWORD4
    , CHANGEWORD5
    , BARCODEWORD
    , RECV_DATETIME
    , TRAN_RESULT_CODE
    , TRAN_DATE
    , CHANNEL_NO
)
VALUES
(
    1                                                      /* TRAN_NO            : 시퀸스번호                            */
    , 'COM_CD'                                             /* COM_CD             : 회사코드                              */
    , 'STO_CD'                                             /* STO_CD             : 지점코드                              */
    , '2'                                                  /* SERVICE_TYPE       : 서비스종류(0:SMS, 2:MMS/BMS, 3:LMS)   */
    , '0233334444'                                         /* CALLBACK           : 회신번호                              */
    , 'MMS 샘플입니다.'                                    /* TRAN_SUBJECT       : 제목                                  */
    , '내용입니다. 내용은 4000 바이트 사용할 수 있습니다.' /* TRAN_MESSAGE       : 내용                                  */
    , 1024                                                 /* TRAN_COUNT         : 총건수(동보전송건수)                  */
    , '1'                                                  /* TRAN_YN            : 송신여부(1:대기, 2:전송, 3:완료)      */
    , TO_DATE('20151025121212', 'YYYYMMDDHH24MISS')        /* TRAN_DATETIME      : 전송요청일시                          */
    , 'C20151027103811310'                                 /* CAMPAIGN_CD        : 캠페인코드                            */
    , NULL                                                 /* FILE_PATH_1        : MMS 첨부파일1(웹으로 접근 가능한 URL) */
    , NULL                                                 /* FILE_PATH_2        : MMS 첨부파일2(웹으로 접근 가능한 URL) */
    , NULL                                                 /* FILE_PATH_3        : MMS 첨부파일3(웹으로 접근 가능한 URL) */
    , NULL                                                 /* FILE_TEMPLATE_NAME : 바코드 템플릿명                       */
    , NULL                                                 /* FILE_TEMPLATE_PATH : 바코드 템플릿 경로                    */
    , SYSDATE                                              /* REG_DATE           : 등록일                                */
    , 'admin'                                              /* REG_ID             : 등록자ID                              */
    , SYSDATE                                              /* MOD_DATE           : 수정일                                */
    , 'admin'                                              /* MOD_ID             : 수정자ID                              */
    , 1                                                    /* MT_SEQ             : 동보시퀸스                            */
    , 'C90640219'                                          /* RECIPIENT_ID       : 수신자ID = CUST_ID                    */
    , '01022223333'                                        /* RECIPIENT_NUM      : 수신자번호                            */
    , NULL                                                 /* CHANGEWORD1        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD2        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD3        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD4        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD5        : 치환1                                 */
    , NULL                                                 /* BARCODEWORD        : 바코드 번호                           */
    , NULL                                                 /* RECV_DATETIME      : 수신일시                              */
    , NULL                                                 /* TRAN_RESULT_CODE   : 전송결과코드(1000:성공, 나머지 실패)  */
    , NULL                                                 /* TRAN_DATE          : 발송년월일                            */
    , 'MMS1017151019253'
)
;

----------------------------------------------------------------------------------------------------

[ BMS 샘플 ]

INSERT INTO
    SSG_LOG_201510
(
    TRAN_NO
    , COM_CD
    , STO_CD
    , SERVICE_TYPE
    , CALLBACK
    , TRAN_SUBJECT
    , TRAN_MESSAGE
    , TRAN_COUNT
    , TRAN_YN
    , TRAN_DATETIME
    , CAMPAIGN_CD
    , FILE_PATH_1
    , FILE_PATH_2
    , FILE_PATH_3
    , FILE_TEMPLATE_NAME
    , FILE_TEMPLATE_PATH
    , REG_DATE
    , REG_ID
    , MOD_DATE
    , MOD_ID
    , MT_SEQ
    , RECIPIENT_ID
    , RECIPIENT_NUM
    , CHANGEWORD1
    , CHANGEWORD2
    , CHANGEWORD3
    , CHANGEWORD4
    , CHANGEWORD5
    , BARCODEWORD
    , RECV_DATETIME
    , TRAN_RESULT_CODE
    , TRAN_DATE
    , CHANNEL_NO
)
VALUES
(
    1                                                      /* TRAN_NO            : 시퀸스번호                            */
    , 'COM_CD'                                             /* COM_CD             : 회사코드                              */
    , 'STO_CD'                                             /* STO_CD             : 지점코드                              */
    , '2'                                                  /* SERVICE_TYPE       : 서비스종류(0:SMS, 2:MMS/BMS, 3:LMS)   */
    , '0233334444'                                         /* CALLBACK           : 회신번호                              */
    , 'BMS 샘플입니다.'                                    /* TRAN_SUBJECT       : 제목                                  */
    , '내용입니다. 내용은 4000 바이트 사용할 수 있습니다.' /* TRAN_MESSAGE       : 내용                                  */
    , 1024                                                 /* TRAN_COUNT         : 총건수(동보전송건수)                  */
    , '1'                                                  /* TRAN_YN            : 송신여부(1:대기, 2:전송, 3:완료)      */
    , TO_DATE('20151025121212', 'YYYYMMDDHH24MISS')        /* TRAN_DATETIME      : 전송요청일시                          */
    , 'C20151027103811310'                                 /* CAMPAIGN_CD        : 캠페인코드                            */
    , NULL                                                 /* FILE_PATH_1        : MMS 첨부파일1(웹으로 접근 가능한 URL) */
    , NULL                                                 /* FILE_PATH_2        : MMS 첨부파일2(웹으로 접근 가능한 URL) */
    , NULL                                                 /* FILE_PATH_3        : MMS 첨부파일3(웹으로 접근 가능한 URL) */
    , 'NAME'                                               /* FILE_TEMPLATE_NAME : 바코드 템플릿명                       */
    , 'PATH'                                               /* FILE_TEMPLATE_PATH : 바코드 템플릿 경로                    */
    , SYSDATE                                              /* REG_DATE           : 등록일                                */
    , 'admin'                                              /* REG_ID             : 등록자ID                              */
    , SYSDATE                                              /* MOD_DATE           : 수정일                                */
    , 'admin'                                              /* MOD_ID             : 수정자ID                              */
    , 1                                                    /* MT_SEQ             : 동보시퀸스                            */
    , 'C90640219'                                          /* RECIPIENT_ID       : 수신자ID = CUST_ID                    */
    , '01022223333'                                        /* RECIPIENT_NUM      : 수신자번호                            */
    , NULL                                                 /* CHANGEWORD1        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD2        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD3        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD4        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD5        : 치환1                                 */
    , '1234567890'                                         /* BARCODEWORD        : 바코드 번호                           */
    , NULL                                                 /* RECV_DATETIME      : 수신일시                              */
    , NULL                                                 /* TRAN_RESULT_CODE   : 전송결과코드(1000:성공, 나머지 실패)  */
    , NULL                                                 /* TRAN_DATE          : 발송년월일                            */
    , 'BMS1017151019253'
)
;

----------------------------------------------------------------------------------------------------

[ LMS 샘플 ]

INSERT INTO
    SSG_LOG_201510
(
    TRAN_NO
    , COM_CD
    , STO_CD
    , SERVICE_TYPE
    , CALLBACK
    , TRAN_SUBJECT
    , TRAN_MESSAGE
    , TRAN_COUNT
    , TRAN_YN
    , TRAN_DATETIME
    , CAMPAIGN_CD
    , FILE_PATH_1
    , FILE_PATH_2
    , FILE_PATH_3
    , FILE_TEMPLATE_NAME
    , FILE_TEMPLATE_PATH
    , REG_DATE
    , REG_ID
    , MOD_DATE
    , MOD_ID
    , MT_SEQ
    , RECIPIENT_ID
    , RECIPIENT_NUM
    , CHANGEWORD1
    , CHANGEWORD2
    , CHANGEWORD3
    , CHANGEWORD4
    , CHANGEWORD5
    , BARCODEWORD
    , RECV_DATETIME
    , TRAN_RESULT_CODE
    , TRAN_DATE
    , CHANNEL_NO
)
VALUES
(
    1                                                      /* TRAN_NO            : 시퀸스번호                            */
    , 'COM_CD'                                             /* COM_CD             : 회사코드                              */
    , 'STO_CD'                                             /* STO_CD             : 지점코드                              */
    , '3'                                                  /* SERVICE_TYPE       : 서비스종류(0:SMS, 2:MMS/BMS, 3:LMS)   */
    , '0233334444'                                         /* CALLBACK           : 회신번호                              */
    , 'LMS 샘플입니다.'                                    /* TRAN_SUBJECT       : 제목                                  */
    , '내용입니다. 내용은 4000 바이트 사용할 수 있습니다.' /* TRAN_MESSAGE       : 내용                                  */
    , 1024                                                 /* TRAN_COUNT         : 총건수(동보전송건수)                  */
    , '1'                                                  /* TRAN_YN            : 송신여부(1:대기, 2:전송, 3:완료)      */
    , TO_DATE('20151025121212', 'YYYYMMDDHH24MISS')        /* TRAN_DATETIME      : 전송요청일시                          */
    , 'C20151027103811310'                                 /* CAMPAIGN_CD        : 캠페인코드                            */
    , NULL                                                 /* FILE_PATH_1        : MMS 첨부파일1(웹으로 접근 가능한 URL) */
    , NULL                                                 /* FILE_PATH_2        : MMS 첨부파일2(웹으로 접근 가능한 URL) */
    , NULL                                                 /* FILE_PATH_3        : MMS 첨부파일3(웹으로 접근 가능한 URL) */
    , NULL                                                 /* FILE_TEMPLATE_NAME : 바코드 템플릿명                       */
    , NULL                                                 /* FILE_TEMPLATE_PATH : 바코드 템플릿 경로                    */
    , SYSDATE                                              /* REG_DATE           : 등록일                                */
    , 'admin'                                              /* REG_ID             : 등록자ID                              */
    , SYSDATE                                              /* MOD_DATE           : 수정일                                */
    , 'admin'                                              /* MOD_ID             : 수정자ID                              */
    , 1                                                    /* MT_SEQ             : 동보시퀸스                            */
    , 'C90640219'                                          /* RECIPIENT_ID       : 수신자ID = CUST_ID                    */
    , '01022223333'                                        /* RECIPIENT_NUM      : 수신자번호                            */
    , NULL                                                 /* CHANGEWORD1        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD2        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD3        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD4        : 치환1                                 */
    , NULL                                                 /* CHANGEWORD5        : 치환1                                 */
    , NULL                                                 /* BARCODEWORD        : 바코드 번호                           */
    , NULL                                                 /* RECV_DATETIME      : 수신일시                              */
    , NULL                                                 /* TRAN_RESULT_CODE   : 전송결과코드(1000:성공, 나머지 실패)  */
    , NULL                                                 /* TRAN_DATE          : 발송년월일                            */
    , 'LMS1017151019253'
)
;

----------------------------------------------------------------------------------------------------

SELECT
    TRAN_NO             AS TRAN_NO
    , CAMPAIGN_CD       AS CMPGN_NO
    , CHANNEL_NO        AS CHNNL_NO
    , STO_CD            AS STO_CD
    , SERVICE_TYPE      AS SVC_NO
    , CASE
        WHEN SERVICE_TYPE = '0'                             THEN 'SMS'
        WHEN SERVICE_TYPE = '2' AND BARCODEWORD IS NULL     THEN 'MMS'
        WHEN SERVICE_TYPE = '2' AND BARCODEWORD IS NOT NULL THEN 'BMS'
        WHEN SERVICE_TYPE = '3'                             THEN 'LMS'
        ELSE '---'
        END             AS CHNNL_TYP_CD
    , RECIPIENT_ID      AS CUST_ID
    , BARCODEWORD       AS BAR_NO
    , REG_DATE          AS REG_DT       /* 등록일시     */
    , MOD_DATE          AS MOD_DT       /* 수정일시     */
    , TRAN_DATETIME     AS TRAN_REQ_DT  /* 전송요청일시 */
    , TRAN_DATE         AS TRAN_DT      /* 전송일시     */
    , RECV_DATETIME     AS RECV_DT      /* 수신일시     */
    , TRAN_RESULT_CODE  AS RSLT_CD      /* 전송결과코드 */
FROM
    SSG_LOG_201510
;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 서한수 부장 소스 ]

F:\30. 개발\399. 개발중\SAS 모듈\

    CREATE_USER_IN_META.v.0.8.sas
    FileImport.v.0.5.sas
    VA_Redirect.sas

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

DROP TABLE CMSDATA.CM_CMPGN_MST;

CREATE SET TABLE CMSDATA.CM_CMPGN_MST ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      CMPGN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인명',
      CMPGN_ANNTN VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인설명',
      CHNNL_ANNTN VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널설명',
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      CMPGN_MTHD_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인방법코드',
      TRGT_MTHD_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟팅방법코드',
      CMPGN_CTGRY_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인분류코드',
      CMPGN_CTGRY_SB_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인세분류코드',
      STR_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      CMPGN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '캠페인시작일자',
      CMPGN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '캠페인종료일자',
      CMPGN_RJCT_RSN VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인반려사유',
      CMPGN_OFFR_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼코드',
      CMPGN_OFFR_EXP DECIMAL(18,2) TITLE '캠페인오퍼비용',
      CMPGN_OFFR_EXP_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼비용구분코드',
      CMPGN_OFFR_PAY_DT DATE FORMAT 'YYYY-MM-DD' TITLE '캠페인오퍼지급일자',
      CMPGN_OFFR_EVNT_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼행사내용',
      CMPGN_PRDGFT_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인사은품명',
      EVNT_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사번호',
      EVNT_DESC VARCHAR(2000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사내용',
      CMPGN_PLCY_NO DECIMAL(18,0) TITLE '캠페인정책번호',
      THM_TRGT_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테마별타겟분류코드',
      THM_TRGT_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테마별타겟코드',
      SCCSS_CNDTN_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '성공조건코드',
      CMPGN_EXCT_RNK INTEGER TITLE '캠페인실행순위',
      CMPGN_RQST_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인요청자아이디',
      FNL_APPRVL_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '최종승인자아이디',
      FNL_APPRVL_DTTM TIMESTAMP(6) TITLE '최종승인일시',
      FNL_APPRVL_STS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '최종승인상태',
      CMPGN_TRGT_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인대상요청상태',
      CMPGN_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인제작요청상태',
      RSPS_RTO_US_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '반응율사용구분코드',
      EFF_ANAL_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '효과분석시작일자',
      EFF_ANAL_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '효과분석종료일자',
      TOPN DECIMAL(8,0) TITLE 'TOPN',
      CUST_CNT DECIMAL(8,0) TITLE '고객수',
      GFT_SYS_REG_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사은품시스템등록여부',
      CMPGN_STEP VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인단계',

      SND_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송구분코드',

      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO );

REPLACE VIEW CMSVIEW.CM_CMPGN_MST    AS LOCKING TABLE CMSDATA.CM_CMPGN_MST     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_MST   );



DROP TABLE CMSDATA.CM_CMPGN_SCCS_CNDTN_DTL;

CREATE SET TABLE CMSDATA.CM_CMPGN_SCCS_CNDTN_DTL ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      SCCSS_CNDTN_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '성공조건코드' NOT NULL,
      SCCSS_CNDTN_DTL_SEQ_NO DECIMAL(18,0) TITLE '성공조건상세일련번호' NOT NULL,

      CHGR_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '담당코드',
      CHGR_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '담당명',

      ITM_BYNG_CTGRY_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품구매카테고리코드',
      ITM_BYNG_CTGRY_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품구매카테고리명',
      ITM_BYNG_BG_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품구매대분류코드',
      ITM_BYNG_BG_TYP_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품구매대분류명',
      ITM_BYNG_MD_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품구매중분류코드',
      ITM_BYNG_MD_TYP_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품구매중분류명',
      ITM_BYNG_SM_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품구매소분류코드',
      ITM_BYNG_SM_TYP_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품구매소분류명',
      ITM_BYNG_SKU_NO VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품구매SKU번호',
      ITM_BYNG_SKU_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품구매SKU명',
      GLAMT_CMPLT_AMT_TYP VARCHAR(3) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '목표금액달성금액구분',
      GLAMT_CMPLT_AMT DECIMAL(18,2) TITLE '목표금액달성금액',
      GLAMT_CMPLT_EVNT_STAT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '목표금액달성행사기간시작일자',
      GLAMT_CMPLT_EVNT_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '목표금액달성행사기간종료일자',
      CTMTRNS_GLWUP_SCCS_TYP VARCHAR(3) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '객단가증가성공구분',
      CTMTRNS_GLWUP_SCCS_CAD_TYP VARCHAR(3) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '결제카드성공카드종류',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,SCCSS_CNDTN_CD ,SCCSS_CNDTN_DTL_SEQ_NO );

REPLACE VIEW CMSVIEW.CM_CMPGN_SCCS_CNDTN_DTL    AS LOCKING TABLE CMSDATA.CM_CMPGN_SCCS_CNDTN_DTL     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_SCCS_CNDTN_DTL   );



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SELECT COUNT(*) FROM SSG_LOG_201510 WHERE CHANNEL_NO LIKE 'SMS%';

SELECT COUNT(*) FROM SSG_LOG_201510 WHERE CHANNEL_NO LIKE 'LMS%';

SELECT COUNT(*) FROM SSG_LOG_201510 WHERE CHANNEL_NO LIKE 'MMS%';

SELECT COUNT(*) FROM SSG_LOG_201510 WHERE CHANNEL_NO LIKE 'BMS%';


-- DELETE FROM SSG_LOG_201510;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ 점포전화번호 테이블 : 안필재 M ]


REPLACE VIEW CMSVIEW.CM_STORE_TEL AS LOCKING TABLE CMSDATA.CM_STORE_TEL FOR ACCESS ( SELECT * FROM CMSDATA.CM_STORE_TEL                 );

CREATE SET TABLE CMSDATA.CM_STORE_TEL ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포코드' NOT NULL,
      TEL_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '01 대표전호 02 문화센터 03 기타 ',
      TEL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '전화번호',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(0) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(0) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( STR_ID, TEL_TYPE );


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 캠페인 대상고객 채널 반응정보]

SELECT COUNT(*) FROM CMSDATA_DEV.CM_TRGT_CUST_CHNNL_RSPNS_151027;

SELECT COUNT(*) FROM CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS;

DELETE FROM CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS;

SELECT COUNT(*) FROM CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS;

INSERT INTO
    CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS
SELECT
    *
FROM
    CMSDATA_DEV.CM_TRGT_CUST_CHNNL_RSPNS_151027
;

SELECT COUNT(*) FROM CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS;

SELECT
    A.CHNNL_TYP_CD
    , COUNT(*)
FROM
    CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS A
WHERE 1=1
GROUP BY
    A.CHNNL_TYP_CD
;

SELECT * FROM CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS;

SHOW TABLE CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS;

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


select count(*) from cm_cmpgn_mst;

SELECT
    TABLENAME
    , DATABASENAME
FROM
    DBC.TABLES
WHERE 1=1
    /*AND (
        TABLENAME LIKE 'CM%_151026'
        OR TABLENAME LIKE 'SIMUL%_151026'
    )*/
    AND DATABASENAME = 'CMSDATA_DEV'
ORDER BY
    TABLENAME
;


select TO_CHAR(to_TIMESTAMP('20151029010101','YYYYMMDDHH24MISS'), 'YYYYMMDDHH24MISS') AS DT
;

select '20151029010101' (TIMESTAMP(0))


SELECT TO_TIMESTAMP('2015/10/09 21:01:01', 'yyyy/mm/dd hh24:mi:ss');


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SELECT TO_TIMESTAMP('2015/10/09 01:01:01', 'yyyy/mm/dd hh:mi:ss');

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

            INSERT INTO
                CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS
            (
                CMPGN_NO            /* 캠페인번호           */
                , CHNNL_NO          /* 채널번호             */
                , CUST_ID           /* 고객아이디           */
                , CHNNL_TYP_CD      /* 채널종류코드         */
                , CHNNL_SND_DTTM    /* 채널발송시간         */
                , CHNNL_OPN_DTTM    /* 채널오픈시간         */
                , CHNNL_SND_EXP     /* 채널발송비용         */
                , SYS_CRTN_DTTM     /* SYS_생성일시         */
                , SYS_UPDT_DTTM     /* SYS_변경일시         */
                , SYS_FRST_OPRTN_ID /* SYS_최초등록자아이디 */
                , SYS_LST_UPDT_ID   /* SYS_최종변경자아이디 */
            )
            VALUES
            (
                #cmpgn_no#
                , #chnnl_no#
                , #cust_id#
                , #chnnl_typ_cd#
                , TO_TIMESTAMP(#tran_req_dt#, 'YYYYMMDDHH24MISS')   /* , TO_DATE(tran_dt, 'YYYYMMDDHH24MISS') */
                , TO_TIMESTAMP(#mod_dt#, 'YYYYMMDDHH24MISS')        /* , TO_DATE(recv_dt, 'YYYYMMDDHH24MISS') */
                , 0
                , CURRENT_TIMESTAMP
                , CURRENT_TIMESTAMP
                , 'admin'
                , 'admin'
            )


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


REPLACE VIEW CMSVIEW.CM_CMPGN_MST    AS LOCKING TABLE CMSDATA.CM_CMPGN_MST     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_MST   );
REPLACE VIEW CMSVIEW.CM_CMPGN_EXCT    AS LOCKING TABLE CMSDATA.CM_CMPGN_EXCT     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_EXCT   );
REPLACE VIEW CMSVIEW.CM_CMPGN_REG_DTL    AS LOCKING TABLE CMSDATA.CM_CMPGN_REG_DTL     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_REG_DTL   );


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

PROCEDURE : SP_PRERR_LOG
PROCEDURE : SP_EMI_DC_POLICY_MST_UPDATE

PROCEDURE : UTL_HTTP

TABLE : EMI_BLSMSIGN_INFO


위에서 제시한 프로시져와 테이블 CREATION문을 요청합니다.




----------------------------------------------------------------------------------------------------
[ MMS 이미지 연결 방법 ]

https://cms.emart.com:8343/SASEMARTCMS/images/emart/login/bg_img.gif


https://cms.emart.com:8343/SASEMARTCMS/images/emart/login/bg_img.gif

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

public class EncDecUtil {

    private static boolean flag = true;

    /**
     *
     */
    public EncDecUtil() {
        // TODO Auto-generated constructor stub

        if (flag) System.out.println(">" + getEncodingType("알아내기"));
        if (flag) System.out.println(">" + getCharacterSet());

        String source = "게임";

        String hex_utf8 = encode(source, "UTF-8");
        System.out.println(hex_utf8);
        System.out.println(decode(hex_utf8, "UTF-8"));

        String hex_euckr = encode(source, "EUC-KR");
        System.out.println(hex_euckr);
        System.out.println(decode(hex_euckr, "EUC-KR"));

        System.out.println(changeCharset(source, "UTF-8"));

        System.out.println(changeCharset(source, "EUC-KR"));
    }

    /**
     *
     * @param str
     * @return
     */
    private String getEncodingType(String str) {

        String charSet[] = {"euc-kr", "ksc5601", "iso-8859-1", "8859_1", "ascii", "MS949", "UTF-8" };
        if (flag) {
            if (str != null) {

                try {
                    for (int i=0; i < charSet.length; i++) {
                        for (int j=0; j < charSet.length; j++) {
                            if (i == j)
                                continue;

                            System.out.println(charSet[i] + ":" + charSet[j] + ":" + new String(str.getBytes(charSet[i]), charSet[j]) + "<br>");
                        }
                    }
                } catch (Exception e) {
                    return "FAIL";
                }
            }
        }

        return "OK";
    }

    /**
     *
     * @return
     */
    private String getCharacterSet() {
        if (flag) {
            byte[] BOM = new byte[4];
            BOM = "확인할문자열".getBytes();

            if ( (BOM[0] & 0xFF) == 0xEF && (BOM[1] & 0xFF) == 0xBB && (BOM[2] & 0xff) == 0xBF)
                return "UTF-8";
            else if ( (BOM[0] & 0xFF) == 0xFE && (BOM[1] & 0xFF) == 0xFF)
                return "UTF-16BE";
            else if ( (BOM[0] & 0xFF) == 0xFF && (BOM[1] & 0xFF) == 0xFE)
                return "UTF-16LE";
            else if ( (BOM[0] & 0xFF) == 0x00 && (BOM[1] & 0xFF) == 0x00 && (BOM[2] & 0xFF) == 0xFE && (BOM[3] & 0xFF) == 0xFF)
                return "UTF-32BE";
            else if ( (BOM[0] & 0xFF) == 0xFF && (BOM[1] & 0xFF) == 0xFE && (BOM[2] & 0xFF) == 0x00 && (BOM[3] & 0xFF) == 0x00)
                return "UTF-32LE";
            else
                return "EUC-KR";
        }

        return "";
    }


    private String encode(String str, String charset) {
        StringBuffer sb = new StringBuffer();
        try {
            byte[] key_source = str.getBytes(charset);
            for (byte b : key_source) {
                String hex = String.format("%02X", b).toUpperCase();
                sb.append("%");
                sb.append(hex);
            }
        } catch (UnsupportedEncodingException e) {}

        return sb.toString();
    }

    private String decode(String hex, String charset) {
        byte[] bytes = new byte[hex.length()/3];
        int len = hex.length();

        for (int i=0; i < len; ) {
            int pos = hex.substring(i).indexOf("%");
            if (pos == 0) {
                String hex_code = hex.substring(i+1, i+3);
                bytes[i/3] = (byte)Integer.parseInt(hex_code, 16);
                i += 3;
            } else {
                i += pos;
            }
        }
        try {
            return new String(bytes, charset);
        } catch (UnsupportedEncodingException e) {}

        return "";
    }

    private String changeCharset(String str, String charset) {
        try {
            byte[] bytes = str.getBytes(charset);
            return new String(bytes, charset);
        } catch (UnsupportedEncodingException e) {}

        return "";
    }
}

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

##### 1. webapp/WEB-INF/web.xml

    <display-name>egovframework default</display-name>

    ################################  Filter : 필터를 정의한다. ######################################
    <filter>
        <filter-name>encodingFilter</filter-name>
        <filter-class>org.springframework.web.filter.CharacterEncodingFilter
        </filter-class>
        <init-param>
            <param-name>encoding</param-name>
            <param-value>utf-8</param-value>
        </init-param>
    </filter>
    <filter-mapping>
        <filter-name>encodingFilter</filter-name>
        <url-pattern>*.do</url-pattern>
    </filter-mapping>


    <filter>
        <filter-name>HTMLTagFilter</filter-name>
        <filter-class>egovframework.com.cmm.filter.HTMLTagFilter
        </filter-class>
    </filter>
    <filter-mapping>
        <filter-name>HTMLTagFilter</filter-name>
        <url-pattern>*.do</url-pattern>
    </filter-mapping>


    ##################################  context param : 프로그램에서 사용하는 인자를 정의한다. ####################################
    <context-param>
        <param-name>contextConfigLocation</param-name>
        <param-value>classpath*:egovframework/spring/com/context-*.xml
        </param-value>
    </context-param>


    ################################## listener : Maven ??? ####################################
    <listener>
        <listener-class>org.springframework.web.context.ContextLoaderListener
        </listener-class>
    </listener>


    ################################## servlet : DispatcherServlet ####################################
    <servlet>
        <servlet-name>action</servlet-name>
        <servlet-class>org.springframework.web.servlet.DispatcherServlet
        </servlet-class>
        <init-param>
            <param-name>contextConfigLocation</param-name>
            <param-value>/WEB-INF/config/egovframework/springmvc/egov-com-*.xml
            </param-value>
        </init-param>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>action</servlet-name>
        <url-pattern>*.do</url-pattern>
    </servlet-mapping>


    ################################## ajax Servlet ####################################
    <servlet>
        <servlet-name>ajaxServlet</servlet-name>
        <servlet-class>net.sourceforge.ajaxtags.servlets.SourceLoader
        </servlet-class>
        <init-param>
            <param-name>prefix</param-name>
            <param-value>/ajaxtags</param-value>
        </init-param>
    </servlet>
    <servlet-mapping>
        <servlet-name>ajaxServlet</servlet-name>
        <url-pattern>/ajaxtags/js/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ajaxServlet</servlet-name>
        <url-pattern>/ajaxtags/img/*</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>ajaxServlet</servlet-name>
        <url-pattern>/ajaxtags/css/*</url-pattern>
    </servlet-mapping>


    ######################################################################
    <welcome-file-list>
        <welcome-file>index.jsp</welcome-file>
        <welcome-file>egovDevIndex.jsp</welcome-file>
    </welcome-file-list>



    ######################################################################
    <login-config>
        <auth-method>BASIC</auth-method>
    </login-config>



    ######################################################################
    <session-config>
        <session-timeout>1800</session-timeout>
        <!-- <session-timeout>600</session-timeout> -->
    </session-config>


    ######################################################################
    <error-page>
        <error-code>404</error-code>
        <location>/code404.jsp</location>
    </error-page>


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

##### 2. webapp/WEB-INF/config/egovframework/springmvc/egov-com-servlet.xml

    <bean id="authenticInterceptor" class="egovframework.com.cmm.interceptor.AuthenticInterceptor">
    <!-- 인증 체크가 필요 없는 URL 리스트  -->
        <property name="permittedURL">
            <set>
                <!-- <value>/uat/uia/[a-zA-Z]+\.do</value>
                <value>/EgovLeft.do</value>
                <value>/uat/uia/actionLogin.do</value> -->
                <value>/common/Common.do</value>
                <value>/common/HH14308I.do</value>
                <value>/common/HH14063I.do</value>
                <value>/common/HH14064I.do</value>
                <value>/common/HH14065I.do</value>
                <value>/common/HH14310I.do</value>
                <value>/common/HH14311I.do</value>
                <value>/common/FF12060W.do</value>
                <value>/common/loginChk.do</value>
                <value>/common/loginSuccess.do</value>
                <value>/common/popupList.do</value>
                <value>/common/FileDown.do</value>
            </set>
        </property>
    </bean>


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

##### 3. resources:egovframework/spring/com/context-common.xml

    <bean id="messageSource" class="org.springframework.context.support.ReloadableResourceBundleMessageSource">
        <property name="basenames">
            <list>
                <value>classpath:/egovframework/message/com/message-common</value>
                <value>classpath:/egovframework/rte/fdl/idgnr/messages/idgnr</value>
                <value>classpath:/egovframework/rte/fdl/property/messages/properties</value>
                <value>classpath:/egovframework/egovProps/globals</value>
            </list>
        </property>
        <property name="cacheSeconds">
            <value>60</value>
        </property>
    </bean>


----------------------------------------------------------------------------------------------------

##### 4. resources:egovframework/spring/com/context-datasource.xml

    <!-- jotm 설정 -->
    <bean id="jotm" class="com.sqnt.jta.JotmFactoryBean">
        <!-- transaction의 기본 timeout시간 300초 -->
        <property name="defaultTimeout" value="600000"></property>
    </bean>

    <bean id="egov.propertyConfigurer"
        class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="locations">
            <list>
                <value>classpath:/egovframework/egovProps/globals.properties</value>
                <!-- value>file:/product/jeus/egovProps/globals.properties</value -->
            </list>
        </property>
    </bean>





    <!-- PMS Oracle -->
    <bean id="dataSource-pms" class="org.enhydra.jdbc.pool.StandardXAPoolDataSource"
        destroy-method="shutdown">
        <property name="dataSource">
            <bean class="org.enhydra.jdbc.standard.StandardXADataSource"
                destroy-method="shutdown">
                <property name="transactionManager" ref="jotm" />
                <property name="driverName" value="${PMS.DriverClassName}" />
                <property name="url" value="${PMS.Url}" />
            </bean>
        </property>
        <property name="user" value="${PMS.UserName}" />
        <property name="password" value="${PMS.Password}" />
        <property name="minSize" value="5" />
        <property name="maxSize" value="50" />
    </bean>
    <!-- DataSource -->
    <alias name="dataSource-pms" alias="pms.dataSource" />

    <!-- PMSAUTO Oracle -->
    <bean id="dataSource-pmsauto" class="org.enhydra.jdbc.pool.StandardXAPoolDataSource"
        destroy-method="shutdown">
        <property name="dataSource">
            <bean class="org.enhydra.jdbc.standard.StandardXADataSource"
                destroy-method="shutdown">
                <property name="transactionManager" ref="jotm" />
                <property name="driverName" value="${PMSAUTO.DriverClassName}" />
                <property name="url" value="${PMSAUTO.Url}" />
            </bean>
        </property>
        <property name="user" value="${PMSAUTO.UserName}" />
        <property name="password" value="${PMSAUTO.Password}" />
        <property name="minSize" value="5" />
        <property name="maxSize" value="50" />
    </bean>
    <!-- DataSource -->
    <alias name="dataSource-pmsauto" alias="pmsauto.dataSource" />





    <!-- EMS Oracle -->
    <bean id="dataSource-ems" class="org.enhydra.jdbc.pool.StandardXAPoolDataSource"
        destroy-method="shutdown">
        <property name="dataSource">
            <bean class="org.enhydra.jdbc.standard.StandardXADataSource"
                destroy-method="shutdown">
                <property name="transactionManager" ref="jotm" />
                <property name="driverName" value="${EMS.DriverClassName}" />
                <property name="url" value="${EMS.Url}" />
            </bean>
        </property>
        <property name="user" value="${EMS.UserName}" />
        <property name="password" value="${EMS.Password}" />
        <property name="minSize" value="5" />
        <property name="maxSize" value="50" />
    </bean>
    <!-- DataSource -->
    <alias name="dataSource-ems" alias="ems.dataSource" />

    <!-- EMSATUO Oracle -->
    <bean id="dataSource-emsauto" class="org.enhydra.jdbc.pool.StandardXAPoolDataSource"
        destroy-method="shutdown">
        <property name="dataSource">
            <bean class="org.enhydra.jdbc.standard.StandardXADataSource"
                destroy-method="shutdown">
                <property name="transactionManager" ref="jotm" />
                <property name="driverName" value="${EMSAUTO.DriverClassName}" />
                <property name="url" value="${EMSAUTO.Url}" />
            </bean>
        </property>
        <property name="user" value="${EMSAUTO.UserName}" />
        <property name="password" value="${EMSAUTO.Password}" />
        <property name="minSize" value="5" />
        <property name="maxSize" value="50" />
    </bean>
    <!-- DataSource -->
    <alias name="dataSource-emsauto" alias="emsauto.dataSource" />





    <!-- ASPDM Oracle -->
    <bean id="dataSource-aspdm" class="org.enhydra.jdbc.pool.StandardXAPoolDataSource"
        destroy-method="shutdown">
        <property name="dataSource">
            <bean class="org.enhydra.jdbc.standard.StandardXADataSource"
                destroy-method="shutdown">
                <property name="transactionManager" ref="jotm" />
                <property name="driverName" value="${ASPDMDEV.DriverClassName}" />
                <property name="url" value="${ASPDMDEV.Url}" />
            </bean>
        </property>
        <property name="user" value="${ASPDMDEV.UserName}" />
        <property name="password" value="${ASPDMDEV.Password}" />
        <property name="minSize" value="5" />
        <property name="maxSize" value="50" />
    </bean>
    <!-- DataSource -->
    <alias name="dataSource-aspdm" alias="aspdm.dataSource" />





    <!-- CMS Teradata -->
    <bean id="dataSource-cms" class="org.enhydra.jdbc.pool.StandardXAPoolDataSource"
        destroy-method="shutdown">
        <property name="dataSource">
            <bean class="org.enhydra.jdbc.standard.StandardXADataSource"
                destroy-method="shutdown">
                <property name="transactionManager" ref="jotm" />
                <property name="driverName" value="${Globals.DriverClassName}" />
                <property name="url" value="${Globals.Url}" />
            </bean>
        </property>
        <property name="user" value="${Globals.UserName}" />
        <property name="password" value="${Globals.Password}" />
        <property name="minSize" value="5" />
        <property name="maxSize" value="50" />
    </bean>
    <!-- DataSource -->
    <alias name="dataSource-cms" alias="cms.dataSource" />
    <alias name="dataSource-cms" alias="egov.dataSource" />
    <alias name="dataSource-cms" alias="dataSource" />



    <!-- EMT Oracle -->
    <bean id="dataSource-emt" class="org.enhydra.jdbc.pool.StandardXAPoolDataSource"
        destroy-method="shutdown">
        <property name="dataSource">
            <bean class="org.enhydra.jdbc.standard.StandardXADataSource"
                destroy-method="shutdown">
                <property name="transactionManager" ref="jotm" />
                <property name="driverName" value="${EMT.DriverClassName}" />
                <property name="url" value="${EMT.Url}" />
            </bean>
        </property>
        <property name="user" value="${EMT.UserName}" />
        <property name="password" value="${EMT.Password}" />
        <property name="minSize" value="5" />
        <property name="maxSize" value="50" />
    </bean>
    <!-- DataSource -->
    <alias name="dataSource-emt" alias="emt.dataSource" />




    <!-- ASPDMDEV2 Oracle -->
    <bean id="dataSource-aspdm2" class="org.enhydra.jdbc.pool.StandardXAPoolDataSource"
        destroy-method="shutdown">
        <property name="dataSource">
            <bean class="org.enhydra.jdbc.standard.StandardXADataSource"
                destroy-method="shutdown">
                <property name="transactionManager" ref="jotm" />
                <property name="driverName" value="${ASPDMDEV2.DriverClassName}" />
                <property name="url" value="${ASPDMDEV2.Url}" />
            </bean>
        </property>
        <property name="user" value="${ASPDMDEV2.UserName}" />
        <property name="password" value="${ASPDMDEV2.Password}" />
        <property name="minSize" value="5" />
        <property name="maxSize" value="50" />
    </bean>
    <!-- DataSource -->
    <alias name="dataSource-aspdm2" alias="aspdm2.dataSource" />




----------------------------------------------------------------------------------------------------

##### 5. resources:egovframework/spring/com/context-fileupload.xml

    <!-- 파일업로드를 위한 MultipartResolver 정의 -->
    <bean id="spring.RegularCommonsMultipartResolver"
    class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
    <property name="maxUploadSize" value="10485760" />
    <property name="maxInMemorySize" value="100000000" />
    </bean>

    <alias name="spring.RegularCommonsMultipartResolver" alias="multipartResolver" />

    <util:properties id="mmsFileUploadProperties" location="classpath:/egovframework/fileupload/mmsFileUpload.properties" />
    <util:properties id="bmsFileUploadProperties" location="classpath:/egovframework/fileupload/bmsFileUpload.properties" />



----------------------------------------------------------------------------------------------------

##### 6. resources:egovframework/spring/com/context-sas.xml

    <util:properties id="sasProperties" location="classpath:/egovframework/sas/sas.properties" />


----------------------------------------------------------------------------------------------------

##### 7. resources:egovframework/spring/com/context-sqlMap.xml

    <bean id="egov.propertyConfigurer"
        class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
        <property name="locations">
            <list>
                <value>classpath:/egovframework/egovProps/globals.properties</value>
            </list>
        </property>
    </bean>


    <!-- 실행환경에서 빈이름 참조(EgovAbstractDAO) -->
    <bean id="lobHandler" class="org.springframework.jdbc.support.lob.DefaultLobHandler"
        lazy-init="true" />




    <!-- SqlMap setup for iBATIS Database Layer -->
    <bean id="cms.sqlMapClient" class="org.springframework.orm.ibatis.SqlMapClientFactoryBean">
        <property name="configLocations">
            <list>
                    <value>classpath:/emart/sqlmap//*-cms.xml</value>
            </list>
        </property>
        <property name="dataSource" ref="cms.dataSource" />
        <property name="lobHandler" ref="lobHandler" />
    </bean>
    <alias name="cms.sqlMapClient" alias="egov.sqlMapClient" />





    <bean id="pms.sqlMapClient" class="org.springframework.orm.ibatis.SqlMapClientFactoryBean">
        <property name="configLocations">
            <list>
                <value>classpath:/emart/sqlmap//*-pms.xml</value>
            </list>
        </property>
        <property name="dataSource" ref="dataSource-pms" />
        <property name="lobHandler" ref="lobHandler" />
    </bean>




    <bean id="pmsauto.sqlMapClient" class="org.springframework.orm.ibatis.SqlMapClientFactoryBean">
        <property name="configLocations">
            <list>
                <value>classpath:/emart/sqlmap//*-pmsauto.xml</value>
            </list>
        </property>
        <property name="dataSource" ref="dataSource-pmsauto" />
        <property name="lobHandler" ref="lobHandler" />
    </bean>




    <bean id="ems.sqlMapClient" class="org.springframework.orm.ibatis.SqlMapClientFactoryBean">
        <property name="configLocations">
            <list>
                <value>classpath:/emart/sqlmap//*-ems.xml</value>
            </list>
        </property>
        <property name="dataSource" ref="dataSource-ems" />
        <property name="lobHandler" ref="lobHandler" />
    </bean>




    <bean id="emsauto.sqlMapClient" class="org.springframework.orm.ibatis.SqlMapClientFactoryBean">
        <property name="configLocations">
            <list>
                <value>classpath:/emart/sqlmap//*-emsauto.xml</value>
            </list>
        </property>
        <property name="dataSource" ref="dataSource-emsauto" />
        <property name="lobHandler" ref="lobHandler" />
    </bean>




    <bean id="aspdm.sqlMapClient" class="org.springframework.orm.ibatis.SqlMapClientFactoryBean">
        <property name="configLocations">
            <list>
                <value>classpath:/emart/sqlmap//*-aspdm.xml</value>
            </list>
        </property>
        <property name="dataSource" ref="dataSource-aspdm" />
        <property name="lobHandler" ref="lobHandler" />
    </bean>




    <bean id="emt.sqlMapClient" class="org.springframework.orm.ibatis.SqlMapClientFactoryBean">
        <property name="configLocations">
            <list>
                <value>classpath:/emart/sqlmap//*-emt.xml</value>
            </list>
        </property>
        <property name="dataSource" ref="dataSource-emt" />
        <property name="lobHandler" ref="lobHandler" />
    </bean>




    <bean id="aspdm2.sqlMapClient" class="org.springframework.orm.ibatis.SqlMapClientFactoryBean">
        <property name="configLocations">
            <list>
                <value>classpath:/emart/sqlmap//*-aspdm2.xml</value>
            </list>
        </property>
        <property name="dataSource" ref="dataSource-aspdm2" />
        <property name="lobHandler" ref="lobHandler" />
    </bean>



----------------------------------------------------------------------------------------------------

##### 8. resources:egovframework/spring/com/context-validator.xml

    <!-- Integration Apache Commons Validator by Spring Modules -->
    <bean id="beanValidator" class="org.springmodules.validation.commons.DefaultBeanValidator">
        <property name="validatorFactory" ref="validatorFactory"/>
    </bean>

    <bean id="validatorFactory" class="org.springmodules.validation.commons.DefaultValidatorFactory">
        <property name="validationConfigLocations">
            <list>
                <!-- 공통기술 -->
                <value>classpath:/egovframework/validator/com-rules.xml</value>
                <value>classpath:/egovframework/validator/validator-rules.xml</value>
                <value>classpath:/egovframework/validator/**/*.xml</value>
            </list>
        </property>
    </bean>


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

##### 9. resources:egovframework/egovProps/globals.properties

        #-----------------------------------------------------------------------
        #
        #   globals.properties : \uc2dc\uc2a4\ud15c
        #
        #-----------------------------------------------------------------------
        #   1.  key = value \uad6c\uc870\uc785\ub2c8\ub2e4.
        #   2.  key\uac12\uc740 \uacf5\ubc31\ubb38\uc790\ub97c \ud3ec\ud568\ubd88\uac00, value\uac12\uc740 \uacf5\ubc31\ubb38\uc790\ub97c \uac00\ub2a5
        #   3.  key\uac12\uc73c\ub85c \ud55c\uae00\uc744 \uc0ac\uc6a9\ubd88\uac00,   value\uac12\uc740 \ud55c\uae00\uc0ac\uc6a9\uc774 \uac00\ub2a5
        #   4.  \uc904\uc744 \ubc14\uafc0 \ud544\uc694\uac00 \uc788\uc73c\uba74 '\'\ub97c \ub77c\uc778\uc758 \ub05d\uc5d0 \ucd94\uac00(\ub9cc\uc57d  '\'\ubb38\uc790\ub97c \uc0ac\uc6a9\ud574\uc57c \ud558\ub294 \uacbd\uc6b0\ub294 '\\'\ub97c \uc0ac\uc6a9)
        #   5.  Windows\uc5d0\uc11c\uc758 \ub514\ub809\ud1a0\ub9ac \ud45c\uc2dc : '\\' or '/'  ('\' \uc0ac\uc6a9\ud558\uba74 \uc548\ub428)
        #   6.  Unix\uc5d0\uc11c\uc758 \ub514\ub809\ud1a0\ub9ac \ud45c\uc2dc : '/'
        #   7.  \uc8fc\uc11d\ubb38 \ucc98\ub9ac\ub294  #\uc0ac\uc6a9
        #   8.  value\uac12 \ub4a4\uc5d0 \uc2a4\ud398\uc774\uc2a4\uac00 \uc874\uc7ac\ud558\ub294 \uacbd\uc6b0 \uc11c\ube14\ub9bf\uc5d0\uc11c \ucc38\uc870\ud560\ub54c\ub294 \uc5d0\ub7ec\ubc1c\uc0dd\ud560 \uc218 \uc788\uc73c\ubbc0\ub85c trim()\ud558\uac70\ub098 \ub9c8\uc9c0\ub9c9 \uacf5\ubc31\uc5c6\uc774 properties \uac12\uc744 \uc124\uc815\ud560\uac83
        #-----------------------------------------------------------------------

        # \uc6b4\uc601\uc11c\ubc84 \ud0c0\uc785(WINDOWS, UNIX)
        #teradata
        Globals.OsType =WINDOWS
        Globals.DbType =teradata
        Globals.DriverClassName=com.teradata.jdbc.TeraDriver
        Globals.Url=jdbc:teradata://174.100.25.250/database=cmsdata,TMODE=TERA,CHARSET=ASCII,CLIENT_CHARSET=cp949
        Globals.UserName =cmsdata01
        Globals.Password =cmsdata01

        #oracle PMS
        PMS.DbType =oracle
        PMS.DriverClassName=oracle.jdbc.OracleDriver
        PMS.Url=jdbc:oracle:thin:@174.100.22.50:1521:CUSTDB
        PMS.UserName =pmscms
        PMS.Password =pms2015#

        #oracle PMSAUTO
        PMSAUTO.DbType =oracle
        PMSAUTO.DriverClassName=oracle.jdbc.OracleDriver
        PMSAUTO.Url=jdbc:oracle:thin:@174.100.22.50:1521:CUSTDB
        PMSAUTO.UserName =pmsauto
        PMSAUTO.Password =pms2015#

        #oracle EMS
        EMS.DbType =oracle
        EMS.DriverClassName=oracle.jdbc.OracleDriver
        EMS.Url=jdbc:oracle:thin:@174.100.22.50:1521:CUSTDB
        EMS.UserName =emscms
        EMS.Password =ems2015#

        #oracle EMSAUTO
        EMSAUTO.DbType =oracle
        EMSAUTO.DriverClassName=oracle.jdbc.OracleDriver
        EMSAUTO.Url=jdbc:oracle:thin:@174.100.22.50:1521:CUSTDB
        EMSAUTO.UserName =emsauto
        EMSAUTO.Password =ems2015#

        #oracle ASPDM  prod
        ASPDM.DbType =oracle
        ASPDM.DriverClassName=oracle.jdbc.OracleDriver
        ASPDM.Url=jdbc:oracle:thin:@174.100.24.69:1521:MOBILEDM
        ASPDM.UserName =ucms
        ASPDM.Password =ucms!@#

        #oracle ASPDMDEV
        ASPDMDEV.DbType =oracle
        ASPDMDEV.DriverClassName=oracle.jdbc.OracleDriver
        ASPDMDEV.Url=jdbc:oracle:thin:@174.100.24.93:1521:ASP
        ASPDMDEV.UserName =ucms
        ASPDMDEV.Password =ucms!@#





        #oracle EMT INDB (BLS)
        EMT.DbType =oracle
        EMT.DriverClassName=oracle.jdbc.OracleDriver
        EMT.Url=jdbc:oracle:thin:@10.253.32.23:1521:EMTINDB
        EMT.UserName =blsapproval
        EMT.Password =blsapproval#234

        #oracle ASPDMDEV2 (SSG_LOG_YYYYMM)
        ASPDMDEV2.DbType =oracle
        ASPDMDEV2.DriverClassName=oracle.jdbc.OracleDriver
        ASPDMDEV2.Url=jdbc:oracle:thin:@174.100.24.93:1521:ASP
        ASPDMDEV2.UserName =ucms
        ASPDMDEV2.Password =ucms





        # MainPage Setting
        Globals.MainPage  =/index.jsp
        #\ud1b5\ud569\uba54\uc778\uba54\ub274
        #Globals.MainPage = /sym/mnu/mpm/EgovMainMenuHome.do

        # G4C \uc5f0\uacb0\uc6a9 IP (localhost)
        #Globals.LocalIp = 127.0.0.2

        # \ud658\uacbd\ud30c\uc77c \uc704\uce58
        Globals.ShellFilePath     =globals.properties
        Globals.ServerConfPath    =conf/server.properties
        Globals.ClientConfPath    =conf/client.properties
        Globals.FileFormatPath    =conf/format.properties
        Globals.GPKIConfPath      =conf/gpki.properties
        Globals.ConfPath          =conf
        Globals.MailRequestPath   =mail/request/
        Globals.MailRResponsePath =mail/response/
        Globals.SMEConfigPath     =conf/SMEConfig.properties

        # \ud658\uacbd\ud30c\uc77c \uc704\uce58 (jeus)
        #Globals.ShellFilePath     = globals.properties
        #Globals.ServerConfPath    = conf/server.properties
        #Globals.ClientConfPath    = conf/client.properties
        #Globals.FileFormatPath    = conf/format.properties
        #Globals.GPKIConfPath      = conf/gpki.properties
        #Globals.ConfPath          = conf
        #Globals.fileStorePath     =
        #Globals.MailRequestPath   = mail/request/
        #Globals.MailRResponsePath = mail/response/
        #Globals.SMEConfigPath     = conf/SMEConfig.properties
        #Globals.SynchrnServerPath = tmp/upload/

        # WINDOWS\uc6a9 \uc258\ud30c\uc77c \uc815\ubcf4
        SHELL.WINDOWS.getHostName      =prg/sh_001.bat
        SHELL.WINDOWS.getDrctryByOwner =prg/getDrctryByOwner.bat
        SHELL.WINDOWS.getDrctryOwner   =prg/getDrctryOwner.bat
        SHELL.WINDOWS.moveDrctry       =prg/moveDrctry.bat
        SHELL.WINDOWS.compileSchema    =prg/compileSchema.bat
        SHELL.WINDOWS.getDiskAttrb     =prg/getDiskAttrb.bat
        SHELL.WINDOWS.getDiskCpcty     =prg/getDiskCpcty.bat
        SHELL.WINDOWS.getDiskExst      =prg/getDiskExst.bat

        # UNIX\uc6a9 \uc258\ud30c\uc77c \uc815\ubcf4 - \uac1c\ubc1cwas jeus\uc5d0\uc11c \uc0ac\uc6a9\ud560\ub54c \uae30\uc900
        SHELL.UNIX.getHostName      =prg/sh_001.sh
        SHELL.UNIX.getDrctryByOwner =prg/getDrctryByOwner.sh
        SHELL.UNIX.getDrctryOwner   =prg/getDrctryOwner.sh
        SHELL.UNIX.getDrctryAccess  =prg/getDrctryAccess.sh
        SHELL.UNIX.getMountLc       =prg/getMountLc.sh
        SHELL.UNIX.getDiskName      =prg/getNetWorkInfo.sh
        SHELL.UNIX.moveDrctry       =prg/moveDrctry.sh
        SHELL.UNIX.compileSchema    =prg/compileSchema.sh
        SHELL.UNIX.getDiskAttrb     =prg/getDiskAttrb.sh
        SHELL.UNIX.getDiskCpcty     =prg/getDiskCpcty.sh
        SHELL.UNIX.getDiskExst      =prg/getDiskExst.sh
        SHELL.UNIX.getProcInfo      =prg/getProcInfo.sh

        # LINUX\uc6a9 \uc258\ud30c\uc77c \uc815\ubcf4

        # \uc5f0\uacc4
        # \uae30\uad00\ucf54\ub4dc\uc218\uc2e0\uc6a9(\uacbd\ub85c \uc124\uc815\uc740 \ubc18\ub4dc\uc2dc \uc808\ub300\uacbd\ub85c\ub97c \uc0ac\uc6a9\ud574\uc57c\ud568.)
        CNTC.INSTTCODE.DIR.rcv       =D:/tmp/test/rcv/
        CNTC.INSTTCODE.DIR.rcvold    =D:/tmp/test/rcvold/
        CNTC.INSTTCODE.DIR.bin       =D:/tmp/test/bin/

        CNTC.INSTTCODE.CMD.edircv    =gcc_edircv.bat
        CNTC.INSTTCODE.CMD.edircvmsg =gcc_edircvmsg.bat

        CNTC.INSTTCODE.INFO.userid   =USERID
        CNTC.INSTTCODE.INFO.userpw   =******

        # \ud30c\uc77c \uc5c5\ub85c\ub4dc \uacbd\ub85c(\uacbd\ub85c \uc124\uc815\uc740 \ubc18\ub4dc\uc2dc \uc808\ub300\uacbd\ub85c\ub97c \uc0ac\uc6a9\ud574\uc57c\ud568, \uacbd\ub85c \ub4a4\uc5d0 /\ub97c \ubd99\uc5ec \uc8fc\uc5b4\uc57c\ud568.)
        Globals.fileStorePath =M:/emart/upload/
        #Globals.fileStorePath =upload/attach

        # \ud30c\uc77c \ub3d9\uae30\ud654 \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uc0ac\uc6a9\ud560 \ud30c\uc77c \uc5c5\ub85c\ub4dc \uacbd\ub85c(\uacbd\ub85c \uc124\uc815\uc740 \ubc18\ub4dc\uc2dc \uc808\ub300\uacbd\ub85c\ub97c \uc0ac\uc6a9\ud574\uc57c\ud568, \uacbd\ub85c \ub4a4\uc5d0 /\ub97c \ubd99\uc5ec \uc8fc\uc5b4\uc57c\ud568.)
        Globals.SynchrnServerPath =C:/egovframework/upload/Synch/

        # for JFile properties
        system.uploadpath =C:/egovframework/upload/
        no.image.url =/resources/jfile/swfupload/images/no_img.gif
        ftp.server.ip =127.0.0.1
        ftp.user.id =test
        ftp.user.password =test


----------------------------------------------------------------------------------------------------

##### 10. resources:egovframework/fileupload/*.properties

        file.upload.path=bfile
        file.upload.path=mfile

----------------------------------------------------------------------------------------------------

##### 11. resources:egovframework/sas/sas.properties

        host_url=https://cms.emart.com:8343/
        sas_password=sas123


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ annotation ]

    http://dev.anyframejava.org/docs/anyframe/plugin/foundation/4.6.0/reference/html/ch03.html

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

CREATE TABLE CMSDATA_DEV. AS CMSDATA. WITH DATA;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

DROP TABLE CMSDATA_DEV.BF_WEEK                         ;
DROP TABLE CMSDATA_DEV.CI_CUSTS_BY_CHNNL               ;
DROP TABLE CMSDATA_DEV.CM_AMT_RSPNS_SMM                ;
DROP TABLE CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM             ;
DROP TABLE CMSDATA_DEV.CM_BST_CMPGN                    ;
DROP TABLE CMSDATA_DEV.CM_CARD_CO                      ;
DROP TABLE CMSDATA_DEV.CM_CATCHMNT_INCRSS_RTO_SMM      ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_ACHIVE_COMPRSM_SMM     ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_APR                    ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_APT                    ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_BMS                    ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_DM                     ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_DVD_WGHT               ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_EML                    ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_LMS                    ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_MMS                    ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_PLCY                   ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_POS                    ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_RMNS_CNT_BY_DAY        ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_RSPNS_SMM              ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_SMS                    ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_SMS_test               ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_TST_GRP                ;
DROP TABLE CMSDATA_DEV.CM_CHNNL_TST_GRP_CUST           ;
DROP TABLE CMSDATA_DEV.CM_CMMN_CD                      ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_CHNNL                  ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_CTGRY                  ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_EXCT                   ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_HISTRY                 ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_MST                    ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_MST_1019               ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_MST_1028               ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_MST_bak                ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_MST_TEST               ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_OFFR                   ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_PLCY                   ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_REG                    ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_REG_DTL                ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_CD          ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_DTL         ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST             ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_1           ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_2           ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_3           ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_TMP         ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CHC               ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CUST              ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CUST_old          ;
DROP TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CUST_TMP          ;
DROP TABLE CMSDATA_DEV.CM_CMTN_PLN                     ;
DROP TABLE CMSDATA_DEV.CM_CMTN_PLN_KSY                 ;
DROP TABLE CMSDATA_DEV.CM_CTGRY_ACHIVE_COMPRSM_SMM     ;
DROP TABLE CMSDATA_DEV.CM_CTGY_INCRSS_RTO_SMM          ;
DROP TABLE CMSDATA_DEV.CM_CUST_FAV_CHNNL               ;
DROP TABLE CMSDATA_DEV.CM_CUST_GRADE                   ;
DROP TABLE CMSDATA_DEV.CM_CUST_GRADE_TMP               ;
DROP TABLE CMSDATA_DEV.CM_CUST_GRADE_TMP_UV            ;
DROP TABLE CMSDATA_DEV.CM_CUST_MST                     ;
DROP TABLE CMSDATA_DEV.CM_CUST_MST_TMP                 ;
DROP TABLE CMSDATA_DEV.CM_CUST_RSPNS_SMM               ;
DROP TABLE CMSDATA_DEV.CM_CUST_SCCSS_RSPNS_HSTRY       ;
DROP TABLE CMSDATA_DEV.CM_DAY_VISIT_INCRSS_SMM         ;
DROP TABLE CMSDATA_DEV.CM_DIC_TBL                      ;
DROP TABLE CMSDATA_DEV.CM_DT_RSPNS_SMM                 ;
DROP TABLE CMSDATA_DEV.CM_DT_RSPNS_SMM_2               ;
DROP TABLE CMSDATA_DEV.CM_HQ_RSLT_ANLYSS_SMM           ;
DROP TABLE CMSDATA_DEV.CM_MON_VISIT_EXCSS_SMM          ;
DROP TABLE CMSDATA_DEV.CM_NTC                          ;
DROP TABLE CMSDATA_DEV.CM_OFFR_ACHIVE_COMPRSM_SMM      ;
DROP TABLE CMSDATA_DEV.CM_OFFR_SCCS_CNDTN              ;
DROP TABLE CMSDATA_DEV.CM_RSLT_ANLYSS_SMM              ;
DROP TABLE CMSDATA_DEV.CM_SCCSS_RSPNC_SMM_1            ;
DROP TABLE CMSDATA_DEV.CM_SCCSS_RSPNS_SMM_1            ;
DROP TABLE CMSDATA_DEV.CM_SCCS_RSPNS_SMM               ;
DROP TABLE CMSDATA_DEV.CM_SCHDL_HO                     ;
DROP TABLE CMSDATA_DEV.CM_SCHDL_HO_DTTM                ;
DROP TABLE CMSDATA_DEV.CM_SCHDL_HO_SCCS_CNDTN_DTL      ;
DROP TABLE CMSDATA_DEV.CM_STORE_TEL                    ;
DROP TABLE CMSDATA_DEV.CM_STR                          ;
DROP TABLE CMSDATA_DEV.CM_STR_CHGR                     ;
DROP TABLE CMSDATA_DEV.CM_STR_DAY_SMM                  ;
DROP TABLE CMSDATA_DEV.CM_STR_EXP                      ;
DROP TABLE CMSDATA_DEV.CM_STR_GRADE_SMM                ;
DROP TABLE CMSDATA_DEV.CM_TGT_CUST_RSPNS_HSTRY         ;
DROP TABLE CMSDATA_DEV.CM_THM_TRGT                     ;
DROP TABLE CMSDATA_DEV.CM_THM_TRGT_CUST                ;
DROP TABLE CMSDATA_DEV.CM_THM_TRGT_CUST_20151014       ;
DROP TABLE CMSDATA_DEV.CM_THM_TRGT_CUST_APJ            ;
DROP TABLE CMSDATA_DEV.CM_THM_TRGT_CUST_OLD            ;
DROP TABLE CMSDATA_DEV.CM_THM_TRGT_STR                 ;
DROP TABLE CMSDATA_DEV.CM_TRGT_CNDTN                   ;
DROP TABLE CMSDATA_DEV.CM_TRGT_CNDTN_BY_STR            ;
DROP TABLE CMSDATA_DEV.CM_TRGT_CNDTN_INSTNC            ;
DROP TABLE CMSDATA_DEV.CM_TRGT_CUST_CHNNL_RSPNS        ;
DROP TABLE CMSDATA_DEV.CM_TRGT_CUST_INFO               ;
DROP TABLE CMSDATA_DEV.CM_TRGT_CUST_OFFR_RSLT          ;
DROP TABLE CMSDATA_DEV.CM_TRGT_CUST_PRCHSE_INFO        ;
DROP TABLE CMSDATA_DEV.CM_TRGT_RQST_RSLT               ;
DROP TABLE CMSDATA_DEV.CM_WRD_RPLC                     ;
DROP TABLE CMSDATA_DEV.CM_YM_CHNNL_SMM                 ;
DROP TABLE CMSDATA_DEV.CM_YM_CMPGN_EXP_SMM             ;
DROP TABLE CMSDATA_DEV.CM_YM_CRRNT_OFFR                ;
DROP TABLE CMSDATA_DEV.CM_YM_CTGRY_SMM                 ;
DROP TABLE CMSDATA_DEV.CM_YM_EXP_SMM                   ;
DROP TABLE CMSDATA_DEV.CM_YM_MNTH_EXP_SMM              ;
DROP TABLE CMSDATA_DEV.CM_YM_OFFR_SMM                  ;
DROP TABLE CMSDATA_DEV.CM_YM_RSLT_SMM                  ;
DROP TABLE CMSDATA_DEV.CM_YM_SCCSS_SMM                 ;
DROP TABLE CMSDATA_DEV.CM_YM_SCCS_SMM                  ;
DROP TABLE CMSDATA_DEV.CM_YM_TOT_EXP_SMM               ;
DROP TABLE CMSDATA_DEV.CM_YM_YEAR_EXP_SMM              ;
DROP TABLE CMSDATA_DEV.CP_CMPGN_EVENT_TARGET_CUST      ;
DROP TABLE CMSDATA_DEV.DELETE_PK                       ;
DROP TABLE CMSDATA_DEV.EXC_ZIP_CODE_load               ;
DROP TABLE CMSDATA_DEV.EXN_APT_HOUSE_CNT               ;
DROP TABLE CMSDATA_DEV.korea_lat_lon                   ;
DROP TABLE CMSDATA_DEV.LAT_LON_TOT                     ;
DROP TABLE CMSDATA_DEV.LAT_LON_TOT_ZIPCODE             ;
DROP TABLE CMSDATA_DEV.mload_test                      ;
DROP TABLE CMSDATA_DEV.OLAP_USER_CRM                   ;
DROP TABLE CMSDATA_DEV.POLYGON_LONLAT                  ;
DROP TABLE CMSDATA_DEV.prdsale                         ;
DROP TABLE CMSDATA_DEV.prdsale2                        ;
DROP TABLE CMSDATA_DEV.SIMUL_ANLYSS_CMPGN_INFO         ;
DROP TABLE CMSDATA_DEV.SIMUL_CUST_6MON_SLS             ;
DROP TABLE CMSDATA_DEV.SIMUL_CUST_PROFIL_SMM           ;
DROP TABLE CMSDATA_DEV.SIMUL_CUST_SMM                  ;
DROP TABLE CMSDATA_DEV.SIMUL_EXP_SMM                   ;
DROP TABLE CMSDATA_DEV.SIMUL_FORCST_SMM                ;
DROP TABLE CMSDATA_DEV.SIMUL_SIMUL_SMM                 ;
DROP TABLE CMSDATA_DEV.SIMUL_STR_MAP_SMM               ;
--DROP TABLE CMSDATA_DEV.STB_TEST_TARGET                 ;
DROP TABLE CMSDATA_DEV.STR_ADMIN_AREA_ADDRSS           ;
DROP TABLE CMSDATA_DEV.TCM_SCHDL_HO_SCCS_CNDTN_DTL     ;
DROP TABLE CMSDATA_DEV.TCM_TRGT_CUST_CHNNL_RSPNC       ;
DROP TABLE CMSDATA_DEV.test1                           ;
DROP TABLE CMSDATA_DEV.test2                           ;
DROP TABLE CMSDATA_DEV.test3                           ;
DROP TABLE CMSDATA_DEV.TMP_BF_WEEK                     ;
DROP TABLE CMSDATA_DEV.TSIMUL_STR_MAP_SMM              ;
DROP TABLE CMSDATA_DEV.TTT000                          ;
DROP TABLE CMSDATA_DEV.TTT111                          ;

----------------------------------------------------------------------------------------------------

CREATE TABLE CMSDATA_DEV.BF_WEEK                          AS CMSDATA.BF_WEEK                             WITH DATA;
CREATE TABLE CMSDATA_DEV.CI_CUSTS_BY_CHNNL                AS CMSDATA.CI_CUSTS_BY_CHNNL                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_AMT_RSPNS_SMM                 AS CMSDATA.CM_AMT_RSPNS_SMM                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM              AS CMSDATA.CM_BDSRCT_RSPNS_SMM                 WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_BST_CMPGN                     AS CMSDATA.CM_BST_CMPGN                        WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CARD_CO                       AS CMSDATA.CM_CARD_CO                          WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CATCHMNT_INCRSS_RTO_SMM       AS CMSDATA.CM_CATCHMNT_INCRSS_RTO_SMM          WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_ACHIVE_COMPRSM_SMM      AS CMSDATA.CM_CHNNL_ACHIVE_COMPRSM_SMM         WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_APR                     AS CMSDATA.CM_CHNNL_APR                        WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_APT                     AS CMSDATA.CM_CHNNL_APT                        WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_BMS                     AS CMSDATA.CM_CHNNL_BMS                        WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_DM                      AS CMSDATA.CM_CHNNL_DM                         WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_DVD_WGHT                AS CMSDATA.CM_CHNNL_DVD_WGHT                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_EML                     AS CMSDATA.CM_CHNNL_EML                        WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_LMS                     AS CMSDATA.CM_CHNNL_LMS                        WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_MMS                     AS CMSDATA.CM_CHNNL_MMS                        WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_PLCY                    AS CMSDATA.CM_CHNNL_PLCY                       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_POS                     AS CMSDATA.CM_CHNNL_POS                        WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_RMNS_CNT_BY_DAY         AS CMSDATA.CM_CHNNL_RMNS_CNT_BY_DAY            WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_RSPNS_SMM               AS CMSDATA.CM_CHNNL_RSPNS_SMM                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_SMS                     AS CMSDATA.CM_CHNNL_SMS                        WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_SMS_test                AS CMSDATA.CM_CHNNL_SMS_test                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_TST_GRP                 AS CMSDATA.CM_CHNNL_TST_GRP                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_TST_GRP_CUST            AS CMSDATA.CM_CHNNL_TST_GRP_CUST               WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMMN_CD                       AS CMSDATA.CM_CMMN_CD                          WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_CHNNL                   AS CMSDATA.CM_CMPGN_CHNNL                      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_CTGRY                   AS CMSDATA.CM_CMPGN_CTGRY                      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_EXCT                    AS CMSDATA.CM_CMPGN_EXCT                       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_HISTRY                  AS CMSDATA.CM_CMPGN_HISTRY                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_MST                     AS CMSDATA.CM_CMPGN_MST                        WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_MST_1019                AS CMSDATA.CM_CMPGN_MST_1019                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_MST_1028                AS CMSDATA.CM_CMPGN_MST_1028                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_MST_bak                 AS CMSDATA.CM_CMPGN_MST_bak                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_MST_TEST                AS CMSDATA.CM_CMPGN_MST_TEST                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_OFFR                    AS CMSDATA.CM_CMPGN_OFFR                       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_PLCY                    AS CMSDATA.CM_CMPGN_PLCY                       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_REG                     AS CMSDATA.CM_CMPGN_REG                        WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_REG_DTL                 AS CMSDATA.CM_CMPGN_REG_DTL                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_CD           AS CMSDATA.CM_CMPGN_SCCS_CNDTN_CD              WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_DTL          AS CMSDATA.CM_CMPGN_SCCS_CNDTN_DTL             WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST              AS CMSDATA.CM_CMPGN_SIMUL_CUST                 WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_1            AS CMSDATA.CM_CMPGN_SIMUL_CUST_1               WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_2            AS CMSDATA.CM_CMPGN_SIMUL_CUST_2               WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_3            AS CMSDATA.CM_CMPGN_SIMUL_CUST_3               WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_TMP          AS CMSDATA.CM_CMPGN_SIMUL_CUST_TMP             WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CHC                AS CMSDATA.CM_CMPGN_TRGT_CHC                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CUST               AS CMSDATA.CM_CMPGN_TRGT_CUST                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CUST_old           AS CMSDATA.CM_CMPGN_TRGT_CUST_old              WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CUST_TMP           AS CMSDATA.CM_CMPGN_TRGT_CUST_TMP              WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMTN_PLN                      AS CMSDATA.CM_CMTN_PLN                         WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMTN_PLN_KSY                  AS CMSDATA.CM_CMTN_PLN_KSY                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CTGRY_ACHIVE_COMPRSM_SMM      AS CMSDATA.CM_CTGRY_ACHIVE_COMPRSM_SMM         WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CTGY_INCRSS_RTO_SMM           AS CMSDATA.CM_CTGY_INCRSS_RTO_SMM              WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_FAV_CHNNL                AS CMSDATA.CM_CUST_FAV_CHNNL                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_GRADE                    AS CMSDATA.CM_CUST_GRADE                       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_GRADE_TMP                AS CMSDATA.CM_CUST_GRADE_TMP                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_GRADE_TMP_UV             AS CMSDATA.CM_CUST_GRADE_TMP_UV                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_MST                      AS CMSDATA.CM_CUST_MST                         WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_MST_TMP                  AS CMSDATA.CM_CUST_MST_TMP                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_RSPNS_SMM                AS CMSDATA.CM_CUST_RSPNS_SMM                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_SCCSS_RSPNS_HSTRY        AS CMSDATA.CM_CUST_SCCSS_RSPNS_HSTRY           WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_DAY_VISIT_INCRSS_SMM          AS CMSDATA.CM_DAY_VISIT_INCRSS_SMM             WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_DIC_TBL                       AS CMSDATA.CM_DIC_TBL                          WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_DT_RSPNS_SMM                  AS CMSDATA.CM_DT_RSPNS_SMM                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_DT_RSPNS_SMM_2                AS CMSDATA.CM_DT_RSPNS_SMM_2                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_HQ_RSLT_ANLYSS_SMM            AS CMSDATA.CM_HQ_RSLT_ANLYSS_SMM               WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_MON_VISIT_EXCSS_SMM           AS CMSDATA.CM_MON_VISIT_EXCSS_SMM              WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_NTC                           AS CMSDATA.CM_NTC                              WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_OFFR_ACHIVE_COMPRSM_SMM       AS CMSDATA.CM_OFFR_ACHIVE_COMPRSM_SMM          WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_OFFR_SCCS_CNDTN               AS CMSDATA.CM_OFFR_SCCS_CNDTN                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_RSLT_ANLYSS_SMM               AS CMSDATA.CM_RSLT_ANLYSS_SMM                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_SCCSS_RSPNC_SMM_1             AS CMSDATA.CM_SCCSS_RSPNC_SMM_1                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_SCCSS_RSPNS_SMM_1             AS CMSDATA.CM_SCCSS_RSPNS_SMM_1                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_SCCS_RSPNS_SMM                AS CMSDATA.CM_SCCS_RSPNS_SMM                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_SCHDL_HO                      AS CMSDATA.CM_SCHDL_HO                         WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_SCHDL_HO_DTTM                 AS CMSDATA.CM_SCHDL_HO_DTTM                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_SCHDL_HO_SCCS_CNDTN_DTL       AS CMSDATA.CM_SCHDL_HO_SCCS_CNDTN_DTL          WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_STORE_TEL                     AS CMSDATA.CM_STORE_TEL                        WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_STR                           AS CMSDATA.CM_STR                              WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_STR_CHGR                      AS CMSDATA.CM_STR_CHGR                         WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_STR_DAY_SMM                   AS CMSDATA.CM_STR_DAY_SMM                      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_STR_EXP                       AS CMSDATA.CM_STR_EXP                          WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_STR_GRADE_SMM                 AS CMSDATA.CM_STR_GRADE_SMM                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TGT_CUST_RSPNS_HSTRY          AS CMSDATA.CM_TGT_CUST_RSPNS_HSTRY             WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_THM_TRGT                      AS CMSDATA.CM_THM_TRGT                         WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_THM_TRGT_CUST                 AS CMSDATA.CM_THM_TRGT_CUST                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_THM_TRGT_CUST_20151014        AS CMSDATA.CM_THM_TRGT_CUST_20151014           WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_THM_TRGT_CUST_APJ             AS CMSDATA.CM_THM_TRGT_CUST_APJ                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_THM_TRGT_CUST_OLD             AS CMSDATA.CM_THM_TRGT_CUST_OLD                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_THM_TRGT_STR                  AS CMSDATA.CM_THM_TRGT_STR                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CNDTN                    AS CMSDATA.CM_TRGT_CNDTN                       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CNDTN_BY_STR             AS CMSDATA.CM_TRGT_CNDTN_BY_STR                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CNDTN_INSTNC             AS CMSDATA.CM_TRGT_CNDTN_INSTNC                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CUST_CHNNL_RSPNS         AS CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS            WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CUST_INFO                AS CMSDATA.CM_TRGT_CUST_INFO                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CUST_OFFR_RSLT           AS CMSDATA.CM_TRGT_CUST_OFFR_RSLT              WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CUST_PRCHSE_INFO         AS CMSDATA.CM_TRGT_CUST_PRCHSE_INFO            WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_RQST_RSLT                AS CMSDATA.CM_TRGT_RQST_RSLT                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_WRD_RPLC                      AS CMSDATA.CM_WRD_RPLC                         WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_CHNNL_SMM                  AS CMSDATA.CM_YM_CHNNL_SMM                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_CMPGN_EXP_SMM              AS CMSDATA.CM_YM_CMPGN_EXP_SMM                 WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_CRRNT_OFFR                 AS CMSDATA.CM_YM_CRRNT_OFFR                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_CTGRY_SMM                  AS CMSDATA.CM_YM_CTGRY_SMM                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_EXP_SMM                    AS CMSDATA.CM_YM_EXP_SMM                       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_MNTH_EXP_SMM               AS CMSDATA.CM_YM_MNTH_EXP_SMM                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_OFFR_SMM                   AS CMSDATA.CM_YM_OFFR_SMM                      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_RSLT_SMM                   AS CMSDATA.CM_YM_RSLT_SMM                      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_SCCSS_SMM                  AS CMSDATA.CM_YM_SCCSS_SMM                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_SCCS_SMM                   AS CMSDATA.CM_YM_SCCS_SMM                      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_TOT_EXP_SMM                AS CMSDATA.CM_YM_TOT_EXP_SMM                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_YEAR_EXP_SMM               AS CMSDATA.CM_YM_YEAR_EXP_SMM                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CP_CMPGN_EVENT_TARGET_CUST       AS CMSDATA.CP_CMPGN_EVENT_TARGET_CUST          WITH DATA;
CREATE TABLE CMSDATA_DEV.DELETE_PK                        AS CMSDATA.DELETE_PK                           WITH DATA;
CREATE TABLE CMSDATA_DEV.EXC_ZIP_CODE_load                AS CMSDATA.EXC_ZIP_CODE_load                   WITH DATA;
CREATE TABLE CMSDATA_DEV.EXN_APT_HOUSE_CNT                AS CMSDATA.EXN_APT_HOUSE_CNT                   WITH DATA;
CREATE TABLE CMSDATA_DEV.korea_lat_lon                    AS CMSDATA.korea_lat_lon                       WITH DATA;
CREATE TABLE CMSDATA_DEV.LAT_LON_TOT                      AS CMSDATA.LAT_LON_TOT                         WITH DATA;
CREATE TABLE CMSDATA_DEV.LAT_LON_TOT_ZIPCODE              AS CMSDATA.LAT_LON_TOT_ZIPCODE                 WITH DATA;
CREATE TABLE CMSDATA_DEV.mload_test                       AS CMSDATA.mload_test                          WITH DATA;
CREATE TABLE CMSDATA_DEV.OLAP_USER_CRM                    AS CMSDATA.OLAP_USER_CRM                       WITH DATA;
CREATE TABLE CMSDATA_DEV.POLYGON_LONLAT                   AS CMSDATA.POLYGON_LONLAT                      WITH DATA;
CREATE TABLE CMSDATA_DEV.prdsale                          AS CMSDATA.prdsale                             WITH DATA;
CREATE TABLE CMSDATA_DEV.prdsale2                         AS CMSDATA.prdsale2                            WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_ANLYSS_CMPGN_INFO          AS CMSDATA.SIMUL_ANLYSS_CMPGN_INFO             WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_CUST_6MON_SLS              AS CMSDATA.SIMUL_CUST_6MON_SLS                 WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_CUST_PROFIL_SMM            AS CMSDATA.SIMUL_CUST_PROFIL_SMM               WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_CUST_SMM                   AS CMSDATA.SIMUL_CUST_SMM                      WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_EXP_SMM                    AS CMSDATA.SIMUL_EXP_SMM                       WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_FORCST_SMM                 AS CMSDATA.SIMUL_FORCST_SMM                    WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_SIMUL_SMM                  AS CMSDATA.SIMUL_SIMUL_SMM                     WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_STR_MAP_SMM                AS CMSDATA.SIMUL_STR_MAP_SMM                   WITH DATA;
--CREATE TABLE CMSDATA_DEV.STB_TEST_TARGET                  AS CMSDATA.STB_TEST_TARGET                     WITH DATA;
CREATE TABLE CMSDATA_DEV.STR_ADMIN_AREA_ADDRSS            AS CMSDATA.STR_ADMIN_AREA_ADDRSS               WITH DATA;
CREATE TABLE CMSDATA_DEV.TCM_SCHDL_HO_SCCS_CNDTN_DTL      AS CMSDATA.TCM_SCHDL_HO_SCCS_CNDTN_DTL         WITH DATA;
CREATE TABLE CMSDATA_DEV.TCM_TRGT_CUST_CHNNL_RSPNC        AS CMSDATA.TCM_TRGT_CUST_CHNNL_RSPNC           WITH DATA;
CREATE TABLE CMSDATA_DEV.test1                            AS CMSDATA.test1                               WITH DATA;
CREATE TABLE CMSDATA_DEV.test2                            AS CMSDATA.test2                               WITH DATA;
CREATE TABLE CMSDATA_DEV.test3                            AS CMSDATA.test3                               WITH DATA;
CREATE TABLE CMSDATA_DEV.TMP_BF_WEEK                      AS CMSDATA.TMP_BF_WEEK                         WITH DATA;
CREATE TABLE CMSDATA_DEV.TSIMUL_STR_MAP_SMM               AS CMSDATA.TSIMUL_STR_MAP_SMM                  WITH DATA;
CREATE TABLE CMSDATA_DEV.TTT000                           AS CMSDATA.TTT000                              WITH DATA;
CREATE TABLE CMSDATA_DEV.TTT111                           AS CMSDATA.TTT111                              WITH DATA;


----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW_DEV.BF_WEEK                           AS LOCKING TABLE CMSDATA_DEV.BF_WEEK                            FOR ACCESS (SELECT * FROM CMSDATA_DEV.BF_WEEK                         );
REPLACE VIEW CMSVIEW_DEV.CI_CUSTS_BY_CHNNL                 AS LOCKING TABLE CMSDATA_DEV.CI_CUSTS_BY_CHNNL                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CI_CUSTS_BY_CHNNL               );
REPLACE VIEW CMSVIEW_DEV.CM_AMT_RSPNS_SMM                  AS LOCKING TABLE CMSDATA_DEV.CM_AMT_RSPNS_SMM                   FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_AMT_RSPNS_SMM                );
REPLACE VIEW CMSVIEW_DEV.CM_BDSRCT_RSPNS_SMM               AS LOCKING TABLE CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM                FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM             );
REPLACE VIEW CMSVIEW_DEV.CM_BST_CMPGN                      AS LOCKING TABLE CMSDATA_DEV.CM_BST_CMPGN                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_BST_CMPGN                    );
REPLACE VIEW CMSVIEW_DEV.CM_CARD_CO                        AS LOCKING TABLE CMSDATA_DEV.CM_CARD_CO                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CARD_CO                      );
REPLACE VIEW CMSVIEW_DEV.CM_CATCHMNT_INCRSS_RTO_SMM        AS LOCKING TABLE CMSDATA_DEV.CM_CATCHMNT_INCRSS_RTO_SMM         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CATCHMNT_INCRSS_RTO_SMM      );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_ACHIVE_COMPRSM_SMM       AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_ACHIVE_COMPRSM_SMM        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_ACHIVE_COMPRSM_SMM     );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_APR                      AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_APR                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_APR                    );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_APT                      AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_APT                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_APT                    );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_BMS                      AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_BMS                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_BMS                    );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_DM                       AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_DM                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_DM                     );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_DVD_WGHT                 AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_DVD_WGHT                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_DVD_WGHT               );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_EML                      AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_EML                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_EML                    );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_LMS                      AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_LMS                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_LMS                    );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_MMS                      AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_MMS                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_MMS                    );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_PLCY                     AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_PLCY                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_PLCY                   );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_POS                      AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_POS                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_POS                    );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_RMNS_CNT_BY_DAY          AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_RMNS_CNT_BY_DAY           FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_RMNS_CNT_BY_DAY        );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_RSPNS_SMM                AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_RSPNS_SMM                 FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_RSPNS_SMM              );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_SMS                      AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_SMS                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_SMS                    );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_SMS_test                 AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_SMS_test                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_SMS_test               );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_TST_GRP                  AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_TST_GRP                   FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_TST_GRP                );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_TST_GRP_CUST             AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_TST_GRP_CUST              FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_TST_GRP_CUST           );
REPLACE VIEW CMSVIEW_DEV.CM_CMMN_CD                        AS LOCKING TABLE CMSDATA_DEV.CM_CMMN_CD                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMMN_CD                      );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_CHNNL                    AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_CHNNL                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_CHNNL                  );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_CTGRY                    AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_CTGRY                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_CTGRY                  );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_EXCT                     AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_EXCT                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_EXCT                   );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_HISTRY                   AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_HISTRY                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_HISTRY                 );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_MST                      AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_MST                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_MST                    );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_MST_1019                 AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_MST_1019                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_MST_1019               );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_MST_1028                 AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_MST_1028                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_MST_1028               );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_MST_bak                  AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_MST_bak                   FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_MST_bak                );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_MST_TEST                 AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_MST_TEST                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_MST_TEST               );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_OFFR                     AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_OFFR                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_OFFR                   );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_PLCY                     AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_PLCY                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_PLCY                   );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_REG                      AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_REG                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_REG                    );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_REG_DTL                  AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_REG_DTL                   FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_REG_DTL                );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_CD            AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_CD             FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_CD          );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_DTL           AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_DTL            FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_DTL         );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_SIMUL_CUST               AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST                FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_SIMUL_CUST             );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_SIMUL_CUST_1             AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_1              FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_1           );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_SIMUL_CUST_2             AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_2              FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_2           );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_SIMUL_CUST_3             AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_3              FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_3           );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_SIMUL_CUST_TMP           AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_TMP            FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_TMP         );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_TRGT_CHC                 AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CHC                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_TRGT_CHC               );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_TRGT_CUST                AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CUST                 FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_TRGT_CUST              );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_TRGT_CUST_old            AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CUST_old             FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_TRGT_CUST_old          );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_TRGT_CUST_TMP            AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CUST_TMP             FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_TRGT_CUST_TMP          );
REPLACE VIEW CMSVIEW_DEV.CM_CMTN_PLN                       AS LOCKING TABLE CMSDATA_DEV.CM_CMTN_PLN                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMTN_PLN                     );
REPLACE VIEW CMSVIEW_DEV.CM_CMTN_PLN_KSY                   AS LOCKING TABLE CMSDATA_DEV.CM_CMTN_PLN_KSY                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMTN_PLN_KSY                 );
REPLACE VIEW CMSVIEW_DEV.CM_CTGRY_ACHIVE_COMPRSM_SMM       AS LOCKING TABLE CMSDATA_DEV.CM_CTGRY_ACHIVE_COMPRSM_SMM        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CTGRY_ACHIVE_COMPRSM_SMM     );
REPLACE VIEW CMSVIEW_DEV.CM_CTGY_INCRSS_RTO_SMM            AS LOCKING TABLE CMSDATA_DEV.CM_CTGY_INCRSS_RTO_SMM             FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CTGY_INCRSS_RTO_SMM          );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_FAV_CHNNL                 AS LOCKING TABLE CMSDATA_DEV.CM_CUST_FAV_CHNNL                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_FAV_CHNNL               );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_GRADE                     AS LOCKING TABLE CMSDATA_DEV.CM_CUST_GRADE                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_GRADE                   );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_GRADE_TMP                 AS LOCKING TABLE CMSDATA_DEV.CM_CUST_GRADE_TMP                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_GRADE_TMP               );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_GRADE_TMP_UV              AS LOCKING TABLE CMSDATA_DEV.CM_CUST_GRADE_TMP_UV               FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_GRADE_TMP_UV            );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_MST                       AS LOCKING TABLE CMSDATA_DEV.CM_CUST_MST                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_MST                     );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_MST_TMP                   AS LOCKING TABLE CMSDATA_DEV.CM_CUST_MST_TMP                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_MST_TMP                 );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_RSPNS_SMM                 AS LOCKING TABLE CMSDATA_DEV.CM_CUST_RSPNS_SMM                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_RSPNS_SMM               );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_SCCSS_RSPNS_HSTRY         AS LOCKING TABLE CMSDATA_DEV.CM_CUST_SCCSS_RSPNS_HSTRY          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_SCCSS_RSPNS_HSTRY       );
REPLACE VIEW CMSVIEW_DEV.CM_DAY_VISIT_INCRSS_SMM           AS LOCKING TABLE CMSDATA_DEV.CM_DAY_VISIT_INCRSS_SMM            FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_DAY_VISIT_INCRSS_SMM         );
REPLACE VIEW CMSVIEW_DEV.CM_DIC_TBL                        AS LOCKING TABLE CMSDATA_DEV.CM_DIC_TBL                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_DIC_TBL                      );
REPLACE VIEW CMSVIEW_DEV.CM_DT_RSPNS_SMM                   AS LOCKING TABLE CMSDATA_DEV.CM_DT_RSPNS_SMM                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_DT_RSPNS_SMM                 );
REPLACE VIEW CMSVIEW_DEV.CM_DT_RSPNS_SMM_2                 AS LOCKING TABLE CMSDATA_DEV.CM_DT_RSPNS_SMM_2                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_DT_RSPNS_SMM_2               );
REPLACE VIEW CMSVIEW_DEV.CM_HQ_RSLT_ANLYSS_SMM             AS LOCKING TABLE CMSDATA_DEV.CM_HQ_RSLT_ANLYSS_SMM              FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_HQ_RSLT_ANLYSS_SMM           );
REPLACE VIEW CMSVIEW_DEV.CM_MON_VISIT_EXCSS_SMM            AS LOCKING TABLE CMSDATA_DEV.CM_MON_VISIT_EXCSS_SMM             FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_MON_VISIT_EXCSS_SMM          );
REPLACE VIEW CMSVIEW_DEV.CM_NTC                            AS LOCKING TABLE CMSDATA_DEV.CM_NTC                             FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_NTC                          );
REPLACE VIEW CMSVIEW_DEV.CM_OFFR_ACHIVE_COMPRSM_SMM        AS LOCKING TABLE CMSDATA_DEV.CM_OFFR_ACHIVE_COMPRSM_SMM         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_OFFR_ACHIVE_COMPRSM_SMM      );
REPLACE VIEW CMSVIEW_DEV.CM_OFFR_SCCS_CNDTN                AS LOCKING TABLE CMSDATA_DEV.CM_OFFR_SCCS_CNDTN                 FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_OFFR_SCCS_CNDTN              );
REPLACE VIEW CMSVIEW_DEV.CM_RSLT_ANLYSS_SMM                AS LOCKING TABLE CMSDATA_DEV.CM_RSLT_ANLYSS_SMM                 FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_RSLT_ANLYSS_SMM              );
REPLACE VIEW CMSVIEW_DEV.CM_SCCSS_RSPNC_SMM_1              AS LOCKING TABLE CMSDATA_DEV.CM_SCCSS_RSPNC_SMM_1               FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_SCCSS_RSPNC_SMM_1            );
REPLACE VIEW CMSVIEW_DEV.CM_SCCSS_RSPNS_SMM_1              AS LOCKING TABLE CMSDATA_DEV.CM_SCCSS_RSPNS_SMM_1               FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_SCCSS_RSPNS_SMM_1            );
REPLACE VIEW CMSVIEW_DEV.CM_SCCS_RSPNS_SMM                 AS LOCKING TABLE CMSDATA_DEV.CM_SCCS_RSPNS_SMM                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_SCCS_RSPNS_SMM               );
REPLACE VIEW CMSVIEW_DEV.CM_SCHDL_HO                       AS LOCKING TABLE CMSDATA_DEV.CM_SCHDL_HO                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_SCHDL_HO                     );
REPLACE VIEW CMSVIEW_DEV.CM_SCHDL_HO_DTTM                  AS LOCKING TABLE CMSDATA_DEV.CM_SCHDL_HO_DTTM                   FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_SCHDL_HO_DTTM                );
REPLACE VIEW CMSVIEW_DEV.CM_SCHDL_HO_SCCS_CNDTN_DTL        AS LOCKING TABLE CMSDATA_DEV.CM_SCHDL_HO_SCCS_CNDTN_DTL         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_SCHDL_HO_SCCS_CNDTN_DTL      );
REPLACE VIEW CMSVIEW_DEV.CM_STORE_TEL                      AS LOCKING TABLE CMSDATA_DEV.CM_STORE_TEL                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_STORE_TEL                    );
REPLACE VIEW CMSVIEW_DEV.CM_STR                            AS LOCKING TABLE CMSDATA_DEV.CM_STR                             FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_STR                          );
REPLACE VIEW CMSVIEW_DEV.CM_STR_CHGR                       AS LOCKING TABLE CMSDATA_DEV.CM_STR_CHGR                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_STR_CHGR                     );
REPLACE VIEW CMSVIEW_DEV.CM_STR_DAY_SMM                    AS LOCKING TABLE CMSDATA_DEV.CM_STR_DAY_SMM                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_STR_DAY_SMM                  );
REPLACE VIEW CMSVIEW_DEV.CM_STR_EXP                        AS LOCKING TABLE CMSDATA_DEV.CM_STR_EXP                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_STR_EXP                      );
REPLACE VIEW CMSVIEW_DEV.CM_STR_GRADE_SMM                  AS LOCKING TABLE CMSDATA_DEV.CM_STR_GRADE_SMM                   FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_STR_GRADE_SMM                );
REPLACE VIEW CMSVIEW_DEV.CM_TGT_CUST_RSPNS_HSTRY           AS LOCKING TABLE CMSDATA_DEV.CM_TGT_CUST_RSPNS_HSTRY            FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TGT_CUST_RSPNS_HSTRY         );
REPLACE VIEW CMSVIEW_DEV.CM_THM_TRGT                       AS LOCKING TABLE CMSDATA_DEV.CM_THM_TRGT                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_THM_TRGT                     );
REPLACE VIEW CMSVIEW_DEV.CM_THM_TRGT_CUST                  AS LOCKING TABLE CMSDATA_DEV.CM_THM_TRGT_CUST                   FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_THM_TRGT_CUST                );
REPLACE VIEW CMSVIEW_DEV.CM_THM_TRGT_CUST_20151014         AS LOCKING TABLE CMSDATA_DEV.CM_THM_TRGT_CUST_20151014          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_THM_TRGT_CUST_20151014       );
REPLACE VIEW CMSVIEW_DEV.CM_THM_TRGT_CUST_APJ              AS LOCKING TABLE CMSDATA_DEV.CM_THM_TRGT_CUST_APJ               FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_THM_TRGT_CUST_APJ            );
REPLACE VIEW CMSVIEW_DEV.CM_THM_TRGT_CUST_OLD              AS LOCKING TABLE CMSDATA_DEV.CM_THM_TRGT_CUST_OLD               FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_THM_TRGT_CUST_OLD            );
REPLACE VIEW CMSVIEW_DEV.CM_THM_TRGT_STR                   AS LOCKING TABLE CMSDATA_DEV.CM_THM_TRGT_STR                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_THM_TRGT_STR                 );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CNDTN                     AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CNDTN                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CNDTN                   );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CNDTN_BY_STR              AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CNDTN_BY_STR               FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CNDTN_BY_STR            );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CNDTN_INSTNC              AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CNDTN_INSTNC               FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CNDTN_INSTNC            );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CUST_CHNNL_RSPNS          AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CUST_CHNNL_RSPNS           FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CUST_CHNNL_RSPNS        );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CUST_INFO                 AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CUST_INFO                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CUST_INFO               );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CUST_OFFR_RSLT            AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CUST_OFFR_RSLT             FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CUST_OFFR_RSLT          );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CUST_PRCHSE_INFO          AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CUST_PRCHSE_INFO           FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CUST_PRCHSE_INFO        );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_RQST_RSLT                 AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_RQST_RSLT                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_RQST_RSLT               );
REPLACE VIEW CMSVIEW_DEV.CM_WRD_RPLC                       AS LOCKING TABLE CMSDATA_DEV.CM_WRD_RPLC                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_WRD_RPLC                     );
REPLACE VIEW CMSVIEW_DEV.CM_YM_CHNNL_SMM                   AS LOCKING TABLE CMSDATA_DEV.CM_YM_CHNNL_SMM                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_CHNNL_SMM                 );
REPLACE VIEW CMSVIEW_DEV.CM_YM_CMPGN_EXP_SMM               AS LOCKING TABLE CMSDATA_DEV.CM_YM_CMPGN_EXP_SMM                FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_CMPGN_EXP_SMM             );
REPLACE VIEW CMSVIEW_DEV.CM_YM_CRRNT_OFFR                  AS LOCKING TABLE CMSDATA_DEV.CM_YM_CRRNT_OFFR                   FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_CRRNT_OFFR                );
REPLACE VIEW CMSVIEW_DEV.CM_YM_CTGRY_SMM                   AS LOCKING TABLE CMSDATA_DEV.CM_YM_CTGRY_SMM                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_CTGRY_SMM                 );
REPLACE VIEW CMSVIEW_DEV.CM_YM_EXP_SMM                     AS LOCKING TABLE CMSDATA_DEV.CM_YM_EXP_SMM                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_EXP_SMM                   );
REPLACE VIEW CMSVIEW_DEV.CM_YM_MNTH_EXP_SMM                AS LOCKING TABLE CMSDATA_DEV.CM_YM_MNTH_EXP_SMM                 FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_MNTH_EXP_SMM              );
REPLACE VIEW CMSVIEW_DEV.CM_YM_OFFR_SMM                    AS LOCKING TABLE CMSDATA_DEV.CM_YM_OFFR_SMM                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_OFFR_SMM                  );
REPLACE VIEW CMSVIEW_DEV.CM_YM_RSLT_SMM                    AS LOCKING TABLE CMSDATA_DEV.CM_YM_RSLT_SMM                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_RSLT_SMM                  );
REPLACE VIEW CMSVIEW_DEV.CM_YM_SCCSS_SMM                   AS LOCKING TABLE CMSDATA_DEV.CM_YM_SCCSS_SMM                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_SCCSS_SMM                 );
REPLACE VIEW CMSVIEW_DEV.CM_YM_SCCS_SMM                    AS LOCKING TABLE CMSDATA_DEV.CM_YM_SCCS_SMM                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_SCCS_SMM                  );
REPLACE VIEW CMSVIEW_DEV.CM_YM_TOT_EXP_SMM                 AS LOCKING TABLE CMSDATA_DEV.CM_YM_TOT_EXP_SMM                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_TOT_EXP_SMM               );
REPLACE VIEW CMSVIEW_DEV.CM_YM_YEAR_EXP_SMM                AS LOCKING TABLE CMSDATA_DEV.CM_YM_YEAR_EXP_SMM                 FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_YEAR_EXP_SMM              );
REPLACE VIEW CMSVIEW_DEV.CP_CMPGN_EVENT_TARGET_CUST        AS LOCKING TABLE CMSDATA_DEV.CP_CMPGN_EVENT_TARGET_CUST         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CP_CMPGN_EVENT_TARGET_CUST      );
REPLACE VIEW CMSVIEW_DEV.DELETE_PK                         AS LOCKING TABLE CMSDATA_DEV.DELETE_PK                          FOR ACCESS (SELECT * FROM CMSDATA_DEV.DELETE_PK                       );
REPLACE VIEW CMSVIEW_DEV.EXC_ZIP_CODE_load                 AS LOCKING TABLE CMSDATA_DEV.EXC_ZIP_CODE_load                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.EXC_ZIP_CODE_load               );
REPLACE VIEW CMSVIEW_DEV.EXN_APT_HOUSE_CNT                 AS LOCKING TABLE CMSDATA_DEV.EXN_APT_HOUSE_CNT                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.EXN_APT_HOUSE_CNT               );
REPLACE VIEW CMSVIEW_DEV.korea_lat_lon                     AS LOCKING TABLE CMSDATA_DEV.korea_lat_lon                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.korea_lat_lon                   );
REPLACE VIEW CMSVIEW_DEV.LAT_LON_TOT                       AS LOCKING TABLE CMSDATA_DEV.LAT_LON_TOT                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.LAT_LON_TOT                     );
REPLACE VIEW CMSVIEW_DEV.LAT_LON_TOT_ZIPCODE               AS LOCKING TABLE CMSDATA_DEV.LAT_LON_TOT_ZIPCODE                FOR ACCESS (SELECT * FROM CMSDATA_DEV.LAT_LON_TOT_ZIPCODE             );
REPLACE VIEW CMSVIEW_DEV.mload_test                        AS LOCKING TABLE CMSDATA_DEV.mload_test                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.mload_test                      );
REPLACE VIEW CMSVIEW_DEV.OLAP_USER_CRM                     AS LOCKING TABLE CMSDATA_DEV.OLAP_USER_CRM                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.OLAP_USER_CRM                   );
REPLACE VIEW CMSVIEW_DEV.POLYGON_LONLAT                    AS LOCKING TABLE CMSDATA_DEV.POLYGON_LONLAT                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.POLYGON_LONLAT                  );
REPLACE VIEW CMSVIEW_DEV.prdsale                           AS LOCKING TABLE CMSDATA_DEV.prdsale                            FOR ACCESS (SELECT * FROM CMSDATA_DEV.prdsale                         );
REPLACE VIEW CMSVIEW_DEV.prdsale2                          AS LOCKING TABLE CMSDATA_DEV.prdsale2                           FOR ACCESS (SELECT * FROM CMSDATA_DEV.prdsale2                        );
REPLACE VIEW CMSVIEW_DEV.SIMUL_ANLYSS_CMPGN_INFO           AS LOCKING TABLE CMSDATA_DEV.SIMUL_ANLYSS_CMPGN_INFO            FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_ANLYSS_CMPGN_INFO         );
REPLACE VIEW CMSVIEW_DEV.SIMUL_CUST_6MON_SLS               AS LOCKING TABLE CMSDATA_DEV.SIMUL_CUST_6MON_SLS                FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_CUST_6MON_SLS             );
REPLACE VIEW CMSVIEW_DEV.SIMUL_CUST_PROFIL_SMM             AS LOCKING TABLE CMSDATA_DEV.SIMUL_CUST_PROFIL_SMM              FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_CUST_PROFIL_SMM           );
REPLACE VIEW CMSVIEW_DEV.SIMUL_CUST_SMM                    AS LOCKING TABLE CMSDATA_DEV.SIMUL_CUST_SMM                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_CUST_SMM                  );
REPLACE VIEW CMSVIEW_DEV.SIMUL_EXP_SMM                     AS LOCKING TABLE CMSDATA_DEV.SIMUL_EXP_SMM                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_EXP_SMM                   );
REPLACE VIEW CMSVIEW_DEV.SIMUL_FORCST_SMM                  AS LOCKING TABLE CMSDATA_DEV.SIMUL_FORCST_SMM                   FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_FORCST_SMM                );
REPLACE VIEW CMSVIEW_DEV.SIMUL_SIMUL_SMM                   AS LOCKING TABLE CMSDATA_DEV.SIMUL_SIMUL_SMM                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_SIMUL_SMM                 );
REPLACE VIEW CMSVIEW_DEV.SIMUL_STR_MAP_SMM                 AS LOCKING TABLE CMSDATA_DEV.SIMUL_STR_MAP_SMM                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_STR_MAP_SMM               );
--REPLACE VIEW CMSVIEW_DEV.STB_TEST_TARGET                   AS LOCKING TABLE CMSDATA_DEV.STB_TEST_TARGET                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.STB_TEST_TARGET                 );
REPLACE VIEW CMSVIEW_DEV.STR_ADMIN_AREA_ADDRSS             AS LOCKING TABLE CMSDATA_DEV.STR_ADMIN_AREA_ADDRSS              FOR ACCESS (SELECT * FROM CMSDATA_DEV.STR_ADMIN_AREA_ADDRSS           );
REPLACE VIEW CMSVIEW_DEV.TCM_SCHDL_HO_SCCS_CNDTN_DTL       AS LOCKING TABLE CMSDATA_DEV.TCM_SCHDL_HO_SCCS_CNDTN_DTL        FOR ACCESS (SELECT * FROM CMSDATA_DEV.TCM_SCHDL_HO_SCCS_CNDTN_DTL     );
REPLACE VIEW CMSVIEW_DEV.TCM_TRGT_CUST_CHNNL_RSPNC         AS LOCKING TABLE CMSDATA_DEV.TCM_TRGT_CUST_CHNNL_RSPNC          FOR ACCESS (SELECT * FROM CMSDATA_DEV.TCM_TRGT_CUST_CHNNL_RSPNC       );
REPLACE VIEW CMSVIEW_DEV.test1                             AS LOCKING TABLE CMSDATA_DEV.test1                              FOR ACCESS (SELECT * FROM CMSDATA_DEV.test1                           );
REPLACE VIEW CMSVIEW_DEV.test2                             AS LOCKING TABLE CMSDATA_DEV.test2                              FOR ACCESS (SELECT * FROM CMSDATA_DEV.test2                           );
REPLACE VIEW CMSVIEW_DEV.test3                             AS LOCKING TABLE CMSDATA_DEV.test3                              FOR ACCESS (SELECT * FROM CMSDATA_DEV.test3                           );
REPLACE VIEW CMSVIEW_DEV.TMP_BF_WEEK                       AS LOCKING TABLE CMSDATA_DEV.TMP_BF_WEEK                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.TMP_BF_WEEK                     );
REPLACE VIEW CMSVIEW_DEV.TSIMUL_STR_MAP_SMM                AS LOCKING TABLE CMSDATA_DEV.TSIMUL_STR_MAP_SMM                 FOR ACCESS (SELECT * FROM CMSDATA_DEV.TSIMUL_STR_MAP_SMM              );
REPLACE VIEW CMSVIEW_DEV.TTT000                            AS LOCKING TABLE CMSDATA_DEV.TTT000                             FOR ACCESS (SELECT * FROM CMSDATA_DEV.TTT000                          );
REPLACE VIEW CMSVIEW_DEV.TTT111                            AS LOCKING TABLE CMSDATA_DEV.TTT111                             FOR ACCESS (SELECT * FROM CMSDATA_DEV.TTT111                          );


----------------------------------------------------------------------------------------------------

CREATE TABLE CMSDATA.CM_CMPGN_MST_KANG   AS CMSDATA.CM_CMPGN_MST  WITH DATA;

CREATE TABLE CMSDATA_DEV.CM_CMPGN_MST_KANG   AS CMSDATA.CM_CMPGN_MST  WITH DATA;

----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW.CM_CMPGN_MST_KANG    AS LOCKING TABLE CMSDATA.CM_CMPGN_MST_KANG    FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_MST_KANG  );

REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_MST_KANG    AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_MST_KANG    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_MST_KANG  );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 개발서버 / PC ]

http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=testDevReal



2015-11-01 02:18:33,435 DEBUG [egovframework.rte.ptl.mvc.handler.SimpleUrlAnnotationHandlerMapping] Mapping [/common/HH14065I.do] to HandlerExecutionChain with handler [com.emart.campaign.common.ctr.HH14065IController@1e000da] and 1 interceptor
2015-11-01 02:18:33,455 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor]
2015-11-01 02:18:33,455 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor] ======================================          START Request URI   :  /SASEMARTCMS/common/HH14065I.do?method=testDevReal        ======================================
2015-11-01 02:18:33,455 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor]
######################### KANG : testDevReal #######################
2015-11-01 02:18:33,507 DEBUG [java.sql.Connection] {conn-100000} Connection
2015-11-01 02:18:33,517 DEBUG [java.sql.Connection] {conn-100000} Preparing Statement:        SELECT     COUNT(*)    AS CNT    FROM     CMSDATA_DEV.CM_CMPGN_MST_KANG    WHERE 1 = 1
2015-11-01 02:18:57,631 DEBUG [java.sql.PreparedStatement] {pstm-100001} Executing Statement:

            SELECT
                COUNT(*)    AS CNT
            FROM
                CMSDATA_DEV.CM_CMPGN_MST_KANG
            WHERE 1 = 1

2015-11-01 02:18:57,737 DEBUG [java.sql.ResultSet] {rset-100002} ResultSet
2015-11-01 02:18:57,752 DEBUG [java.sql.ResultSet] {rset-100002} Header: [CNT]
2015-11-01 02:18:57,752 DEBUG [java.sql.ResultSet] {rset-100002} Result: [443]
m: {cnt=443}
2015-11-01 02:18:57,818 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor]
2015-11-01 02:18:57,818 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor] ======================================           END  Request URI   :  /SASEMARTCMS/common/HH14065I.do?method=testDevReal        ======================================
2015-11-01 02:18:57,818 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor]


----------------------------------------------------------------------------------------------------
[ 운영서버 ]

https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=testDevReal

############################## KANG-3 : Real System...[HOSTINFO=matcmsapp]
#################### osName       : [Linux]
#################### catalinaBase : [/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART]
#################### webInf       : [/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war]
############################## KANG-3 : convert a file /sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/WEB-INF/classes/egovframework/egovProps/globals.properties to set real environment
#################### [xml path] -> [/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/WEB-INF/classes/emart/sqlmap/campaign]
########## > convertion is OK.. EE19054W.xml

########## > convertion is OK.. II15005W.xml

########## > convertion is OK.. BB02026S.xml

########## > convertion is OK.. BB02012S.xml

########## > convertion is OK.. KK01005W.xml

########## > convertion is OK.. EE07058W.xml

########## > convertion is OK.. EE21060W.xml

########## > convertion is OK.. EE20040W.xml

########## > convertion is OK.. KK01009W.xml

########## > convertion is OK.. EE19047W.xml

########## > convertion is OK.. EE19052W.xml

########## > convertion is OK.. II15007W.xml

########## > convertion is OK.. BB02027S.xml

########## > convertion is OK.. Excel.xml

########## > convertion is OK.. EE19051S.xml

########## > convertion is OK.. AA01002W.xml

########## > convertion is OK.. Common.xml

########## > convertion is OK.. EE18036W.xml

########## > convertion is OK.. EE07056W.xml

########## > convertion is OK.. CC16031W.xml

########## > convertion is OK.. HH14064I.xml

########## > convertion is OK.. EE19045W.xml

########## > convertion is OK.. FF14306W.xml

########## > convertion is OK.. BB02014S.xml

########## > convertion is OK.. CC17033W.xml

########## > convertion is OK.. HH14063I.xml

########## > convertion is OK.. EE21059W.xml

########## > convertion is OK.. II15004W.xml

########## > convertion is OK.. HH14062I.xml

########## > convertion is OK.. FF12060W.xml

########## > convertion is OK.. BB05018S.xml

########## > convertion is OK.. BB02024S.xml

########## > convertion is OK.. BB02028S.xml

########## > convertion is OK.. BB02029S.xml

########## > convertion is OK.. FF14309S.xml

########## > convertion is OK.. BB02007S.xml

########## > convertion is OK.. EE07057W.xml

########## > convertion is OK.. EE18037W.xml

########## > convertion is OK.. HH14066I.xml

########## > convertion is OK.. EE19049S.xml

########## >                CMSDATA.CM_CMPGN_MST_KANG
########## > convertion is OK.. HH14065I.xml

########## > convertion is OK.. AA01001W.xml

########## > convertion is OK.. DD08034W.xml

########## > convertion is OK.. KK01001W.xml

########## > convertion is OK.. EE19044W.xml

########## > convertion is OK.. BB02006S.xml

########## > convertion is OK.. EE20039W.xml

########## > convertion is OK.. BB02009S.xml

########## > convertion is OK.. AA01307W.xml

########## > convertion is OK.. BB02023W.xml

########## > convertion is OK.. EE19050S.xml

########## > convertion is OK.. DD08035W.xml

########## > convertion is OK.. AA01003W.xml

########## > convertion is OK.. BB02030S.xml

########## > convertion is OK.. KK01002W.xml

########## > convertion is OK.. II15006W.xml

########## > convertion is OK.. CC17032W.xml

########## > convertion is OK.. BB02025S.xml

############################## KANG-3 : create a file RealSystem...
############################## KANG-3 : Real System...[HOSTINFO=matcmsapp]
#################### osName       : [Linux]
#################### catalinaBase : [/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART]
#################### webInf       : [/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war]
############################## KANG-3 : If a file RealSystem exist, then return
11월 01, 2015 2:24:54 오전 com.springsource.tcserver.security.PropertyDecoder <init>
정보: tc Runtime property decoder using memory-based key
11월 01, 2015 2:24:55 오전 com.springsource.tcserver.security.PropertyDecoder <init>
정보: tcServer Runtime property decoder has been initialized in 168 ms
11월 01, 2015 2:24:55 오전 org.apache.coyote.AbstractProtocol init
정보: Initializing ProtocolHandler ["http-bio-9280"]
11월 01, 2015 2:24:55 오전 com.springsource.tcserver.licensing.LicensingLifecycleListener setComponentState
정보: ComponentState to on
11월 01, 2015 2:24:55 오전 com.springsource.tcserver.serviceability.rmi.JmxSocketListener init
정보: Started up JMX registry on 127.0.0.1:9969 in 76 ms
11월 01, 2015 2:24:55 오전 org.apache.catalina.startup.Catalina load
정보: Initialization processed in 756 ms
11월 01, 2015 2:24:56 오전 org.apache.catalina.core.StandardService startInternal
정보: Starting service Catalina
11월 01, 2015 2:24:56 오전 org.apache.catalina.core.StandardEngine startInternal
정보: Starting Servlet Engine: VMware vFabric tc Runtime 2.8.0.RELEASE/7.0.30.A.RELEASE
11월 01, 2015 2:24:56 오전 org.apache.catalina.startup.HostConfig deployDescriptor
정보: Deploying configuration descriptor /sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/conf/Catalina/localhost/SASEMARTCMS.xml
11월 01, 2015 2:24:57 오전 org.apache.catalina.core.ApplicationContext log
정보: Initializing Spring root WebApplicationContext
2015-11-01 02:25:00,227 DEBUG [egovframework.rte.fdl.property.EgovPropertyService] [Properties Service] Property which Key = pageUnit, value = 10 is defined in this configuration file.
2015-11-01 02:25:00,227 DEBUG [egovframework.rte.fdl.property.EgovPropertyService] [Properties Service] Property which Key = pageSize, value = 10 is defined in this configuration file.
2015-11-01 02:25:00,253 DEBUG [egovframework.rte.fdl.cmmn.aspect.ExceptionTransfer]  count of ExceptionHandlerServices = 2
############################## KANG-3 : SasControl ##############################
11월 01, 2015 2:25:01 오전 org.apache.catalina.core.ApplicationContext log
정보: Initializing Spring FrameworkServlet 'action'





2015-11-01 02:35:53,161 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor]
2015-11-01 02:35:53,161 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor] ======================================          START Request URI   :  /SASEMARTCMS/common/HH14065I.do?method=testDevReal        ======================================
2015-11-01 02:35:53,161 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor]
######################### KANG : testDevReal #######################
2015-11-01 02:35:53,180 DEBUG [java.sql.Connection] {conn-100000} Connection
2015-11-01 02:35:53,184 DEBUG [java.sql.Connection] {conn-100000} Preparing Statement:        SELECT     COUNT(*)    AS CNT    FROM     CMSDATA.CM_CMPGN_MST_KANG    WHERE 1 = 1
2015-11-01 02:35:53,848 DEBUG [java.sql.PreparedStatement] {pstm-100001} Executing Statement:

            SELECT
                COUNT(*)    AS CNT
            FROM
                CMSDATA.CM_CMPGN_MST_KANG
            WHERE 1 = 1

2015-11-01 02:35:53,912 DEBUG [java.sql.ResultSet] {rset-100002} ResultSet
2015-11-01 02:35:53,920 DEBUG [java.sql.ResultSet] {rset-100002} Header: [CNT]
2015-11-01 02:35:53,920 DEBUG [java.sql.ResultSet] {rset-100002} Result: [451]
m: {cnt=451}
2015-11-01 02:35:53,952 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor]
2015-11-01 02:35:53,952 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor] ======================================           END  Request URI   :  /SASEMARTCMS/common/HH14065I.do?method=testDevReal        ======================================
2015-11-01 02:35:53,952 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor]




----------------------------------------------------------------------------------------------------

 CMSVIEW_DEV.

 CMSDATA_DEV.

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW.BF_WEEK                           AS LOCKING TABLE CMSDATA.BF_WEEK                            FOR ACCESS (SELECT * FROM CMSDATA.BF_WEEK                         );
REPLACE VIEW CMSVIEW.CI_CUSTS_BY_CHNNL                 AS LOCKING TABLE CMSDATA.CI_CUSTS_BY_CHNNL                  FOR ACCESS (SELECT * FROM CMSDATA.CI_CUSTS_BY_CHNNL               );
REPLACE VIEW CMSVIEW.CM_AMT_RSPNS_SMM                  AS LOCKING TABLE CMSDATA.CM_AMT_RSPNS_SMM                   FOR ACCESS (SELECT * FROM CMSDATA.CM_AMT_RSPNS_SMM                );
REPLACE VIEW CMSVIEW.CM_BDSRCT_RSPNS_SMM               AS LOCKING TABLE CMSDATA.CM_BDSRCT_RSPNS_SMM                FOR ACCESS (SELECT * FROM CMSDATA.CM_BDSRCT_RSPNS_SMM             );
REPLACE VIEW CMSVIEW.CM_BST_CMPGN                      AS LOCKING TABLE CMSDATA.CM_BST_CMPGN                       FOR ACCESS (SELECT * FROM CMSDATA.CM_BST_CMPGN                    );
REPLACE VIEW CMSVIEW.CM_CARD_CO                        AS LOCKING TABLE CMSDATA.CM_CARD_CO                         FOR ACCESS (SELECT * FROM CMSDATA.CM_CARD_CO                      );
REPLACE VIEW CMSVIEW.CM_CATCHMNT_INCRSS_RTO_SMM        AS LOCKING TABLE CMSDATA.CM_CATCHMNT_INCRSS_RTO_SMM         FOR ACCESS (SELECT * FROM CMSDATA.CM_CATCHMNT_INCRSS_RTO_SMM      );
REPLACE VIEW CMSVIEW.CM_CHNNL_ACHIVE_COMPRSM_SMM       AS LOCKING TABLE CMSDATA.CM_CHNNL_ACHIVE_COMPRSM_SMM        FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_ACHIVE_COMPRSM_SMM     );
REPLACE VIEW CMSVIEW.CM_CHNNL_APR                      AS LOCKING TABLE CMSDATA.CM_CHNNL_APR                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APR                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_APT                      AS LOCKING TABLE CMSDATA.CM_CHNNL_APT                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APT                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_BMS                      AS LOCKING TABLE CMSDATA.CM_CHNNL_BMS                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_BMS                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_DM                       AS LOCKING TABLE CMSDATA.CM_CHNNL_DM                        FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_DM                     );
REPLACE VIEW CMSVIEW.CM_CHNNL_DVD_WGHT                 AS LOCKING TABLE CMSDATA.CM_CHNNL_DVD_WGHT                  FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_DVD_WGHT               );
REPLACE VIEW CMSVIEW.CM_CHNNL_EML                      AS LOCKING TABLE CMSDATA.CM_CHNNL_EML                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_EML                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_LMS                      AS LOCKING TABLE CMSDATA.CM_CHNNL_LMS                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_LMS                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_MMS                      AS LOCKING TABLE CMSDATA.CM_CHNNL_MMS                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_MMS                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_PLCY                     AS LOCKING TABLE CMSDATA.CM_CHNNL_PLCY                      FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_PLCY                   );
REPLACE VIEW CMSVIEW.CM_CHNNL_POS                      AS LOCKING TABLE CMSDATA.CM_CHNNL_POS                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_POS                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_RMNS_CNT_BY_DAY          AS LOCKING TABLE CMSDATA.CM_CHNNL_RMNS_CNT_BY_DAY           FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_RMNS_CNT_BY_DAY        );
REPLACE VIEW CMSVIEW.CM_CHNNL_RSPNS_SMM                AS LOCKING TABLE CMSDATA.CM_CHNNL_RSPNS_SMM                 FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_RSPNS_SMM              );
REPLACE VIEW CMSVIEW.CM_CHNNL_SMS                      AS LOCKING TABLE CMSDATA.CM_CHNNL_SMS                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_SMS                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_SMS_test                 AS LOCKING TABLE CMSDATA.CM_CHNNL_SMS_test                  FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_SMS_test               );
REPLACE VIEW CMSVIEW.CM_CHNNL_TST_GRP                  AS LOCKING TABLE CMSDATA.CM_CHNNL_TST_GRP                   FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_TST_GRP                );
REPLACE VIEW CMSVIEW.CM_CHNNL_TST_GRP_CUST             AS LOCKING TABLE CMSDATA.CM_CHNNL_TST_GRP_CUST              FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_TST_GRP_CUST           );
REPLACE VIEW CMSVIEW.CM_CMMN_CD                        AS LOCKING TABLE CMSDATA.CM_CMMN_CD                         FOR ACCESS (SELECT * FROM CMSDATA.CM_CMMN_CD                      );
REPLACE VIEW CMSVIEW.CM_CMPGN_CHNNL                    AS LOCKING TABLE CMSDATA.CM_CMPGN_CHNNL                     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_CHNNL                  );
REPLACE VIEW CMSVIEW.CM_CMPGN_CTGRY                    AS LOCKING TABLE CMSDATA.CM_CMPGN_CTGRY                     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_CTGRY                  );
REPLACE VIEW CMSVIEW.CM_CMPGN_EXCT                     AS LOCKING TABLE CMSDATA.CM_CMPGN_EXCT                      FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_EXCT                   );
REPLACE VIEW CMSVIEW.CM_CMPGN_HISTRY                   AS LOCKING TABLE CMSDATA.CM_CMPGN_HISTRY                    FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_HISTRY                 );
REPLACE VIEW CMSVIEW.CM_CMPGN_MST                      AS LOCKING TABLE CMSDATA.CM_CMPGN_MST                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_MST                    );
REPLACE VIEW CMSVIEW.CM_CMPGN_MST_1019                 AS LOCKING TABLE CMSDATA.CM_CMPGN_MST_1019                  FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_MST_1019               );
REPLACE VIEW CMSVIEW.CM_CMPGN_MST_1028                 AS LOCKING TABLE CMSDATA.CM_CMPGN_MST_1028                  FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_MST_1028               );
REPLACE VIEW CMSVIEW.CM_CMPGN_MST_bak                  AS LOCKING TABLE CMSDATA.CM_CMPGN_MST_bak                   FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_MST_bak                );
REPLACE VIEW CMSVIEW.CM_CMPGN_MST_TEST                 AS LOCKING TABLE CMSDATA.CM_CMPGN_MST_TEST                  FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_MST_TEST               );
REPLACE VIEW CMSVIEW.CM_CMPGN_OFFR                     AS LOCKING TABLE CMSDATA.CM_CMPGN_OFFR                      FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_OFFR                   );
REPLACE VIEW CMSVIEW.CM_CMPGN_PLCY                     AS LOCKING TABLE CMSDATA.CM_CMPGN_PLCY                      FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_PLCY                   );
REPLACE VIEW CMSVIEW.CM_CMPGN_REG                      AS LOCKING TABLE CMSDATA.CM_CMPGN_REG                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_REG                    );
REPLACE VIEW CMSVIEW.CM_CMPGN_REG_DTL                  AS LOCKING TABLE CMSDATA.CM_CMPGN_REG_DTL                   FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_REG_DTL                );
REPLACE VIEW CMSVIEW.CM_CMPGN_SCCS_CNDTN_CD            AS LOCKING TABLE CMSDATA.CM_CMPGN_SCCS_CNDTN_CD             FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_SCCS_CNDTN_CD          );
REPLACE VIEW CMSVIEW.CM_CMPGN_SCCS_CNDTN_DTL           AS LOCKING TABLE CMSDATA.CM_CMPGN_SCCS_CNDTN_DTL            FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_SCCS_CNDTN_DTL         );
REPLACE VIEW CMSVIEW.CM_CMPGN_SIMUL_CUST               AS LOCKING TABLE CMSDATA.CM_CMPGN_SIMUL_CUST                FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_SIMUL_CUST             );
REPLACE VIEW CMSVIEW.CM_CMPGN_SIMUL_CUST_1             AS LOCKING TABLE CMSDATA.CM_CMPGN_SIMUL_CUST_1              FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_SIMUL_CUST_1           );
REPLACE VIEW CMSVIEW.CM_CMPGN_SIMUL_CUST_2             AS LOCKING TABLE CMSDATA.CM_CMPGN_SIMUL_CUST_2              FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_SIMUL_CUST_2           );
REPLACE VIEW CMSVIEW.CM_CMPGN_SIMUL_CUST_3             AS LOCKING TABLE CMSDATA.CM_CMPGN_SIMUL_CUST_3              FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_SIMUL_CUST_3           );
REPLACE VIEW CMSVIEW.CM_CMPGN_SIMUL_CUST_TMP           AS LOCKING TABLE CMSDATA.CM_CMPGN_SIMUL_CUST_TMP            FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_SIMUL_CUST_TMP         );
REPLACE VIEW CMSVIEW.CM_CMPGN_TRGT_CHC                 AS LOCKING TABLE CMSDATA.CM_CMPGN_TRGT_CHC                  FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_TRGT_CHC               );
REPLACE VIEW CMSVIEW.CM_CMPGN_TRGT_CUST                AS LOCKING TABLE CMSDATA.CM_CMPGN_TRGT_CUST                 FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_TRGT_CUST              );
REPLACE VIEW CMSVIEW.CM_CMPGN_TRGT_CUST_old            AS LOCKING TABLE CMSDATA.CM_CMPGN_TRGT_CUST_old             FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_TRGT_CUST_old          );
REPLACE VIEW CMSVIEW.CM_CMPGN_TRGT_CUST_TMP            AS LOCKING TABLE CMSDATA.CM_CMPGN_TRGT_CUST_TMP             FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_TRGT_CUST_TMP          );
REPLACE VIEW CMSVIEW.CM_CMTN_PLN                       AS LOCKING TABLE CMSDATA.CM_CMTN_PLN                        FOR ACCESS (SELECT * FROM CMSDATA.CM_CMTN_PLN                     );
REPLACE VIEW CMSVIEW.CM_CMTN_PLN_KSY                   AS LOCKING TABLE CMSDATA.CM_CMTN_PLN_KSY                    FOR ACCESS (SELECT * FROM CMSDATA.CM_CMTN_PLN_KSY                 );
REPLACE VIEW CMSVIEW.CM_CTGRY_ACHIVE_COMPRSM_SMM       AS LOCKING TABLE CMSDATA.CM_CTGRY_ACHIVE_COMPRSM_SMM        FOR ACCESS (SELECT * FROM CMSDATA.CM_CTGRY_ACHIVE_COMPRSM_SMM     );
REPLACE VIEW CMSVIEW.CM_CTGY_INCRSS_RTO_SMM            AS LOCKING TABLE CMSDATA.CM_CTGY_INCRSS_RTO_SMM             FOR ACCESS (SELECT * FROM CMSDATA.CM_CTGY_INCRSS_RTO_SMM          );
REPLACE VIEW CMSVIEW.CM_CUST_FAV_CHNNL                 AS LOCKING TABLE CMSDATA.CM_CUST_FAV_CHNNL                  FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_FAV_CHNNL               );
REPLACE VIEW CMSVIEW.CM_CUST_GRADE                     AS LOCKING TABLE CMSDATA.CM_CUST_GRADE                      FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_GRADE                   );
REPLACE VIEW CMSVIEW.CM_CUST_GRADE_TMP                 AS LOCKING TABLE CMSDATA.CM_CUST_GRADE_TMP                  FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_GRADE_TMP               );
REPLACE VIEW CMSVIEW.CM_CUST_GRADE_TMP_UV              AS LOCKING TABLE CMSDATA.CM_CUST_GRADE_TMP_UV               FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_GRADE_TMP_UV            );
REPLACE VIEW CMSVIEW.CM_CUST_MST                       AS LOCKING TABLE CMSDATA.CM_CUST_MST                        FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_MST                     );
REPLACE VIEW CMSVIEW.CM_CUST_MST_TMP                   AS LOCKING TABLE CMSDATA.CM_CUST_MST_TMP                    FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_MST_TMP                 );
REPLACE VIEW CMSVIEW.CM_CUST_RSPNS_SMM                 AS LOCKING TABLE CMSDATA.CM_CUST_RSPNS_SMM                  FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_RSPNS_SMM               );
REPLACE VIEW CMSVIEW.CM_CUST_SCCSS_RSPNS_HSTRY         AS LOCKING TABLE CMSDATA.CM_CUST_SCCSS_RSPNS_HSTRY          FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_SCCSS_RSPNS_HSTRY       );
REPLACE VIEW CMSVIEW.CM_DAY_VISIT_INCRSS_SMM           AS LOCKING TABLE CMSDATA.CM_DAY_VISIT_INCRSS_SMM            FOR ACCESS (SELECT * FROM CMSDATA.CM_DAY_VISIT_INCRSS_SMM         );
REPLACE VIEW CMSVIEW.CM_DIC_TBL                        AS LOCKING TABLE CMSDATA.CM_DIC_TBL                         FOR ACCESS (SELECT * FROM CMSDATA.CM_DIC_TBL                      );
REPLACE VIEW CMSVIEW.CM_DT_RSPNS_SMM                   AS LOCKING TABLE CMSDATA.CM_DT_RSPNS_SMM                    FOR ACCESS (SELECT * FROM CMSDATA.CM_DT_RSPNS_SMM                 );
REPLACE VIEW CMSVIEW.CM_DT_RSPNS_SMM_2                 AS LOCKING TABLE CMSDATA.CM_DT_RSPNS_SMM_2                  FOR ACCESS (SELECT * FROM CMSDATA.CM_DT_RSPNS_SMM_2               );
REPLACE VIEW CMSVIEW.CM_HQ_RSLT_ANLYSS_SMM             AS LOCKING TABLE CMSDATA.CM_HQ_RSLT_ANLYSS_SMM              FOR ACCESS (SELECT * FROM CMSDATA.CM_HQ_RSLT_ANLYSS_SMM           );
REPLACE VIEW CMSVIEW.CM_MON_VISIT_EXCSS_SMM            AS LOCKING TABLE CMSDATA.CM_MON_VISIT_EXCSS_SMM             FOR ACCESS (SELECT * FROM CMSDATA.CM_MON_VISIT_EXCSS_SMM          );
REPLACE VIEW CMSVIEW.CM_NTC                            AS LOCKING TABLE CMSDATA.CM_NTC                             FOR ACCESS (SELECT * FROM CMSDATA.CM_NTC                          );
REPLACE VIEW CMSVIEW.CM_OFFR_ACHIVE_COMPRSM_SMM        AS LOCKING TABLE CMSDATA.CM_OFFR_ACHIVE_COMPRSM_SMM         FOR ACCESS (SELECT * FROM CMSDATA.CM_OFFR_ACHIVE_COMPRSM_SMM      );
REPLACE VIEW CMSVIEW.CM_OFFR_SCCS_CNDTN                AS LOCKING TABLE CMSDATA.CM_OFFR_SCCS_CNDTN                 FOR ACCESS (SELECT * FROM CMSDATA.CM_OFFR_SCCS_CNDTN              );
REPLACE VIEW CMSVIEW.CM_RSLT_ANLYSS_SMM                AS LOCKING TABLE CMSDATA.CM_RSLT_ANLYSS_SMM                 FOR ACCESS (SELECT * FROM CMSDATA.CM_RSLT_ANLYSS_SMM              );
REPLACE VIEW CMSVIEW.CM_SCCSS_RSPNC_SMM_1              AS LOCKING TABLE CMSDATA.CM_SCCSS_RSPNC_SMM_1               FOR ACCESS (SELECT * FROM CMSDATA.CM_SCCSS_RSPNC_SMM_1            );
REPLACE VIEW CMSVIEW.CM_SCCSS_RSPNS_SMM_1              AS LOCKING TABLE CMSDATA.CM_SCCSS_RSPNS_SMM_1               FOR ACCESS (SELECT * FROM CMSDATA.CM_SCCSS_RSPNS_SMM_1            );
REPLACE VIEW CMSVIEW.CM_SCCS_RSPNS_SMM                 AS LOCKING TABLE CMSDATA.CM_SCCS_RSPNS_SMM                  FOR ACCESS (SELECT * FROM CMSDATA.CM_SCCS_RSPNS_SMM               );
REPLACE VIEW CMSVIEW.CM_SCHDL_HO                       AS LOCKING TABLE CMSDATA.CM_SCHDL_HO                        FOR ACCESS (SELECT * FROM CMSDATA.CM_SCHDL_HO                     );
REPLACE VIEW CMSVIEW.CM_SCHDL_HO_DTTM                  AS LOCKING TABLE CMSDATA.CM_SCHDL_HO_DTTM                   FOR ACCESS (SELECT * FROM CMSDATA.CM_SCHDL_HO_DTTM                );
REPLACE VIEW CMSVIEW.CM_SCHDL_HO_SCCS_CNDTN_DTL        AS LOCKING TABLE CMSDATA.CM_SCHDL_HO_SCCS_CNDTN_DTL         FOR ACCESS (SELECT * FROM CMSDATA.CM_SCHDL_HO_SCCS_CNDTN_DTL      );
REPLACE VIEW CMSVIEW.CM_STORE_TEL                      AS LOCKING TABLE CMSDATA.CM_STORE_TEL                       FOR ACCESS (SELECT * FROM CMSDATA.CM_STORE_TEL                    );
REPLACE VIEW CMSVIEW.CM_STR                            AS LOCKING TABLE CMSDATA.CM_STR                             FOR ACCESS (SELECT * FROM CMSDATA.CM_STR                          );
REPLACE VIEW CMSVIEW.CM_STR_CHGR                       AS LOCKING TABLE CMSDATA.CM_STR_CHGR                        FOR ACCESS (SELECT * FROM CMSDATA.CM_STR_CHGR                     );
REPLACE VIEW CMSVIEW.CM_STR_DAY_SMM                    AS LOCKING TABLE CMSDATA.CM_STR_DAY_SMM                     FOR ACCESS (SELECT * FROM CMSDATA.CM_STR_DAY_SMM                  );
REPLACE VIEW CMSVIEW.CM_STR_EXP                        AS LOCKING TABLE CMSDATA.CM_STR_EXP                         FOR ACCESS (SELECT * FROM CMSDATA.CM_STR_EXP                      );
REPLACE VIEW CMSVIEW.CM_STR_GRADE_SMM                  AS LOCKING TABLE CMSDATA.CM_STR_GRADE_SMM                   FOR ACCESS (SELECT * FROM CMSDATA.CM_STR_GRADE_SMM                );
REPLACE VIEW CMSVIEW.CM_TGT_CUST_RSPNS_HSTRY           AS LOCKING TABLE CMSDATA.CM_TGT_CUST_RSPNS_HSTRY            FOR ACCESS (SELECT * FROM CMSDATA.CM_TGT_CUST_RSPNS_HSTRY         );
REPLACE VIEW CMSVIEW.CM_THM_TRGT                       AS LOCKING TABLE CMSDATA.CM_THM_TRGT                        FOR ACCESS (SELECT * FROM CMSDATA.CM_THM_TRGT                     );
REPLACE VIEW CMSVIEW.CM_THM_TRGT_CUST                  AS LOCKING TABLE CMSDATA.CM_THM_TRGT_CUST                   FOR ACCESS (SELECT * FROM CMSDATA.CM_THM_TRGT_CUST                );
REPLACE VIEW CMSVIEW.CM_THM_TRGT_CUST_20151014         AS LOCKING TABLE CMSDATA.CM_THM_TRGT_CUST_20151014          FOR ACCESS (SELECT * FROM CMSDATA.CM_THM_TRGT_CUST_20151014       );
REPLACE VIEW CMSVIEW.CM_THM_TRGT_CUST_APJ              AS LOCKING TABLE CMSDATA.CM_THM_TRGT_CUST_APJ               FOR ACCESS (SELECT * FROM CMSDATA.CM_THM_TRGT_CUST_APJ            );
REPLACE VIEW CMSVIEW.CM_THM_TRGT_CUST_OLD              AS LOCKING TABLE CMSDATA.CM_THM_TRGT_CUST_OLD               FOR ACCESS (SELECT * FROM CMSDATA.CM_THM_TRGT_CUST_OLD            );
REPLACE VIEW CMSVIEW.CM_THM_TRGT_STR                   AS LOCKING TABLE CMSDATA.CM_THM_TRGT_STR                    FOR ACCESS (SELECT * FROM CMSDATA.CM_THM_TRGT_STR                 );
REPLACE VIEW CMSVIEW.CM_TRGT_CNDTN                     AS LOCKING TABLE CMSDATA.CM_TRGT_CNDTN                      FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CNDTN                   );
REPLACE VIEW CMSVIEW.CM_TRGT_CNDTN_BY_STR              AS LOCKING TABLE CMSDATA.CM_TRGT_CNDTN_BY_STR               FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CNDTN_BY_STR            );
REPLACE VIEW CMSVIEW.CM_TRGT_CNDTN_INSTNC              AS LOCKING TABLE CMSDATA.CM_TRGT_CNDTN_INSTNC               FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CNDTN_INSTNC            );
REPLACE VIEW CMSVIEW.CM_TRGT_CUST_CHNNL_RSPNS          AS LOCKING TABLE CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS           FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS        );
REPLACE VIEW CMSVIEW.CM_TRGT_CUST_INFO                 AS LOCKING TABLE CMSDATA.CM_TRGT_CUST_INFO                  FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CUST_INFO               );
REPLACE VIEW CMSVIEW.CM_TRGT_CUST_OFFR_RSLT            AS LOCKING TABLE CMSDATA.CM_TRGT_CUST_OFFR_RSLT             FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CUST_OFFR_RSLT          );
REPLACE VIEW CMSVIEW.CM_TRGT_CUST_PRCHSE_INFO          AS LOCKING TABLE CMSDATA.CM_TRGT_CUST_PRCHSE_INFO           FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CUST_PRCHSE_INFO        );
REPLACE VIEW CMSVIEW.CM_TRGT_RQST_RSLT                 AS LOCKING TABLE CMSDATA.CM_TRGT_RQST_RSLT                  FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_RQST_RSLT               );
REPLACE VIEW CMSVIEW.CM_WRD_RPLC                       AS LOCKING TABLE CMSDATA.CM_WRD_RPLC                        FOR ACCESS (SELECT * FROM CMSDATA.CM_WRD_RPLC                     );
REPLACE VIEW CMSVIEW.CM_YM_CHNNL_SMM                   AS LOCKING TABLE CMSDATA.CM_YM_CHNNL_SMM                    FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_CHNNL_SMM                 );
REPLACE VIEW CMSVIEW.CM_YM_CMPGN_EXP_SMM               AS LOCKING TABLE CMSDATA.CM_YM_CMPGN_EXP_SMM                FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_CMPGN_EXP_SMM             );
REPLACE VIEW CMSVIEW.CM_YM_CRRNT_OFFR                  AS LOCKING TABLE CMSDATA.CM_YM_CRRNT_OFFR                   FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_CRRNT_OFFR                );
REPLACE VIEW CMSVIEW.CM_YM_CTGRY_SMM                   AS LOCKING TABLE CMSDATA.CM_YM_CTGRY_SMM                    FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_CTGRY_SMM                 );
REPLACE VIEW CMSVIEW.CM_YM_EXP_SMM                     AS LOCKING TABLE CMSDATA.CM_YM_EXP_SMM                      FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_EXP_SMM                   );
REPLACE VIEW CMSVIEW.CM_YM_MNTH_EXP_SMM                AS LOCKING TABLE CMSDATA.CM_YM_MNTH_EXP_SMM                 FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_MNTH_EXP_SMM              );
REPLACE VIEW CMSVIEW.CM_YM_OFFR_SMM                    AS LOCKING TABLE CMSDATA.CM_YM_OFFR_SMM                     FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_OFFR_SMM                  );
REPLACE VIEW CMSVIEW.CM_YM_RSLT_SMM                    AS LOCKING TABLE CMSDATA.CM_YM_RSLT_SMM                     FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_RSLT_SMM                  );
REPLACE VIEW CMSVIEW.CM_YM_SCCSS_SMM                   AS LOCKING TABLE CMSDATA.CM_YM_SCCSS_SMM                    FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_SCCSS_SMM                 );
REPLACE VIEW CMSVIEW.CM_YM_SCCS_SMM                    AS LOCKING TABLE CMSDATA.CM_YM_SCCS_SMM                     FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_SCCS_SMM                  );
REPLACE VIEW CMSVIEW.CM_YM_TOT_EXP_SMM                 AS LOCKING TABLE CMSDATA.CM_YM_TOT_EXP_SMM                  FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_TOT_EXP_SMM               );
REPLACE VIEW CMSVIEW.CM_YM_YEAR_EXP_SMM                AS LOCKING TABLE CMSDATA.CM_YM_YEAR_EXP_SMM                 FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_YEAR_EXP_SMM              );
REPLACE VIEW CMSVIEW.CP_CMPGN_EVENT_TARGET_CUST        AS LOCKING TABLE CMSDATA.CP_CMPGN_EVENT_TARGET_CUST         FOR ACCESS (SELECT * FROM CMSDATA.CP_CMPGN_EVENT_TARGET_CUST      );
REPLACE VIEW CMSVIEW.DELETE_PK                         AS LOCKING TABLE CMSDATA.DELETE_PK                          FOR ACCESS (SELECT * FROM CMSDATA.DELETE_PK                       );
REPLACE VIEW CMSVIEW.EXC_ZIP_CODE_load                 AS LOCKING TABLE CMSDATA.EXC_ZIP_CODE_load                  FOR ACCESS (SELECT * FROM CMSDATA.EXC_ZIP_CODE_load               );
REPLACE VIEW CMSVIEW.EXN_APT_HOUSE_CNT                 AS LOCKING TABLE CMSDATA.EXN_APT_HOUSE_CNT                  FOR ACCESS (SELECT * FROM CMSDATA.EXN_APT_HOUSE_CNT               );
REPLACE VIEW CMSVIEW.korea_lat_lon                     AS LOCKING TABLE CMSDATA.korea_lat_lon                      FOR ACCESS (SELECT * FROM CMSDATA.korea_lat_lon                   );
REPLACE VIEW CMSVIEW.LAT_LON_TOT                       AS LOCKING TABLE CMSDATA.LAT_LON_TOT                        FOR ACCESS (SELECT * FROM CMSDATA.LAT_LON_TOT                     );
REPLACE VIEW CMSVIEW.LAT_LON_TOT_ZIPCODE               AS LOCKING TABLE CMSDATA.LAT_LON_TOT_ZIPCODE                FOR ACCESS (SELECT * FROM CMSDATA.LAT_LON_TOT_ZIPCODE             );
REPLACE VIEW CMSVIEW.mload_test                        AS LOCKING TABLE CMSDATA.mload_test                         FOR ACCESS (SELECT * FROM CMSDATA.mload_test                      );
REPLACE VIEW CMSVIEW.OLAP_USER_CRM                     AS LOCKING TABLE CMSDATA.OLAP_USER_CRM                      FOR ACCESS (SELECT * FROM CMSDATA.OLAP_USER_CRM                   );
REPLACE VIEW CMSVIEW.POLYGON_LONLAT                    AS LOCKING TABLE CMSDATA.POLYGON_LONLAT                     FOR ACCESS (SELECT * FROM CMSDATA.POLYGON_LONLAT                  );
REPLACE VIEW CMSVIEW.prdsale                           AS LOCKING TABLE CMSDATA.prdsale                            FOR ACCESS (SELECT * FROM CMSDATA.prdsale                         );
REPLACE VIEW CMSVIEW.prdsale2                          AS LOCKING TABLE CMSDATA.prdsale2                           FOR ACCESS (SELECT * FROM CMSDATA.prdsale2                        );
REPLACE VIEW CMSVIEW.SIMUL_ANLYSS_CMPGN_INFO           AS LOCKING TABLE CMSDATA.SIMUL_ANLYSS_CMPGN_INFO            FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_ANLYSS_CMPGN_INFO         );
REPLACE VIEW CMSVIEW.SIMUL_CUST_6MON_SLS               AS LOCKING TABLE CMSDATA.SIMUL_CUST_6MON_SLS                FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_CUST_6MON_SLS             );
REPLACE VIEW CMSVIEW.SIMUL_CUST_PROFIL_SMM             AS LOCKING TABLE CMSDATA.SIMUL_CUST_PROFIL_SMM              FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_CUST_PROFIL_SMM           );
REPLACE VIEW CMSVIEW.SIMUL_CUST_SMM                    AS LOCKING TABLE CMSDATA.SIMUL_CUST_SMM                     FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_CUST_SMM                  );
REPLACE VIEW CMSVIEW.SIMUL_EXP_SMM                     AS LOCKING TABLE CMSDATA.SIMUL_EXP_SMM                      FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_EXP_SMM                   );
REPLACE VIEW CMSVIEW.SIMUL_FORCST_SMM                  AS LOCKING TABLE CMSDATA.SIMUL_FORCST_SMM                   FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_FORCST_SMM                );
REPLACE VIEW CMSVIEW.SIMUL_SIMUL_SMM                   AS LOCKING TABLE CMSDATA.SIMUL_SIMUL_SMM                    FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_SIMUL_SMM                 );
REPLACE VIEW CMSVIEW.SIMUL_STR_MAP_SMM                 AS LOCKING TABLE CMSDATA.SIMUL_STR_MAP_SMM                  FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_STR_MAP_SMM               );
REPLACE VIEW CMSVIEW.STR_ADMIN_AREA_ADDRSS             AS LOCKING TABLE CMSDATA.STR_ADMIN_AREA_ADDRSS              FOR ACCESS (SELECT * FROM CMSDATA.STR_ADMIN_AREA_ADDRSS           );
REPLACE VIEW CMSVIEW.TCM_SCHDL_HO_SCCS_CNDTN_DTL       AS LOCKING TABLE CMSDATA.TCM_SCHDL_HO_SCCS_CNDTN_DTL        FOR ACCESS (SELECT * FROM CMSDATA.TCM_SCHDL_HO_SCCS_CNDTN_DTL     );
REPLACE VIEW CMSVIEW.TCM_TRGT_CUST_CHNNL_RSPNC         AS LOCKING TABLE CMSDATA.TCM_TRGT_CUST_CHNNL_RSPNC          FOR ACCESS (SELECT * FROM CMSDATA.TCM_TRGT_CUST_CHNNL_RSPNC       );
REPLACE VIEW CMSVIEW.test1                             AS LOCKING TABLE CMSDATA.test1                              FOR ACCESS (SELECT * FROM CMSDATA.test1                           );
REPLACE VIEW CMSVIEW.test2                             AS LOCKING TABLE CMSDATA.test2                              FOR ACCESS (SELECT * FROM CMSDATA.test2                           );
REPLACE VIEW CMSVIEW.test3                             AS LOCKING TABLE CMSDATA.test3                              FOR ACCESS (SELECT * FROM CMSDATA.test3                           );
REPLACE VIEW CMSVIEW.TMP_BF_WEEK                       AS LOCKING TABLE CMSDATA.TMP_BF_WEEK                        FOR ACCESS (SELECT * FROM CMSDATA.TMP_BF_WEEK                     );
REPLACE VIEW CMSVIEW.TSIMUL_STR_MAP_SMM                AS LOCKING TABLE CMSDATA.TSIMUL_STR_MAP_SMM                 FOR ACCESS (SELECT * FROM CMSDATA.TSIMUL_STR_MAP_SMM              );
REPLACE VIEW CMSVIEW.TTT000                            AS LOCKING TABLE CMSDATA.TTT000                             FOR ACCESS (SELECT * FROM CMSDATA.TTT000                          );
REPLACE VIEW CMSVIEW.TTT111                            AS LOCKING TABLE CMSDATA.TTT111                             FOR ACCESS (SELECT * FROM CMSDATA.TTT111                          );


----------------------------------------------------------------------------------------------------

DROP TABLE CMSDATA.CM_CHNNL_BMS;

CREATE SET TABLE CMSDATA.CM_CHNNL_BMS ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      EVNT_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사번호',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      BRCD_NO VARCHAR(50) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '바코드번호',
      TMP_FL_PTH VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '템플릿파일경로',
      TMP_FL_NM VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '템플릿파일명',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      FL_1_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일1경로',
      FL_2_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일2경로',
      FL_3_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일3경로')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW.CM_CHNNL_BMS  AS LOCKING TABLE CMSDATA.CM_CHNNL_BMS FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_BMS    );


----------------------------------------------------------------------------------------------------

DROP TABLE CMSDATA_DEV.CM_CHNNL_BMS;

CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_BMS ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      EVNT_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사번호',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      BRCD_NO VARCHAR(50) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '바코드번호',
      TMP_FL_PTH VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '템플릿파일경로',
      TMP_FL_NM VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '템플릿파일명',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      FL_1_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일1경로',
      FL_2_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일2경로',
      FL_3_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일3경로')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_BMS  AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_BMS FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_BMS    );


----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW.CM_CHNNL_APR                      AS LOCKING TABLE CMSDATA.CM_CHNNL_APR                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APR                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_APT                      AS LOCKING TABLE CMSDATA.CM_CHNNL_APT                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APT                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_BMS                      AS LOCKING TABLE CMSDATA.CM_CHNNL_BMS                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_BMS                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_DM                       AS LOCKING TABLE CMSDATA.CM_CHNNL_DM                        FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_DM                     );
REPLACE VIEW CMSVIEW.CM_CHNNL_DVD_WGHT                 AS LOCKING TABLE CMSDATA.CM_CHNNL_DVD_WGHT                  FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_DVD_WGHT               );
REPLACE VIEW CMSVIEW.CM_CHNNL_EML                      AS LOCKING TABLE CMSDATA.CM_CHNNL_EML                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_EML                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_LMS                      AS LOCKING TABLE CMSDATA.CM_CHNNL_LMS                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_LMS                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_MMS                      AS LOCKING TABLE CMSDATA.CM_CHNNL_MMS                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_MMS                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_PLCY                     AS LOCKING TABLE CMSDATA.CM_CHNNL_PLCY                      FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_PLCY                   );
REPLACE VIEW CMSVIEW.CM_CHNNL_POS                      AS LOCKING TABLE CMSDATA.CM_CHNNL_POS                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_POS                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_RMNS_CNT_BY_DAY          AS LOCKING TABLE CMSDATA.CM_CHNNL_RMNS_CNT_BY_DAY           FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_RMNS_CNT_BY_DAY        );
REPLACE VIEW CMSVIEW.CM_CHNNL_RSPNS_SMM                AS LOCKING TABLE CMSDATA.CM_CHNNL_RSPNS_SMM                 FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_RSPNS_SMM              );
REPLACE VIEW CMSVIEW.CM_CHNNL_SMS                      AS LOCKING TABLE CMSDATA.CM_CHNNL_SMS                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_SMS                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_SMS_test                 AS LOCKING TABLE CMSDATA.CM_CHNNL_SMS_test                  FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_SMS_test               );
REPLACE VIEW CMSVIEW.CM_CHNNL_TST_GRP                  AS LOCKING TABLE CMSDATA.CM_CHNNL_TST_GRP                   FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_TST_GRP                );
REPLACE VIEW CMSVIEW.CM_CHNNL_TST_GRP_CUST             AS LOCKING TABLE CMSDATA.CM_CHNNL_TST_GRP_CUST              FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_TST_GRP_CUST           );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

CREATE SET TABLE CMSDATA.CM_CHNNL_APR ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      PUSH_MSG VARCHAR(120) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지',
      POP_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '팝업내용',
      INAPP_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '인앱내용',
      MAKE_FNSH_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작완료여부',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      BIZ_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '비즈아이디',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

DROP TABLE CMSDATA_DEV.CM_CHNNL_APR;

CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_APR ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      PUSH_MSG VARCHAR(120) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지',
      POP_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '팝업내용',
      INAPP_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '인앱내용',
      MAKE_FNSH_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작완료여부',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      BIZ_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '비즈아이디',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_APR   AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_APR      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_APR    );

----------------------------------------------------------------------------------------------------


DROP TABLE CMSDATA_DEV.CM_CHNNL_APT;

CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_APT ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      PUSH_MSG VARCHAR(120) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지',
      POP_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '팝업내용',
      INAPP_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '인앱내용',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      BIZ_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '비즈아이디',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_APT   AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_APT      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_APT    );

----------------------------------------------------------------------------------------------------


DROP TABLE CMSDATA_DEV.CM_CHNNL_BMS;

CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_BMS ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      EVNT_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사번호',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      BRCD_NO VARCHAR(50) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '바코드번호',
      TMP_FL_PTH VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '템플릿파일경로',
      TMP_FL_NM VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '템플릿파일명',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      FL_1_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일1경로',
      FL_2_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일2경로',
      FL_3_PTH VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일3경로')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_BMS   AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_BMS      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_BMS    );

----------------------------------------------------------------------------------------------------


DROP TABLE CMSDATA_DEV.CM_CHNNL_DM;

CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_DM ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      DM_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'DM명',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_DM   AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_DM      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_DM    );

----------------------------------------------------------------------------------------------------


DROP TABLE CMSDATA_DEV.CM_CHNNL_EML;

CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_EML ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      POST_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '포스트아이디',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );


REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_EML   AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_EML      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_EML    );

----------------------------------------------------------------------------------------------------


DROP TABLE CMSDATA_DEV.CM_CHNNL_LMS;

CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_LMS ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_LMS   AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_LMS      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_LMS    );

----------------------------------------------------------------------------------------------------


DROP TABLE CMSDATA_DEV.CM_CHNNL_MMS;

CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_MMS ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      FL_1_PTH VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일1경로',
      FL_2_PTH VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일2경로',
      FL_3_PTH VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '파일3경로',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_MMS   AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_MMS      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_MMS    );

----------------------------------------------------------------------------------------------------


DROP TABLE CMSDATA_DEV.CM_CHNNL_SMS;

CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_SMS ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_SMS   AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_SMS      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_SMS    );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------



    AA000501 [ 점포캠페인 ]

        캠페인현황
            캠페인현황

        점포현황
            점포현황
            요일별 현황
            등급별 현황
            점포현황 VA

        캠페인신청
            캠페인기획

        성과분석
            캠페인별 성과분석
            캠페인별 성과요약

        캠페인비용
            캠페인비용






    AA000508 [ 점포관리자 ]

        캠페인현황모니터링
            본사/점포 리스트
            스케줄링 확인
            BEST캠페인 현황
            캠페인별 종합 결과
            전체 캠페인 성과조회
            전체 캠페인 성과비교
            캠페인 총비용 조회

        캠페인 승인
            캠페인 승인

        점포캠페인 관리
            스케줄현황 관리
            캠페인 분류설정
            오퍼 설정
            채널 설정
            성공조건 설정
            테마별그룹 설정
            선택형타겟설정
            BEST캠페인 관리

        운영관리
            공지사항관리
            테스트대상자설정
            캠페인타겟대상자조회
            고개리스트다운로드

        본사 캠페인 지원
            고객아이디 일괄 업로드
            스케줄링





    AA000507 [ 본사 캠페인 지원 ]

        CISTUDIO
            TEST
            Print
            File Upload
            내점현황
            내점현황_detail





    AA00008L [ 캠페인 상세 ]

        캠페인상세
            캠페인상세





    AA00081Q [ 바코드 업로드 ]

        BarCode : /SASEMARTCMS/common/FF14306W.do?method=page




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ 블라썸 전자결재 ]

    P_HTTP_CALL                  : UTL_HTTP 사용

    P_HTTP_MAIN                  : P_HTTP_CALL 사용


    SP_EMI_SIGN_INFO_SEND        : 결재문서 전송

    SP_EMI_SIGN_REQ              : 결재문서 생성 호출


    SP_EMI_SIGN_UPDATE           : 결재문서 생성 결과

    SP_EMI_SIGN_SELECT           : 결재문서 조회


    SP_EMI_DC_PLOICY_MST_UPDATE  : 결재 결과

    SP_EMI_SIGN_RESULT           : 결재 여부


----------------------------------------------------------------------------------------------------

[ 결재연동 프로시져 ]

    P_BLSMSIGN_MAIN          : 결재문서 생성을 위한 결재정보 조회

    P_BLSMSIGN_SEND_UPDATE   : 결재문서 생성

    P_BLSMSIGN_STAT_UPDATE   : 결재진행 상태

    P_BLSMSIGN_END_UPDATE    : 결재최종 완료



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ 연동결재문서 생성을 위한 조회결과 전문 XML(P_BLSMSIGN_MAIN 프로시져 호출결과) ]

<Response>
    <NewTable>
        <APPL_ID>201211290009</APPL_ID>
        <AV_GUBUN>2</AV_GUBUN>

        <APPL_YMD>20121129</APPL_YMD>
        <EMP_NO>081592</EMP_NO>

        <TITLE>결재테스트제목</TITLE>
        <BODY>&lt;html&gt; ..... &lt;/html&gt;</BODY>

        <EMP_NO1>001122</EMP_NO1>
        <EMP_NM1>홍길동</EMP_NM1>
        <TYPE_CD1>S</TYPE_CD1>

        <EMP_NO2>112233</EMP_NO2>
        <EMP_NM2>강감찬</EMP_NM2>
        <TYPE_CD2>S</TYPE_CD2>

        <EMP_NO3>334455</EMP_NO3>
        <EMP_NM3>김대한</EMP_NM3>
        <TYPE_CD3>M</TYPE_CD3>

        <EMP_NO4>445566</EMP_NO4>
        <EMP_NM4>박민국</EMP_NM4>
        <TYPE_CD4>S</TYPE_CD4>

        <EMP_NO5/>
        <EMP_NM5/>
        <TYPE_CD5/>

        <EMP_NO6/>
        <EMP_NM6/>
        <TYPE_CD6/>

        <EMP_NO7/>
        <EMP_NM7/>
        <TYPE_CD7/>

        <EMP_NO8/>
        <EMP_NM8/>
        <TYPE_CD8/>

        <EMP_NO9/>
        <EMP_NM9/>
        <TYPE_CD9/>

        <EMP_NO10/>
        <EMP_NM10/>
        <TYPE_CD10/>

    </NewTable>
</Response>


----------------------------------------------------------------------------------------------------

-- DDL Script for TABLE SSSCUST.EMI_BLSMSIGN_INFO. Orange for ORACLE.
-- Generated on 2015/11/02 15:15:30 by SSSCUST@DEVDB


DROP TABLE BLSAPPROVAL.EMI_BLSMSIGN_INFO;

CREATE TABLE BLSAPPROVAL.EMI_BLSMSIGN_INFO
(
    SENDNO        NUMBER (18) NOT NULL,
    ACTIONFLAG    VARCHAR2 (1),
    SIGNBGN       VARCHAR2 (1) DEFAULT '1',
    SIGNDT        DATE DEFAULT SYSDATE,
    --POLICY_ID     VARCHAR2 (15) NOT NULL,
    CMPGN_NO      VARCHAR2 (50) NOT NULL,
    TITLE         VARCHAR2 (50) NOT NULL,
    DOCURL        VARCHAR2 (200) NOT NULL,
    END_SIGN_CD   VARCHAR2 (3),
    END_SIGN_DT   DATE,
    KYULEMPNO1    VARCHAR2 (20) NOT NULL,
    KYULNAME1     VARCHAR2 (40) NOT NULL,
    KYULGBN1      VARCHAR2 (1) NOT NULL,
    KYULEMPNO2    VARCHAR2 (20),
    KYULNAME2     VARCHAR2 (40),
    KYULGBN2      VARCHAR2 (1),
    KYULEMPNO3    VARCHAR2 (20),
    KYULNAME3     VARCHAR2 (40),
    KYULGBN3      VARCHAR2 (1),
    KYULEMPNO4    VARCHAR2 (20),
    KYULNAME4     VARCHAR2 (40),
    KYULGBN4      VARCHAR2 (1),
    KYULEMPNO5    VARCHAR2 (20),
    KYULNAME5     VARCHAR2 (40),
    KYULGBN5      VARCHAR2 (1),
    KYULEMPNO6    VARCHAR2 (20),
    KYULNAME6     VARCHAR2 (40),
    KYULGBN6      VARCHAR2 (1),
    KYULEMPNO7    VARCHAR2 (20),
    KYULNAME7     VARCHAR2 (40),
    KYULGBN7      VARCHAR2 (1),
    KYULEMPNO8    VARCHAR2 (20),
    KYULNAME8     VARCHAR2 (40),
    KYULGBN8      VARCHAR2 (1),
    KYULEMPNO9    VARCHAR2 (20),
    KYULNAME9     VARCHAR2 (40),
    KYULGBN9      VARCHAR2 (1),
    KYULEMPNO10   VARCHAR2 (20),
    KYULNAME10    VARCHAR2 (40),
    KYULGBN10     VARCHAR2 (1),
    REG_ID        VARCHAR2 (20),
    REG_DT        DATE,
    MOD_ID        VARCHAR2 (20),
    MOD_DT        DATE
)
;

COMMENT ON TABLE BLSAPPROVAL.EMI_BLSMSIGN_INFO IS '정산 블라섬 결재 정보' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.ACTIONFLAG IS '결재진행(N:미상신, P:상신중, Y:결재문서생성완료,I:결재진행중, O:완료[결재/반려])' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.DOCURL IS '본문URL' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.END_SIGN_CD IS '최종결재코드' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.END_SIGN_DT IS '최종결재일' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULEMPNO1 IS '결재자사번1' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULEMPNO2 IS '결재자사번2' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULEMPNO3 IS '결재자사번3' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULEMPNO4 IS '결재자사번4' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULEMPNO5 IS '결재자사번5' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULEMPNO6 IS '결재자사번6' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULEMPNO7 IS '결재자사번7' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULEMPNO8 IS '결재자사번8' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULEMPNO9 IS '결재자사번9' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULEMPNO10 IS '결재자사번10' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULGBN1 IS '결재구분1(결재:S, 합의:M)' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULGBN2 IS '결재구분2(결재:S, 합의:M)' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULGBN3 IS '결재구분3(결재:S, 합의:M)' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULGBN4 IS '결재구분4(결재:S, 합의:M)' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULGBN5 IS '결재구분5(결재:S, 합의:M)' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULGBN6 IS '결재구분6(결재:S, 합의:M)' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULGBN7 IS '결재구분7(결재:S, 합의:M)' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULGBN8 IS '결재구분8(결재:S, 합의:M)' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULGBN9 IS '결재구분9(결재:S, 합의:M)' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULGBN10 IS '결재구분10(결재:S, 합의:M)' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULNAME1 IS '결재자성명1' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULNAME2 IS '결재자성명2' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULNAME3 IS '결재자성명3' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULNAME4 IS '결재자성명4' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULNAME5 IS '결재자성명5' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULNAME6 IS '결재자성명6' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULNAME7 IS '결재자성명7' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULNAME8 IS '결재자성명8' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULNAME9 IS '결재자성명9' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.KYULNAME10 IS '결재자성명10' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.CMPGN_NO IS '캠페인NO' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.SENDNO IS '결재ID' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.SIGNBGN IS '결재양식구분(1. 신규)' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.SIGNDT IS '상신일' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.TITLE IS '정책명' ;
COMMENT ON COLUMN BLSAPPROVAL.EMI_BLSMSIGN_INFO.REG_ID IS '결재 상신자' ;



DELETE FROM BLSAPPROVAL.EMI_BLSMSIGN_INFO;


INSERT INTO BLSAPPROVAL.EMI_BLSMSIGN_INFO
(
    SENDNO
    , ACTIONFLAG
    , CMPGN_NO
    , TITLE
    , DOCURL
    , KYULEMPNO1
    , KYULNAME1
    , KYULGBN1
    , KYULEMPNO2
    , KYULNAME2
    , KYULGBN2
)
VALUES
(
    100
    , 'N'
    , 'CMPGN_NO'
    , '이것은 테스트용 결재 문서입니다.'
    , 'https://cms.emart.com:8343/SASEMARTCMS/common/FF12060W.do'
    , '031880'
    , '안필재'
    , 'S'
    , '031880'
    , '안필재'
    , 'S'
)
;


----------------------------------------------------------------------------------------------------

CREATE TABLE BLSAPPROVAL.EMI_DC_POLICY_MST
(
    POLICY_ID           VARCHAR2 (15) NOT NULL,
    POLICY_NM           VARCHAR2 (50),
    MNO_CD              VARCHAR2 (1),
    DC_TYPE             VARCHAR2 (5),
    DC_KIND             VARCHAR2 (1),
    REPRSVCNUM_YN       VARCHAR2 (1),
    DC_START_MM         VARCHAR2 (6) DEFAULT 201303,
    DC_END_MM           VARCHAR2 (6) DEFAULT 999912,
    DC_ACT_START_DT     VARCHAR2 (8) DEFAULT 20130310,
    DC_ACT_END_DT       VARCHAR2 (8) DEFAULT 99991231,
    USIM_YN             VARCHAR2 (1),
    STOP_YN             VARCHAR2 (1),
    DAILY_CALC_YN       VARCHAR2 (1),
    PRDC_CHG_YN         VARCHAR2 (1),
    DEVICE_CHG_YN       VARCHAR2 (1),
    CUST_CHG_YN         VARCHAR2 (1),
    USE_YN              VARCHAR2 (1),
    STATUS_CD           VARCHAR2 (1),
    SIGN_CD             VARCHAR2 (1),
    RGST_DT             DATE,
    RGST_PRSN_ID        VARCHAR2 (30),
    MDFY_DT             DATE,
    MDFY_PRSN_ID        VARCHAR2 (30),
    PRDC_CHG_MON_YN     VARCHAR2 (1),
    DC_ACT_TYPE         VARCHAR2 (1),
    DEVICE_CHG_ACT_YN   VARCHAR2 (1),
    DEVICE_ACT_YN       VARCHAR2 (1),
    LOCK_USER_ID        VARCHAR2 (30)
)
TABLESPACE DATA
PCTFREE 10
INITRANS 1
MAXTRANS 255
STORAGE
(
    INITIAL 65536
    NEXT 1048576
    MINEXTENTS 1
    MAXEXTENTS UNLIMITED
    BUFFER_POOL DEFAULT
)
LOGGING
DISABLE ROW MOVEMENT ;

COMMENT ON TABLE SSSCUST.EMI_DC_POLICY_MST IS '특별할인 마스터 정보 관리' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.CUST_CHG_YN IS '명의 변경시 할인 여부(할인 - Y, 미할인 - N)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.DAILY_CALC_YN IS '일할계산 여부(일할계산 - Y, 일할계산안함 - N)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.DC_ACT_END_DT IS '할인대상가입기간의 종료일' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.DC_ACT_START_DT IS '할인대상가입기간의 시작일' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.DC_ACT_TYPE IS '할인대상가입(제한없음 : N , 제한있음 : L)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.DC_END_MM IS '할인적용기간의 종료월' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.DC_KIND IS '할인종류(단발성 - S, 지속성 - L)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.DC_START_MM IS '할인적용기간의 시작월' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.DC_TYPE IS '할인유형 구분(직원할인 - EDC07, 우수고객할인 - EDC10, 프로모션특별할인 - EDC14, 기타할인 - EDC09)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.DEVICE_ACT_YN IS '단말기 단독개통 여부(단독개통 - Y , 단말개통 - N )' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.DEVICE_CHG_ACT_YN IS '기변18개월이상유지 포함여부((할인 - Y, 미할인 - N))' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.DEVICE_CHG_YN IS '기기 변경시 할인 여부(할인 - Y, 미할인 - N)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.MDFY_DT IS '변경일시' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.MDFY_PRSN_ID IS '변경처리자ID' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.MNO_CD IS '통신망 구분(SKT - S, LGU - L)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.POLICY_ID IS '정책ID' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.POLICY_NM IS '정책명' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.PRDC_CHG_MON_YN IS '월중 요금제 변경시 할인 여부(할인 - Y, 미할인 - N)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.PRDC_CHG_YN IS '가입시 요금제 할인 여부(할인 - Y, 미할인 - N)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.REPRSVCNUM_YN IS '대표서비스계정 체크 여부(체크 - Y , 미체크 - N)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.RGST_DT IS '등록일' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.RGST_PRSN_ID IS '등록처리자ID' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.SIGN_CD IS '결재코드(O:결재완료, X:반려, P:결재중)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.STATUS_CD IS '데이터상태코드(임시저장 - P, 최종저장 - S)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.STOP_YN IS '월중정지이력 체크 여부(할인 - Y, 미할인 - N)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.USE_YN IS '사용여부(사용 - Y, 사용안함 - N)' ;
COMMENT ON COLUMN SSSCUST.EMI_DC_POLICY_MST.USIM_YN IS 'USIM 단독개통 여부(단독개통 - Y , 단말개통 - N )' ;

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

/*
http://sourceforge.net/projects/sshtools/
*/

package com.mimul.sample;
import com.sshtools.j2ssh.SftpClient;
import com.sshtools.j2ssh.SshClient;
import com.sshtools.j2ssh.authentication.AuthenticationProtocolState;
import com.sshtools.j2ssh.authentication.PasswordAuthenticationClient;
public class J2sshSftpCient
{
    private SshClient client = null;
    private PasswordAuthenticationClient auth = null;
    private SftpClient sftp = null;

    public J2sshSftpCient(String server, String user, String pwd) throws Exception
    {
        try {
            if (server == null || user == null || pwd == null) {
                System.out.println("Parameter is null!");
            }
            client = new SshClient();
            client.setSocketTimeout(70000);
            client.connect(server);

            auth = new PasswordAuthenticationClient();
            auth.setUsername(user);
            auth.setPassword(pwd);
            int result = client.authenticate(auth);
            if (result != AuthenticationProtocolState.COMPLETE) {
                 throw new Exception("Login to " + server + ":22" +
                      user + "/" + pwd + " failed");
            }
            sftp = client.openSftpClient();
        } catch (Exception e) {
            System.out.println(e);
            throw e;
        }
    }

    public boolean put(String path) throws Exception
    {
        boolean rtn = false;
        try    {
            if (sftp != null) {
                sftp.put(path);
                rtn = true;
            }
        } catch(Exception e) {
            System.out.println(e);
        }
        return rtn;
    }

    public boolean get(String srcFile, String destFile) throws Exception
    {
        boolean rtn = false;
        try {
            if (sftp != null) {
                if (destFile == null)
                    sftp.get(srcFile);
                else
                    sftp.get(srcFile, destFile);
                rtn = true;
            }
        } catch(Exception e) {
            System.out.println(e);
        }
        return rtn;
    }

    public boolean lcd(String path) throws Exception
    {
        boolean rtn = false;
        try {
            if (sftp != null) {
                sftp.lcd(path);
                rtn = true;
            }
        } catch(Exception e) {
            System.out.println(e);
        }
        return rtn;
    }

    public boolean cd(String path) throws Exception
    {
        boolean rtn = false;
        try {
            if (sftp != null) {
                sftp.cd(path);
                rtn = true;
            }
        } catch(Exception e) {
            System.out.println(e);
        }
        return rtn;
    }

    public String pwd() throws Exception
    {
        String rtnStr = null;
        try {
            if (sftp != null) {
                rtnStr = sftp.pwd();
            }
        } catch(Exception e) {
            System.out.println(e);
        }
        return rtnStr;
    }

    public boolean chmod(int permissions, String path) throws Exception
    {
        boolean rtn = false;
        try {
            if (sftp != null) {
                sftp.chmod(permissions, path);
                rtn = true;
            }
        } catch(Exception e) {
            System.out.println(e);
        }
        return rtn;
    }

    public boolean isClosed() throws Exception
    {
        boolean rtn = false;
        try {
            if (sftp != null)
                rtn = sftp.isClosed();
        } catch(Exception e) {
            System.out.println(e);
        }
        return rtn;
    }

    public boolean logout() throws Exception
    {
        boolean rtn = false;
        try {
            if (sftp != null)
                sftp.quit();
            if (client != null)
                client.disconnect();
            rtn = true;
        } catch(Exception e) {
            System.out.println(e);
        }
        return rtn;
    }

    public static void main(String[] args)
    {
        try {
            J2sshSftpCient jsftp = new J2sshSftpCient("remotehost", "userid",
                "password");
            boolean test = jsftp.cd("/home/k2/data");
            System.out.println(jsftp.pwd());
            boolean test1 = jsftp.lcd("C:/");
            boolean test2 = jsftp.get("README.TXT", "README.TXT");
            boolean isClosed = jsftp.isClosed();
            boolean test3 = jsftp.logout();
            System.out.println(test + " " + test1 + " " + test2 +
               " " + isClosed + " " + test3);
        } catch (Exception e) {
            System.out.println(e);
        }
    }
}

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

채널테스트대상자 (CM_TST_CHRGPERS) 테이블 생성

캠페인번호 (CMPGN_NO; VARCHAR(20))
채널번호 (CHNNL_NO; VARCHAR(20))
테스트대상자일련번호 (TST_CHRGPERS_NO; DECIMAL(3))
사번 (CHRGPERS_CD; CHAR(4))
성명 (CHRGPERS_NM; VARCHAR(20))
점포아이디 (STR_ID; VARCHAR(20))
SYS_생성일시(SYS_CRTN_DTTM; TIMESTAMP(6))
SYS_변경일시(SYS_UPDT_DTTM; TIMESTAMP(6))
SYS_최초등록자아이디(SYS_FRST_OPRTN_ID; VARCHAR(20))
SYS_최종변경자아이디(SYS_LST_UPDT_ID; VARCHAR(20))


----------------------------------------------------------------------------------------------------

CREATE SET TABLE CMSDATA_DEV.CM_TST_CHRGPERS ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
        CMPGN_NO           VARCHAR(20)                      title    '캠페인번호'                   not null  ,
        CHNNL_NO           VARCHAR(20)                      title    '채널번호'                     not null  ,
        TST_CHRGPERS_NO           DECIMAL(3)                title    '테스트대상자일련번호'         not null  ,
        CHRGPERS_CD           CHAR(4)                       title    '사번'                                   ,
        CHRGPERS_NM           VARCHAR(20)                   title    '성명'                                   ,
        STR_ID           VARCHAR(20)                        title    '점포아이디'                             ,
        SYS_CRTN_DTTM           TIMESTAMP(6)                title    'SYS_생성일시'                           ,
        SYS_UPDT_DTTM           TIMESTAMP(6)                title    'SYS_변경일시'                           ,
        SYS_FRST_OPRTN_ID           VARCHAR(20)             title    'SYS_최초등록자아이디'                   ,
        SYS_LST_UPDT_ID           VARCHAR(20)               title    'SYS_최종변경자아이디'
     )
UNIQUE PRIMARY INDEX ( CMPGN_NO, CHNNL_NO, TST_CHRGPERS_NO);


REPLACE VIEW CMSVIEW_DEV.CM_TST_CHRGPERS AS LOCKING TABLE CMSDATA_DEV.CM_TST_CHRGPERS  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TST_CHRGPERS );

----------------------------------------------------------------------------------------------------

CREATE SET TABLE CMSDATA.CM_TST_CHRGPERS ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
        CMPGN_NO           VARCHAR(20)                      title    '캠페인번호'                   not null  ,
        CHNNL_NO           VARCHAR(20)                      title    '채널번호'                     not null  ,
        TST_CHRGPERS_NO           DECIMAL(3)                title    '테스트대상자일련번호'         not null  ,
        CHRGPERS_CD           CHAR(4)                       title    '사번'                                   ,
        CHRGPERS_NM           VARCHAR(20)                   title    '성명'                                   ,
        STR_ID           VARCHAR(20)                        title    '점포아이디'                             ,
        SYS_CRTN_DTTM           TIMESTAMP(6)                title    'SYS_생성일시'                           ,
        SYS_UPDT_DTTM           TIMESTAMP(6)                title    'SYS_변경일시'                           ,
        SYS_FRST_OPRTN_ID           VARCHAR(20)             title    'SYS_최초등록자아이디'                   ,
        SYS_LST_UPDT_ID           VARCHAR(20)               title    'SYS_최종변경자아이디'
     )
UNIQUE PRIMARY INDEX ( CMPGN_NO, CHNNL_NO, TST_CHRGPERS_NO);


REPLACE VIEW CMSVIEW.CM_TST_CHRGPERS AS LOCKING TABLE CMSDATA.CM_TST_CHRGPERS  FOR ACCESS (SELECT * FROM CMSDATA.CM_TST_CHRGPERS );


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 2015.11.03]

CREATE TABLE CMSDATA_DEV.BF_WEEK_151102                                AS CMSDATA_DEV.BF_WEEK                          WITH DATA;
CREATE TABLE CMSDATA_DEV.CI_CUSTS_BY_CHNNL_151102                      AS CMSDATA_DEV.CI_CUSTS_BY_CHNNL                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_AMT_RSPNS_SMM_151102                       AS CMSDATA_DEV.CM_AMT_RSPNS_SMM                 WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM_151102                    AS CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM              WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_BST_CMPGN_151102                           AS CMSDATA_DEV.CM_BST_CMPGN                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CARD_CO_151102                             AS CMSDATA_DEV.CM_CARD_CO                       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CATCHMNT_INCRSS_RTO_SMM_151102             AS CMSDATA_DEV.CM_CATCHMNT_INCRSS_RTO_SMM       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_ACHIVE_COMPRSM_SMM_151102            AS CMSDATA_DEV.CM_CHNNL_ACHIVE_COMPRSM_SMM      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_APR_151102                           AS CMSDATA_DEV.CM_CHNNL_APR                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_APT_151102                           AS CMSDATA_DEV.CM_CHNNL_APT                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_BMS_151102                           AS CMSDATA_DEV.CM_CHNNL_BMS                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_DM_151102                            AS CMSDATA_DEV.CM_CHNNL_DM                      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_DVD_WGHT_151102                      AS CMSDATA_DEV.CM_CHNNL_DVD_WGHT                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_EML_151102                           AS CMSDATA_DEV.CM_CHNNL_EML                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_LMS_151102                           AS CMSDATA_DEV.CM_CHNNL_LMS                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_MMS_151102                           AS CMSDATA_DEV.CM_CHNNL_MMS                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_PLCY_151102                          AS CMSDATA_DEV.CM_CHNNL_PLCY                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_POS_151102                           AS CMSDATA_DEV.CM_CHNNL_POS                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_RMNS_CNT_BY_DAY_151102               AS CMSDATA_DEV.CM_CHNNL_RMNS_CNT_BY_DAY         WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_RSPNS_SMM_151102                     AS CMSDATA_DEV.CM_CHNNL_RSPNS_SMM               WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_SMS_151102                           AS CMSDATA_DEV.CM_CHNNL_SMS                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_SMS_test_151102                      AS CMSDATA_DEV.CM_CHNNL_SMS_test                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_TST_GRP_151102                       AS CMSDATA_DEV.CM_CHNNL_TST_GRP                 WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CHNNL_TST_GRP_CUST_151102                  AS CMSDATA_DEV.CM_CHNNL_TST_GRP_CUST            WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMMN_CD_151102                             AS CMSDATA_DEV.CM_CMMN_CD                       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_CHNNL_151102                         AS CMSDATA_DEV.CM_CMPGN_CHNNL                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_CTGRY_151102                         AS CMSDATA_DEV.CM_CMPGN_CTGRY                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_EXCT_151102                          AS CMSDATA_DEV.CM_CMPGN_EXCT                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_HISTRY_151102                        AS CMSDATA_DEV.CM_CMPGN_HISTRY                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_MST_151102                           AS CMSDATA_DEV.CM_CMPGN_MST                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_OFFR_151102                          AS CMSDATA_DEV.CM_CMPGN_OFFR                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_PLCY_151102                          AS CMSDATA_DEV.CM_CMPGN_PLCY                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_REG_151102                           AS CMSDATA_DEV.CM_CMPGN_REG                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_REG_DTL_151102                       AS CMSDATA_DEV.CM_CMPGN_REG_DTL                 WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_CD_151102                 AS CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_CD           WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_DTL_151102                AS CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_DTL          WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_151102                    AS CMSDATA_DEV.CM_CMPGN_SIMUL_CUST              WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_TMP_151102                AS CMSDATA_DEV.CM_CMPGN_SIMUL_CUST_TMP          WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CHC_151102                      AS CMSDATA_DEV.CM_CMPGN_TRGT_CHC                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CUST_151102                     AS CMSDATA_DEV.CM_CMPGN_TRGT_CUST               WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CUST_old_151102                 AS CMSDATA_DEV.CM_CMPGN_TRGT_CUST_old           WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CUST_TMP_151102                 AS CMSDATA_DEV.CM_CMPGN_TRGT_CUST_TMP           WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMTN_PLN_151102                            AS CMSDATA_DEV.CM_CMTN_PLN                      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CMTN_PLN_KSY_151102                        AS CMSDATA_DEV.CM_CMTN_PLN_KSY                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CTGRY_ACHIVE_COMPRSM_SMM_151102            AS CMSDATA_DEV.CM_CTGRY_ACHIVE_COMPRSM_SMM      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CTGY_INCRSS_RTO_SMM_151102                 AS CMSDATA_DEV.CM_CTGY_INCRSS_RTO_SMM           WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_FAV_CHNNL_151102                      AS CMSDATA_DEV.CM_CUST_FAV_CHNNL                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_GRADE_151102                          AS CMSDATA_DEV.CM_CUST_GRADE                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_GRADE_TMP_151102                      AS CMSDATA_DEV.CM_CUST_GRADE_TMP                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_GRADE_TMP_UV_151102                   AS CMSDATA_DEV.CM_CUST_GRADE_TMP_UV             WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_MST_151102                            AS CMSDATA_DEV.CM_CUST_MST                      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_MST_TMP_151102                        AS CMSDATA_DEV.CM_CUST_MST_TMP                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_RSPNS_SMM_151102                      AS CMSDATA_DEV.CM_CUST_RSPNS_SMM                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_CUST_SCCSS_RSPNS_HSTRY_151102              AS CMSDATA_DEV.CM_CUST_SCCSS_RSPNS_HSTRY        WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_DAY_VISIT_INCRSS_SMM_151102                AS CMSDATA_DEV.CM_DAY_VISIT_INCRSS_SMM          WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_DIC_TBL_151102                             AS CMSDATA_DEV.CM_DIC_TBL                       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_DT_RSPNS_SMM_151102                        AS CMSDATA_DEV.CM_DT_RSPNS_SMM                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_DT_RSPNS_SMM_2_151102                      AS CMSDATA_DEV.CM_DT_RSPNS_SMM_2                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_HQ_RSLT_ANLYSS_SMM_151102                  AS CMSDATA_DEV.CM_HQ_RSLT_ANLYSS_SMM            WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_MON_VISIT_EXCSS_SMM_151102                 AS CMSDATA_DEV.CM_MON_VISIT_EXCSS_SMM           WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_NTC_151102                                 AS CMSDATA_DEV.CM_NTC                           WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_OFFR_ACHIVE_COMPRSM_SMM_151102             AS CMSDATA_DEV.CM_OFFR_ACHIVE_COMPRSM_SMM       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_OFFR_SCCS_CNDTN_151102                     AS CMSDATA_DEV.CM_OFFR_SCCS_CNDTN               WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_RSLT_ANLYSS_SMM_151102                     AS CMSDATA_DEV.CM_RSLT_ANLYSS_SMM               WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_SCCSS_RSPNC_SMM_1_151102                   AS CMSDATA_DEV.CM_SCCSS_RSPNC_SMM_1             WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_SCCSS_RSPNS_SMM_1_151102                   AS CMSDATA_DEV.CM_SCCSS_RSPNS_SMM_1             WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_SCCS_RSPNS_SMM_151102                      AS CMSDATA_DEV.CM_SCCS_RSPNS_SMM                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_SCHDL_HO_151102                            AS CMSDATA_DEV.CM_SCHDL_HO                      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_SCHDL_HO_DTTM_151102                       AS CMSDATA_DEV.CM_SCHDL_HO_DTTM                 WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_SCHDL_HO_SCCS_CNDTN_DTL_151102             AS CMSDATA_DEV.CM_SCHDL_HO_SCCS_CNDTN_DTL       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_STORE_TEL_151102                           AS CMSDATA_DEV.CM_STORE_TEL                     WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_STR_151102                                 AS CMSDATA_DEV.CM_STR                           WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_STR_CHGR_151102                            AS CMSDATA_DEV.CM_STR_CHGR                      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_STR_DAY_SMM_151102                         AS CMSDATA_DEV.CM_STR_DAY_SMM                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_STR_EXP_151102                             AS CMSDATA_DEV.CM_STR_EXP                       WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_STR_GRADE_SMM_151102                       AS CMSDATA_DEV.CM_STR_GRADE_SMM                 WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TGT_CUST_RSPNS_HSTRY_151102                AS CMSDATA_DEV.CM_TGT_CUST_RSPNS_HSTRY          WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_THM_TRGT_151102                            AS CMSDATA_DEV.CM_THM_TRGT                      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_THM_TRGT_CUST_151102                       AS CMSDATA_DEV.CM_THM_TRGT_CUST                 WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_THM_TRGT_CUST_APJ_151102                   AS CMSDATA_DEV.CM_THM_TRGT_CUST_APJ             WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_THM_TRGT_CUST_OLD_151102                   AS CMSDATA_DEV.CM_THM_TRGT_CUST_OLD             WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_THM_TRGT_STR_151102                        AS CMSDATA_DEV.CM_THM_TRGT_STR                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CNDTN_151102                          AS CMSDATA_DEV.CM_TRGT_CNDTN                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CNDTN_BY_STR_151102                   AS CMSDATA_DEV.CM_TRGT_CNDTN_BY_STR             WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CNDTN_INSTNC_151102                   AS CMSDATA_DEV.CM_TRGT_CNDTN_INSTNC             WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CUST_CHNNL_RSPNS_151102               AS CMSDATA_DEV.CM_TRGT_CUST_CHNNL_RSPNS         WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CUST_INFO_151102                      AS CMSDATA_DEV.CM_TRGT_CUST_INFO                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CUST_OFFR_RSLT_151102                 AS CMSDATA_DEV.CM_TRGT_CUST_OFFR_RSLT           WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CUST_PRCHSE_INFO_151102               AS CMSDATA_DEV.CM_TRGT_CUST_PRCHSE_INFO         WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_RQST_RSLT_151102                      AS CMSDATA_DEV.CM_TRGT_RQST_RSLT                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TST_CHRGPERS_151102                        AS CMSDATA_DEV.CM_TST_CHRGPERS                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_WRD_RPLC_151102                            AS CMSDATA_DEV.CM_WRD_RPLC                      WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_CHNNL_SMM_151102                        AS CMSDATA_DEV.CM_YM_CHNNL_SMM                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_CMPGN_EXP_SMM_151102                    AS CMSDATA_DEV.CM_YM_CMPGN_EXP_SMM              WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_CRRNT_OFFR_151102                       AS CMSDATA_DEV.CM_YM_CRRNT_OFFR                 WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_CTGRY_SMM_151102                        AS CMSDATA_DEV.CM_YM_CTGRY_SMM                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_EXP_SMM_151102                          AS CMSDATA_DEV.CM_YM_EXP_SMM                    WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_MNTH_EXP_SMM_151102                     AS CMSDATA_DEV.CM_YM_MNTH_EXP_SMM               WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_OFFR_SMM_151102                         AS CMSDATA_DEV.CM_YM_OFFR_SMM                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_RSLT_SMM_151102                         AS CMSDATA_DEV.CM_YM_RSLT_SMM                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_SCCSS_SMM_151102                        AS CMSDATA_DEV.CM_YM_SCCSS_SMM                  WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_SCCS_SMM_151102                         AS CMSDATA_DEV.CM_YM_SCCS_SMM                   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_TOT_EXP_SMM_151102                      AS CMSDATA_DEV.CM_YM_TOT_EXP_SMM                WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_YM_YEAR_EXP_SMM_151102                     AS CMSDATA_DEV.CM_YM_YEAR_EXP_SMM               WITH DATA;
CREATE TABLE CMSDATA_DEV.CP_CMPGN_EVENT_TARGET_CUST_151102             AS CMSDATA_DEV.CP_CMPGN_EVENT_TARGET_CUST       WITH DATA;
CREATE TABLE CMSDATA_DEV.DELETE_PK_151102                              AS CMSDATA_DEV.DELETE_PK                        WITH DATA;
CREATE TABLE CMSDATA_DEV.EXC_ZIP_CODE_load_151102                      AS CMSDATA_DEV.EXC_ZIP_CODE_load                WITH DATA;
CREATE TABLE CMSDATA_DEV.EXN_APT_HOUSE_CNT_151102                      AS CMSDATA_DEV.EXN_APT_HOUSE_CNT                WITH DATA;
CREATE TABLE CMSDATA_DEV.korea_lat_lon_151102                          AS CMSDATA_DEV.korea_lat_lon                    WITH DATA;
CREATE TABLE CMSDATA_DEV.LAT_LON_TOT_151102                            AS CMSDATA_DEV.LAT_LON_TOT                      WITH DATA;
CREATE TABLE CMSDATA_DEV.LAT_LON_TOT_ZIPCODE_151102                    AS CMSDATA_DEV.LAT_LON_TOT_ZIPCODE              WITH DATA;
CREATE TABLE CMSDATA_DEV.mload_test_151102                             AS CMSDATA_DEV.mload_test                       WITH DATA;
CREATE TABLE CMSDATA_DEV.OLAP_USER_CRM_151102                          AS CMSDATA_DEV.OLAP_USER_CRM                    WITH DATA;
CREATE TABLE CMSDATA_DEV.POLYGON_LONLAT_151102                         AS CMSDATA_DEV.POLYGON_LONLAT                   WITH DATA;
CREATE TABLE CMSDATA_DEV.prdsale_151102                                AS CMSDATA_DEV.prdsale                          WITH DATA;
CREATE TABLE CMSDATA_DEV.prdsale2_151102                               AS CMSDATA_DEV.prdsale2                         WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_ANLYSS_CMPGN_INFO_151102                AS CMSDATA_DEV.SIMUL_ANLYSS_CMPGN_INFO          WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_CUST_6MON_SLS_151102                    AS CMSDATA_DEV.SIMUL_CUST_6MON_SLS              WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_CUST_PROFIL_SMM_151102                  AS CMSDATA_DEV.SIMUL_CUST_PROFIL_SMM            WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_CUST_SMM_151102                         AS CMSDATA_DEV.SIMUL_CUST_SMM                   WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_EXP_SMM_151102                          AS CMSDATA_DEV.SIMUL_EXP_SMM                    WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_FORCST_SMM_151102                       AS CMSDATA_DEV.SIMUL_FORCST_SMM                 WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_SIMUL_SMM_151102                        AS CMSDATA_DEV.SIMUL_SIMUL_SMM                  WITH DATA;
CREATE TABLE CMSDATA_DEV.SIMUL_STR_MAP_SMM_151102                      AS CMSDATA_DEV.SIMUL_STR_MAP_SMM                WITH DATA;
CREATE TABLE CMSDATA_DEV.STR_ADMIN_AREA_ADDRSS_151102                  AS CMSDATA_DEV.STR_ADMIN_AREA_ADDRSS            WITH DATA;
CREATE TABLE CMSDATA_DEV.TCM_SCHDL_HO_SCCS_CNDTN_DTL_151102            AS CMSDATA_DEV.TCM_SCHDL_HO_SCCS_CNDTN_DTL      WITH DATA;
CREATE TABLE CMSDATA_DEV.TCM_TRGT_CUST_CHNNL_RSPNC_151102              AS CMSDATA_DEV.TCM_TRGT_CUST_CHNNL_RSPNC        WITH DATA;
CREATE TABLE CMSDATA_DEV.TMP_BF_WEEK_151102                            AS CMSDATA_DEV.TMP_BF_WEEK                      WITH DATA;
CREATE TABLE CMSDATA_DEV.TSIMUL_STR_MAP_SMM_151102                     AS CMSDATA_DEV.TSIMUL_STR_MAP_SMM               WITH DATA;
CREATE TABLE CMSDATA_DEV.TTT000_151102                                 AS CMSDATA_DEV.TTT000                           WITH DATA;
CREATE TABLE CMSDATA_DEV.TTT111_151102                                 AS CMSDATA_DEV.TTT111                           WITH DATA;

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

결재문서 생성을 위한
결재정보 조회 BLSM.P_BLSMSIGN_MAIN
결재문서생성 UPDATE BLSM.P_BLSMSIGN_SEND_UPDATE
결재진행상태 UPDATE BLSM.P_BLSMSIGN_STAT_UPDATE
결재최종완료 UPDATE BLSM.P_BLSMSIGN_END_UPDATE

condition_id,
ZZ-EPS-0305로 하시면됩니다.

system_code
EMARTCRM

----------------------------------------------------------------------------------------------------

DELETE FROM BLSAPPROVAL.EMI_BLSMSIGN_INFO;


INSERT INTO BLSAPPROVAL.EMI_BLSMSIGN_INFO
(
    SENDNO
    , ACTIONFLAG
    , CMPGN_NO
    , TITLE
    , DOCURL
    , KYULEMPNO1
    , KYULNAME1
    , KYULGBN1
    , KYULEMPNO2
    , KYULNAME2
    , KYULGBN2
)
VALUES
(
    100
    , 'N'
    , 'CMPGN_NO'
    , '이것은 테스트용 결재 문서입니다.'
    , 'https://cms.emart.com:8343/SASEMARTCMS/common/FF12060W.do'
    , '031880'
    , '안필재'
    , 'S'
    , '031880'
    , '안필재'
    , 'S'
)
;



----------------------------------------------------------------------------------------------------

블라섬 개발기 접속방법 보내드립니다.

접속 계정 :031880

개발기 접속 비밀번호는 “사번”입니다. (결재시 비밀번호 : 1)

감사합니다.





[블라섬 개발서버 접속]

1. host 파일 수정

    174.100.22.195    wp.shinsegaedev.com



2. 블라섬 개발기 접속

    http://wp.shinsegaedev.com/coviweb

    id : 사번

    pwd : 사번

    * 메뉴등 안보일 경우 : [인터넷] - [도구] - [호환성보기설정]내 shinsegaedev.com 추가




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW.CM_CUST_MST AS LOCKING TABLE CMSDATA.CM_CUST_MST  FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_MST );

----------------------------------------------------------------------------------------------------

/sas/sasv94_dev/config/Lev2/Web/WebAppServer/SASServer_EMART/


http://matcmsmine01:8888/SASEMARTCMS/branch/BB02006S.do?method=nextPage

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


select * from cm_bst_cmpgn order by bst_cmpgn_end_dt desc;


select * from cm_bst_cmpgn where cmpgn_rnk is not null;
--delete from cm_bst_cmpgn where cmpgn_rnk is not null;

select * from cm_bst_cmpgn where bst_cmpgn_end_dt < current_date;
--delete from cm_bst_cmpgn where bst_cmpgn_end_dt < current_date;


select * from cm_cmpgn_mst order by sys_crtn_dttm asc;

select * from cm_cmpgn_mst where cmpgn_no not like 'H%' and cmpgn_no not like 'F%' and cmpgn_no not in ('C20151021101700101','C20151104101711492','C20151030103811390','C20151102101711427','C20151019101700040')  order by sys_crtn_dttm asc;

----------------------------------------------------------------------------------------------------

('C20151021101700101','C20151104101711492','C20151030103811390','C20151102101711427','C20151019101700040')

----------------------------------------------------------------------------------------------------
(
 'C20151018101700005'
,'C20151018101700008'
,'C20151018101700007'
,'C20151018101700004'
,'C20151019101700011'
,'C20151019101700001'
,'C20151019101700012'
,'C20151019101700016'
,'C20151019101700017'
,'C20151019101700018'
,'C20151019101700019'
,'C20151019101700020'
,'C20151019101700021'
,'C20151019101700022'
,'C20151019101700023'
,'C20151019101700024'
,'C20151019101700025'
,'C20151019101700026'
,'C20151019101700027'
,'C20151019101700028'
,'C20151019101700029'
,'C20151019101700030'
,'C20151019101700031'
,'C20151019101700032'
,'C20151019101700033'
,'C20151019101700034'
,'C20151019101700035'
,'C20151019101700036'
,'C20151019101700037'
,'C20151019101700038'
,'C20151019101700039'
,'C20151019101700041'
,'C20151019101700042'
,'C20151019101700043'
,'C20151019101700044'
,'C20151019101700045'
,'C20151019101700046'
,'C20151019101700047'
,'C20151019101700048'
,'C20151019101700049'
,'C20151019101700050'
,'C20151019101700051'
,'C20151019101700052'
,'C20151019101700053'
,'C20151019101700054'
,'C20151019101700055'
,'C20151019101700056'
,'C20151019101700057'
,'C20151019101700058'
,'C20151019101700059'
,'C20151019101700060'
,'C20151019101700061'
,'C20151019101700062'
,'C20151019101700063'
,'C20151020103800064'
,'C20151020101700065'
,'C20151020101700066'
,'C20151020101700067'
,'C20151020101700068'
,'C20151020101700069'
,'C20151020101700070'
,'C20151020101700071'
,'C20151020101700072'
,'C20151020101700073'
,'C20151020101700074'
,'C20151020101700075'
,'C20151020101700076'
,'C20151020101700077'
,'C20151020101700078'
,'C20151020101700079'
,'C20151020101700080'
,'C20151020101700081'
)




( ''
,'C20151018101700006'
,'C20151019101700010'
,'C20151020101700084'
,'C20151020101700085'
,'C20151020101700086'
,'C20151020101700087'
,'C20151020101700088'
,'C20151020101700089'
,'C20151020101700090'
,'C20151020101700091'
,'C20151020101700092'
,'C20151020101700093'
,'C20151020101700094'
,'C20151020101700095'
,'C20151020101700096'
,'C20151020101700097'
,'C20151020101700098'
,'C20151020101700099'
,'C20151020101700100'
,'C20151104101711496'
,'C20151104111711504'
,'C20151021101700103'
,'C20151021101700104'
,'C20151021101700106'
,'C20151021101700107'
,'C20151021101700108'
,'C20151021101700109'
,'C20151021101700110'
,'C20151021101700111'
,'C20151021101700112'
,'C20151021101700113'
,'C20151021101700114'
,'C20151021101700115'
,'C20151021101700116'
,'C20151021101700117'
,'C20151021101700118'
,'C20151021101700119'
,'C20151021101700120'
,'C20151021101700121'
,'C20151021101700122'
,'C20151021101700123'
,'C20151021101700124'
,'C20151021101700125'
,'C20151021101700126'
,'C20151021101700127'
,'C20151021101700128'
,'C20151021101700129'
,'C20151021000000130'
,'C20151021101700131'
,'C20151021101700132'
,'C20151021101700133'
,'C20151021101700134'
,'C20151021101700135'
,'C20151021101700137'
,'C20151021101700138'
,'C20151021101700139'
,'C20151021101700140'
,'C20151021101700141'
,'C20151021101700142'
,'C20151021101700143'
,'C20151021101700144'
,'C20151021101700145'
,'C20151021101700146'
,'C20151021101700147'
,'C20151021101700148'
,'C20151021101700149'
,'C20151021101700150'
,'C20151021101700151'
,'C20151021101700152'
,'C20151022101700153'
,'C20151022101700154'
,'C20151022101711123'
,'C20151022101711124'
,'C20151022101711125'
,'C20151022101711126'
,'C20151022101711127'
,'C20151022101711128'
,'C20151022101711130'
,'C20151022101711131'
,'C20151022101711132'
,'C20151022101711133'
,'C20151022101711134'
,'C20151022101711135'
,'C20151022101711136'
,'C20151022101711137'
,'C20151022101711138'
,'C20151022101711139'
,'C20151022101711140'
,'C20151022101711141'
,'C20151022101711142'
,'C20151022101711143'
,'C20151022101711144'
,'C20151022101711145'
,'C20151023101711146'
,'C20151023101711147'
,'C20151023101711149'
,'C20151023101711151'
,'C20151023101711153'
,'C20151023101711154'
,'C20151023101711155'
,'C20151023101711156'
,'C20151023101711157'
,'C20151023101711158'
,'C20151023101711159'
,'C20151024101711160'
,'C20151024101711161'
,'C20151024101711162'
,'C20151025101711163'
,'C20151025101711165'
,'C20151025101711166'
,'C20151025101711169'
,'C20151025101711172'
,'C20151026101711173'
,'C20151026101711174'
,'C20151026101711175'
,'C20151026101711176'
,'C20151026101711177'
,'C20151026101711178'
,'C20151026101711179'
,'C20151026101711180'
,'C20151026101711181'
,'C20151026101711182'
,'C20151026101711183'
,'C20151026101711184'
,'C20151026101711185'
,'C20151026101711186'
,'C20151026101711187'
,'C20151026101711188'
,'C20151026101711189'
,'C20151026101711190'
,'C20151026101711191'
,'C20151026101711192'
,'C20151026101711193'
,'C20151026101711194'
,'C20151026101711195'
,'C20151026101711196'
,'C20151026101711197'
,'C20151026101711198'
,'C20151026101711199'
,'C20151026101711200'
,'C20151026101711201'
,'C20151026101711202'
,'C20151026101711203'
,'C20151026101711204'
,'C20151026101711205'
,'C20151026101711206'
,'C20151026101711207'
,'C20151026101711208'
,'C20151026101711209'
,'C20151026101711210'
,'C20151026101711211'
,'C20151026101711214'
,'C20151026101711215'
,'C20151026101711225'
,'C20151026101711226'
,'C20151026101711227'
,'C20151026101711228'
,'C20151026101711229'
,'C20151026101711230'
,'C20151026101711231'
,'C20151026101711232'
,'C20151026101711233'
,'C20151026101711234'
,'C20151026101711235'
,'C20151026101711236'
,'C20151026101711237'
,'C20151026101711238'
,'C20151026101711239'
,'C20151026101711240'
,'C20151026101711241'
,'C20151026101711242'
,'C20151026101711243'
,'C20151026101711244'
,'C20151026101711245'
,'C20151026101711246'
,'C20151026101711247'
,'C20151026101711248'
,'C20151026101711249'
,'C20151026101711250'
,'C20151026101711251'
,'C20151026101711252'
,'C20151026101711253'
,'C20151026101711254'
,'C20151026101711255'
,'C20151026101711256'
,'C20151026101711257'
,'C20151026101711258'
,'C20151026101711259'
,'C20151026101711260'
,'C20151026101711261'
,'C20151026101711262'
,'C20151026101711263'
,'C20151026101711264'
,'C20151026101711265'
,'C20151026101711266'
,'C20151026101711267'
,'C20151026101711268'
,'C20151026101711269'
,'C20151026101711270'
,'C20151026101711271'
,'C20151026101711272'
,'C20151027101711273'
,'C20151027101711274'
,'C20151027101711275'
,'C20151027101711276'
,'C20151027101711277'
,'C20151027101711278'
,'C20151027101711279'
,'C20151027101711280'
,'C20151027101711281'
,'C20151027101711282'
,'C20151027101711283'
,'C20151027101711284'
,'C20151027101711285'
,'C20151027101711286'
,'C20151027101711287'
,'C20151027101711288'
,'C20151027101711289'
,'C20151027101711290'
,'C20151027101711291'
,'C20151027101711292'
,'C20151027101711293'
,'C20151027101711294'
,'C20151027101711295'
,'C20151027101711296'
,'C20151027101711297'
,'C20151027101711298'
,'C20151027101711299'
,'C20151027101711300'
,'C20151027101711301'
,'C20151027101711302'
,'C20151027101711303'
,'C20151027101711304'
,'C20151027101711305'
,'C20151027101711306'
,'C20151027101711307'
,'C20151027101711308'
,'C20151027101711309'
,'C20151027103811310'
,'C20151027101711311'
,'C20151027101711312'
,'C20151027101711313'
,'C20151027101711314'
,'C20151027101711315'
,'C20151027101711316'
,'C20151027101711317'
,'C20151027101711318'
,'C20151027101711319'
,'C20151027101711320'
,'C20151027101711321'
,'C20151027101711322'
,'C20151027101711323'
,'C20151027101711324'
,'C20151027101711325'
,'C20151027101711326'
,'C20151027101711327'
,'C20151027101711328'
,'C20151027101711329'
,'C20151027101711330'
,'C20151028103811331'
,'C20151028101711332'
,'C20151028101711333'
,'C20151028101711334'
,'C20151028101711335'
,'C20151028101711336'
,'C20151028101711337'
,'C20151028103811338'
,'C20151028101711339'
,'k20151028101711340'
,'C20151028101711340'
,'C20151028101711341'
,'C20151028101711342'
,'C20151028101711343'
,'C20151028103811344'
,'C20151028103811345'
,'C20151028101711346'
,'C20151028101711347'
,'C20151028000011348'
,'C20151028101711349'
,'C20151028101711350'
,'C20151028101711351'
,'C20151029101711352'
,'C20151029101711353'
,'C20151029101711354'
,'C20151029101711355'
,'C20151029101711356'
,'C20151029101711357'
,'C20151029101711358'
,'C20151029101711359'
,'C20151029101711360'
,'C20151029101711361'
,'C20151029103800001'
,'C20151029103811362'
,'C20151029101711363'
,'C20151029103811364'
,'C20151029101711365'
,'C20151029103811366'
,'C20151029101711367'
,'C20151029101711368'
,'C20151029101711369'
,'C20151029101711370'
,'H20151029000002001'
,'C20151030101711371'
,'C20151030101711372'
,'C20151030101711373'
,'C20151030101711374'
,'C20151030101711375'
,'C20151030101711376'
,'C20151030101711377'
,'C20151030101711378'
,'C20151030101711379'
,'C20151030101711380'
,'C20151030101711381'
,'C20151030000011382'
,'C20151030101711383'
,'C20151030101711384'
,'C20151030101711385'
,'C20151030101711386'
,'C20151030101711387'
,'C20151030101711388'
,'C20151030101711389'
,'C20151030103811391'
,'C20151030103811392'
,'C20151030101711393'
,'C20151030101711394'
,'C20151030101711395'
,'C20151030101711396'
,'C20151030101711397'
,'C20151030101711398'
,'C20151030101711399'
)


(''
, 'C20151019101700013'
, 'C20151019101700014'
, 'C20151019101700015'
, 'C20151023101711148'
, 'C20151023101711150'
, 'C20151025101711164'
, 'C20151025101711167'
, 'C20151025101711168'
, 'C20151025101711170'
, 'C20151025101711171'
, 'C20151026101711212'
, 'C20151026101711213'
, 'C20151026101711216'
, 'C20151026101711217'
, 'C20151026101711218'
, 'C20151026101711219'
, 'C20151026101711220'
, 'C20151026101711221'
, 'C20151026101711222'
, 'C20151026101711223'
, 'C20151026101711224'
, 'C20151031101711400'
, 'C20151101101711403'
, 'C20151102101711405'
, 'C20151102101711406'
, 'C20151102101711407'
, 'C20151102101711408'
, 'C20151102101711409'
, 'C20151102103811410'
, 'C20151103101711461'
, 'C20151103101711457'
, 'C20151103101711463'
, 'C20151102101711411'
, 'C20151103101711460'
, 'C20151102103811412'
, 'C20151102101711413'
, 'C20151102101711414'
, 'C20151102103811415'
, 'C20151102101711416'
, 'C20151102103811417'
, 'C20151102101711418'
, 'C20151102101711419'
, 'C20151102103811420'
, 'C20151102103811421'
, 'C20151102103811422'
, 'C20151102103811424'
, 'C20151102101711425'
, 'C20151102101711426'
, 'C20151103101711458'
, 'C20151104101711474'
, 'C20151102101711428'
, 'C20151103103811429'
, 'C20151103101711430'
, 'C20151103103811431'
, 'C20151103103811432'
, 'C20151103103811433'
, 'C20151103101711435'
, 'C20151103101711438'
, 'C20151103101711439'
, 'C20151103103811440'
, 'C20151103103811441'
, 'C20151103101711442'
, 'C20151103101711443'
, 'C20151103101711444'
, 'C20151103101711445'
, 'C20151103101711446'
, 'C20151103101711447'
, 'C20151103103811448'
, 'C20151103103811449'
, 'C20151103101711450'
, 'C20151103101711452'
, 'C20151103101711453'
, 'C20151103101711454'
, 'C20151103101711455'
, 'C20151103101711456'
, 'C20151103101711459'
, 'C20151103101711462'
, 'C20151103101711464'
, 'C20151103102011465'
, 'C20151103102011466'
, 'C20151103101711467'
, 'C20151103101711468'
, 'C20151103101711469'
, 'C20151103101711471'
, 'C20151104101711477'
, 'C20151104101711479'
, 'C20151104101711480'
, 'C20151104101711481'
, 'C20151104101711482'
, 'C20151104103811483'
, 'C20151104103811484'
, 'C20151104103811485'
, 'C20151104101711486'
, 'C20151104101711487'
, 'C20151104101711488'
, 'C20151104101711489'
, 'C20151104101711490'
, 'C20151104111711491'
, 'C20151104101711493'
, 'C20151104101711494'
, 'C20151104111711495'
, 'C20151104101711497'
, 'C20151104101711500'
, 'C20151104101711501'
, 'C20151104101711502'
, 'C20151104111711506'
, 'C20151105101711508'
, 'C20151105101711509'
, 'C20151105101711510'
, 'C20151105101711511'
, 'C20151105101711512'
, 'C20151105101711513'
, 'C20151105101711514'
, 'C20151105101711515'
, 'C20151105101711516'
, 'C20151105101711517'
, 'C20151105101711518'
, 'C20151105101711519'
, 'C20151105101711520'
, 'C20151105101711521'
, 'C20151105101711522'
, 'C20151105101711523'
, 'C20151105102011524'
, 'C20151105102711525'
, 'C20151105101711527'
, 'C20151105101711528'
, 'C20151105101711529'
)

----------------------------------------------------------------------------------------------------

(''
,'C20151012101711121'
,'C20151018101711122'
,'C20151001101711119'
,'C20151014101700300'
)


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ Connection Pool ]


    [ Tomcat Connection Pool (JNDI) ]

    tomcat > conf > context.xml

        <Context>
            <WatchedResource> WEB-INF/web.xml </WatchedResource>

            // Oracle
            <Resource name="jdbc/vip125_ora"
                auth="Container"
                type="javax.sql.DataSource"
                driverClassName="oracle.jdbc.driver.OracleDriver"
                username="id"
                password="pwd"
                url="jdbc:oracle:thin:@localhost(ip):1521:db_name"
                validationQuery="SELECT 1 AS A  FROM DUAL"
                testWhileIdle="true"
                validationInterval="60000"
                maxActive="50"
                maxIdle="10"
                maxWait="-1"
                minIdle="0"/>

            // MySQL
            <Resource name="jdbc/vip123_my"
                auth="Container"
                type="javax.sql.DataSource"
                driverClassName="com.mysql.jdbc.Driver"
                username="id"
                password="pwd"
                url="jdbc:mysql://localhost(ip):3306/db_name"
                validationQuery="SELECT 1 AS A FROM DUAL"
                testWhileIdle="true"
                validationInterval="60000"
                maxActive="50"
                maxIdle="10"
                maxWait="-1"
                minIdle="0"/>
        </Context>

    Web Root > WEB-INF > web.xml

        <web-app xmlns="http://java.sun.com/xml/ns/javaee"....>

            // Oracle
            <resource-ref>
                <description>vip125_conn</description>
                <res-ref-name>jdbc/vip125_ora</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>

            // MySQL
            <resource-ref>
                <description>vip125_conn</description>
                <res-ref-name>jdbc/vip125_my</res-ref-name>
                <res-type>javax.sql.DataSource</res-type>
                <res-auth>Container</res-auth>
            </resource-ref>

            // 아래 로직 위에 추가해야됨
            <description>
                Welcome to Tomcat
            </description>

        </web-app>

    DB Connection (DBCP)

        Context context = new InitialContext();
        DataSource dataSource = (DataSource) context.lookup("java:comp/env/jdbc/vip125_ora");
        Connection conn = dataSource.getConnection();

        * driverClassName의 경우 import된 jar 파일에 맞게 설정해준다.



----------------------------------------------------------------------------------------------------

    위와 같은 web.xml, server.xml(혹은 context.xml)의 <resource> 부분을 바꿔주면
    commonDBCP 가 아닌 tomcatDBCP를 사용하게 된다.

        <Resource name="jndi_dbcp"
            auth="Container"
            type="javax.sql.DataSource"
            factory="org.apache.tomcat.jdbc.pool.DataSourceFactory"
            testWhileIdle="true"
            testOnBorrow="true"
            testOnReturn="false"
            validationQuery="SELECT 1"
            validationInterval="30000"
            timeBetweenEvictionRunsMillis="30000"
            maxActive="100"
            minIdle="10"
            maxWait="10000"
            initialSize="10"
            removeAbandonedTimeout="60"
            removeAbandoned="true"
            logAbandoned="true"
            minEvictableIdleTimeMillis="30000"
            jmxEnabled="true"
            jdbcInterceptors="org.apache.tomcat.jdbc.pool.interceptor.ConnectionState;org.apache.tomcat.jdbc.pool.interceptor.StatementFinalizer"
            username="user"
            password="pass"
            driverClassName="com.mysql.jdbc.Driver"
            url="jdbc:mysql://localhost:3306/jdni_dbcp?autoReconnect=true"/>

----------------------------------------------------------------------------------------------------
[ Tomcat DBCP(DataBase Connection Pool) }

    톰캣에서 제공되는 DBCP입니다. 기존의 apache commons에서 제공되는 DBCP보다 향상된 DBCP입니다.
    기존 사용하는 apache commons의 DBCP와 사용법은 유사합니다.

    기존에는 아래의 라이브러리 파일등을 톰캣의 lib폴더에 차가하여 설정해야 했지만

        commons-dbcp-1.2.1.jar
        commons-pool-1.2.jar
        commons-collections-3.1.jar
        ...

    톰캣 6.0 이후 버전부터는 lib폴더에 tomcat-dbcp.jar라는 이름으로 통합되어 좀더 간편하고 강력하게
    DBCP를 사용할 수 있습니다.

    1. 톰캣의 server.xml 파일에 <Context> 부분 아래에 다음의 소스를 추가해줍니다.

        <Context docBase="....>
            <Resource name="jdbc/nyakao"
                auth="Container"
                type="javax.sql.DataSource"
                driverClassName="oracle.jdbc.driver.OracleDriver"
                url="jdbc:oracle:thin:@url:port:sid"
                username="user"
                password="pass"
                loginTimeout="10"
                maxActive="100"
                maxIdle="30"
                maxWait="10"/>
        </Context>

    2. web.xml 파일에서 server.xml에서 정의한 리소스를 사용하기 위해 설정합니다.

        <resource-ref>
            <description>오라클 DBCP 예제</description>
            <res-ref-name>jdbc/nyakao</res-ref-name>
            <res-type>javax.sql.DataSource</res-type>
            <res-auth>Container</res-auth>
        </resource-ref>

    3. tomcat을 재시작한다.

    4. 서브릿에서 아래와 같이 DataSource를 사용한다.

        DataSource ds;

        try {
            Context initContext = new InitialContext();
            Context envContext = (Context)initContext.lookup("java:/comp/env");
            DataSource ds = (DataSource) envContext.lookup("jdbc/nyakao");
            Connection conn = ds.getConnection();
        } catch (Exception e) {
            e.printStackTrace();
        }





----------------------------------------------------------------------------------------------------

Tomcat 6.0
jdk 6.0
Mysql 5.0
툴은 이클립스 사용중입니다.
프로젝트 생성은 Dynamic Web project로 했습니다.

제가 지금 밑에와 같은 에러가 뜹니다.
javax.naming.NoInitialContextException: Need to specify class name in environment or system property, or as an applet parameter, or in an application resource file:  java.naming.factory.initial
 at javax.naming.spi.NamingManager.getInitialContext(Unknown Source)
 at javax.naming.InitialContext.getDefaultInitCtx(Unknown Source)
 at javax.naming.InitialContext.getURLOrDefaultInitCtx(Unknown Source)
 at javax.naming.InitialContext.lookup(Unknown Source)
 at util.DBResource.getConnection(DBResource.java:17)
 at util.Test.main(Test.java:21)

프로젝트는 C:\Program Files\Apache Software Foundation\Tomcat 6.0\webapps\ROOT
에 위치에 있구요.
server.xml
<Host name="localhost"  appBase="webapps"
            unpackWARs="true" autoDeploy="true"
            xmlValidation="false" xmlNamespaceAware="false">
<Context path="" reloadable="true" docBase="/ROOT" >
<Resource
       name="jdbc/jkj"
       auth="Container"
       type="javax.sql.DataSource"
       driverClassName="com.mysql.jdbc.Driver"
       url="jdbc:mysql://localhost:3306/db"
       username="root"
       password="1234"
      />
</Context>
</host>

web.xml
<resource-ref>
     <description>MySQL</description>
     <res-ref-name>jdbc/jkj</res-ref-name>
     <res-type>javax.sql.DataSource</res-type>
     <res-auth>Container</res-auth>
  </resource-ref>

DBresource.java
package util;
import java.sql.*;
import javax.naming.Context;
import javax.naming.InitialContext;
import javax.naming.NamingException;
import org.apache.log4j.Logger;
public class DBResource {
 Logger log = Logger.getLogger(DBResource.class);

 public Connection getConnection() throws NamingException,SQLException{
  Context context = new InitialContext();
  Context env = (Context)context.lookup("java:comp/env");
  DataSource ds = (DataSource) env.lookup("jdbc/jkj");
  return ds.getConnection();
 }

 public void close(ResultSet rs,PreparedStatement pstmt, Connection con){
  try{
   if(rs != null) rs.close();
   if(pstmt !=null) pstmt.close();
   if((con != null) && (con.isClosed())) con.setAutoCommit(true);

  }catch(SQLException e){
   log.error(e.toString());
  }
 }
}

Test.java
package util;
import java.sql.*;
import util.DBResource;
public class Test {

 public static void main(String[] args) {
  // TODO Auto-generated method stub
  DBResource db = new DBResource();
  PreparedStatement pstmt = null;
  Connection con = null;
  ResultSet rs = null;

  try{
   con = db.getConnection();
  }catch (Exception e){
   e.printStackTrace();
  }finally{
   db.close(rs, pstmt, con);
  }
 }
}

소스는 위와 같습니다.
jsp  페이지에서는 이상없이 잘 나오는데 java에서 connection을 불러오면 위와 같은 에러가 발생하네요.
다 검색을 해보고 몇시간째 해보고 있는데 답이 안나와서 질문을 드립니다..
답변을  상세히 해주시면 감사하겠습니다..
그리고 ROOT 밑이 아닌 다른 디렉토리에 프로젝트를 생성하면 어떻게 설정을 해줘야 하는지도 알려주시면
감사하겠습니다.

----------------------------------------------------------------------------------------------------

org.ow2.carol.jndi.spi.MultiOrbInitialContextFactory [Root exception is java.lang.ClassNotFoundException: org.ow2.carol.jndi.spi.MultiOrbInitialContextFactory]

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 비상연락망 ]

안필재   C11758151  031880
강수영   C78751126  112644
오미현   C15343146  105902
윤지중   C78652160  125334
김현화   C85813008  126300
은호     C89547701  151642

105902,125334,126300,151642,

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

DOMAIN.01 = http://localhost:8080
DOMAIN.02 = http://matcmsmine01:8888
DOMAIN.03 = https://cms.emart.com:8343

PAGE.0001.001=10:/SASEMARTCMS/common/FF12060W.do?method=page

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW_DEV.CM_RSLT_ANLYSS_SMM   AS LOCKING TABLE CMSDATA_DEV.CM_RSLT_ANLYSS_SMM      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_RSLT_ANLYSS_SMM    );

REPLACE VIEW CMSVIEW.CM_RSLT_ANLYSS_SMM   AS LOCKING TABLE CMSDATA.CM_RSLT_ANLYSS_SMM      FOR ACCESS (SELECT * FROM CMSDATA.CM_RSLT_ANLYSS_SMM    );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

DROP TABLE CMSDATA_DEV.CM_TRGT_CNDTN;

CREATE SET TABLE CMSDATA_DEV.CM_TRGT_CNDTN ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      TRGT_CNDTN_CD VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건코드' NOT NULL,
      TRGT_CNDTN_TYP_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건분류명',
      TRGT_CNDTN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건명',
      DB_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '데이터베이스명',
      TBL_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테이블명',
      CLMN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '컬럼명',
      PRD_CLMN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '기간컬럼명',
      TRGT_CHC_GRP_NM VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건그룹명',
      SRT_SQ_NO DECIMAL(18,0) TITLE '정렬일련번호',
      CNDTN_CHC_MTHD_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '조건선택방법코드',
      REF_TRGT_CNDTN_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '필수참조타겟조건코드',
      RQRD_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '필수여부',
      MLT_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '멀티여부',
      EXCPT_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제외여부',
      MDFY_PSSBL_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수정가능여부',
      PRD_USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '기간사용여부',
      TRGT_CNDTN_USD_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '타겟조건사용시작일자',
      TRGT_CNDTN_USD_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '타겟조건사용종료일자',
      LGC_OPRTR_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '논리연산자구분코드',
      CMPRSN_OPRTR_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '비교연산자구분코드',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( TRGT_CNDTN_CD );


REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CNDTN   AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CNDTN      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CNDTN    );


----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW_DEV.CM_CUST_MST   AS LOCKING TABLE CMSDATA_DEV.CM_CUST_MST      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_MST    );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

drop table CMSDATA_DEV.CM_BST_CMPGN;

CREATE SET TABLE CMSDATA_DEV.CM_BST_CMPGN ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CMPGN_RNK INTEGER TITLE '순위',
      BST_CMPGN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '베스트캠페인시작일자',
      BST_CMPGN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '베스트캠페인종료일자',
      CHC_RSN_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '선정사유코드',
      CHC_RSN_ETC VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '기타선정사유',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO );


REPLACE VIEW CMSVIEW_DEV.CM_BST_CMPGN   AS LOCKING TABLE CMSDATA_DEV.CM_BST_CMPGN      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_BST_CMPGN    );


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


http://localhost:8080/SASEMARTCMS/branch/BB02012S.do?method=selectSimulation&cmpgn_no=C20151012101700243


http://localhost:8080/SASEMARTCMS/common/HH14062I.do?method=sendSMS&cmpgn_no=C20150914101700011&chnnl_no=SMS1017150916007&chnnl=SMS&str_id=0000


캠페인 기획
http://localhost:8080/SASEMARTCMS/branch/BB02006S.do?method=page


 타겟 대상자 조회(고객 대응용)
http://localhost:8080/SASEMARTCMS/admin/EE18037W.do?method=page





캠페인 요약 화면 (인쇄기능)
http://localhost:8090/SASEMARTCMS/branch/BB02023W.do?method=page

2015-09-17 사용자 테이블 변경 건  : OLAP_USER_CRM ->  TSVM.CMS_USER_CRM



점포사용자는 001810 / 11111111
관리자도 비번은 모두 11111111 입니다.


관리자

테스트시 필요한 정보 입니다.
테스트 고객 아이디
C78751126 --강수영
C11758151 -- 안필재
< 로그인 사용자>
관리자, ci
105902
125334
126300
ci 만
052613
117844

http://localhost:8080/SASEMARTCMS/common/loginChk.do?chrgpers_cd=001810&login_pwd=11111111
http://localhost:8080/SASEMARTCMS/common/loginChk.do?chrgpers_cd=105902&login_pwd=11111111

캠페인 현황 관리
http://localhost:8080/SASEMARTCMS/branch/AA01001W.do?method=page


#mms파일 업로드 위치
/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer2_1/sas_webapps/sas.emartcms.war/mfile

DB 인서트 시
https://cms.emart.com:8343/SASEMARTCMS/mfile/ + 채널번호_순번 + 첨부파일의 확장자

예제)
FL_1_PTH
https://cms.emart.com:8343/SASEMARTCMS/mfile/MMS1017150829001_001.png
FL_2_PTH
https://cms.emart.com:8343/SASEMARTCMS/mfile/MMS1017150829001_002.png
FL_3_PTH
https://cms.emart.com:8343/SASEMARTCMS/mfile/MMS1017150829001_003.png




#바코드mms 파일 업로드 위치
/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer2_1/sas_webapps/sas.emartcms.war/bfile

DB 인서트 시
TMP_FL_PTH
https://cms.emart.com:8343/SASEMARTCMS/bfile/ + 채널번호 + 첨부파일의 확장자
TMP_FL_NM
채널번호 + 첨부파일의 확장자

예제)
TMP_FL_PTH
https://cms.emart.com:8343/SASEMARTCMS/bfile/BMS1017150829001.zip
TMP_FL_NM
BMS1017150829001.zip




http://174.100.67.38:9090/SASEMARTCMS/common/FF12060W.do?method=loginChk&chrgpers_cd=001810&login_pwd=11111111


SMS : http://174.100.67.38:9090/SASEMARTCMS/branch/BB02024S.do?method=page
LMS : http://174.100.67.38:9090/SASEMARTCMS/branch/BB02025S.do?method=page
MMS : http://174.100.67.38:9090/SASEMARTCMS/branch/BB02026S.do?method=page
BMS : http://174.100.67.38:9090/SASEMARTCMS/branch/BB02027S.do?method=page
EML : http://174.100.67.38:9090/SASEMARTCMS/branch/BB02028S.do?method=page
APPPUSH(TXT) : http://174.100.67.38:9090/SASEMARTCMS/branch/BB02029S.do?method=page
APPPUSH(RICH) : http://174.100.67.38:9090/SASEMARTCMS/branch/BB02030S.do?method=page



H20151018000000001 본사

BB02023W

BB02023W

----------------------------------------------------------------------------------------------------
001810
105902

[ 첫화면 인증 ]
http://localhost:8080/SASEMARTCMS/branch/BB02006S.do?method=page

http://localhost:8080/SASEMARTCMS/common/FF12060W.do?method=loginChk&chrgpers_cd=001810&login_pwd=11111111

http://localhost:8080/SASEMARTCMS/common/FF12060W.do?method=loginChk&chrgpers_cd=105902&login_pwd=11111111

[ 승인화면 ]
http://localhost:8080/SASEMARTCMS/branch/BB02023W.do?method=page

http://localhost:8080/SASEMARTCMS/branch/BB02014S.do?method=page&cmpgn_no=C20151109101711498



http://localhost:8080/SASEMARTCMS/branch/BB02023W.do?method=page&cmpgn_no=C20151109101711498


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

drop table CMSDATA_DEV.CM_CMPGN_MST;

CREATE SET TABLE CMSDATA_DEV.CM_CMPGN_MST ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      CMPGN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인명',
      CMPGN_ANNTN VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인설명',
      CHNNL_ANNTN VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널설명',
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      CMPGN_MTHD_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인방법코드',
      TRGT_MTHD_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟팅방법코드',
      CMPGN_CTGRY_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인분류코드',
      CMPGN_CTGRY_SB_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인세분류코드',
      CHNNL_DVD_PLCY_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널배분정책사용여부',
      STR_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      CMPGN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '캠페인시작일자',
      CMPGN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '캠페인종료일자',
      CMPGN_STRT_TM VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인시작시간',
      CMPGN_END_TM VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인종료시간',
      CMPGN_RJCT_RSN VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인반려사유',
      CMPGN_OFFR_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼코드',
      CMPGN_OFFR_EXP DECIMAL(18,2) TITLE '캠페인오퍼비용',
      CMPGN_OFFR_EXP_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼비용구분코드',
      CMPGN_OFFR_PAY_DT DATE FORMAT 'YYYY-MM-DD' TITLE '캠페인오퍼지급일자',
      CMPGN_OFFR_EVNT_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼행사내용',
      CMPGN_PRDGFT_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인사은품명',
      EVNT_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사번호',
      EVNT_DESC VARCHAR(2000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사내용',
      CMPGN_PLCY_NO DECIMAL(18,0) TITLE '캠페인정책번호',
      THM_TRGT_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테마별타겟분류코드',
      THM_TRGT_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테마별타겟코드',
      SCCSS_CNDTN_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '성공조건코드',
      CMPGN_EXCT_RNK INTEGER TITLE '캠페인실행순위',
      CMPGN_RQST_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인요청자아이디',
      FNL_APPRVL_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '최종승인자아이디',
      FNL_APPRVL_DTTM TIMESTAMP(6) TITLE '최종승인일시',
      FNL_APPRVL_STS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '최종승인상태',
      CMPGN_TRGT_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인대상요청상태',
      CMPGN_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인제작요청상태',
      RSPS_RTO_US_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '반응율사용구분코드',
      EFF_ANAL_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '효과분석시작일자',
      EFF_ANAL_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '효과분석종료일자',
      TOPN DECIMAL(8,0) TITLE 'TOPN',
      CUST_CNT DECIMAL(8,0) TITLE '고객수',
      CUST_CNT_T DECIMAL(8,0) TITLE '고객수(TEST)',
      RE_TRGT_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '리타겟팅여부',
      GFT_SYS_REG_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사은품시스템등록여부',
      CMPGN_STEP VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인단계',
      SND_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송구분코드',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO );

REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_MST   AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_MST      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_MST    );



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

-------------------------------------------------------------------
SELECT
    *
FROM
    CMSVIEW_DEV.CM_CMPGN_MST A
WHERE 1=1
    AND A.CMPGN_NO LIKE 'C20151109%'
    AND A.CMPGN_NO LIKE 'C20151109101711498'
ORDER BY
    A.CMPGN_NO DESC
;
-------------------------------------------------------------------
SELECT
    *
FROM
    CMSVIEW_DEV.CM_CMPGN_EXCT A
WHERE 1=1
    AND A.CMPGN_NO LIKE 'C20151109%'
    AND A.CMPGN_NO LIKE 'C20151109101711498'
    --AND A.CHNNL_NO LIKE 'SMS1017151109263'
ORDER BY
    A.CMPGN_NO DESC
;
-------------------------------------------------------------------
SELECT
    *
FROM
    CMSVIEW_DEV.CM_CHNNL_SMS A
WHERE 1=1
    AND A.CHNNL_NO LIKE 'SMS____151109%'
    AND A.CHNNL_NO LIKE 'SMS1017151109263'
ORDER BY
    A.CHNNL_NO DESC
;
-------------------------------------------------------------------
SELECT
    *
FROM
    CMSVIEW_DEV.CM_CHNNL_LMS A
WHERE 1=1
    AND A.CHNNL_NO LIKE 'LMS____151109%'
    AND A.CHNNL_NO LIKE 'LMS1017151109464'
ORDER BY
    A.CHNNL_NO DESC
;
-------------------------------------------------------------------
SELECT
    *
FROM
    CMSVIEW_DEV.CM_CHNNL_APT A
WHERE 1=1
    AND A.CHNNL_NO LIKE 'APT____151109%'
    AND A.CHNNL_NO LIKE 'APT1017151109222'
ORDER BY
    A.CHNNL_NO DESC
;
-------------------------------------------------------------------
-------------------------------------------------------------------
-------------------------------------------------------------------


            SELECT  /* HH14065I.listCmpgnNoFromChnnlNo : TOP 1 */
                A.CMPGN_NO         AS CMPGN_NO
                , A.CHNNL_NO       AS CHNNL_NO
            FROM
                CMSVIEW_DEV.CM_CMPGN_EXCT A
            WHERE 1=1
                AND A.CHNNL_NO = 'SMS1017151109263'


-------------------------------------------------------------------

            SELECT     /* hh14065I.listPmsHeader */
                'BH'                           AS GUBUN
                , A.CMPGN_NO                   AS CMPGN_NO
                , B.CHNNL_NO                   AS CHNNL_NO
                , C.POS_STR_CODE               AS POS_STR_CODE
                , C.STR_ID                     AS STR_ID
                , C.STR_NM                     AS STR_NM
                , D.CHNNL_DESC                 AS CHNNL_DESC
                , TO_CHAR(D.CHNNL_RSV_SND_DTTM
                    , 'YYYYMMDDHH24MISS')      AS CHNNL_RSV_DTTM
                , D.STR_RPLY_NO                AS BRNCH_RPLY_NO
                , TO_CHAR(CURRENT_DATE
                    , 'YYYYMMDD')              AS TRNSFR_DTTM
                , NVL(D.RPLC_WRD_1, '')        AS RPLC_WRD_1
                , NVL(D.RPLC_WRD_2, '')        AS RPLC_WRD_2
                , NVL(D.RPLC_WRD_3, '')        AS RPLC_WRD_3
                , NVL(D.RPLC_WRD_4, '')        AS RPLC_WRD_4
                , NVL(D.RPLC_WRD_5, '')        AS RPLC_WRD_5
            FROM
                CMSVIEW_DEV.CM_CMPGN_MST    A
                , CMSVIEW_DEV.CM_CMPGN_EXCT B
                , TCVM.STORE                C  /* store table */
                , CMSVIEW_DEV.CM_CHNNL_SMS  D
            WHERE 1=1
                AND A.CMPGN_NO = 'C20151109101711498'
                AND B.CMPGN_NO = A.CMPGN_NO
                AND B.CHNNL_TYP_CD = 'SMS'
                AND C.STR_ID = A.STR_ID
                AND D.CHNNL_NO = B.CHNNL_NO


-------------------------------------------------------------------

            SELECT    /* hh14065I.listPmsBody */
                'BD'                               AS GUBUN
                , B.CUST_ID                        AS CUST_ID
                , CAST(COUNT(C.RECPT_ID) AS VARCHAR(20))                                 AS PUR_CNT
                , CAST(CAST(SUM(C.SALE_AMT - C.DISCNT_AMT) AS INTEGER) AS VARCHAR(20))   AS PUR_AMT
            FROM
                (
                    SELECT /* TOP 100 */
                        A.CMPGN_NO
                        , A.CUST_ID
                    FROM
                        CMSVIEW_DEV.CM_CMPGN_TRGT_CUST A
                    WHERE 1=1
                        AND A.CMPGN_NO = 'C20151109101711498'
                        /* AND A.CMPGN_NO LIKE 'C201510%' */
                        /* AND A.CHNNL_NO = 'SMS1017151014167' */
                        AND A.CHNNL_TYP_CD = 'SMS'
                ) B
                , TSVM.F_D_RECPT_PROD C   /* 영수증 table */
                , TSVM.D_STORE D          /* 점포정보 table */
            WHERE 1=1
                AND C.CUST_ID = B.CUST_ID
                AND C.SALE_DT BETWEEN (CURRENT_DATE - 30) AND CURRENT_DATE  /* 30일 안에 */
                AND D.STR_ID = C.STR_ID
                AND D.STR_FORMT_CD = '01'  /* 01:emart 02:traders 03:everyday 04:boons */
            GROUP BY
                B.CUST_ID
            ORDER BY
                B.CUST_ID


-------------------------------------------------------------------

-- 이마트 직원정보

SELECT DISTINCT
    MY_STR_ID
    , MY_STR_NM
    , EMP_NO
    , USER_NM
    , CUST_ID
FROM
    TCVM.STORE_EMP_CUST_ID
ORDER BY
    MY_STR_ID
    , EMP_NO

-------------------------------------------------------------------

            SELECT     /* hh14065I.listTestPmsBody-01 */
                'BD'                               AS GUBUN
                , D.CUST_ID                        AS CUST_ID
                , CAST(COUNT(E.RECPT_ID) AS VARCHAR(20))                                 AS PUR_CNT
                , CAST(CAST(SUM(E.SALE_AMT - E.DISCNT_AMT) AS INTEGER) AS VARCHAR(20))   AS PUR_AMT
            FROM
                TCVM.STORE_EMP_CUST_ID D   /* 직원정보 table */
                , TSVM.F_D_RECPT_PROD  E   /* 영수증 table   */
                , TSVM.D_STORE         F   /* 점포정보 table */
            WHERE 1=1
                AND D.EMP_NO IN ('001810','105902')
                AND E.CUST_ID = D.CUST_ID
                AND E.SALE_DT BETWEEN (CURRENT_DATE - 30) AND CURRENT_DATE  /* 30일 안에 */
                AND F.STR_ID = E.STR_ID
                AND F.STR_FORMT_CD = '01'  /* 01:emart 02:traders 03:everyday 04:boons */
            GROUP BY
                D.CUST_ID
            ORDER BY
                D.CUST_ID


-------------------------------------------------------------------

            SELECT     /* hh14065I.listTestPmsBody-00-OLD */
                'BD'                               AS GUBUN
                , D.CUST_ID                        AS CUST_ID
                , CAST(COUNT(E.RECPT_ID) AS VARCHAR(20))                                 AS PUR_CNT
                , CAST(CAST(SUM(E.SALE_AMT - E.DISCNT_AMT) AS INTEGER) AS VARCHAR(20))   AS PUR_AMT
            FROM
                (
                    SELECT
                        A.CMPGN_NO
                        , A.CHNNL_NO
                        , A.CHNNL_TYP_CD
                        , A.TST_GRP_CD
                        , B.TST_GRP_NM
                        , C.CUST_ID
                        , C.EMPLY_NO
                        , C.TESTER_NAME
                    FROM
                        CMSVIEW_DEV.CM_CMPGN_EXCT           A
                        , CMSVIEW_DEV.CM_CHNNL_TST_GRP      B
                        , CMSVIEW_DEV.CM_CHNNL_TST_GRP_CUST C
                    WHERE 1=1
                        AND A.CMPGN_NO = 'C20151109101711498'
                        AND A.CHNNL_TYP_CD = 'SMS'
                        AND B.TST_GRP_CD = A.TST_GRP_CD
                        AND C.TST_GRP_CD = A.TST_GRP_CD
                        AND C.CHNNL_TYP_CD = A.CHNNL_TYP_CD
                ) D
                , TSVM.F_D_RECPT_PROD  E   /* 영수증 table */
                , TSVM.D_STORE         F   /* 점포정보 table */
            WHERE 1=1
                AND E.CUST_ID = D.CUST_ID
                AND E.SALE_DT BETWEEN (CURRENT_DATE - 30) AND CURRENT_DATE  /* 30일 안에 */
                AND F.STR_ID = E.STR_ID
                AND F.STR_FORMT_CD = '01'  /* 01:emart 02:traders 03:everyday 04:boons */
            GROUP BY
                D.CUST_ID
            ORDER BY
                D.CUST_ID




----------------------------------------------------------------------------------------------------

                <iterate property="chnnlNoArr" open="AND CHNNL_NO NOT IN (" close=")" conjunction=",">
                    #chnnlNoArr[]#
                </iterate>

----------------------------------------------------------------------------------------------------
[ SMS ]

    즉시 : http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=transferSMS2Point&chnnl_no=SMS0000151104239&cmpgn_no=&chnnl_typ_cd=SMS&str_cd=1017&cust_id=&emp_no=001810,105902

    배치 : http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=transferSMS2Point&chnnl_no=SMS0000151104239&cmpgn_no=C20151109101711498&chnnl_typ_cd=SMS&str_cd=1017&cust_id=&emp_no=001810,105902


http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=transferSMS2Point&chnnl_no=SMS1017151109263&cmpgn_no=C20151109101711498&chnnl_typ_cd=SMS&str_cd=1017&cust_id=&emp_no=001810,105902

http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=transferSMS2Point&chnnl_no=SMS1017151109263&cmpgn_no=&chnnl_typ_cd=SMS&str_cd=1017&cust_id=&emp_no=001810,105902




http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=transferSMS2Point&cmpgn_no=C20151109101711498

http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=transferSMS2Point&cmpgn_no=

http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=transferSMS2Point


----------------------------------------------------------------------------------------------------

http://matcmsmine01:8888/SASEMARTCMS/common/HH14065I.do?method=transferSMS2Point&cmpgn_no=C20151109101711498&chnnl_no=SMS0000151104239&chnnl_typ_cd=SMS&str_cd=1017&cust_id=&emp_no=001810,105902

----------------------------------------------------------------------------------------------------

https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=transferSMS2Point&cmpgn_no=C20151109101711498&chnnl_no=SMS0000151104239&chnnl_typ_cd=SMS&str_cd=1017&cust_id=&emp_no=001810,105902

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------






























----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 2015.11.09 ]

1. 변경 테이블

    CM_BST_CMPGN

    CM_TRGT_CNDTN

CREATE TABLE CMSDATA_DEV.CM_BST_CMPGN_KANG_1109   AS CMSDATA.CM_BST_CMPGN   WITH DATA;
CREATE TABLE CMSDATA_DEV.CM_TRGT_CNDTN_KANG_1109  AS CMSDATA.CM_TRGT_CNDTN  WITH DATA;

SELECT COUNT(*) FROM CMSDATA.CM_BST_CMPGN ;  /* 3 */
SELECT COUNT(*) FROM CMSDATA.CM_TRGT_CNDTN;  /* 25 */

----------------------------------------------------------------------------------------------------

DROP TABLE CMSDATA.CM_BST_CMPGN;

CREATE SET TABLE CMSDATA.CM_BST_CMPGN ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CMPGN_RNK INTEGER TITLE '순위',
      BST_CMPGN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '베스트캠페인시작일자',
      BST_CMPGN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '베스트캠페인종료일자',
      CHC_RSN_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '선정사유코드',
      CHC_RSN_ETC VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '기타선정사유',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO );

REPLACE VIEW CMSVIEW.CM_BST_CMPGN   AS LOCKING TABLE CMSDATA.CM_BST_CMPGN      FOR ACCESS (SELECT * FROM CMSDATA.CM_BST_CMPGN    );



DROP TABLE CMSDATA.CM_TRGT_CNDTN;

CREATE SET TABLE CMSDATA.CM_TRGT_CNDTN ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      TRGT_CNDTN_CD VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건코드' NOT NULL,
      TRGT_CNDTN_TYP_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건분류명',
      TRGT_CNDTN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건명',
      DB_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '데이터베이스명',
      TBL_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테이블명',
      CLMN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '컬럼명',
      PRD_CLMN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '기간컬럼명',
      TRGT_CHC_GRP_NM VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟조건그룹명',
      SRT_SQ_NO DECIMAL(18,0) TITLE '정렬일련번호',
      CNDTN_CHC_MTHD_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '조건선택방법코드',
      REF_TRGT_CNDTN_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '필수참조타겟조건코드',
      RQRD_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '필수여부',
      MLT_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '멀티여부',
      EXCPT_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제외여부',
      MDFY_PSSBL_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수정가능여부',
      PRD_USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '기간사용여부',
      TRGT_CNDTN_USD_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '타겟조건사용시작일자',
      TRGT_CNDTN_USD_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '타겟조건사용종료일자',
      LGC_OPRTR_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '논리연산자구분코드',
      CMPRSN_OPRTR_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '비교연산자구분코드',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( TRGT_CNDTN_CD );

REPLACE VIEW CMSVIEW.CM_TRGT_CNDTN   AS LOCKING TABLE CMSDATA.CM_TRGT_CNDTN      FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CNDTN    );



----------------------------------------------------------------------------------------------------

INSERT INTO
    CMSDATA.CM_BST_CMPGN
SELECT
    CMPGN_NO
    , CMPGN_RNK
    , BST_CMPGN_STRT_DT
    , BST_CMPGN_END_DT
    , CHC_RSN_CD
    , ''
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_LST_UPDT_ID
    , SYS_FRST_OPRTN_ID
FROM
    CMSDATA.CM_BST_CMPGN_KANG_1109
;

----------------------------------------------------------------------------------------------------

INSERT INTO
    CMSDATA.CM_TRGT_CNDTN
SELECT
    TRGT_CNDTN_CD
    , TRGT_CNDTN_TYP_NM
    , TRGT_CNDTN_NM
    , DB_NM
    , TBL_NM
    , CLMN_NM
    , PRD_CLMN_NM
    , TRGT_CHC_GRP_NM
    , SRT_SQ_NO
    , CNDTN_CHC_MTHD_CD
    , REF_TRGT_CNDTN_CD
    , RQRD_YN
    , MLT_YN
    , EXCPT_YN
    , MDFY_PSSBL_YN
    , PRD_USE_YN
    , TRGT_CNDTN_USD_STRT_DT
    , TRGT_CNDTN_USD_END_DT
    , ''
    , ''
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_TRGT_CNDTN_KANG_1109
;

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW_DEV.CM_AMT_RSPNS_SMM                     AS LOCKING TABLE CMSDATA_DEV.CM_AMT_RSPNS_SMM                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_AMT_RSPNS_SMM                   );
REPLACE VIEW CMSVIEW_DEV.CM_BDSRCT_RSPNS_SMM                  AS LOCKING TABLE CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM                   FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM                );
REPLACE VIEW CMSVIEW_DEV.CM_BST_CMPGN                         AS LOCKING TABLE CMSDATA_DEV.CM_BST_CMPGN                          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_BST_CMPGN                       );
REPLACE VIEW CMSVIEW_DEV.CM_CARD_CO                           AS LOCKING TABLE CMSDATA_DEV.CM_CARD_CO                            FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CARD_CO                         );
REPLACE VIEW CMSVIEW_DEV.CM_CATCHMNT_INCRSS_RTO_SMM           AS LOCKING TABLE CMSDATA_DEV.CM_CATCHMNT_INCRSS_RTO_SMM            FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CATCHMNT_INCRSS_RTO_SMM         );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_ACHIVE_COMPRSM_SMM          AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_ACHIVE_COMPRSM_SMM           FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_ACHIVE_COMPRSM_SMM        );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_APR                         AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_APR                          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_APR                       );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_APT                         AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_APT                          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_APT                       );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_BMS                         AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_BMS                          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_BMS                       );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_DM                          AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_DM                           FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_DM                        );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_DVD_WGHT                    AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_DVD_WGHT                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_DVD_WGHT                  );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_EML                         AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_EML                          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_EML                       );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_LMS                         AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_LMS                          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_LMS                       );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_MMS                         AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_MMS                          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_MMS                       );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_PLCY                        AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_PLCY                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_PLCY                      );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_POS                         AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_POS                          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_POS                       );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_RMNS_CNT_BY_DAY             AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_RMNS_CNT_BY_DAY              FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_RMNS_CNT_BY_DAY           );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_RSPNS_SMM                   AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_RSPNS_SMM                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_RSPNS_SMM                 );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_SMS                         AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_SMS                          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_SMS                       );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_TST_GRP                     AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_TST_GRP                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_TST_GRP                   );
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_TST_GRP_CUST                AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_TST_GRP_CUST                 FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_TST_GRP_CUST              );
REPLACE VIEW CMSVIEW_DEV.CM_CMMN_CD                           AS LOCKING TABLE CMSDATA_DEV.CM_CMMN_CD                            FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMMN_CD                         );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_CHNNL                       AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_CHNNL                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_CHNNL                     );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_CTGRY                       AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_CTGRY                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_CTGRY                     );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_EXCT                        AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_EXCT                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_EXCT                      );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_HISTRY                      AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_HISTRY                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_HISTRY                    );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_MST                         AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_MST                          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_MST                       );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_OFFR                        AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_OFFR                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_OFFR                      );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_PLCY                        AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_PLCY                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_PLCY                      );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_REG                         AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_REG                          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_REG                       );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_REG_DTL                     AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_REG_DTL                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_REG_DTL                   );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_CD               AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_CD                FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_CD             );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_DTL              AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_DTL               FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_SCCS_CNDTN_DTL            );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_SIMUL_CUST                  AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_SIMUL_CUST                   FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_SIMUL_CUST                );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_TRGT_CHC                    AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CHC                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_TRGT_CHC                  );
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_TRGT_CUST                   AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_TRGT_CUST                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_TRGT_CUST                 );
REPLACE VIEW CMSVIEW_DEV.CM_CMTN_PLN                          AS LOCKING TABLE CMSDATA_DEV.CM_CMTN_PLN                           FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMTN_PLN                        );
REPLACE VIEW CMSVIEW_DEV.CM_CMTN_PLN_KSY                      AS LOCKING TABLE CMSDATA_DEV.CM_CMTN_PLN_KSY                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMTN_PLN_KSY                    );
REPLACE VIEW CMSVIEW_DEV.CM_CTGRY_ACHIVE_COMPRSM_SMM          AS LOCKING TABLE CMSDATA_DEV.CM_CTGRY_ACHIVE_COMPRSM_SMM           FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CTGRY_ACHIVE_COMPRSM_SMM        );
REPLACE VIEW CMSVIEW_DEV.CM_CTGY_INCRSS_RTO_SMM               AS LOCKING TABLE CMSDATA_DEV.CM_CTGY_INCRSS_RTO_SMM                FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CTGY_INCRSS_RTO_SMM             );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_FAV_CHNNL                    AS LOCKING TABLE CMSDATA_DEV.CM_CUST_FAV_CHNNL                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_FAV_CHNNL                  );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_GRADE                        AS LOCKING TABLE CMSDATA_DEV.CM_CUST_GRADE                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_GRADE                      );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_GRADE_TMP                    AS LOCKING TABLE CMSDATA_DEV.CM_CUST_GRADE_TMP                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_GRADE_TMP                  );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_MST                          AS LOCKING TABLE CMSDATA_DEV.CM_CUST_MST                           FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_MST                        );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_MST_TMP                      AS LOCKING TABLE CMSDATA_DEV.CM_CUST_MST_TMP                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_MST_TMP                    );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_RSPNS_SMM                    AS LOCKING TABLE CMSDATA_DEV.CM_CUST_RSPNS_SMM                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_RSPNS_SMM                  );
REPLACE VIEW CMSVIEW_DEV.CM_CUST_SCCSS_RSPNS_HSTRY            AS LOCKING TABLE CMSDATA_DEV.CM_CUST_SCCSS_RSPNS_HSTRY             FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CUST_SCCSS_RSPNS_HSTRY          );
REPLACE VIEW CMSVIEW_DEV.CM_DAY_VISIT_INCRSS_SMM              AS LOCKING TABLE CMSDATA_DEV.CM_DAY_VISIT_INCRSS_SMM               FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_DAY_VISIT_INCRSS_SMM            );
REPLACE VIEW CMSVIEW_DEV.CM_DIC_TBL                           AS LOCKING TABLE CMSDATA_DEV.CM_DIC_TBL                            FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_DIC_TBL                         );
REPLACE VIEW CMSVIEW_DEV.CM_DT_RSPNS_SMM                      AS LOCKING TABLE CMSDATA_DEV.CM_DT_RSPNS_SMM                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_DT_RSPNS_SMM                    );

REPLACE VIEW CMSVIEW_DEV.CM_ETLJOB_LOG                        AS LOCKING TABLE CMSDATA_DEV.CM_ETLJOB_LOG                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_ETLJOB_LOG                      );
REPLACE VIEW CMSVIEW_DEV.CM_ETLJOB_MAST                       AS LOCKING TABLE CMSDATA_DEV.CM_ETLJOB_MAST                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_ETLJOB_MAST                     );

REPLACE VIEW CMSVIEW_DEV.CM_HQ_RSLT_ANLYSS_SMM                AS LOCKING TABLE CMSDATA_DEV.CM_HQ_RSLT_ANLYSS_SMM                 FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_HQ_RSLT_ANLYSS_SMM              );
REPLACE VIEW CMSVIEW_DEV.CM_MON_VISIT_EXCSS_SMM               AS LOCKING TABLE CMSDATA_DEV.CM_MON_VISIT_EXCSS_SMM                FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_MON_VISIT_EXCSS_SMM             );
REPLACE VIEW CMSVIEW_DEV.CM_NTC                               AS LOCKING TABLE CMSDATA_DEV.CM_NTC                                FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_NTC                             );
REPLACE VIEW CMSVIEW_DEV.CM_OFFR_ACHIVE_COMPRSM_SMM           AS LOCKING TABLE CMSDATA_DEV.CM_OFFR_ACHIVE_COMPRSM_SMM            FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_OFFR_ACHIVE_COMPRSM_SMM         );
REPLACE VIEW CMSVIEW_DEV.CM_OFFR_EXP_INFO                     AS LOCKING TABLE CMSDATA_DEV.CM_OFFR_EXP_INFO                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_OFFR_EXP_INFO                   );
REPLACE VIEW CMSVIEW_DEV.CM_OFFR_SCCS_CNDTN                   AS LOCKING TABLE CMSDATA_DEV.CM_OFFR_SCCS_CNDTN                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_OFFR_SCCS_CNDTN                 );
REPLACE VIEW CMSVIEW_DEV.CM_RSLT_ANLYSS_SMM                   AS LOCKING TABLE CMSDATA_DEV.CM_RSLT_ANLYSS_SMM                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_RSLT_ANLYSS_SMM                 );
REPLACE VIEW CMSVIEW_DEV.CM_SCCSS_RSPNS_SMM                   AS LOCKING TABLE CMSDATA_DEV.CM_SCCSS_RSPNS_SMM                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_SCCSS_RSPNS_SMM                 );
REPLACE VIEW CMSVIEW_DEV.CM_SCCS_RSPNS_SMM                    AS LOCKING TABLE CMSDATA_DEV.CM_SCCS_RSPNS_SMM                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_SCCS_RSPNS_SMM                  );
REPLACE VIEW CMSVIEW_DEV.CM_SCHDL_HO                          AS LOCKING TABLE CMSDATA_DEV.CM_SCHDL_HO                           FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_SCHDL_HO                        );
REPLACE VIEW CMSVIEW_DEV.CM_SCHDL_HO_DTTM                     AS LOCKING TABLE CMSDATA_DEV.CM_SCHDL_HO_DTTM                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_SCHDL_HO_DTTM                   );
REPLACE VIEW CMSVIEW_DEV.CM_SCHDL_HO_SCCS_CNDTN_DTL           AS LOCKING TABLE CMSDATA_DEV.CM_SCHDL_HO_SCCS_CNDTN_DTL            FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_SCHDL_HO_SCCS_CNDTN_DTL         );
REPLACE VIEW CMSVIEW_DEV.CM_STORE_TEL                         AS LOCKING TABLE CMSDATA_DEV.CM_STORE_TEL                          FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_STORE_TEL                       );
REPLACE VIEW CMSVIEW_DEV.CM_STR                               AS LOCKING TABLE CMSDATA_DEV.CM_STR                                FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_STR                             );
REPLACE VIEW CMSVIEW_DEV.CM_STR_CHGR                          AS LOCKING TABLE CMSDATA_DEV.CM_STR_CHGR                           FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_STR_CHGR                        );
REPLACE VIEW CMSVIEW_DEV.CM_STR_DAY_SMM                       AS LOCKING TABLE CMSDATA_DEV.CM_STR_DAY_SMM                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_STR_DAY_SMM                     );
REPLACE VIEW CMSVIEW_DEV.CM_STR_EXP                           AS LOCKING TABLE CMSDATA_DEV.CM_STR_EXP                            FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_STR_EXP                         );
REPLACE VIEW CMSVIEW_DEV.CM_STR_GRADE_SMM                     AS LOCKING TABLE CMSDATA_DEV.CM_STR_GRADE_SMM                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_STR_GRADE_SMM                   );

REPLACE VIEW CMSVIEW_DEV.CM_STR_ADMIN_AREA_ADDRSS             AS LOCKING TABLE CMSDATA_DEV.CM_STR_ADMIN_AREA_ADDRSS              FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_STR_ADMIN_AREA_ADDRSS           );

REPLACE VIEW CMSVIEW_DEV.CM_TGT_CUST_RSPNS_HSTRY              AS LOCKING TABLE CMSDATA_DEV.CM_TGT_CUST_RSPNS_HSTRY               FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TGT_CUST_RSPNS_HSTRY            );
REPLACE VIEW CMSVIEW_DEV.CM_THM_TRGT                          AS LOCKING TABLE CMSDATA_DEV.CM_THM_TRGT                           FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_THM_TRGT                        );
REPLACE VIEW CMSVIEW_DEV.CM_THM_TRGT_CUST                     AS LOCKING TABLE CMSDATA_DEV.CM_THM_TRGT_CUST                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_THM_TRGT_CUST                   );
REPLACE VIEW CMSVIEW_DEV.CM_THM_TRGT_STR                      AS LOCKING TABLE CMSDATA_DEV.CM_THM_TRGT_STR                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_THM_TRGT_STR                    );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CNDTN                        AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CNDTN                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CNDTN                      );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CNDTN_BY_STR                 AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CNDTN_BY_STR                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CNDTN_BY_STR               );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CNDTN_INSTNC                 AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CNDTN_INSTNC                  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CNDTN_INSTNC               );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CUST_CHNNL_RSPNS             AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CUST_CHNNL_RSPNS              FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CUST_CHNNL_RSPNS           );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CUST_INFO                    AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CUST_INFO                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CUST_INFO                  );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CUST_OFFR_RSLT               AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CUST_OFFR_RSLT                FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CUST_OFFR_RSLT             );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_CUST_PRCHSE_INFO             AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_CUST_PRCHSE_INFO              FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_CUST_PRCHSE_INFO           );
REPLACE VIEW CMSVIEW_DEV.CM_TRGT_RQST_RSLT                    AS LOCKING TABLE CMSDATA_DEV.CM_TRGT_RQST_RSLT                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TRGT_RQST_RSLT                  );
REPLACE VIEW CMSVIEW_DEV.CM_TST_CHRGPERS                      AS LOCKING TABLE CMSDATA_DEV.CM_TST_CHRGPERS                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_TST_CHRGPERS                    );
REPLACE VIEW CMSVIEW_DEV.CM_WRD_RPLC                          AS LOCKING TABLE CMSDATA_DEV.CM_WRD_RPLC                           FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_WRD_RPLC                        );
REPLACE VIEW CMSVIEW_DEV.CM_YM_CHNNL_SMM                      AS LOCKING TABLE CMSDATA_DEV.CM_YM_CHNNL_SMM                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_CHNNL_SMM                    );
REPLACE VIEW CMSVIEW_DEV.CM_YM_CMPGN_EXP_SMM                  AS LOCKING TABLE CMSDATA_DEV.CM_YM_CMPGN_EXP_SMM                   FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_CMPGN_EXP_SMM                );
REPLACE VIEW CMSVIEW_DEV.CM_YM_CRRNT_OFFR                     AS LOCKING TABLE CMSDATA_DEV.CM_YM_CRRNT_OFFR                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_CRRNT_OFFR                   );
REPLACE VIEW CMSVIEW_DEV.CM_YM_CTGRY_SMM                      AS LOCKING TABLE CMSDATA_DEV.CM_YM_CTGRY_SMM                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_CTGRY_SMM                    );
REPLACE VIEW CMSVIEW_DEV.CM_YM_EXP_SMM                        AS LOCKING TABLE CMSDATA_DEV.CM_YM_EXP_SMM                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_EXP_SMM                      );
REPLACE VIEW CMSVIEW_DEV.CM_YM_MNTH_EXP_SMM                   AS LOCKING TABLE CMSDATA_DEV.CM_YM_MNTH_EXP_SMM                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_MNTH_EXP_SMM                 );
REPLACE VIEW CMSVIEW_DEV.CM_YM_OFFR_SMM                       AS LOCKING TABLE CMSDATA_DEV.CM_YM_OFFR_SMM                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_OFFR_SMM                     );
REPLACE VIEW CMSVIEW_DEV.CM_YM_RSLT_SMM                       AS LOCKING TABLE CMSDATA_DEV.CM_YM_RSLT_SMM                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_RSLT_SMM                     );
REPLACE VIEW CMSVIEW_DEV.CM_YM_SCCSS_SMM                      AS LOCKING TABLE CMSDATA_DEV.CM_YM_SCCSS_SMM                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_SCCSS_SMM                    );
REPLACE VIEW CMSVIEW_DEV.CM_YM_SCCS_SMM                       AS LOCKING TABLE CMSDATA_DEV.CM_YM_SCCS_SMM                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_SCCS_SMM                     );
REPLACE VIEW CMSVIEW_DEV.CM_YM_TOT_EXP_SMM                    AS LOCKING TABLE CMSDATA_DEV.CM_YM_TOT_EXP_SMM                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_TOT_EXP_SMM                  );
REPLACE VIEW CMSVIEW_DEV.CM_YM_YEAR_EXP_SMM                   AS LOCKING TABLE CMSDATA_DEV.CM_YM_YEAR_EXP_SMM                    FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_YM_YEAR_EXP_SMM                 );
REPLACE VIEW CMSVIEW_DEV.SIMUL_ANLYSS_CMPGN_INFO              AS LOCKING TABLE CMSDATA_DEV.SIMUL_ANLYSS_CMPGN_INFO               FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_ANLYSS_CMPGN_INFO            );
REPLACE VIEW CMSVIEW_DEV.SIMUL_CUST_6MON_SLS                  AS LOCKING TABLE CMSDATA_DEV.SIMUL_CUST_6MON_SLS                   FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_CUST_6MON_SLS                );
REPLACE VIEW CMSVIEW_DEV.SIMUL_CUST_PROFIL_SMM                AS LOCKING TABLE CMSDATA_DEV.SIMUL_CUST_PROFIL_SMM                 FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_CUST_PROFIL_SMM              );
REPLACE VIEW CMSVIEW_DEV.SIMUL_CUST_SMM                       AS LOCKING TABLE CMSDATA_DEV.SIMUL_CUST_SMM                        FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_CUST_SMM                     );
REPLACE VIEW CMSVIEW_DEV.SIMUL_EXP_SMM                        AS LOCKING TABLE CMSDATA_DEV.SIMUL_EXP_SMM                         FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_EXP_SMM                      );
REPLACE VIEW CMSVIEW_DEV.SIMUL_FORCST_SMM                     AS LOCKING TABLE CMSDATA_DEV.SIMUL_FORCST_SMM                      FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_FORCST_SMM                   );
REPLACE VIEW CMSVIEW_DEV.SIMUL_SIMUL_SMM                      AS LOCKING TABLE CMSDATA_DEV.SIMUL_SIMUL_SMM                       FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_SIMUL_SMM                    );
REPLACE VIEW CMSVIEW_DEV.SIMUL_STR_MAP_SMM                    AS LOCKING TABLE CMSDATA_DEV.SIMUL_STR_MAP_SMM                     FOR ACCESS (SELECT * FROM CMSDATA_DEV.SIMUL_STR_MAP_SMM                  );




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW.CM_AMT_RSPNS_SMM                    AS LOCKING TABLE CMSDATA.CM_AMT_RSPNS_SMM                        FOR ACCESS (SELECT * FROM CMSDATA.CM_AMT_RSPNS_SMM                     );
REPLACE VIEW CMSVIEW.CM_BDSRCT_RSPNS_SMM                 AS LOCKING TABLE CMSDATA.CM_BDSRCT_RSPNS_SMM                     FOR ACCESS (SELECT * FROM CMSDATA.CM_BDSRCT_RSPNS_SMM                  );
REPLACE VIEW CMSVIEW.CM_BST_CMPGN                        AS LOCKING TABLE CMSDATA.CM_BST_CMPGN                            FOR ACCESS (SELECT * FROM CMSDATA.CM_BST_CMPGN                         );
REPLACE VIEW CMSVIEW.CM_CARD_CO                          AS LOCKING TABLE CMSDATA.CM_CARD_CO                              FOR ACCESS (SELECT * FROM CMSDATA.CM_CARD_CO                           );
REPLACE VIEW CMSVIEW.CM_CATCHMNT_INCRSS_RTO_SMM          AS LOCKING TABLE CMSDATA.CM_CATCHMNT_INCRSS_RTO_SMM              FOR ACCESS (SELECT * FROM CMSDATA.CM_CATCHMNT_INCRSS_RTO_SMM           );
REPLACE VIEW CMSVIEW.CM_CHNNL_ACHIVE_COMPRSM_SMM         AS LOCKING TABLE CMSDATA.CM_CHNNL_ACHIVE_COMPRSM_SMM             FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_ACHIVE_COMPRSM_SMM          );
REPLACE VIEW CMSVIEW.CM_CHNNL_APR                        AS LOCKING TABLE CMSDATA.CM_CHNNL_APR                            FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APR                         );
REPLACE VIEW CMSVIEW.CM_CHNNL_APT                        AS LOCKING TABLE CMSDATA.CM_CHNNL_APT                            FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APT                         );
REPLACE VIEW CMSVIEW.CM_CHNNL_BMS                        AS LOCKING TABLE CMSDATA.CM_CHNNL_BMS                            FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_BMS                         );
REPLACE VIEW CMSVIEW.CM_CHNNL_DM                         AS LOCKING TABLE CMSDATA.CM_CHNNL_DM                             FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_DM                          );
REPLACE VIEW CMSVIEW.CM_CHNNL_DVD_WGHT                   AS LOCKING TABLE CMSDATA.CM_CHNNL_DVD_WGHT                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_DVD_WGHT                    );
REPLACE VIEW CMSVIEW.CM_CHNNL_EML                        AS LOCKING TABLE CMSDATA.CM_CHNNL_EML                            FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_EML                         );
REPLACE VIEW CMSVIEW.CM_CHNNL_LMS                        AS LOCKING TABLE CMSDATA.CM_CHNNL_LMS                            FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_LMS                         );
REPLACE VIEW CMSVIEW.CM_CHNNL_MMS                        AS LOCKING TABLE CMSDATA.CM_CHNNL_MMS                            FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_MMS                         );
REPLACE VIEW CMSVIEW.CM_CHNNL_PLCY                       AS LOCKING TABLE CMSDATA.CM_CHNNL_PLCY                           FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_PLCY                        );
REPLACE VIEW CMSVIEW.CM_CHNNL_POS                        AS LOCKING TABLE CMSDATA.CM_CHNNL_POS                            FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_POS                         );
REPLACE VIEW CMSVIEW.CM_CHNNL_RMNS_CNT_BY_DAY            AS LOCKING TABLE CMSDATA.CM_CHNNL_RMNS_CNT_BY_DAY                FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_RMNS_CNT_BY_DAY             );
REPLACE VIEW CMSVIEW.CM_CHNNL_RSPNS_SMM                  AS LOCKING TABLE CMSDATA.CM_CHNNL_RSPNS_SMM                      FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_RSPNS_SMM                   );
REPLACE VIEW CMSVIEW.CM_CHNNL_SMS                        AS LOCKING TABLE CMSDATA.CM_CHNNL_SMS                            FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_SMS                         );
REPLACE VIEW CMSVIEW.CM_CHNNL_TST_GRP                    AS LOCKING TABLE CMSDATA.CM_CHNNL_TST_GRP                        FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_TST_GRP                     );
REPLACE VIEW CMSVIEW.CM_CHNNL_TST_GRP_CUST               AS LOCKING TABLE CMSDATA.CM_CHNNL_TST_GRP_CUST                   FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_TST_GRP_CUST                );
REPLACE VIEW CMSVIEW.CM_CMMN_CD                          AS LOCKING TABLE CMSDATA.CM_CMMN_CD                              FOR ACCESS (SELECT * FROM CMSDATA.CM_CMMN_CD                           );
REPLACE VIEW CMSVIEW.CM_CMPGN_CHNNL                      AS LOCKING TABLE CMSDATA.CM_CMPGN_CHNNL                          FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_CHNNL                       );
REPLACE VIEW CMSVIEW.CM_CMPGN_CTGRY                      AS LOCKING TABLE CMSDATA.CM_CMPGN_CTGRY                          FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_CTGRY                       );
REPLACE VIEW CMSVIEW.CM_CMPGN_EXCT                       AS LOCKING TABLE CMSDATA.CM_CMPGN_EXCT                           FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_EXCT                        );
REPLACE VIEW CMSVIEW.CM_CMPGN_HISTRY                     AS LOCKING TABLE CMSDATA.CM_CMPGN_HISTRY                         FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_HISTRY                      );
REPLACE VIEW CMSVIEW.CM_CMPGN_MST                        AS LOCKING TABLE CMSDATA.CM_CMPGN_MST                            FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_MST                         );
REPLACE VIEW CMSVIEW.CM_CMPGN_OFFR                       AS LOCKING TABLE CMSDATA.CM_CMPGN_OFFR                           FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_OFFR                        );
REPLACE VIEW CMSVIEW.CM_CMPGN_PLCY                       AS LOCKING TABLE CMSDATA.CM_CMPGN_PLCY                           FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_PLCY                        );
REPLACE VIEW CMSVIEW.CM_CMPGN_REG                        AS LOCKING TABLE CMSDATA.CM_CMPGN_REG                            FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_REG                         );
REPLACE VIEW CMSVIEW.CM_CMPGN_REG_DTL                    AS LOCKING TABLE CMSDATA.CM_CMPGN_REG_DTL                        FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_REG_DTL                     );
REPLACE VIEW CMSVIEW.CM_CMPGN_SCCS_CNDTN_CD              AS LOCKING TABLE CMSDATA.CM_CMPGN_SCCS_CNDTN_CD                  FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_SCCS_CNDTN_CD               );
REPLACE VIEW CMSVIEW.CM_CMPGN_SCCS_CNDTN_DTL             AS LOCKING TABLE CMSDATA.CM_CMPGN_SCCS_CNDTN_DTL                 FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_SCCS_CNDTN_DTL              );
REPLACE VIEW CMSVIEW.CM_CMPGN_SIMUL_CUST                 AS LOCKING TABLE CMSDATA.CM_CMPGN_SIMUL_CUST                     FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_SIMUL_CUST                  );
REPLACE VIEW CMSVIEW.CM_CMPGN_TRGT_CHC                   AS LOCKING TABLE CMSDATA.CM_CMPGN_TRGT_CHC                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_TRGT_CHC                    );
REPLACE VIEW CMSVIEW.CM_CMPGN_TRGT_CUST                  AS LOCKING TABLE CMSDATA.CM_CMPGN_TRGT_CUST                      FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_TRGT_CUST                   );
REPLACE VIEW CMSVIEW.CM_CMTN_PLN                         AS LOCKING TABLE CMSDATA.CM_CMTN_PLN                             FOR ACCESS (SELECT * FROM CMSDATA.CM_CMTN_PLN                          );
REPLACE VIEW CMSVIEW.CM_CTGRY_ACHIVE_COMPRSM_SMM         AS LOCKING TABLE CMSDATA.CM_CTGRY_ACHIVE_COMPRSM_SMM             FOR ACCESS (SELECT * FROM CMSDATA.CM_CTGRY_ACHIVE_COMPRSM_SMM          );
REPLACE VIEW CMSVIEW.CM_CTGY_INCRSS_RTO_SMM              AS LOCKING TABLE CMSDATA.CM_CTGY_INCRSS_RTO_SMM                  FOR ACCESS (SELECT * FROM CMSDATA.CM_CTGY_INCRSS_RTO_SMM               );
REPLACE VIEW CMSVIEW.CM_CUST_FAV_CHNNL                   AS LOCKING TABLE CMSDATA.CM_CUST_FAV_CHNNL                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_FAV_CHNNL                    );
REPLACE VIEW CMSVIEW.CM_CUST_GRADE                       AS LOCKING TABLE CMSDATA.CM_CUST_GRADE                           FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_GRADE                        );
REPLACE VIEW CMSVIEW.CM_CUST_MST                         AS LOCKING TABLE CMSDATA.CM_CUST_MST                             FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_MST                          );
REPLACE VIEW CMSVIEW.CM_CUST_RSPNS_SMM                   AS LOCKING TABLE CMSDATA.CM_CUST_RSPNS_SMM                       FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_RSPNS_SMM                    );
REPLACE VIEW CMSVIEW.CM_CUST_SCCSS_RSPNS_HSTRY           AS LOCKING TABLE CMSDATA.CM_CUST_SCCSS_RSPNS_HSTRY               FOR ACCESS (SELECT * FROM CMSDATA.CM_CUST_SCCSS_RSPNS_HSTRY            );
REPLACE VIEW CMSVIEW.CM_DAY_VISIT_INCRSS_SMM             AS LOCKING TABLE CMSDATA.CM_DAY_VISIT_INCRSS_SMM                 FOR ACCESS (SELECT * FROM CMSDATA.CM_DAY_VISIT_INCRSS_SMM              );
REPLACE VIEW CMSVIEW.CM_DIC_TBL                          AS LOCKING TABLE CMSDATA.CM_DIC_TBL                              FOR ACCESS (SELECT * FROM CMSDATA.CM_DIC_TBL                           );
REPLACE VIEW CMSVIEW.CM_DT_RSPNS_SMM                     AS LOCKING TABLE CMSDATA.CM_DT_RSPNS_SMM                         FOR ACCESS (SELECT * FROM CMSDATA.CM_DT_RSPNS_SMM                      );

REPLACE VIEW CMSVIEW.CM_ETLJOB_LOG                       AS LOCKING TABLE CMSDATA.CM_ETLJOB_LOG                           FOR ACCESS (SELECT * FROM CMSDATA.CM_ETLJOB_LOG                        );
REPLACE VIEW CMSVIEW.CM_ETLJOB_MAST                      AS LOCKING TABLE CMSDATA.CM_ETLJOB_MAST                          FOR ACCESS (SELECT * FROM CMSDATA.CM_ETLJOB_MAST                       );

REPLACE VIEW CMSVIEW.CM_HQ_RSLT_ANLYSS_SMM               AS LOCKING TABLE CMSDATA.CM_HQ_RSLT_ANLYSS_SMM                   FOR ACCESS (SELECT * FROM CMSDATA.CM_HQ_RSLT_ANLYSS_SMM                );
REPLACE VIEW CMSVIEW.CM_MON_VISIT_EXCSS_SMM              AS LOCKING TABLE CMSDATA.CM_MON_VISIT_EXCSS_SMM                  FOR ACCESS (SELECT * FROM CMSDATA.CM_MON_VISIT_EXCSS_SMM               );
REPLACE VIEW CMSVIEW.CM_NTC                              AS LOCKING TABLE CMSDATA.CM_NTC                                  FOR ACCESS (SELECT * FROM CMSDATA.CM_NTC                               );
REPLACE VIEW CMSVIEW.CM_OFFR_ACHIVE_COMPRSM_SMM          AS LOCKING TABLE CMSDATA.CM_OFFR_ACHIVE_COMPRSM_SMM              FOR ACCESS (SELECT * FROM CMSDATA.CM_OFFR_ACHIVE_COMPRSM_SMM           );
REPLACE VIEW CMSVIEW.CM_OFFR_EXP_INFO                    AS LOCKING TABLE CMSDATA.CM_OFFR_EXP_INFO                        FOR ACCESS (SELECT * FROM CMSDATA.CM_OFFR_EXP_INFO                     );
REPLACE VIEW CMSVIEW.CM_OFFR_SCCS_CNDTN                  AS LOCKING TABLE CMSDATA.CM_OFFR_SCCS_CNDTN                      FOR ACCESS (SELECT * FROM CMSDATA.CM_OFFR_SCCS_CNDTN                   );
REPLACE VIEW CMSVIEW.CM_RSLT_ANLYSS_SMM                  AS LOCKING TABLE CMSDATA.CM_RSLT_ANLYSS_SMM                      FOR ACCESS (SELECT * FROM CMSDATA.CM_RSLT_ANLYSS_SMM                   );
REPLACE VIEW CMSVIEW.CM_SCCSS_RSPNS_SMM                  AS LOCKING TABLE CMSDATA.CM_SCCSS_RSPNS_SMM                      FOR ACCESS (SELECT * FROM CMSDATA.CM_SCCSS_RSPNS_SMM                   );
REPLACE VIEW CMSVIEW.CM_SCCS_RSPNS_SMM                   AS LOCKING TABLE CMSDATA.CM_SCCS_RSPNS_SMM                       FOR ACCESS (SELECT * FROM CMSDATA.CM_SCCS_RSPNS_SMM                    );
REPLACE VIEW CMSVIEW.CM_SCHDL_HO                         AS LOCKING TABLE CMSDATA.CM_SCHDL_HO                             FOR ACCESS (SELECT * FROM CMSDATA.CM_SCHDL_HO                          );
REPLACE VIEW CMSVIEW.CM_SCHDL_HO_DTTM                    AS LOCKING TABLE CMSDATA.CM_SCHDL_HO_DTTM                        FOR ACCESS (SELECT * FROM CMSDATA.CM_SCHDL_HO_DTTM                     );
REPLACE VIEW CMSVIEW.CM_SCHDL_HO_SCCS_CNDTN_DTL          AS LOCKING TABLE CMSDATA.CM_SCHDL_HO_SCCS_CNDTN_DTL              FOR ACCESS (SELECT * FROM CMSDATA.CM_SCHDL_HO_SCCS_CNDTN_DTL           );
REPLACE VIEW CMSVIEW.CM_STORE_TEL                        AS LOCKING TABLE CMSDATA.CM_STORE_TEL                            FOR ACCESS (SELECT * FROM CMSDATA.CM_STORE_TEL                         );
REPLACE VIEW CMSVIEW.CM_STR                              AS LOCKING TABLE CMSDATA.CM_STR                                  FOR ACCESS (SELECT * FROM CMSDATA.CM_STR                               );
REPLACE VIEW CMSVIEW.CM_STR_CHGR                         AS LOCKING TABLE CMSDATA.CM_STR_CHGR                             FOR ACCESS (SELECT * FROM CMSDATA.CM_STR_CHGR                          );
REPLACE VIEW CMSVIEW.CM_STR_DAY_SMM                      AS LOCKING TABLE CMSDATA.CM_STR_DAY_SMM                          FOR ACCESS (SELECT * FROM CMSDATA.CM_STR_DAY_SMM                       );
REPLACE VIEW CMSVIEW.CM_STR_EXP                          AS LOCKING TABLE CMSDATA.CM_STR_EXP                              FOR ACCESS (SELECT * FROM CMSDATA.CM_STR_EXP                           );
REPLACE VIEW CMSVIEW.CM_STR_GRADE_SMM                    AS LOCKING TABLE CMSDATA.CM_STR_GRADE_SMM                        FOR ACCESS (SELECT * FROM CMSDATA.CM_STR_GRADE_SMM                     );

REPLACE VIEW CMSVIEW.CM_STR_ADMIN_AREA_ADDRSS            AS LOCKING TABLE CMSDATA.CM_STR_ADMIN_AREA_ADDRSS                FOR ACCESS (SELECT * FROM CMSDATA.CM_STR_ADMIN_AREA_ADDRSS             );

REPLACE VIEW CMSVIEW.CM_TGT_CUST_RSPNS_HSTRY             AS LOCKING TABLE CMSDATA.CM_TGT_CUST_RSPNS_HSTRY                 FOR ACCESS (SELECT * FROM CMSDATA.CM_TGT_CUST_RSPNS_HSTRY              );
REPLACE VIEW CMSVIEW.CM_THM_TRGT                         AS LOCKING TABLE CMSDATA.CM_THM_TRGT                             FOR ACCESS (SELECT * FROM CMSDATA.CM_THM_TRGT                          );
REPLACE VIEW CMSVIEW.CM_THM_TRGT_CUST                    AS LOCKING TABLE CMSDATA.CM_THM_TRGT_CUST                        FOR ACCESS (SELECT * FROM CMSDATA.CM_THM_TRGT_CUST                     );
REPLACE VIEW CMSVIEW.CM_THM_TRGT_STR                     AS LOCKING TABLE CMSDATA.CM_THM_TRGT_STR                         FOR ACCESS (SELECT * FROM CMSDATA.CM_THM_TRGT_STR                      );
REPLACE VIEW CMSVIEW.CM_TRGT_CNDTN                       AS LOCKING TABLE CMSDATA.CM_TRGT_CNDTN                           FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CNDTN                        );
REPLACE VIEW CMSVIEW.CM_TRGT_CNDTN_BY_STR                AS LOCKING TABLE CMSDATA.CM_TRGT_CNDTN_BY_STR                    FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CNDTN_BY_STR                 );
REPLACE VIEW CMSVIEW.CM_TRGT_CNDTN_INSTNC                AS LOCKING TABLE CMSDATA.CM_TRGT_CNDTN_INSTNC                    FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CNDTN_INSTNC                 );
REPLACE VIEW CMSVIEW.CM_TRGT_CUST_CHNNL_RSPNS            AS LOCKING TABLE CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS                FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS             );
REPLACE VIEW CMSVIEW.CM_TRGT_CUST_INFO                   AS LOCKING TABLE CMSDATA.CM_TRGT_CUST_INFO                       FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CUST_INFO                    );
REPLACE VIEW CMSVIEW.CM_TRGT_CUST_OFFR_RSLT              AS LOCKING TABLE CMSDATA.CM_TRGT_CUST_OFFR_RSLT                  FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CUST_OFFR_RSLT               );
REPLACE VIEW CMSVIEW.CM_TRGT_CUST_PRCHSE_INFO            AS LOCKING TABLE CMSDATA.CM_TRGT_CUST_PRCHSE_INFO                FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_CUST_PRCHSE_INFO             );
REPLACE VIEW CMSVIEW.CM_TRGT_RQST_RSLT                   AS LOCKING TABLE CMSDATA.CM_TRGT_RQST_RSLT                       FOR ACCESS (SELECT * FROM CMSDATA.CM_TRGT_RQST_RSLT                    );
REPLACE VIEW CMSVIEW.CM_TST_CHRGPERS                     AS LOCKING TABLE CMSDATA.CM_TST_CHRGPERS                         FOR ACCESS (SELECT * FROM CMSDATA.CM_TST_CHRGPERS                      );
REPLACE VIEW CMSVIEW.CM_WRD_RPLC                         AS LOCKING TABLE CMSDATA.CM_WRD_RPLC                             FOR ACCESS (SELECT * FROM CMSDATA.CM_WRD_RPLC                          );
REPLACE VIEW CMSVIEW.CM_YM_CHNNL_SMM                     AS LOCKING TABLE CMSDATA.CM_YM_CHNNL_SMM                         FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_CHNNL_SMM                      );
REPLACE VIEW CMSVIEW.CM_YM_CMPGN_EXP_SMM                 AS LOCKING TABLE CMSDATA.CM_YM_CMPGN_EXP_SMM                     FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_CMPGN_EXP_SMM                  );
REPLACE VIEW CMSVIEW.CM_YM_CRRNT_OFFR                    AS LOCKING TABLE CMSDATA.CM_YM_CRRNT_OFFR                        FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_CRRNT_OFFR                     );
REPLACE VIEW CMSVIEW.CM_YM_CTGRY_SMM                     AS LOCKING TABLE CMSDATA.CM_YM_CTGRY_SMM                         FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_CTGRY_SMM                      );
REPLACE VIEW CMSVIEW.CM_YM_EXP_SMM                       AS LOCKING TABLE CMSDATA.CM_YM_EXP_SMM                           FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_EXP_SMM                        );
REPLACE VIEW CMSVIEW.CM_YM_MNTH_EXP_SMM                  AS LOCKING TABLE CMSDATA.CM_YM_MNTH_EXP_SMM                      FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_MNTH_EXP_SMM                   );
REPLACE VIEW CMSVIEW.CM_YM_OFFR_SMM                      AS LOCKING TABLE CMSDATA.CM_YM_OFFR_SMM                          FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_OFFR_SMM                       );
REPLACE VIEW CMSVIEW.CM_YM_RSLT_SMM                      AS LOCKING TABLE CMSDATA.CM_YM_RSLT_SMM                          FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_RSLT_SMM                       );
REPLACE VIEW CMSVIEW.CM_YM_SCCSS_SMM                     AS LOCKING TABLE CMSDATA.CM_YM_SCCSS_SMM                         FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_SCCSS_SMM                      );
REPLACE VIEW CMSVIEW.CM_YM_SCCS_SMM                      AS LOCKING TABLE CMSDATA.CM_YM_SCCS_SMM                          FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_SCCS_SMM                       );
REPLACE VIEW CMSVIEW.CM_YM_TOT_EXP_SMM                   AS LOCKING TABLE CMSDATA.CM_YM_TOT_EXP_SMM                       FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_TOT_EXP_SMM                    );
REPLACE VIEW CMSVIEW.CM_YM_YEAR_EXP_SMM                  AS LOCKING TABLE CMSDATA.CM_YM_YEAR_EXP_SMM                      FOR ACCESS (SELECT * FROM CMSDATA.CM_YM_YEAR_EXP_SMM                   );
REPLACE VIEW CMSVIEW.SIMUL_ANLYSS_CMPGN_INFO             AS LOCKING TABLE CMSDATA.SIMUL_ANLYSS_CMPGN_INFO                 FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_ANLYSS_CMPGN_INFO              );
REPLACE VIEW CMSVIEW.SIMUL_CUST_6MON_SLS                 AS LOCKING TABLE CMSDATA.SIMUL_CUST_6MON_SLS                     FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_CUST_6MON_SLS                  );
REPLACE VIEW CMSVIEW.SIMUL_CUST_PROFIL_SMM               AS LOCKING TABLE CMSDATA.SIMUL_CUST_PROFIL_SMM                   FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_CUST_PROFIL_SMM                );
REPLACE VIEW CMSVIEW.SIMUL_CUST_SMM                      AS LOCKING TABLE CMSDATA.SIMUL_CUST_SMM                          FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_CUST_SMM                       );
REPLACE VIEW CMSVIEW.SIMUL_EXP_SMM                       AS LOCKING TABLE CMSDATA.SIMUL_EXP_SMM                           FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_EXP_SMM                        );
REPLACE VIEW CMSVIEW.SIMUL_FORCST_SMM                    AS LOCKING TABLE CMSDATA.SIMUL_FORCST_SMM                        FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_FORCST_SMM                     );
REPLACE VIEW CMSVIEW.SIMUL_SIMUL_SMM                     AS LOCKING TABLE CMSDATA.SIMUL_SIMUL_SMM                         FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_SIMUL_SMM                      );
REPLACE VIEW CMSVIEW.SIMUL_STR_MAP_SMM                   AS LOCKING TABLE CMSDATA.SIMUL_STR_MAP_SMM                       FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_STR_MAP_SMM                    );


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 기안지 ]

개발 : http://localhost:8080/SASEMARTCMS/common/CmsDraftDoc.do?method=page&cmpgn_no=C20151112101711549

개발 : http://matcmsmine01:8888/SASEMARTCMS/common/CmsDraftDoc.do?method=page&cmpgn_no=C20151112101711549

운영 : http://10.150.110.123:8080/SASEMARTCMS/common/CmsDraftDoc.do?method=page&cmpgn_no=C20151112101711723


#container {min-width:1000px;max-width:100%;padding:0 10px 0 10px;}



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


----------------------------------------------------
-- 캠페인정보

SELECT
    CMPGN_NO
    , CMPGN_NM
    , CMPGN_ANNTN
    , CMPGN_STRT_DT
    , CMPGN_END_DT
    , CMPGN_CTGRY_CD
    , CMPGN_CTGRY_SB_CD
    , CMPGN_OFFR_CD
    , SCCSS_CNDTN_CD
    , SYS_FRST_OPRTN_ID
    , SYS_CRTN_DTTM
FROM
    CM_CMPGN_MST
WHERE 1=1
    AND CMPGN_NO = 'c20151109101711498'
;

----------------------------------------------------
-- 이마트 직원정보

SELECT DISTINCT
    MY_STR_ID
    , MY_STR_NM
    , EMP_NO
    , USER_NM
    , CUST_ID
FROM
    TCVM.STORE_EMP_CUST_ID
where 1=1
    and emp_no = '001810'
ORDER BY
    MY_STR_ID
    , EMP_NO
;

----------------------------------------------------
-- 캠페인 분류/상세분류

SELECT
    *
FROM
    CM_CMPGN_CTGRY
WHERE 1=1
    AND CMPGN_CTGRY_CD = '100'
    AND CMPGN_CTGRY_SB_CD = '102'
;

----------------------------------------------------
-- 채널정보들

SELECT
    *
FROM
    CM_CMPGN_EXCT
WHERE 1=1
    AND CMPGN_NO = 'c20151109101711498'
;

'apt1017151109222'
'lms1017151109464'
'sms1017151109263'

----------------------------------------------------
-- 채널명

SELECT
    *
FROM
    CM_CMMN_CD
WHERE 1=1
    AND GRP_CD = 'cm002'
ORDER BY
    GRP_CD
    , COMM_CD
;


----------------------------------------------------
-- 채널

SELECT
    CHNNL_NO
    , CHNNL_RSV_SND_DTTM
    , CHNNL_DESC
FROM
    CM_CHNNL_SMS
WHERE 1=1
    AND CHNNL_NO = 'SMS1017151109263'
;

----------------------------------------------------
-- 대상고객수

SELECT
    *
FROM
    CM_TRGT_RQST_RSLT
WHERE 1=1
    AND CMPGN_NO = 'c20151109101711498'
;


----------------------------------------------------
-- 캠페인 오퍼

SELECT
    *
FROM
    CM_CMPGN_OFFR
WHERE 1=1
    AND CMPGN_OFFR_CD = 'of01'
;

----------------------------------------------------
-- 성공조건

SELECT
    *
FROM
    CM_CMPGN_SCCS_CNDTN_CD
WHERE 1=1
    AND SCCSS_CNDTN_CD = 'sc02'
;

----------------------------------------------------
-- 성공조건상세

SELECT
    *
FROM
    CM_CMPGN_SCCS_CNDTN_DTL
WHERE 1=1
    AND CMPGN_NO = 'c20151109101711498'
;

----------------------------------------------------

----------------------------------------------------

----------------------------------------------------

SELECT
    A.CMPGN_NO               AS CMPGN_NO
    , A.CMPGN_NM             AS CMPGN_NM
    , A.CMPGN_ANNTN          AS CMPGN_ANNTN
    , A.CMPGN_STRT_DT        AS CMPGN_STRT_DT
    , A.CMPGN_END_DT         AS CMPGN_END_DT
    , A.CMPGN_CTGRY_CD       AS CMPGN_CTGRY_CD
    , B.CMPGN_CTGRY_NM       AS CMPGN_CTGRY_NM
    , A.CMPGN_CTGRY_SB_CD    AS CMPGN_CTGRY_SB_CD
    , B.CMPGN_CTGRY_SB_NM    AS CMPGN_CTGRY_SB_NM
    , A.CMPGN_OFFR_CD        AS CMPGN_OFFR_CD
    , A.SCCSS_CNDTN_CD       AS SCCSS_CNDTN_CD
    , C.MY_STR_ID            AS MY_STR_ID
    , C.MY_STR_NM            AS MY_STR_NM
    , A.SYS_FRST_OPRTN_ID    AS SYS_FRST_OPRTN_ID
    , C.USER_NM              AS USER_NM
    , C.CUST_ID              AS CUST_ID
    , TO_CHAR(A.SYS_CRTN_DTTM, 'YYYY-MM-DD')        AS SYS_CRTN_DT
    , D.TGT_CNT              AS TGT_CNT
    , E.CMPGN_OFFR_NM        AS CMPGN_OFFR_NM
FROM
    CMSVIEW_DEV.CM_CMPGN_MST       A
    , CMSVIEW_DEV.CM_CMPGN_CTGRY   B
    , (
        SELECT DISTINCT
            MY_STR_ID
            , MY_STR_NM
            , EMP_NO
            , USER_NM
            , CUST_ID
        FROM
            TCVM.STORE_EMP_CUST_ID
        WHERE 1=1
    )                              C
    , (
        SELECT
            COUNT(*)   AS TGT_CNT
        FROM
            CM_TRGT_RQST_RSLT
        WHERE 1=1
            AND CMPGN_NO = 'C20151112101711549'
    )                              D
    , CMSVIEW_DEV.CM_CMPGN_OFFR    E
WHERE 1=1
    AND A.CMPGN_NO = 'C20151112101711549'
    AND B.CMPGN_CTGRY_CD    = A.CMPGN_CTGRY_CD
    AND B.CMPGN_CTGRY_SB_CD = A.CMPGN_CTGRY_SB_CD
    AND C.EMP_NO            = A.SYS_FRST_OPRTN_ID
    AND E.CMPGN_OFFR_CD     = A.CMPGN_OFFR_CD
;



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


---------------------------------------------------------------------
            SELECT    TOP 1 /* CmsDraftDoc.getCmsDraftDocInfo */
                A.CMPGN_NO               AS CMPGN_NO
                , A.CMPGN_NM             AS CMPGN_NM
                , A.CMPGN_ANNTN          AS CMPGN_ANNTN
                , A.CMPGN_STRT_DT        AS CMPGN_STRT_DT
                , A.CMPGN_END_DT         AS CMPGN_END_DT
                , A.CMPGN_CTGRY_CD       AS CMPGN_CTGRY_CD
                , B.CMPGN_CTGRY_NM       AS CMPGN_CTGRY_NM
                , A.CMPGN_CTGRY_SB_CD    AS CMPGN_CTGRY_SB_CD
                , B.CMPGN_CTGRY_SB_NM    AS CMPGN_CTGRY_SB_NM
                , A.CMPGN_OFFR_CD        AS CMPGN_OFFR_CD
                , D.CMPGN_OFFR_NM        AS CMPGN_OFFR_NM
                , A.SCCSS_CNDTN_CD       AS SCCSS_CNDTN_CD
                , E.SCCSS_CNDTN_NM       AS SCCSS_CNDTN_NM
                , C.MY_STR_ID            AS MY_STR_ID
                , C.MY_STR_NM            AS MY_STR_NM
                , A.SYS_FRST_OPRTN_ID    AS SYS_FRST_OPRTN_ID
                , C.USER_NM              AS USER_NM
                , C.CUST_ID              AS CUST_ID
                , TO_CHAR(A.SYS_CRTN_DTTM, 'YYYY-MM-DD')        AS SYS_CRTN_DT
                , Z.TGT_CNT              AS TGT_CNT
            FROM
                CMSVIEW_DEV.CM_CMPGN_MST                     A
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_CTGRY   B
                    ON  B.CMPGN_CTGRY_CD    = A.CMPGN_CTGRY_CD
                    AND B.CMPGN_CTGRY_SB_CD = A.CMPGN_CTGRY_SB_CD
                LEFT OUTER JOIN (
                    SELECT DISTINCT
                        MY_STR_ID
                        , MY_STR_NM
                        , EMP_NO
                        , USER_NM
                        , CUST_ID
                    FROM
                        TCVM.STORE_EMP_CUST_ID
                    WHERE 1=1
                )                                            C
                    ON C.EMP_NO = A.SYS_FRST_OPRTN_ID
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_OFFR    D
                    ON D.CMPGN_OFFR_CD     = A.CMPGN_OFFR_CD
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_CD E
                    ON E.SCCSS_CNDTN_CD    = A.SCCSS_CNDTN_CD
                , (
                    SELECT
                        COUNT(*)   AS TGT_CNT
                    FROM
                        CMSVIEW_DEV.CM_TRGT_RQST_RSLT
                    WHERE 1=1
                        AND CMPGN_NO = 'C20151112101711549'
                )                              Z
            WHERE 1=1
                AND A.CMPGN_NO = 'C20151112101711549'

---------------------------------------------------------------------

            SELECT A.PUSH_TITLE                                             AS PUSH_TITLE
                 , A.PUSH_MSG                                               AS PUSH_MSG
                 , SUBSTR(A.HP_FILE_URL, INSTR(A.HP_FILE_URL, '/', -1) + 1) AS HP_FILE_SYS_NM
                 , C.COMM_CD_VL AS CHNNL_MSG
              FROM CMSVIEW_DEV.CM_CHNNL_APR A
                   LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD C
                ON C.GRP_CD        = 'CM007'
               AND A.CHNNL_MSG_CD = C.COMM_CD
                 , CMSVIEW_DEV.CM_CMPGN_EXCT B
             WHERE A.CHNNL_NO      = B.CHNNL_NO
               AND B.CHNNL_TYP_CD  = 'APR'
               AND B.CMPGN_NO      = 'C20151112101711549'
             ORDER BY B.CHNNL_NO

---------------------------------------------------------------------

            SELECT A.PUSH_TITLE                                             AS PUSH_TITLE
                 , A.PUSH_MSG                                               AS PUSH_MSG
                 , SUBSTR(A.HP_FILE_URL, INSTR(A.HP_FILE_URL, '/', -1) + 1) AS HP_FILE_SYS_NM
                 , C.COMM_CD_VL AS CHNNL_MSG
              FROM CMSVIEW_DEV.CM_CHNNL_APT A
                   LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD C
                ON C.GRP_CD        = 'CM007'
               AND A.CHNNL_MSG_CD = C.COMM_CD
                 , CMSVIEW_DEV.CM_CMPGN_EXCT B
             WHERE A.CHNNL_NO      = B.CHNNL_NO
               AND B.CHNNL_TYP_CD  = 'APT'
               AND B.CMPGN_NO      = 'C20151112101711549'
             ORDER BY B.CHNNL_NO

---------------------------------------------------------------------

            SELECT A.CHNNL_SBJCT                                      AS CHNNL_SBJCT
                 , A.CHNNL_DESC                                       AS CHNNL_DESC
                 , SUBSTR(A.FL_1_PTH, INSTR(A.FL_1_PTH, '/', -1) + 1) AS FL_1_PTH
                 , SUBSTR(A.FL_2_PTH, INSTR(A.FL_2_PTH, '/', -1) + 1) AS FL_2_PTH
                 , SUBSTR(A.FL_3_PTH, INSTR(A.FL_3_PTH, '/', -1) + 1) AS FL_3_PTH
                 , C.COMM_CD_VL                                       AS CHNNL_MSG
                 , A.STR_RPLY_NO                                      AS STR_RPLY_NO
                 , D.COMM_CD_VL                                       AS REJECT_MSG
              FROM CMSVIEW_DEV.CM_CHNNL_BMS A
                   LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD C
                ON C.GRP_CD        = 'CM007'
               AND A.CHNNL_MSG_CD = C.COMM_CD
                   LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD D
                ON D.GRP_CD        = 'CM024'
               AND A.REJECT_MSG_CD = D.COMM_CD
                 , CMSVIEW_DEV.CM_CMPGN_EXCT B
             WHERE A.CHNNL_NO      = B.CHNNL_NO
               AND B.CHNNL_TYP_CD  = 'BMS'
               AND B.CMPGN_NO      = 'C20151112101711549'
             ORDER BY B.CHNNL_NO

---------------------------------------------------------------------

            SELECT A.CHNNL_SBJCT                                      AS CHNNL_SBJCT
                 , A.CHNNL_DESC                                       AS CHNNL_DESC
                 , SUBSTR(A.FL_1_PTH, INSTR(A.FL_1_PTH, '/', -1) + 1) AS FL_1_PTH
                 , SUBSTR(A.FL_2_PTH, INSTR(A.FL_2_PTH, '/', -1) + 1) AS FL_2_PTH
                 , SUBSTR(A.FL_3_PTH, INSTR(A.FL_3_PTH, '/', -1) + 1) AS FL_3_PTH
                 , C.COMM_CD_VL                                       AS CHNNL_MSG
                 , A.STR_RPLY_NO                                      AS STR_RPLY_NO
                 , D.COMM_CD_VL                                       AS REJECT_MSG
              FROM CMSVIEW_DEV.CM_CHNNL_MMS A
                   LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD C
                ON C.GRP_CD        = 'CM007'
               AND A.CHNNL_MSG_CD = C.COMM_CD
                   LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD D
                ON D.GRP_CD        = 'CM024'
               AND A.REJECT_MSG_CD = D.COMM_CD
                 , CMSVIEW_DEV.CM_CMPGN_EXCT B
             WHERE A.CHNNL_NO      = B.CHNNL_NO
               AND B.CHNNL_TYP_CD  = 'MMS'
               AND B.CMPGN_NO      = 'C20151112101711549'
             ORDER BY B.CHNNL_NO

---------------------------------------------------------------------

            SELECT A.CHNNL_SBJCT  AS CHNNL_SBJCT
                 , A.CHNNL_DESC   AS CHNNL_DESC
                 , A.STR_RPLY_NO  AS STR_RPLY_NO
                 , C.COMM_CD_VL   AS CHNNL_MSG
                 , D.COMM_CD_VL   AS REJECT_MSG
              FROM CMSVIEW_DEV.CM_CHNNL_LMS A
                   LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD C
                ON C.GRP_CD        = 'CM007'
               AND A.CHNNL_MSG_CD = C.COMM_CD
                   LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD D
                ON D.GRP_CD        = 'CM024'
               AND A.REJECT_MSG_CD = D.COMM_CD
                 , CMSVIEW_DEV.CM_CMPGN_EXCT B
             WHERE A.CHNNL_NO      = B.CHNNL_NO
               AND B.CHNNL_TYP_CD  = 'LMS'
               AND B.CMPGN_NO      = 'C20151112101711549'
             ORDER BY B.CHNNL_NO

---------------------------------------------------------------------

            SELECT A.CHNNL_DESC   AS CHNNL_DESC
                 , A.STR_RPLY_NO  AS STR_RPLY_NO
                 , C.COMM_CD_VL   AS CHNNL_MSG
                 , D.COMM_CD_VL   AS REJECT_MSG
              FROM CMSVIEW_DEV.CM_CHNNL_SMS A
                   LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD C
                ON C.GRP_CD        = 'CM007'
               AND A.CHNNL_MSG_CD = C.COMM_CD
                   LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD D
                ON D.GRP_CD        = 'CM024'
               AND A.REJECT_MSG_CD = D.COMM_CD
                 , CMSVIEW_DEV.CM_CMPGN_EXCT B
             WHERE A.CHNNL_NO      = B.CHNNL_NO
               AND B.CHNNL_TYP_CD  = 'SMS'
               AND B.CMPGN_NO      = 'C20151112101711549'
             ORDER BY B.CHNNL_NO

---------------------------------------------------------------------

            SELECT CMPGN_NO AS CMPGN_NO
                 , CUST_ID AS CUST_ID
              FROM CMSVIEW_DEV.CM_TRGT_RQST_RSLT
             WHERE CMPGN_NO = 'C20151112101711549'

---------------------------------------------------------------------

            SELECT MON_GRP_CD      AS MON_GRP_CD
                 , NVL(SND_EXP, 0) AS SND_EXP
                 , NVL(OFF_EXP, 0) AS OFF_EXP
              FROM CMSVIEW_DEV.SIMUL_EXP_SMM
             WHERE CMPGN_NO = 'C20151112101711549'
             ORDER BY MON_GRP_CD

---------------------------------------------------------------------
-- 사전분석
            SELECT NVL(FORCST_RSPNC_RTO, 0)     AS FORCST_RSPNC_RTO
                 , NVL(FORCST_SLS_AMT, 0)       AS FORCST_SLS_AMT
                 , NVL(FORCST_CHNNL_EXP_AMT, 0) AS FORCST_CHNNL_EXP_AMT
                 , NVL(FORCST_OFFR_EXP_AMT, 0)  AS FORCST_OFFR_EXP_AMT
                 , NVL(FORCST_ADD_SLS_AMT, 0)   AS FORCST_ADD_SLS_AMT
              FROM CMSVIEW_DEV.SIMUL_FORCST_SMM
             WHERE CMPGN_NO = 'C20151112101711549'


            SELECT
                 CAST(NVL(FORCST_RSPNC_RTO, 0) AS VARCHAR(20))       AS FORCST_RSPNC_RTO      /* 예상 반응률 */
                 , CAST(CAST(NVL(FORCST_SLS_AMT, 0) AS INTEGER) AS VARCHAR(20))       AS FORCST_SLS_AMT        /* 예상 매출 */
                 , CAST(CAST(NVL(FORCST_CHNNL_EXP_AMT, 0) AS INTEGER) AS VARCHAR(20)) AS FORCST_CHNNL_EXP_AMT  /* 예상 채널 비용 */
                 , CAST(CAST(NVL(FORCST_OFFR_EXP_AMT, 0) AS INTEGER) AS VARCHAR(20))  AS FORCST_OFFR_EXP_AMT   /* 예상 오퍼 비용 */
                 , CAST(CAST(NVL(FORCST_ADD_SLS_AMT, 0) AS INTEGER) AS VARCHAR(20))   AS FORCST_ADD_SLS_AMT    /* 예상 추가 매출 */
              FROM CMSVIEW_DEV.SIMUL_FORCST_SMM
             WHERE CMPGN_NO = 'C20151112101711549'


---------------------------------------------------------------------
-- 제외조건
        SELECT A.CMPGN_NO AS CMPGN_NO
             , A.TRGT_CNDTN_CD AS TRGT_CNDTN_CD
             , A.SEQ_NO AS SEQ_NO
             , A.CLMN_CNT AS CLMN_CNT
             , C.TRGT_CNDTN_TYP_NM AS TRGT_CNDTN_TYP_NM
             , C.TRGT_CNDTN_NM AS TRGT_CNDTN_NM
             , A.TRGT_CHC_VL1 AS TRGT_CHC_VL1
             , A.TRGT_CHC_VL2 AS TRGT_CHC_VL2
             , A.TRGT_CHC_VL3 AS TRGT_CHC_VL3
             , A.TRGT_CHC_VL4 AS TRGT_CHC_VL4
             , A.TRGT_CHC_VL5 AS TRGT_CHC_VL5
             , A.TRGT_CHC_VL6 AS TRGT_CHC_VL6
             , A.TRGT_CHC_VL7 AS TRGT_CHC_VL7
             , A.TRGT_CHC_VL8 AS TRGT_CHC_VL8
             , A.TRGT_CHC_VL9 AS TRGT_CHC_VL9
             , A.TRGT_CHC_VL10 AS TRGT_CHC_VL10
             , A.TRGT_CHC_NM1 AS TRGT_CHC_NM1
             , A.TRGT_CHC_NM2 AS TRGT_CHC_NM2
             , A.TRGT_CHC_NM3 AS TRGT_CHC_NM3
             , A.TRGT_CHC_NM4 AS TRGT_CHC_NM4
             , A.TRGT_CHC_NM5 AS TRGT_CHC_NM5
             , A.TRGT_CHC_NM6 AS TRGT_CHC_NM6
             , A.TRGT_CHC_NM7 AS TRGT_CHC_NM7
             , A.TRGT_CHC_NM8 AS TRGT_CHC_NM8
             , A.TRGT_CHC_NM9 AS TRGT_CHC_NM9
             , A.TRGT_CHC_NM10 AS TRGT_CHC_NM10
             , A.PRD_USE_YN AS PRD_USE_YN
             , A.MLT_YN AS MLT_YN                               /* 멀티여부 */
             , A.EXCPT_YN AS EXCPT_YN                           /* 제외여부 */
             , A.CNDTN_CHC_MTHD_CD AS CNDTN_CHC_MTHD_CD         /* 조건선택방법코드 */
             , A.DB_NM AS DB_NM                                 /* 데이터베이스명 */
             , A.TBL_NM AS TBL_NM                               /* 테이블명 */
             , A.CLMN_NM AS CLMN_NM                             /* 컬럼명 */
             , A.CMPRSN_OPRTR_GRP_CD AS CMPRSN_OPRTR_GRP_CD     /* 논리연산자구분코드 */
             , A.LGC_OPRTR_GRP_CD AS LGC_OPRTR_GRP_CD           /* 비교연산자구분코드 */
             , A.PRD_CLMN_NM AS PRD_CLMN_NM
             , A.TRGT_CHC_GRP_NM AS TRGT_CHC_GRP_NM
             , C.REF_TRGT_CNDTN_CD AS REF_TRGT_CNDTN_CD         /* 필수참조타겟조건코드 */
             , D.CNDTN_CHC_MTHD_CD AS REF_CNDTN_CHC_MTHD_CD     /* 필수참조타겟조건코드 조건선택방법코드 */
          FROM CMSVIEW_DEV.CM_CMPGN_TRGT_CHC A
             , CMSVIEW_DEV.CM_CMPGN_MST B
             , CMSVIEW_DEV.CM_TRGT_CNDTN C
          LEFT OUTER JOIN CMSVIEW_DEV.CM_TRGT_CNDTN D
            ON C.REF_TRGT_CNDTN_CD = D.TRGT_CNDTN_CD
         WHERE 1 = 1
           AND A.CMPGN_NO = B.CMPGN_NO
           AND A.TRGT_CNDTN_CD = C.TRGT_CNDTN_CD
            AND
                C.RQRD_YN = 'N'
            AND
                C.EXCPT_YN = 'Y'
           AND A.CMPGN_NO = 'C20151112101711549'
         ORDER BY A.SEQ_NO

---------------------------------------------------------------------

        SELECT A.CMPGN_NO   AS CMPGN_NO                     /* 캠페인번호 */
             , A.RFR_CMPGN_NO   AS RFR_CMPGN_NO             /* 참조캠페인번호 */
             , A.CMPGN_NM   AS CMPGN_NM                     /* 캠페인명 */
             , A.CMPGN_ANNTN AS CMPGN_ANNTN                 /* 캠페인설명 */
             , A.CHNNL_ANNTN AS CHNNL_ANNTN                 /* 채널설명 */
             , A.CMPGN_STEP AS CMPGN_STEP                   /* 캠페인단계 */
             , A.SND_TYP_CD AS SND_TYP_CD                   /* 발송구분코드 */
             , A.CMPGN_MTHD_CD AS CMPGN_MTHD_CD             /* 캠페인방법코드 */
             , A.TRGT_MTHD_CD   AS TRGT_MTHD_CD             /* 타겟팅방법코드 */
             , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM012' AND COMM_CD = A.TRGT_MTHD_CD) AS TRGT_MTHD_NM
             , A.CMPGN_CTGRY_CD AS CMPGN_CTGRY_CD           /* 캠페인분류코드 */
             , B.CMPGN_CTGRY_NM AS CMPGN_CTGRY_NM           /* 캠페인분류명 */
             , A.CMPGN_CTGRY_SB_CD AS CMPGN_CTGRY_SB_CD     /* 캠페인세분류코드 */
             , B.CMPGN_CTGRY_SB_NM AS CMPGN_CTGRY_SB_NM     /* 캠페인세분류명 */
             , A.CHNNL_DVD_PLCY_YN AS CHNNL_DVD_PLCY_YN     /* 채널배분정책사용여부 */
             , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM028' AND COMM_CD = A.CHNNL_DVD_PLCY_YN) AS CHNNL_DVD_PLCY_NM
             , A.STR_ID AS STR_ID                           /* 점포아이디 */
             , C.STORENM AS STR_NM
             , A.CMPGN_STRT_DT AS CMPGN_STRT_DT             /* 캠페인시작일자 */
             , A.CMPGN_END_DT AS CMPGN_END_DT               /* 캠페인종료일자 */
             , A.EFF_ANAL_STRT_DT AS EFF_ANAL_STRT_DT       /* 효과분석시작일자 */
             , A.EFF_ANAL_END_DT AS EFF_ANAL_END_DT         /* 효과분석종료일자 */
             , A.CMPGN_RJCT_RSN AS CMPGN_RJCT_RSN           /* 캠페인반려사유 */
             , A.CMPGN_OFFR_CD AS CMPGN_OFFR_CD             /* 캠페인오퍼코드 */
             , E.CMPGN_OFFR_NM AS CMPGN_OFFR_NM
             , A.CMPGN_OFFR_EXP AS CMPGN_OFFR_EXP           /* 캠페인오퍼비용 */
             , A.CMPGN_OFFR_EXP_TYP_CD AS CMPGN_OFFR_EXP_TYP_CD /* 캠페인오퍼비용구분코드 */
             , A.CMPGN_OFFR_PAY_DT AS CMPGN_OFFR_PAY_DT         /* 캠페인오퍼지급일자 */
             , A.CMPGN_OFFR_EVNT_DESC AS CMPGN_OFFR_EVNT_DESC       /* 캠페인오퍼행사내용 */
             , A.CMPGN_PRDGFT_NM AS CMPGN_PRDGFT_NM     /* 캠페인사은품명 */
             , A.EVNT_NO AS EVNT_NO                     /* 행사번호 */
             , A.EVNT_DESC AS EVNT_DESC                 /* 행사내용 */
             , A.CMPGN_PLCY_NO AS CMPGN_PLCY_NO         /* 캠페인정책번호 */
             , A.THM_TRGT_TYP_CD AS THM_TRGT_TYP_CD     /* 테마별타겟분류코드 */
             , D.THM_TRGT_TYP_NM AS THM_TRGT_TYP_NM
             , A.THM_TRGT_CD AS THM_TRGT_CD             /* 테마별타겟코드 */
             , D.THM_TRGT_NM AS THM_TRGT_NM
             , A.SCCSS_CNDTN_CD AS SCCSS_CNDTN_CD           /* 성공조건코드 */
             , F.SCCSS_CNDTN_NM AS SCCSS_CNDTN_NM
             , A.CMPGN_EXCT_RNK AS CMPGN_EXCT_RNK           /* 캠페인실행순위 */
             , A.CMPGN_RQST_ID AS CMPGN_RQST_ID         /* 캠페인요청자아이디 */
             , C.CHRGPERS_NM AS CMPGN_RQST_NM
             , A.FNL_APPRVL_ID AS FNL_APPRVL_ID         /* 최종승인자아이디 */
             , A.FNL_APPRVL_DTTM AS FNL_APPRVL_DTTM     /* 최종승인일시 */
             , A.FNL_APPRVL_STS AS FNL_APPRVL_STS           /* 최종승인상태 */
             , A.EFF_ANAL_STRT_DT AS EFF_ANAL_STRT_DT       /* 효과분석시작일자 */
             , A.EFF_ANAL_END_DT AS EFF_ANAL_END_DT         /* 효과분석종료일자 */
             , A.TOPN AS TOPN
             , A.CUST_CNT AS CUST_CNT
             , A.CUST_CNT_T AS CUST_CNT_T
             , A.GFT_SYS_REG_YN AS GFT_SYS_REG_YN       /* 사은품시스템등록여부 */
             , A.SND_TYP_CD AS SND_TYP_CD               /* 발송구분코드 */
             , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM027' AND COMM_CD = A.SND_TYP_CD) AS SND_TYP_NM
          FROM CMSVIEW_DEV.CM_CMPGN_MST A
               LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_CTGRY B
            ON A.CMPGN_CTGRY_SB_CD = B.CMPGN_CTGRY_SB_CD
               LEFT OUTER JOIN TSVM.CMS_USER_CRM C
            ON A.CMPGN_RQST_ID = C.CHRGPERS_CD
               LEFT OUTER JOIN CMSVIEW_DEV.CM_THM_TRGT D
            ON A.THM_TRGT_CD = D.THM_TRGT_CD
               LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_OFFR E          /* 캠페인 오퍼 */
            ON A.CMPGN_OFFR_CD = E.CMPGN_OFFR_CD
               LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_CD F
            ON A.SCCSS_CNDTN_CD = F.SCCSS_CNDTN_CD
         WHERE CMPGN_NO = 'C20151112101711549'

---------------------------------------------------------------------
---------------------------------------------------------------------

                        var htm = "<table class='tbl_comm'>";
                        htm += "<colgroup>";
                        htm += "  <col span='2' width='15%'/>";
                        htm += "  <col width='*'/>";
                        htm += "  </colgroup>";
                        htm += "<thead>";
                        htm += "  <tr>";
                        htm += "    <th scope='col'>채널 명</th>";
                        htm += "    <th scope='col'>발송 일시</th>";
                        htm += "    <th scope='col'>발송문구</th>";
                        htm += "  </tr>";
                        htm += "</thead>";
                        htm += "<tbody>";
                        for (var i = 0; i < res.draftInfo4.length; i++) {
                            var temp = "<tr>";
                            temp += "<td>" + res.draftInfo4[i].chnnl_name + "</td>";
                            temp += "<td>" + res.draftInfo4[i].snd_dttm + "</td>";
                            temp += "<td>" + res.draftInfo4[i].contents + "</td>";
                            temp += "</tr>";

                            htm += temp;
                        }
                        htm += "  </tbody>";
                        htm += "</table>";





----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 2015.11.16 ] 김경철B 요청

CM_SCCSS_RSPNS_SMM
CM_BDSRCT_RSPNS_SMM
위 테이블에 CHNNL_SND_CNT 항목 추가

SHOW TABLE CM_SCCSS_RSPNS_SMM;

SHOW TABLE CM_BDSRCT_RSPNS_SMM;

----------------------------------------------------------------------------------------------------
[ 운영 ] CM_SCCSS_RSPNS_SMM

-- BAK TABLE
CREATE TABLE CMSDATA.CM_SCCSS_RSPNS_SMM_KANG   AS CMSDATA.CM_SCCSS_RSPNS_SMM   WITH DATA;

-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_SCCSS_RSPNS_SMM

CREATE SET TABLE CMSDATA.CM_SCCSS_RSPNS_SMM ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      SCCSS_CNDTN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '성공조건명' NOT NULL,
      TRGT_CUST_CNT DECIMAL(8,0) TITLE '대상고객건수',
      SCCSS_CUST_CNT DECIMAL(8,0) TITLE '성공고객건수',
      CHNNL_SND_CNT DECIMAL(8,0) TITLE '채널발송건수',             <-
      SCCSS_RT DECIMAL(8,2) TITLE '성공율',
      SLS_AMT DECIMAL(18,0) TITLE '매출금액',
      SCCSS_CTRNS DECIMAL(18,1) TITLE '성공객단가',
      BRND_PROD_CUST_CNT DECIMAL(8,0) TITLE '브랜드고객수',
      BRND_TOT_SLS_AMT DECIMAL(18,0) TITLE '해당브랜드매출금액',
      TRGT_CUST_HIT_RTO DECIMAL(18,2) TITLE '대상고객적중률',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시')
UNIQUE PRIMARY INDEX ( CMPGN_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_SCCSS_RSPNS_SMM
SELECT
    CMPGN_NO
    , SCCSS_CNDTN_NM
    , TRGT_CUST_CNT
    , SCCSS_CUST_CNT
    , 0
    , SCCSS_RT
    , SLS_AMT
    , SCCSS_CTRNS
    , BRND_PROD_CUST_CNT
    , BRND_TOT_SLS_AMT
    , TRGT_CUST_HIT_RTO
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
FROM
    CMSDATA.CM_SCCSS_RSPNS_SMM_KANG
;


REPLACE VIEW CMSVIEW.CM_SCCSS_RSPNS_SMM  AS LOCKING TABLE CMSDATA.CM_SCCSS_RSPNS_SMM FOR ACCESS (SELECT * FROM CMSDATA.CM_SCCSS_RSPNS_SMM);

----------------------------------------------------------------------------------------------------
[ 개발 ] CM_SCCSS_RSPNS_SMM

-- BAK TABLE
CREATE TABLE CMSDATA_DEV.CM_SCCSS_RSPNS_SMM_KANG   AS CMSDATA_DEV.CM_SCCSS_RSPNS_SMM   WITH DATA;

-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_SCCSS_RSPNS_SMM

CREATE SET TABLE CMSDATA_DEV.CM_SCCSS_RSPNS_SMM ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      SCCSS_CNDTN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '성공조건명' NOT NULL,
      TRGT_CUST_CNT DECIMAL(8,0) TITLE '대상고객건수',
      SCCSS_CUST_CNT DECIMAL(8,0) TITLE '성공고객건수',
      CHNNL_SND_CNT DECIMAL(8,0) TITLE '채널발송건수',             <-
      SCCSS_RT DECIMAL(8,2) TITLE '성공율',
      SLS_AMT DECIMAL(18,0) TITLE '매출금액',
      SCCSS_CTRNS DECIMAL(18,1) TITLE '성공객단가',
      BRND_PROD_CUST_CNT DECIMAL(8,0) TITLE '브랜드고객수',
      BRND_TOT_SLS_AMT DECIMAL(18,0) TITLE '해당브랜드매출금액',
      TRGT_CUST_HIT_RTO DECIMAL(18,2) TITLE '대상고객적중률',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시')
UNIQUE PRIMARY INDEX ( CMPGN_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_SCCSS_RSPNS_SMM
SELECT
    CMPGN_NO
    , SCCSS_CNDTN_NM
    , TRGT_CUST_CNT
    , SCCSS_CUST_CNT
    , 0
    , SCCSS_RT
    , SLS_AMT
    , SCCSS_CTRNS
    , BRND_PROD_CUST_CNT
    , BRND_TOT_SLS_AMT
    , TRGT_CUST_HIT_RTO
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
FROM
    CMSDATA_DEV.CM_SCCSS_RSPNS_SMM_KANG
;


REPLACE VIEW CMSVIEW_DEV.CM_SCCSS_RSPNS_SMM  AS LOCKING TABLE CMSDATA_DEV.CM_SCCSS_RSPNS_SMM FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_SCCSS_RSPNS_SMM);


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 운영 ] CM_BDSRCT_RSPNS_SMM

-- BAK TABLE
CREATE TABLE CMSDATA.CM_BDSRCT_RSPNS_SMM_KANG   AS CMSDATA.CM_BDSRCT_RSPNS_SMM   WITH DATA;

-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_BDSRCT_RSPNS_SMM

CREATE SET TABLE CMSDATA.CM_BDSRCT_RSPNS_SMM ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      BDSRCT_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상권분류명' NOT NULL,
      ADMIN_UNT_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행정주소' NOT NULL,
      ADMNSRTV_DNG_MN VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행정동명' NOT NULL,
      LAT FLOAT TITLE '위도',
      LON FLOAT TITLE '경도',
      TRGT_CUST_CNT DECIMAL(8,0) TITLE '대상고객수',
      PRCHSE_CUST_CNT DECIMAL(8,0) TITLE '구매고객수',
      CHNNL_SND_CNT DECIMAL(8,0) TITLE '채널발송건수',             <-
      PRCHSE_RT DECIMAL(8,2) TITLE '구매율',
      SLS_AMT DECIMAL(18,0) TITLE '매출금액',
      CTMTRNS_AMT DECIMAL(18,2) TITLE '객단가',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,BDSRCT_NM ,ADMIN_UNT_NM ,ADMNSRTV_DNG_MN );

-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_BDSRCT_RSPNS_SMM
SELECT
    CMPGN_NO
    , BDSRCT_NM
    , ADMIN_UNT_NM
    , ADMNSRTV_DNG_MN
    , LAT
    , LON
    , TRGT_CUST_CNT
    , PRCHSE_CUST_CNT
    , 0
    , PRCHSE_RT
    , SLS_AMT
    , CTMTRNS_AMT
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
FROM
    CMSDATA.CM_BDSRCT_RSPNS_SMM_KANG
;


REPLACE VIEW CMSVIEW.CM_BDSRCT_RSPNS_SMM  AS LOCKING TABLE CMSDATA.CM_BDSRCT_RSPNS_SMM FOR ACCESS (SELECT * FROM CMSDATA.CM_BDSRCT_RSPNS_SMM);

----------------------------------------------------------------------------------------------------
[ 개발 ] CM_BDSRCT_RSPNS_SMM

-- BAK TABLE
CREATE TABLE CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM_KANG   AS CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM   WITH DATA;

-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM

CREATE SET TABLE CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      BDSRCT_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상권분류명' NOT NULL,
      ADMIN_UNT_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행정주소' NOT NULL,
      ADMNSRTV_DNG_MN VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행정동명' NOT NULL,
      LAT FLOAT TITLE '위도',
      LON FLOAT TITLE '경도',
      TRGT_CUST_CNT DECIMAL(8,0) TITLE '대상고객수',
      PRCHSE_CUST_CNT DECIMAL(8,0) TITLE '구매고객수',
      CHNNL_SND_CNT DECIMAL(8,0) TITLE '채널발송건수',             <-
      PRCHSE_RT DECIMAL(8,2) TITLE '구매율',
      SLS_AMT DECIMAL(18,0) TITLE '매출금액',
      CTMTRNS_AMT DECIMAL(18,2) TITLE '객단가',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,BDSRCT_NM ,ADMIN_UNT_NM ,ADMNSRTV_DNG_MN );

-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM
SELECT
    CMPGN_NO
    , BDSRCT_NM
    , ADMIN_UNT_NM
    , ADMNSRTV_DNG_MN
    , LAT
    , LON
    , TRGT_CUST_CNT
    , PRCHSE_CUST_CNT
    , 0
    , PRCHSE_RT
    , SLS_AMT
    , CTMTRNS_AMT
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
FROM
    CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM_KANG
;


REPLACE VIEW CMSVIEW_DEV.CM_BDSRCT_RSPNS_SMM  AS LOCKING TABLE CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_BDSRCT_RSPNS_SMM);


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 운영 ] CM_CMPGN_EXCT

-- BAK TABLE
CREATE TABLE CMSDATA.CM_CMPGN_EXCT_KANG   AS CMSDATA.CM_CMPGN_EXCT   WITH DATA;

-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CMPGN_EXCT

CREATE SET TABLE CMSDATA.CM_CMPGN_EXCT ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_NM VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널명',
      IMMDTLY_SND_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '즉시발송여부',
      CMPGN_EXCT_SCHDLD_DTTM TIMESTAMP(6) TITLE '캠페인실행예정일시',
      CMPGN_EXCT_FNSH_DTTM TIMESTAMP(6) TITLE '캠페인실행완료일시',
      CMPGN_EXCT_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인실행상태',
      RSV_CNT DECIMAL(8,0) TITLE '예약건수',
      RSV_CHC_CNT DECIMAL(8,0) TITLE '예약선택건수',
      SND_CNT DECIMAL(8,0) TITLE '발송건수',
      SND_FL_CNT DECIMAL(8,0) TITLE '발송실패건수',
      CMPGN_OPN_CNT DECIMAL(8,0) TITLE '캠페인오픈건수',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드',
      CHNNL_PLCY_NO DECIMAL(18,0) TITLE '채널정책번호',
      IMG_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지제작요청상태',
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_SND_CNT DECIMAL(2,0) TITLE '테스트발송횟수',
      CMPGN_EXCT_RNK INTEGER TITLE '캠페인실행순위',     <-
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_CMPGN_EXCT
SELECT
    CMPGN_NO
    , CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , CHNNL_NM
    , IMMDTLY_SND_YN
    , CMPGN_EXCT_SCHDLD_DTTM
    , CMPGN_EXCT_FNSH_DTTM
    , CMPGN_EXCT_STTS
    , RSV_CNT
    , RSV_CHC_CNT
    , SND_CNT
    , SND_FL_CNT
    , CMPGN_OPN_CNT
    , TST_GRP_CD
    , CHNNL_TYP_CD
    , CHNNL_PLCY_NO
    , IMG_MK_RQST_STTS
    , CMPGN_STTS
    , CHNNL_RSV_SND_DTTM
    , TST_SND_CNT
    , NULL
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_CMPGN_EXCT_KANG
;


REPLACE VIEW CMSVIEW.CM_CMPGN_EXCT  AS LOCKING TABLE CMSDATA.CM_CMPGN_EXCT FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_EXCT);

----------------------------------------------------------------------------------------------------
[ 개발 ] CM_BDSRCT_RSPNS_SMM

--- BAK TABLE
CREATE TABLE CMSDATA_DEV.CM_CMPGN_EXCT_KANG   AS CMSDATA_DEV.CM_CMPGN_EXCT   WITH DATA;

-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_CMPGN_EXCT

CREATE SET TABLE CMSDATA_DEV.CM_CMPGN_EXCT ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_NM VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널명',
      IMMDTLY_SND_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '즉시발송여부',
      CMPGN_EXCT_SCHDLD_DTTM TIMESTAMP(6) TITLE '캠페인실행예정일시',
      CMPGN_EXCT_FNSH_DTTM TIMESTAMP(6) TITLE '캠페인실행완료일시',
      CMPGN_EXCT_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인실행상태',
      RSV_CNT DECIMAL(8,0) TITLE '예약건수',
      RSV_CHC_CNT DECIMAL(8,0) TITLE '예약선택건수',
      SND_CNT DECIMAL(8,0) TITLE '발송건수',
      SND_FL_CNT DECIMAL(8,0) TITLE '발송실패건수',
      CMPGN_OPN_CNT DECIMAL(8,0) TITLE '캠페인오픈건수',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드',
      CHNNL_PLCY_NO DECIMAL(18,0) TITLE '채널정책번호',
      IMG_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지제작요청상태',
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_SND_CNT DECIMAL(2,0) TITLE '테스트발송횟수',
      CMPGN_EXCT_RNK INTEGER TITLE '캠페인실행순위',     <-
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_CMPGN_EXCT
SELECT
    CMPGN_NO
    , CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , CHNNL_NM
    , IMMDTLY_SND_YN
    , CMPGN_EXCT_SCHDLD_DTTM
    , CMPGN_EXCT_FNSH_DTTM
    , CMPGN_EXCT_STTS
    , RSV_CNT
    , RSV_CHC_CNT
    , SND_CNT
    , SND_FL_CNT
    , CMPGN_OPN_CNT
    , TST_GRP_CD
    , CHNNL_TYP_CD
    , CHNNL_PLCY_NO
    , IMG_MK_RQST_STTS
    , CMPGN_STTS
    , CHNNL_RSV_SND_DTTM
    , TST_SND_CNT
    , NULL
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA_DEV.CM_CMPGN_EXCT_KANG
;


REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_EXCT  AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_EXCT FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_EXCT);


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 운영 ] CM_CMPGN_EXCT

-- BAK TABLE
CREATE TABLE CMSDATA.CM_CMPGN_EXCT_KANG   AS CMSDATA.CM_CMPGN_EXCT   WITH DATA;

-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CMPGN_EXCT

CREATE SET TABLE CMSDATA.CM_CMPGN_EXCT ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_NM VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널명',
      IMMDTLY_SND_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '즉시발송여부',
      CMPGN_EXCT_SCHDLD_DTTM TIMESTAMP(6) TITLE '캠페인실행예정일시',
      CMPGN_EXCT_FNSH_DTTM TIMESTAMP(6) TITLE '캠페인실행완료일시',
      CMPGN_EXCT_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인실행상태',
      RSV_CNT DECIMAL(8,0) TITLE '예약건수',
      RSV_CHC_CNT DECIMAL(8,0) TITLE '예약선택건수',
      SND_CNT DECIMAL(8,0) TITLE '발송건수',
      SND_FL_CNT DECIMAL(8,0) TITLE '발송실패건수',
      CMPGN_OPN_CNT DECIMAL(8,0) TITLE '캠페인오픈건수',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드',
      CHNNL_PLCY_NO DECIMAL(18,0) TITLE '채널정책번호',
      IMG_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지제작요청상태',
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_SND_CNT DECIMAL(2,0) TITLE '테스트발송횟수',
      CMPGN_EXCT_RNK INTEGER TITLE '캠페인실행순위',     <-
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_CMPGN_EXCT
SELECT
    CMPGN_NO
    , CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , CHNNL_NM
    , IMMDTLY_SND_YN
    , CMPGN_EXCT_SCHDLD_DTTM
    , CMPGN_EXCT_FNSH_DTTM
    , CMPGN_EXCT_STTS
    , RSV_CNT
    , RSV_CHC_CNT
    , SND_CNT
    , SND_FL_CNT
    , CMPGN_OPN_CNT
    , TST_GRP_CD
    , CHNNL_TYP_CD
    , CHNNL_PLCY_NO
    , IMG_MK_RQST_STTS
    , CMPGN_STTS
    , CHNNL_RSV_SND_DTTM
    , TST_SND_CNT
    , NULL
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_CMPGN_EXCT_KANG
;


REPLACE VIEW CMSVIEW.CM_CMPGN_EXCT  AS LOCKING TABLE CMSDATA.CM_CMPGN_EXCT FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_EXCT);

----------------------------------------------------------------------------------------------------
[ 개발 ] CM_BDSRCT_RSPNS_SMM

--- BAK TABLE
CREATE TABLE CMSDATA_DEV.CM_CMPGN_EXCT_KANG   AS CMSDATA_DEV.CM_CMPGN_EXCT   WITH DATA;

-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_CMPGN_EXCT

CREATE SET TABLE CMSDATA_DEV.CM_CMPGN_EXCT ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_NM VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널명',
      IMMDTLY_SND_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '즉시발송여부',
      CMPGN_EXCT_SCHDLD_DTTM TIMESTAMP(6) TITLE '캠페인실행예정일시',
      CMPGN_EXCT_FNSH_DTTM TIMESTAMP(6) TITLE '캠페인실행완료일시',
      CMPGN_EXCT_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인실행상태',
      RSV_CNT DECIMAL(8,0) TITLE '예약건수',
      RSV_CHC_CNT DECIMAL(8,0) TITLE '예약선택건수',
      SND_CNT DECIMAL(8,0) TITLE '발송건수',
      SND_FL_CNT DECIMAL(8,0) TITLE '발송실패건수',
      CMPGN_OPN_CNT DECIMAL(8,0) TITLE '캠페인오픈건수',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드',
      CHNNL_PLCY_NO DECIMAL(18,0) TITLE '채널정책번호',
      IMG_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지제작요청상태',
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_SND_CNT DECIMAL(2,0) TITLE '테스트발송횟수',
      CMPGN_EXCT_RNK INTEGER TITLE '캠페인실행순위',     <-
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_CMPGN_EXCT
SELECT
    CMPGN_NO
    , CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , CHNNL_NM
    , IMMDTLY_SND_YN
    , CMPGN_EXCT_SCHDLD_DTTM
    , CMPGN_EXCT_FNSH_DTTM
    , CMPGN_EXCT_STTS
    , RSV_CNT
    , RSV_CHC_CNT
    , SND_CNT
    , SND_FL_CNT
    , CMPGN_OPN_CNT
    , TST_GRP_CD
    , CHNNL_TYP_CD
    , CHNNL_PLCY_NO
    , IMG_MK_RQST_STTS
    , CMPGN_STTS
    , CHNNL_RSV_SND_DTTM
    , TST_SND_CNT
    , NULL
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA_DEV.CM_CMPGN_EXCT_KANG
;


REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_EXCT  AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_EXCT FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_EXCT);


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 운영 ] CM_CHNNL_APT

--- BAK TABLE
CREATE TABLE CMSDATA.CM_CHNNL_APT_KANG   AS CMSDATA.CM_CHNNL_APT   WITH DATA;

-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CHNNL_APT

CREATE SET TABLE CMSDATA.CM_CHNNL_APT ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      BIZ_ID VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형코드',
      MSG_TYPE VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형',
      MSG_PUSH_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시유형',
      PUSH_TITLE VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목',
      PUSH_MSG VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용',
      MSG_TEXT VARCHAR(3500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시인앱메시지',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      HP_CMPGN_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사설명(주석)',
      HP_REG_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항등록여부',
      HP_STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      HP_REG_STDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록시작일',
      HP_REG_EDDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록종료일',
      HP_REG_TITLE VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항제목',
      HP_REG_MSG VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항내용',
      HP_REG_REPLACE_TEXT VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '대체텍스트',
      HP_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일명',
      HP_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일_URL',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      IMG_USE_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지사용여부',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      PUSH_MSG_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지ID',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_CHNNL_APT
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , BIZ_ID
    , MSG_TYPE
    , MSG_PUSH_TYPE
    , PUSH_TITLE
    , PUSH_MSG
    , MSG_TEXT
    , CHNNL_RSV_SND_DTTM
    , HP_CMPGN_DESC
    , HP_REG_YN
    , HP_STR_ID
    , HP_REG_STDT
    , HP_REG_EDDT
    , HP_REG_TITLE
    , HP_REG_MSG
    , HP_REG_REPLACE_TEXT
    , HP_FILE_NM
    , HP_FILE_URL
    , CHNNL_MSG_CD
    , STR_RPLY_NO
    , REJECT_MSG_CD
    , IMG_USE_YN
    , USE_YN
    , TST_GRP_CD
    , NULL -- PUSH_MSG_ID
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_CHNNL_APT_KANG
;


REPLACE VIEW CMSVIEW.CM_CHNNL_APT  AS LOCKING TABLE CMSDATA.CM_CHNNL_APT FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APT);


----------------------------------------------------------------------------------------------------
[ 개발 ] CM_CHNNL_APT

--- BAK TABLE
CREATE TABLE CMSDATA_DEV.CM_CHNNL_APT_KANG   AS CMSDATA_DEV.CM_CHNNL_APT   WITH DATA;

-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_CHNNL_APT

CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_APT ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      BIZ_ID VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형코드',
      MSG_TYPE VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형',
      MSG_PUSH_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시유형',
      PUSH_TITLE VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목',
      PUSH_MSG VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용',
      MSG_TEXT VARCHAR(3500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시인앱메시지',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      HP_CMPGN_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사설명(주석)',
      HP_REG_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항등록여부',
      HP_STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      HP_REG_STDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록시작일',
      HP_REG_EDDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록종료일',
      HP_REG_TITLE VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항제목',
      HP_REG_MSG VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항내용',
      HP_REG_REPLACE_TEXT VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '대체텍스트',
      HP_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일명',
      HP_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일_URL',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      IMG_USE_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지사용여부',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      PUSH_MSG_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지ID',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_CHNNL_APT
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , BIZ_ID
    , MSG_TYPE
    , MSG_PUSH_TYPE
    , PUSH_TITLE
    , PUSH_MSG
    , MSG_TEXT
    , CHNNL_RSV_SND_DTTM
    , HP_CMPGN_DESC
    , HP_REG_YN
    , HP_STR_ID
    , HP_REG_STDT
    , HP_REG_EDDT
    , HP_REG_TITLE
    , HP_REG_MSG
    , HP_REG_REPLACE_TEXT
    , HP_FILE_NM
    , HP_FILE_URL
    , CHNNL_MSG_CD
    , STR_RPLY_NO
    , REJECT_MSG_CD
    , IMG_USE_YN
    , USE_YN
    , TST_GRP_CD
    , NULL  -- PUSH_MSG_ID
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA_DEV.CM_CHNNL_APT_KANG
;


REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_APT  AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_APT FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_APT);



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 운영 ] CM_CHNNL_APR

--- BAK TABLE
CREATE TABLE CMSDATA.CM_CHNNL_APR_KANG   AS CMSDATA.CM_CHNNL_APR   WITH DATA;

-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CHNNL_APR

CREATE SET TABLE CMSDATA.CM_CHNNL_APR ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      BIZ_ID VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형코드',
      MSG_TYPE VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형',
      MSG_PUSH_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시유형',
      PUSH_TITLE VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목',
      PUSH_MSG VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용',
      MSG_TEXT VARCHAR(3500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시인앱메시지',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      HP_CMPGN_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사설명(주석)',
      HP_REG_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항등록여부',
      HP_STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      HP_REG_STDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록시작일',
      HP_REG_EDDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록종료일',
      HP_REG_TITLE VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항제목',
      HP_REG_MSG VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항내용',
      HP_REG_REPLACE_TEXT VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '대체텍스트',
      HP_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일명',
      HP_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일_URL',
      CONTENTS_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청사항',
      CONTENTS_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일명',
      CONTENTS_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일_URL',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      IMG_USE_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지사용여부',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      PUSH_MSG_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지ID',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_CHNNL_APR
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , BIZ_ID
    , MSG_TYPE
    , MSG_PUSH_TYPE
    , PUSH_TITLE
    , PUSH_MSG
    , MSG_TEXT
    , CHNNL_RSV_SND_DTTM
    , HP_CMPGN_DESC
    , HP_REG_YN
    , HP_STR_ID
    , HP_REG_STDT
    , HP_REG_EDDT
    , HP_REG_TITLE
    , HP_REG_MSG
    , HP_REG_REPLACE_TEXT
    , HP_FILE_NM
    , HP_FILE_URL
    , CONTENTS_DESC
    , CONTENTS_FILE_NM
    , CONTENTS_FILE_URL
    , CHNNL_MSG_CD
    , STR_RPLY_NO
    , REJECT_MSG_CD
    , IMG_USE_YN
    , USE_YN
    , TST_GRP_CD
    , NULL -- PUSH_MSG_ID
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_CHNNL_APR_KANG
;


REPLACE VIEW CMSVIEW.CM_CHNNL_APR  AS LOCKING TABLE CMSDATA.CM_CHNNL_APR FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APR);


----------------------------------------------------------------------------------------------------
[ 개발 ] CM_CHNNL_APR

--- BAK TABLE
CREATE TABLE CMSDATA_DEV.CM_CHNNL_APR_KANG   AS CMSDATA_DEV.CM_CHNNL_APR   WITH DATA;

-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_CHNNL_APR

CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_APR ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      BIZ_ID VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형코드',
      MSG_TYPE VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형',
      MSG_PUSH_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시유형',
      PUSH_TITLE VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목',
      PUSH_MSG VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용',
      MSG_TEXT VARCHAR(3500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시인앱메시지',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      HP_CMPGN_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사설명(주석)',
      HP_REG_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항등록여부',
      HP_STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      HP_REG_STDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록시작일',
      HP_REG_EDDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록종료일',
      HP_REG_TITLE VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항제목',
      HP_REG_MSG VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항내용',
      HP_REG_REPLACE_TEXT VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '대체텍스트',
      HP_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일명',
      HP_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일_URL',
      CONTENTS_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청사항',
      CONTENTS_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일명',
      CONTENTS_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일_URL',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      IMG_USE_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지사용여부',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      PUSH_MSG_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지ID',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_CHNNL_APR
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , BIZ_ID
    , MSG_TYPE
    , MSG_PUSH_TYPE
    , PUSH_TITLE
    , PUSH_MSG
    , MSG_TEXT
    , CHNNL_RSV_SND_DTTM
    , HP_CMPGN_DESC
    , HP_REG_YN
    , HP_STR_ID
    , HP_REG_STDT
    , HP_REG_EDDT
    , HP_REG_TITLE
    , HP_REG_MSG
    , HP_REG_REPLACE_TEXT
    , HP_FILE_NM
    , HP_FILE_URL
    , CONTENTS_DESC
    , CONTENTS_FILE_NM
    , CONTENTS_FILE_URL
    , CHNNL_MSG_CD
    , STR_RPLY_NO
    , REJECT_MSG_CD
    , IMG_USE_YN
    , USE_YN
    , TST_GRP_CD
    , NULL -- PUSH_MSG_ID
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA_DEV.CM_CHNNL_APR_KANG
;


REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_APR  AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_APR FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_APR);



----------------------------------------------------------------------------------------------------
[ 첫화면의 캠페인 현황 ]

            SELECT A.CMPGN_NO                                                     AS CMPGN_NO
                 , A.CMPGN_NM                                                     AS CMPGN_NM
                 , B.CMPGN_CTGRY_NM                                               AS CMPGN_CTGRY_NM
                 , B.CMPGN_CTGRY_SB_NM                                            AS CMPGN_CTGRY_SB_NM
                 , A.STR_ID                                                       AS STR_ID
                 , A.CMPGN_STRT_DT                                                AS CMPGN_STRT_DT
                 , A.CMPGN_END_DT                                                 AS CMPGN_END_DT
                 , D.COMM_CD_VL                                                   AS CHNNL_TYP_VL
                 , CASE WHEN C.CMPGN_EXCT_STTS = 'CE05' THEN
                             TO_CHAR(C.CMPGN_EXCT_FNSH_DTTM, 'YY/MM/DD, HH24:MI')
                        ELSE TO_CHAR(C.CHNNL_RSV_SND_DTTM, 'YY/MM/DD, HH24:MI')
                   END                                                            AS SND_DTTM
                 , CASE WHEN A.CMPGN_STEP IN ('CS01','CS02') THEN
                             C.RSV_CNT
                             WHEN A.CMPGN_STEP IN ('CS03','CS04','CS05') THEN
                            C.RSV_CHC_CNT
                   ELSE C.SND_CNT
                   END                                                            AS TRGT_CUST_CNT
                 , C.SND_CNT                                                      AS SND_CNT
                 , E.PRCHSE_CUST_CNT                                              AS PRCHSE_CUST_CNT
                 , E.PRCHSE_CUST_RTO                                              AS PRCHSE_CUST_RTO
                 , G.COMM_CD_VL                                                   AS TRGT_MTHD_VL
                 , F.COMM_CD_VL                                                   AS CMPGN_STTS_VL
                 , TO_CHAR(A.SYS_CRTN_DTTM, 'YYYY-MM-DD')                         AS SYS_CRTN_DTTM
              FROM CMSVIEW.CM_CMPGN_MST A
                   LEFT OUTER JOIN CMSVIEW.CM_RSLT_ANLYSS_SMM E
                ON A.CMPGN_NO          = E.CMPGN_NO
                   LEFT OUTER JOIN CMSVIEW.CM_CMMN_CD G
                ON G.GRP_CD            = 'CM012'
               AND A.TRGT_MTHD_CD      = G.COMM_CD
                 , CMSVIEW.CM_CMPGN_CTGRY B
                 , CMSVIEW.CM_CMPGN_EXCT C
                 , CMSVIEW.CM_CMMN_CD D
                 , CMSVIEW.CM_CMMN_CD F
             WHERE A.CMPGN_CTGRY_CD    = B.CMPGN_CTGRY_CD
               AND A.CMPGN_CTGRY_SB_CD = B.CMPGN_CTGRY_SB_CD
               AND A.CMPGN_NO          = C.CMPGN_NO
               AND D.GRP_CD            = 'CM002'
               AND C.CHNNL_TYP_CD      = D.COMM_CD
               AND F.GRP_CD            = 'CM020'
               AND C.CMPGN_STTS        = F.COMM_CD
               AND A.STR_ID            = '1017'
        AND
            A.CMPGN_STRT_DT >= '2015-10-16'
        AND
            A.CMPGN_STRT_DT <= '2015-12-16'
             ORDER BY A.CMPGN_NO DESC, C.CHNNL_TYP_CD ASC

----------------------------------------------------------------------------------------------------

            SELECT    TOP 1 /* CmsDraftDoc.getCmsDraftDocInfo (기안지 정보) */
                A.CMPGN_NO               AS CMPGN_NO                          /* 캠페인 번호 */
                , A.CMPGN_NM             AS CMPGN_NM                          /* 캠페인 명 */
                , A.CMPGN_ANNTN          AS CMPGN_ANNTN                       /* 캠페인 설명 */
                , A.CMPGN_STRT_DT        AS CMPGN_STRT_DT                     /* 캠페인 시작일자 */
                , A.CMPGN_END_DT         AS CMPGN_END_DT                      /* 캠페인 종료일자 */
                , A.CMPGN_CTGRY_CD       AS CMPGN_CTGRY_CD                    /* 캠페인 분류코드 */
                , B.CMPGN_CTGRY_NM       AS CMPGN_CTGRY_NM                    /* 캠페인 분류명 */
                , A.CMPGN_CTGRY_SB_CD    AS CMPGN_CTGRY_SB_CD                 /* 캠페인 상세분류코드 */
                , B.CMPGN_CTGRY_SB_NM    AS CMPGN_CTGRY_SB_NM                 /* 캠페인 상세분류명 */
                , A.CMPGN_OFFR_CD        AS CMPGN_OFFR_CD                     /* 캠페인 오퍼 코드 */
                , D.CMPGN_OFFR_NM        AS CMPGN_OFFR_NM                     /* 캠페인 오퍼명 */
                , A.SCCSS_CNDTN_CD       AS SCCSS_CNDTN_CD                    /* 성공조건코드 */
                , E.SCCSS_CNDTN_NM       AS SCCSS_CNDTN_NM                    /* 성공조건명 */
                , C.MY_STR_ID            AS MY_STR_ID                         /* 점포ID */
                , C.MY_STR_NM            AS MY_STR_NM                         /* 점포명 */
                , A.SYS_FRST_OPRTN_ID    AS SYS_FRST_OPRTN_ID                 /* 기안등록사원ID */
                , C.USER_NM              AS USER_NM                           /* 기안등록사원명 */
                , C.CUST_ID              AS CUST_ID                           /* 기안등록사원 고객ID */
                , TO_CHAR(A.SYS_CRTN_DTTM, 'YYYY-MM-DD')    AS SYS_CRTN_DT    /* 캠페인 등록일자 */
                , Z.TGT_CNT              AS TGT_CNT                           /* 타겟 고객(수) */
                , CASE WHEN A.CMPGN_STEP IN ('CS01','CS02')        THEN F.RSV_CNT
                       WHEN A.CMPGN_STEP IN ('CS03','CS04','CS05') THEN F.RSV_CHC_CNT
                       ELSE F.SND_CNT    END                       AS TRGT_CUST_CNT  /* 타겟 고객(수) */
            FROM
                CMSVIEW_DEV.CM_CMPGN_MST                     A          /* 캠페인 마스터 */
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_CTGRY   B          /* 캠페인 카테고리 */
                    ON  B.CMPGN_CTGRY_CD    = A.CMPGN_CTGRY_CD
                    AND B.CMPGN_CTGRY_SB_CD = A.CMPGN_CTGRY_SB_CD
                LEFT OUTER JOIN (
                    SELECT DISTINCT
                        MY_STR_ID
                        , MY_STR_NM
                        , EMP_NO
                        , USER_NM
                        , CUST_ID
                    FROM
                        TCVM.STORE_EMP_CUST_ID                          /* 점포별 직원정보 */
                    WHERE 1=1
                )                                            C
                    ON C.EMP_NO = A.SYS_FRST_OPRTN_ID
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_OFFR    D          /* 캠페인 오퍼 정보 */
                    ON D.CMPGN_OFFR_CD     = A.CMPGN_OFFR_CD
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_CD E    /* 캠페인 성공조건 정보 */
                    ON E.SCCSS_CNDTN_CD    = A.SCCSS_CNDTN_CD
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_EXCT    F          /* 캠페인 실행 */
                    ON F.CMPGN_NO          = A.CMPGN_NO
                , (
                    SELECT
                        COUNT(*)   AS TGT_CNT
                    FROM
                        CMSVIEW_DEV.CM_TRGT_RQST_RSLT                   /* 타겟 요청 결과 */
                    WHERE 1=1
                        AND CMPGN_NO = 'C20151113101711755'
                )                              Z
            WHERE 1=1
                AND A.CMPGN_NO = 'C20151113101711755'



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


Insert into EMI_BLSMSIGN_INFO
   (SENDNO, ACTIONFLAG, SIGNBGN, SIGNDT, CMPGN_NO, TITLE, DOCURL, HTML_DATA, END_SIGN_CD, END_SIGN_DT, EMP_NO, KYULEMPNO1, KYULNAME1, KYULGBN1, CC_EMPNO, REG_ID, REG_DT, MOD_ID, MOD_DT)
 Values
   (seq, 'N', '1', TO_DATE('11/16/2015 17:31:05', 'MM/DD/YYYY HH24:MI:SS'), 'TEST2', 'CMS ???????', 'https://cms.emart.com:8343/SASEMARTCMS/common/CmsDraftDoc.do?method=page&cmpgn_no=C20151106101711544', 'CLOB_TEST', 'B', TO_DATE('11/16/2015 00:00:00', 'MM/DD/YYYY HH24:MI:SS'), '112644', '031880', '??????', 'S', '031880', 'CMS', TO_DATE('11/11/2015 19:49:54', 'MM/DD/YYYY HH24:MI:SS'), 'EMARTCMS', TO_DATE('11/16/2015 17:22:07', 'MM/DD/YYYY HH24:MI:SS'));

----------------------------------------------------------------------------------------------------

INSERT INTO
    EMI_BLSMSIGN_INFO
(
    SENDNO
    , ACTIONFLAG
    , SIGNBGN
    , SIGNDT
    , CMPGN_NO
    , TITLE, DOCURL
    , HTML_DATA
    , END_SIGN_CD
    , END_SIGN_DT
    , EMP_NO
    , KYULEMPNO1
    , KYULNAME1
    , KYULGBN1
    , CC_EMPNO
    , REG_ID
    , REG_DT
    , MOD_ID
    , MOD_DT
)
VALUES
(

    , (SELECT NVL(MAX(SENDNO),0)+1 FROM EMI_BLSMSIGN_INFO)
    , '1'
    , TO_DATE('11/16/2015 17:31:05', 'MM/DD/YYYY HH24:MI:SS')
    , 'TEST2'
    , 'CMS TEST'
    , 'https://cms.emart.com:8343/SASEMARTCMS/common/CmsDraftDoc.do?method=page&cmpgn_no=C20151106101711544'
    , 'CLOB_TEST'
    , 'B'
    , TO_DATE('11/16/2015 00:00:00', 'MM/DD/YYYY HH24:MI:SS')
    , '112644'
    , '031880'
    , 'NAME'
    , 'S'
    , '031880'
    , 'CMS'
    , TO_DATE('11/11/2015 19:49:54', 'MM/DD/YYYY HH24:MI:SS')
    , 'EMARTCMS'
    , TO_DATE('11/16/2015 17:22:07', 'MM/DD/YYYY HH24:MI:SS')
);


----------------------------------------------------------------------------------------------------

1. 점포사용자 인증
http://localhost:8080/SASEMARTCMS/common/loginChk.do?chrgpers_cd=001810&login_pwd=11111111

2. 결재목록 조회(등록중)
http://localhost:8080/SASEMARTCMS/branch/AA01001W.do?method=page


----------------------------------------------------------------------------------------------------

1. 점포사용자 인증
http://matcmsmine01:8888/SASEMARTCMS/common/loginChk.do?chrgpers_cd=001810&login_pwd=11111111

2. 결재목록 조회(등록중)
http://matcmsmine01:8888/SASEMARTCMS/branch/AA01001W.do?method=page

----------------------------------------------------------------------------------------------------

oracle stored procedure를 자바소스에서 사용하기

Oracle 에서 입력된 stored procedure 를 java에서 실행해서 결과를 얻고 싶으시다면, Statement 대신에 CallableStatement class를 사용하여 호출하면 된다.
그 뒤에는 어차피 insert, update 같은 것들과 같이 성공 또는 실패, 성공시 몇개가 성공했는지, query 인 경우에는 ResultSet 받아서 fetch 하면서 값 뽑아서 쓰시면 된다.

         // 위에서 JDBC  드라이버 잡고 Connection 까지 맺은 상태…
      CallableStatement cs = con.prepareCall("{call myStoredProcedure(?,?,?)}");
      cs.setInt(1,2);
      cs.registerOutParameter(2, java.sql.Types.VARCHAR);
      cs.registerOutParameter(3, java.sql.Types.INTEGER);
      cs.execute();
      System.out.println("*name : "+ cs.getString(2) +"*age : "+ cs.getInt(3));
      cs.close();
      con.close();








다음은 JAVA program에서 parameter가 있는 pl/sql stored procedure를 호출하는 예제이다. (IN, OUT, IN OUT)

1. procedure 생성
create or replace procedure javatest(
  p1 in varchar2,
  p2 in out varchar2,
  p3 out varchar2) as
begin
  p2:=p1 || p2;
  p3:=p1;
end;
/



2. java source
import java.sql.*;
import java.io.*;
import java.util.*;
public class callInoutProc extends Object {
   public static void main(String[] args) throws SQLException {
      DriverManager.registerDriver(new oracle.jdbc.driver.OracleDriver());
      // DB 접속
      Connection conn = DriverManager.getConnection ("jdbc:oracle:oci8:@S692815.WORLD", "scott", "tiger");
      // 변수 선언
      String p1value = new String("a");
      String p2value = new String("b");
      String p3value;
      // Prepare statement
      CallableStatement cs = conn.prepareCall("{call javatest(?,?,?)}");
      // IN parameter 값을 넘기기 위해 setString 함수를 사용
      cs.setString(1,p1value);
      cs.setString(2,p2value);
      // OUT parameter에 대한 정보를 registerOutParameter 함수를 이용하여 설정
      cs.registerOutParameter(2,Types.VARCHAR);
      cs.registerOutParameter(3,Types.VARCHAR);
      // Statement 수행
      cs.execute();
      // 수행결과 data를 가져옴.
      p2value = cs.getString(2);
      p3value = cs.getString(3);
      // 수행결과 출력
      System.out.println("p2 + p2value);
      System.out.println("p3 + p3value);
   }
}
3. 수행 결과
Sample Output
p2 is ab
p3 is a

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
SELECT * FROM CM_CMMN_CD WHERE GRP_CD = 'CM005';

DELETE FROM CM_CMMN_CD WHERE GRP_CD = 'CM005';

INSERT INTO CM_CMMN_CD(GRP_CD, GRP_NM, COMM_CD, COMM_CD_VL, SRT_SEQ_NO) VALUES ('CM005','캠페인단계','CS01','캠페인기획','1');
INSERT INTO CM_CMMN_CD(GRP_CD, GRP_NM, COMM_CD, COMM_CD_VL, SRT_SEQ_NO) VALUES ('CM005','캠페인단계','CS02','타겟선정','2');
INSERT INTO CM_CMMN_CD(GRP_CD, GRP_NM, COMM_CD, COMM_CD_VL, SRT_SEQ_NO) VALUES ('CM005','캠페인단계','CS03','사전분석(시뮬레이션)','3');
INSERT INTO CM_CMMN_CD(GRP_CD, GRP_NM, COMM_CD, COMM_CD_VL, SRT_SEQ_NO) VALUES ('CM005','캠페인단계','CS04','메시지작성','4');
INSERT INTO CM_CMMN_CD(GRP_CD, GRP_NM, COMM_CD, COMM_CD_VL, SRT_SEQ_NO) VALUES ('CM005','캠페인단계','CS05','캠페인승인요청','6');
INSERT INTO CM_CMMN_CD(GRP_CD, GRP_NM, COMM_CD, COMM_CD_VL, SRT_SEQ_NO) VALUES ('CM005','캠페인단계','CS06','블라썸전자결재','5');

SELECT * FROM CM_CMMN_CD WHERE GRP_CD = 'CM020';

INSERT INTO CM_CMMN_CD(GRP_CD, GRP_NM, COMM_CD, COMM_CD_VL, SRT_SEQ_NO) VALUES ('CM020','캠페인상태','CP10','승인요청(블라썸전자결재요청)','10');
INSERT INTO CM_CMMN_CD(GRP_CD, GRP_NM, COMM_CD, COMM_CD_VL, SRT_SEQ_NO) VALUES ('CM020','캠페인상태','CP11','승인요청(전자결재완료)','11');
INSERT INTO CM_CMMN_CD(GRP_CD, GRP_NM, COMM_CD, COMM_CD_VL, SRT_SEQ_NO) VALUES ('CM020','캠페인상태','CP12','승인요청(전자결재반송)','12');

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

    <!-- ============================================== -->
    <!-- insertEmiBlsmsignInfo -->
    <!-- ============================================== -->
    <insert id="insertEmiBlsmsignInfo" parameterClass="java.util.Map">
        <![CDATA[
            INSERT INTO
                EMI_BLSMSIGN_INFO
            (
                SENDNO
                , ACTIONFLAG
                , SIGNBGN
                , SIGNDT
                , CMPGN_NO
                , TITLE
                , DOCURL
                , HTML_DATA
                , END_SIGN_CD
                , END_SIGN_DT
                , EMP_NO
                , KYULEMPNO1
                , KYULNAME1
                , KYULGBN1
                , CC_EMPNO
                , REG_ID
                , REG_DT
                , MOD_ID
                , MOD_DT
            )
            VALUES
            (

                (SELECT NVL(MAX(SENDNO),0)+1 FROM EMI_BLSMSIGN_INFO)
                , 'N'           /* ACTIONFLAG : N -> P -> Y -> O/X */
                , NULL          /* SIGNBGN */
                , NULL          /* SIGNDT */
                , #cmpgn_no#    /* CMPGN_NO */
                , 'CMS TEST'    /* TITLE */
                , #url#         /* URL */
                , 'CLOB_DATA'   /* HTML_DATA */
                , NULL          /* END_SIGN_CD */
                , NULL          /* END_SIGN_DT */
                , #emp_no#      /* EMP_NO '112644'     */
                , #kyulempno1#  /* KYULEMPNO1 '031880' */
                , #kyulname1#   /* KYULNAME1 'NAME'    */
                , #kyulgbn1#    /* KYULGBN1 'S'        */
                , #cc_empno#    /* CC_EMPNO '031880'   */
                , 'CMS'         /* REG_ID */
                , SYSDATE       /* REG_DT */
                , NULL          /* MOD_ID */
                , NULL          /* MOD_DT */
            )
        ]]>
    </insert>


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

PC : http://localhost:8080/SASEMARTCMS/common/HH14310I.do?method=batchStepCd

운영 : https://cms.emart.com:8343/SASEMARTCMS/common/HH14310I.do?method=batchStepCd

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


SELECT
    A.CMPGN_NO
    , A.CMPGN_STEP
    , A.CMPGN_STTS
    , A.SCCSS_CNDTN_CD
    , A.*
FROM
    CMSVIEW_DEV.CM_CMPGN_MST A
WHERE 1=1
ORDER BY
    A.CMPGN_NO DESC
;



UPDATE
    CMSDATA_DEV.CM_CMPGN_MST
SET
    CMPGN_STEP = 'CS05'
WHERE 1=1
    AND CMPGN_NO = ''
;

-------------------------------------------------------


SELECT
    A.CMPGN_STTS
    , A.*
FROM
    CMSVIEW_DEV.CM_CMPGN_EXCT A
WHERE 1=1
ORDER BY
    A.CMPGN_NO DESC
    , A.CHNNL_NO
;



UPDATE
    CMSDATA_DEV.CM_CMPGN_EXCT
SET
    CMPGN_STTS = ('', 'O', 'CP11', 'CP12')
WHERE 1=1
    AND CMPGN_NO = ''
;


---------------------------------------------------------

SELECT DECODE('1', '1', '1111', '2', '22222', '33333')



----------------------------------------------------------------------------------------------------

PC : http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=batchStepCd


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


SELECT DECODE('1', '1', '1111', '2', '22222', '33333')


---------------------------------------------------------

SELECT 1234567890 FORMAT('Z9') || '원' AS NUM;


---------------------------------------------------------

            SELECT     /* CmsDraftDoc.getCmsDraftDocInfo2 : 사전분석 */
                 NVL(FORCST_RSPNC_RTO, 0) || '%'       AS FORCST_RSPNC_RTO      /* 예상 반응률 */
                 , CAST(NVL(FORCST_SLS_AMT      , 0) AS DECIMAL(18,0)) (FORMAT 'Z9') AS FORCST_SLS_AMT
                 , CAST(NVL(FORCST_ADD_SLS_AMT  , 0) AS DECIMAL(18,0)) (FORMAT 'Z9') AS FORCST_ADD_SLS_AMT
                 , CAST(NVL(FORCST_OFFR_EXP_AMT , 0) AS DECIMAL(18,0)) (FORMAT 'Z9') AS FORCST_OFFR_EXP_AMT
                 , CAST(NVL(FORCST_CHNNL_EXP_AMT, 0) AS DECIMAL(18,0)) (FORMAT 'Z9') AS FORCST_CHNNL_EXP_AMT
                 , CASE
                    WHEN FORCST_SLS_AMT > 10000 THEN CAST(NVL(FORCST_SLS_AMT / 10000, 0) AS INTEGER) || '만원'
                    ELSE CAST(NVL(FORCST_SLS_AMT, 0) AS INTEGER) || '원'
                    END                                                             AS FORCST_SLS_AMT1        /* 예상 매출 */
                 , CASE
                    WHEN FORCST_ADD_SLS_AMT > 10000 THEN CAST(NVL(FORCST_ADD_SLS_AMT / 10000, 0) AS INTEGER) || '만원'
                    ELSE CAST(NVL(FORCST_ADD_SLS_AMT, 0) AS INTEGER) || '원'
                    END                                                             AS FORCST_ADD_SLS_AMT1        /* 예상 매출 */
                 , CASE
                    WHEN FORCST_OFFR_EXP_AMT > 10000 THEN CAST(NVL(FORCST_OFFR_EXP_AMT / 10000, 0) AS INTEGER) || '만원'
                    ELSE CAST(NVL(FORCST_OFFR_EXP_AMT, 0) AS INTEGER) || '원'
                    END                                                             AS FORCST_OFFR_EXP_AMT1       /* 예상 매출 */
                 , CASE
                    WHEN FORCST_CHNNL_EXP_AMT > 10000 THEN CAST(NVL(FORCST_CHNNL_EXP_AMT / 10000, 0) AS INTEGER) || '만원'
                    ELSE CAST(NVL(FORCST_CHNNL_EXP_AMT, 0) AS INTEGER) || '원'
                    END                                                             AS FORCST_CHNNL_EXP_AMT1      /* 예상 매출 */
                 , CAST(NVL(FORCST_SLS_AMT      , 0) AS INTEGER) || '원'  AS FORCST_SLS_AMT0        /* 예상 매출 */
                 , CAST(NVL(FORCST_ADD_SLS_AMT  , 0) AS INTEGER) || '원'  AS FORCST_ADD_SLS_AMT0    /* 예상 추가 매출 */
                 , CAST(NVL(FORCST_OFFR_EXP_AMT , 0) AS INTEGER) || '원'  AS FORCST_OFFR_EXP_AMT0   /* 예상 오퍼 비용 */
                 , CAST(NVL(FORCST_CHNNL_EXP_AMT, 0) AS INTEGER) || '원'  AS FORCST_CHNNL_EXP_AMT0  /* 예상 채널 비용 */
              FROM CMSVIEW_DEV.SIMUL_FORCST_SMM


            SELECT     /* CmsDraftDoc.getCmsDraftDocInfo2 : 사전분석 */
                 NVL(FORCST_RSPNC_RTO, 0) || '%'       AS FORCST_RSPNC_RTO      /* 예상 반응률 */
                 , CASE
                    WHEN FORCST_SLS_AMT > 10000 THEN NVL(FORCST_SLS_AMT/10000, 0) FORMAT('Z9') || '만원'
                    ELSE NVL(FORCST_SLS_AMT, 0) FORMAT('Z9') || '원'
                    END                                                             AS FORCST_SLS_AMT        /* 예상 매출 */
                 , CASE
                    WHEN FORCST_ADD_SLS_AMT > 10000 THEN NVL(FORCST_ADD_SLS_AMT/10000, 0) FORMAT('Z9') || '만원'
                    ELSE NVL(FORCST_ADD_SLS_AMT, 0) FORMAT('Z9') || '원'
                    END                                                             AS FORCST_ADD_SLS_AMT        /* 예상 매출 */
                 , CASE
                    WHEN FORCST_OFFR_EXP_AMT > 10000 THEN NVL(FORCST_OFFR_EXP_AMT/10000, 0) FORMAT('Z9') || '만원'
                    ELSE NVL(FORCST_OFFR_EXP_AMT, 0) FORMAT('Z9') || '원'
                    END                                                             AS FORCST_OFFR_EXP_AMT       /* 예상 매출 */
                 , CASE
                    WHEN FORCST_CHNNL_EXP_AMT > 10000 THEN NVL(FORCST_CHNNL_EXP_AMT/10000, 0) FORMAT('Z9') || '만원'
                    ELSE NVL(FORCST_CHNNL_EXP_AMT, 0) FORMAT('Z9') || '원'
                    END                                                             AS FORCST_CHNNL_EXP_AMT      /* 예상 매출 */
                 , CAST(NVL(FORCST_SLS_AMT      , 0) AS INTEGER) || '원'  AS FORCST_SLS_AMT0        /* 예상 매출 */
                 , CAST(NVL(FORCST_ADD_SLS_AMT  , 0) AS INTEGER) || '원'  AS FORCST_ADD_SLS_AMT0    /* 예상 추가 매출 */
                 , CAST(NVL(FORCST_OFFR_EXP_AMT , 0) AS INTEGER) || '원'  AS FORCST_OFFR_EXP_AMT0   /* 예상 오퍼 비용 */
                 , CAST(NVL(FORCST_CHNNL_EXP_AMT, 0) AS INTEGER) || '원'  AS FORCST_CHNNL_EXP_AMT0  /* 예상 채널 비용 */
              FROM CMSVIEW_DEV.SIMUL_FORCST_SMM
             WHERE CMPGN_NO = 'C20151112101711549'


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

/* http://cafe.naver.com/teradataschool/149 */
SELECT
    TRIM(T2.DATABASENAME)     (VARCHAR(30))  AS DATABASES
    , TRIM(T2.TABLENAME)      (VARCHAR(30))  AS TABLES
    , TRIM(T1.COMMENTSTRING)  (VARCHAR(255)) AS TABLECOMMENT
    , TRIM(T2.COLUMNNAME)     (VARCHAR(30))  AS COLUMNS
    , TRIM(T2.COLUMNTITLE)    (VARCHAR(60))  AS COLUMNTITLE
    , (CASE
        WHEN T2.COLUMNTYPE = 'DA'  THEN 'DATE'
        WHEN T2.COLUMNTYPE = 'I'   THEN 'INTEGER'
        WHEN T2.COLUMNTYPE = 'I1'  THEN 'BYTEINT'
        WHEN T2.COLUMNTYPE = 'I2'  THEN 'SMALLINT'
        WHEN T2.COLUMNTYPE = 'F'   THEN 'FLOAT'
        WHEN T2.COLUMNTYPE = 'TS'  THEN 'TIMESTAMP'
        WHEN T2.COLUMNTYPE = 'AT'  THEN 'TIME'
        WHEN T2.COLUMNTYPE = 'CF'  THEN 'CHAR(' || TRIM((COALESCE(T2.DECIMALTOTALDIGITS, T2.COLUMNLENGTH, 0)) (FORMAT '------9') (CHAR(07))) || ')'
        WHEN T2.COLUMNTYPE = 'CV'  THEN 'VARCHAR(' || TRIM((COALESCE(T2.DECIMALTOTALDIGITS, T2.COLUMNLENGTH, 0)) (FORMAT '------9') (CHAR(07))) || ')'
        WHEN T2.COLUMNTYPE = 'D'   THEN 'DECIMAL(' || TRIM((COALESCE(T2.DECIMALTOTALDIGITS, T2.COLUMNLENGTH, 0)) (FORMAT '------9') (CHAR(07))) || ')'
        WHEN T2.COLUMNTYPE = 'BF'  THEN 'BYTE(' || TRIM((COALESCE(T2.DECIMALTOTALDIGITS, T2.COLUMNLENGTH, 0)) (FORMAT '------9') (CHAR(07))) || ')'
        WHEN T2.COLUMNTYPE = 'BV'  THEN 'VARBYTE(' || TRIM((COALESCE(T2.DECIMALTOTALDIGITS, T2.COLUMNLENGTH, 0)) (FORMAT '------9') (CHAR(07))) || ')'
        ELSE NULL
        END)      (VARCHAR(30))  AS DATATYPE
    , T2.COLUMNID
    --, T2.COLUMNTYPE
    --, T2.COLUMNLENGTH
    , (CASE
        WHEN ZEROIFNULL(T3.PRIMARYINDEX) = 0 AND ZEROIFNULL(T3.SECONDARYINDEX) = 0 THEN ''
        WHEN ZEROIFNULL(T3.PRIMARYINDEX) = 0 THEN 'S'
        WHEN ZEROIFNULL(T3.SECONDARYINDEX) = 0 THEN 'P'
        ELSE 'PS'
        END)                                 AS INDEXS
    , TRIM(T2.COLUMNFORMAT)                  AS FORMATS
    , T1.CREATETIMESTAMP
    , TRIM((COALESCE(T2.COMMENTSTRING,'')))  AS COMMENTS
    , 'COMMENT ON COLUMN ' || TRIM(T1.DATABASENAME) || ',' || TRIM(T2.TABLENAME) || ',' || TRIM(T2.COLUMNNAME) || ' IS ''' || TRIM((COALESCE(T2.COMMENTSTRING,''))) || ''';' AS COMMENTCOMMAND
FROM
    DBC.TABLES  T1
    INNER JOIN DBC.COLUMNS T2
        ON T1.DATABASENAME = T2.DATABASENAME
        AND T1.TABLENAME = T2.TABLENAME
    LEFT OUTER JOIN (
        SELECT
            DATABASENAME
            , TABLENAME
            , COLUMNNAME
            , SUM(CASE
                WHEN INDEXTYPE IN ('P','K','Q') THEN 1
                ELSE 0
                END)    AS PRIMARYINDEX
            , SUM(CASE
                WHEN INDEXTYPE IN ('S','V') THEN 1
                ELSE 0
                END)    AS SECONDARYINDEX
        FROM
            DBC.INDICES
        WHERE 1=1
        GROUP BY
            1,2,3
    ) T3
        ON T1.DATABASENAME = T3.DATABASENAME
        AND T1.TABLENAME = T3.TABLENAME
        AND T2.COLUMNNAME = T3.COLUMNNAME
WHERE 1=1
    --AND T1.DATABASENAME = '데이터베이스명'
    --AND T2.TABLENAME = '테이블명'
    AND T1.DATABASENAME = 'CMSDATA_DEV'
    AND T2.TABLENAME = 'CM_CMPGN_MST'
    --AND T2.COMMENTSTRING LIKE '%공시%'
    --AND T2.COLUMNTITLE LIKE '%기준가%'
    --AND T2.COLUMNNAME = 'ORDR_CCD'
ORDER BY
    T2.DATABASENAME
    , T1.TABLENAME
    , T2.COLUMNID
;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

DROP TABLE BLSAPPROVAL.KANG_TEST;

CREATE TABLE BLSAPPROVAL.KANG_TEST
(
  SEQ  INTEGER,
  MSG  VARCHAR2(1000)
)
;


----------------------------------------------------------------------------------------------------

http://cafe.naver.com/buldon/4330


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SELECT
    A.*
FROM
    CMSVIEW_DEV.CM_CMMN_CD A
WHERE 1=1
   -- AND GRP_CD = ''
ORDER BY GRP_CD, COMM_CD
;



--------------------------------------------------------------------------------------------

            SELECT    TOP 1 /* CmsDraftDoc.getCmsDraftDocInfo (기안지 정보) */
                A.CMPGN_NO               AS CMPGN_NO                          /* 캠페인 번호 */
                , A.CMPGN_NM             AS CMPGN_NM                          /* 캠페인 명 */
                , A.CMPGN_ANNTN          AS CMPGN_ANNTN                       /* 캠페인 설명 */
                , A.CMPGN_STRT_DT        AS CMPGN_STRT_DT                     /* 캠페인 시작일자 */
                , A.CMPGN_END_DT         AS CMPGN_END_DT                      /* 캠페인 종료일자 */
                , A.CMPGN_CTGRY_CD       AS CMPGN_CTGRY_CD                    /* 캠페인 분류코드 */
                , B.CMPGN_CTGRY_NM       AS CMPGN_CTGRY_NM                    /* 캠페인 분류명 */
                , A.CMPGN_CTGRY_SB_CD    AS CMPGN_CTGRY_SB_CD                 /* 캠페인 상세분류코드 */
                , B.CMPGN_CTGRY_SB_NM    AS CMPGN_CTGRY_SB_NM                 /* 캠페인 상세분류명 */
                , A.CMPGN_OFFR_CD        AS CMPGN_OFFR_CD                     /* 캠페인 오퍼 코드 */
                , D.CMPGN_OFFR_NM        AS CMPGN_OFFR_NM                     /* 캠페인 오퍼명 */
                , A.SCCSS_CNDTN_CD       AS SCCSS_CNDTN_CD                    /* 성공조건코드 */
                , E.SCCSS_CNDTN_NM       AS SCCSS_CNDTN_NM                    /* 성공조건명 */
                , C.MY_STR_ID            AS MY_STR_ID                         /* 점포ID */
                , C.MY_STR_NM            AS MY_STR_NM                         /* 점포명 */
                , A.SYS_FRST_OPRTN_ID    AS SYS_FRST_OPRTN_ID                 /* 기안등록사원ID */
                , C.USER_NM              AS USER_NM                           /* 기안등록사원명 */
                , C.CUST_ID              AS CUST_ID                           /* 기안등록사원 고객ID */
                , TO_CHAR(A.SYS_CRTN_DTTM, 'YYYY-MM-DD')    AS SYS_CRTN_DT    /* 캠페인 등록일자 */
                , A.CMPGN_STEP           AS CMPGN_STEP                        /* 캠페인 스텝 */
            FROM
                CMSVIEW_DEV.CM_CMPGN_MST                     A          /* 캠페인 마스터 */
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_CTGRY   B          /* 캠페인 카테고리 */
                    ON  B.CMPGN_CTGRY_CD    = A.CMPGN_CTGRY_CD
                    AND B.CMPGN_CTGRY_SB_CD = A.CMPGN_CTGRY_SB_CD
                LEFT OUTER JOIN (
                    SELECT DISTINCT
                        MY_STR_ID
                        , MY_STR_NM
                        , EMP_NO
                        , USER_NM
                        , CUST_ID
                    FROM
                        TCVM.STORE_EMP_CUST_ID                          /* 점포별 직원정보 */
                    WHERE 1=1
                    )                                            C
                    ON C.EMP_NO = A.SYS_FRST_OPRTN_ID
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_OFFR    D          /* 캠페인 오퍼 정보 */
                    ON D.CMPGN_OFFR_CD     = A.CMPGN_OFFR_CD
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_CD E    /* 캠페인 성공조건 정보 */
                    ON E.SCCSS_CNDTN_CD    = A.SCCSS_CNDTN_CD
            WHERE 1=1
                AND A.CMPGN_NO = 'C20151112101711549'
;

------------------------------------------------------------------------------------------------------

            SELECT
                A.RSV_CNT         /* A.CMPGN_STEP IN ('CS01','CS02')         */
                , A.RSV_CHC_CNT   /* A.CMPGN_STEP IN ('CS03','CS04','CS05')  */
                , A.SND_CNT       /* ELSE                                    */
                , A.*
            FROM
                --CMSVIEW_DEV.CM_CMPGN_MST A
                --,
                CMSVIEW_DEV.CM_CMPGN_EXCT  A
            WHERE 1=1
                AND A.CMPGN_NO = 'C20151112101711549'
                --AND B.CMPGN_NO = A.CMPGN_NO
            ;

------------------------------------------------------------------------------------------------------

                SELECT
                    B1.COMM_CD_VL               AS CHNNL_NAME
                    , A1.CHNNL_NO               AS CHNNL_NO
                    , A1.CHNNL_DESC             AS CONTENTS
                    , TO_CHAR(A1.CHNNL_RSV_SND_DTTM, 'YYYY-MM-DD HH24:MI:SS')    AS  SND_DTTM
                FROM
                    CMSVIEW_DEV.CM_CHNNL_SMS A1
                    , CMSVIEW_DEV.CM_CMMN_CD B1
                WHERE 1=1
                    AND A1.CHNNL_NO IN (SELECT CHNNL_NO FROM CMSVIEW_DEV.CM_CMPGN_EXCT WHERE CMPGN_NO = #cmpgn_no#)
                    AND B1.GRP_CD = 'CM002' AND B1.COMM_CD = 'SMS'

------------------------------------------------------------------------------------------------------

                SELECT
                    A1.CMPGN_NO           AS CMPGN_NO
                    , D1.COMM_CD_VL       AS CHNNL_NAME
                    , B1.CHNNL_NO         AS CHNNL_NO
                    , C1.CHNNL_DESC       AS CONTENTS
                    , TO_CHAR(C1.CHNNL_RSV_SND_DTTM, 'YYYY-MM-DD HH24:MI:SS')  AS SND_DTTM
                    , B1.RSV_CHC_CNT      AS TRGT_CUST_CNT
                FROM
                    CMSVIEW_DEV.CM_CMPGN_MST      A1
                    , CMSVIEW_DEV.CM_CMPGN_EXCT   B1
                    , CMSVIEW_DEV.CM_CHNNL_SMS    C1
                    , CMSVIEW_DEV.CM_CMMN_CD      D1
                WHERE 1=1
                    AND A1.CMPGN_NO = 'C20151112101711549'
                    AND B1.CMPGN_NO = A1.CMPGN_NO
                    AND B1.CHNNL_NO LIKE 'SMS%'
                    AND C1.CHNNL_NO = B1.CHNNL_NO
                    AND D1.GRP_CD = 'CM002' AND D1.COMM_CD = 'SMS'
                ;
------------------------------------------------------------------------------------------------------


            /* CmsDraftDoc.getCmsDraftDocInfo4 : 채널정보 */
            (   /* SMS */
                SELECT
                    A1.CMPGN_NO           AS CMPGN_NO
                    , D1.COMM_CD_VL       AS CHNNL_NAME
                    , B1.CHNNL_NO         AS CHNNL_NO
                    , C1.CHNNL_DESC       AS CONTENTS
                    , TO_CHAR(C1.CHNNL_RSV_SND_DTTM, 'YYYY-MM-DD HH24:MI:SS')  AS SND_DTTM
                    , B1.RSV_CHC_CNT      AS TRGT_CUST_CNT
                FROM
                    CMSVIEW_DEV.CM_CMPGN_MST      A1
                    , CMSVIEW_DEV.CM_CMPGN_EXCT   B1
                    , CMSVIEW_DEV.CM_CHNNL_SMS    C1
                    , CMSVIEW_DEV.CM_CMMN_CD      D1
                WHERE 1=1
                    AND A1.CMPGN_NO = 'C20151112101711549'
                    AND B1.CMPGN_NO = A1.CMPGN_NO
                    AND B1.CHNNL_NO LIKE 'SMS%'
                    AND C1.CHNNL_NO = B1.CHNNL_NO
                    AND D1.GRP_CD = 'CM002' AND D1.COMM_CD = 'SMS'
            )
            UNION ALL
            (   /* LMS */
                SELECT
                    A1.CMPGN_NO           AS CMPGN_NO
                    , D1.COMM_CD_VL       AS CHNNL_NAME
                    , B1.CHNNL_NO         AS CHNNL_NO
                    , C1.CHNNL_DESC       AS CONTENTS
                    , TO_CHAR(C1.CHNNL_RSV_SND_DTTM, 'YYYY-MM-DD HH24:MI:SS')  AS SND_DTTM
                    , B1.RSV_CHC_CNT      AS TRGT_CUST_CNT
                FROM
                    CMSVIEW_DEV.CM_CMPGN_MST      A1
                    , CMSVIEW_DEV.CM_CMPGN_EXCT   B1
                    , CMSVIEW_DEV.CM_CHNNL_LMS    C1
                    , CMSVIEW_DEV.CM_CMMN_CD      D1
                WHERE 1=1
                    AND A1.CMPGN_NO = 'C20151112101711549'
                    AND B1.CMPGN_NO = A1.CMPGN_NO
                    AND B1.CHNNL_NO LIKE 'LMS%'
                    AND C1.CHNNL_NO = B1.CHNNL_NO
                    AND D1.GRP_CD = 'CM002' AND D1.COMM_CD = 'LMS'
            )
            UNION ALL
            (   /* MMS */
                SELECT
                    A1.CMPGN_NO           AS CMPGN_NO
                    , D1.COMM_CD_VL       AS CHNNL_NAME
                    , B1.CHNNL_NO         AS CHNNL_NO
                    , C1.CHNNL_DESC       AS CONTENTS
                    , TO_CHAR(C1.CHNNL_RSV_SND_DTTM, 'YYYY-MM-DD HH24:MI:SS')  AS SND_DTTM
                    , B1.RSV_CHC_CNT      AS TRGT_CUST_CNT
                FROM
                    CMSVIEW_DEV.CM_CMPGN_MST      A1
                    , CMSVIEW_DEV.CM_CMPGN_EXCT   B1
                    , CMSVIEW_DEV.CM_CHNNL_MMS    C1
                    , CMSVIEW_DEV.CM_CMMN_CD      D1
                WHERE 1=1
                    AND A1.CMPGN_NO = 'C20151112101711549'
                    AND B1.CMPGN_NO = A1.CMPGN_NO
                    AND B1.CHNNL_NO LIKE 'MMS%'
                    AND C1.CHNNL_NO = B1.CHNNL_NO
                    AND D1.GRP_CD = 'CM002' AND D1.COMM_CD = 'MMS'
            )
            UNION ALL
            (   /* BMS */
                SELECT
                    A1.CMPGN_NO           AS CMPGN_NO
                    , D1.COMM_CD_VL       AS CHNNL_NAME
                    , B1.CHNNL_NO         AS CHNNL_NO
                    , C1.CHNNL_DESC       AS CONTENTS
                    , TO_CHAR(C1.CHNNL_RSV_SND_DTTM, 'YYYY-MM-DD HH24:MI:SS')  AS SND_DTTM
                    , B1.RSV_CHC_CNT      AS TRGT_CUST_CNT
                FROM
                    CMSVIEW_DEV.CM_CMPGN_MST      A1
                    , CMSVIEW_DEV.CM_CMPGN_EXCT   B1
                    , CMSVIEW_DEV.CM_CHNNL_BMS    C1
                    , CMSVIEW_DEV.CM_CMMN_CD      D1
                WHERE 1=1
                    AND A1.CMPGN_NO = 'C20151112101711549'
                    AND B1.CMPGN_NO = A1.CMPGN_NO
                    AND B1.CHNNL_NO LIKE 'BMS%'
                    AND C1.CHNNL_NO = B1.CHNNL_NO
                    AND D1.GRP_CD = 'CM002' AND D1.COMM_CD = 'BMS'
            )
            UNION ALL
            (   /* APT */
                SELECT
                    A1.CMPGN_NO           AS CMPGN_NO
                    , D1.COMM_CD_VL       AS CHNNL_NAME
                    , B1.CHNNL_NO         AS CHNNL_NO
                    , C1.MSG_TEXT         AS CONTENTS
                    , TO_CHAR(C1.CHNNL_RSV_SND_DTTM, 'YYYY-MM-DD HH24:MI:SS')  AS SND_DTTM
                    , B1.RSV_CHC_CNT      AS TRGT_CUST_CNT
                FROM
                    CMSVIEW_DEV.CM_CMPGN_MST      A1
                    , CMSVIEW_DEV.CM_CMPGN_EXCT   B1
                    , CMSVIEW_DEV.CM_CHNNL_APT    C1
                    , CMSVIEW_DEV.CM_CMMN_CD      D1
                WHERE 1=1
                    AND A1.CMPGN_NO = 'C20151112101711549'
                    AND B1.CMPGN_NO = A1.CMPGN_NO
                    AND B1.CHNNL_NO LIKE 'APT%'
                    AND C1.CHNNL_NO = B1.CHNNL_NO
                    AND D1.GRP_CD = 'CM002' AND D1.COMM_CD = 'APT'
            )
            UNION ALL
            (   /* APR */
                SELECT
                    A1.CMPGN_NO           AS CMPGN_NO
                    , D1.COMM_CD_VL       AS CHNNL_NAME
                    , B1.CHNNL_NO         AS CHNNL_NO
                    , C1.MSG_TEXT         AS CONTENTS
                    , TO_CHAR(C1.CHNNL_RSV_SND_DTTM, 'YYYY-MM-DD HH24:MI:SS')  AS SND_DTTM
                    , B1.RSV_CHC_CNT      AS TRGT_CUST_CNT
                FROM
                    CMSVIEW_DEV.CM_CMPGN_MST      A1
                    , CMSVIEW_DEV.CM_CMPGN_EXCT   B1
                    , CMSVIEW_DEV.CM_CHNNL_APR    C1
                    , CMSVIEW_DEV.CM_CMMN_CD      D1
                WHERE 1=1
                    AND A1.CMPGN_NO = 'C20151112101711549'
                    AND B1.CMPGN_NO = A1.CMPGN_NO
                    AND B1.CHNNL_NO LIKE 'APR%'
                    AND C1.CHNNL_NO = B1.CHNNL_NO
                    AND D1.GRP_CD = 'CM002' AND D1.COMM_CD = 'APR'
            )




------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------

https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=batchStepCd

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------
-- 타겟팅방법 : 테마별타겟

        SELECT A.CMPGN_NO   AS CMPGN_NO                     /* 캠페인번호 */
             , A.RFR_CMPGN_NO   AS RFR_CMPGN_NO             /* 참조캠페인번호 */
             , A.CMPGN_NM   AS CMPGN_NM                     /* 캠페인명 */
             , A.CMPGN_ANNTN AS CMPGN_ANNTN                 /* 캠페인설명 */
             , A.CHNNL_ANNTN AS CHNNL_ANNTN                 /* 채널설명 */
             , A.CMPGN_STEP AS CMPGN_STEP                   /* 캠페인단계 */
             , A.SND_TYP_CD AS SND_TYP_CD                   /* 발송구분코드 */
             , A.CMPGN_MTHD_CD AS CMPGN_MTHD_CD             /* 캠페인방법코드 */
             , A.TRGT_MTHD_CD   AS TRGT_MTHD_CD             /* 타겟팅방법코드 */
             , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM012' AND COMM_CD = A.TRGT_MTHD_CD) AS TRGT_MTHD_NM
             , A.CMPGN_CTGRY_CD AS CMPGN_CTGRY_CD           /* 캠페인분류코드 */
             , B.CMPGN_CTGRY_NM AS CMPGN_CTGRY_NM           /* 캠페인분류명 */
             , A.CMPGN_CTGRY_SB_CD AS CMPGN_CTGRY_SB_CD     /* 캠페인세분류코드 */
             , B.CMPGN_CTGRY_SB_NM AS CMPGN_CTGRY_SB_NM     /* 캠페인세분류명 */
             , A.CHNNL_DVD_PLCY_YN AS CHNNL_DVD_PLCY_YN     /* 채널배분정책사용여부 */
             , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM028' AND COMM_CD = A.CHNNL_DVD_PLCY_YN) AS CHNNL_DVD_PLCY_NM
             , A.STR_ID AS STR_ID                           /* 점포아이디 */
             , C.STORENM AS STR_NM
             , A.CMPGN_STRT_DT AS CMPGN_STRT_DT             /* 캠페인시작일자 */
             , A.CMPGN_END_DT AS CMPGN_END_DT               /* 캠페인종료일자 */
             , A.EFF_ANAL_STRT_DT AS EFF_ANAL_STRT_DT       /* 효과분석시작일자 */
             , A.EFF_ANAL_END_DT AS EFF_ANAL_END_DT         /* 효과분석종료일자 */
             , A.CMPGN_RJCT_RSN AS CMPGN_RJCT_RSN           /* 캠페인반려사유 */
             , A.CMPGN_OFFR_CD AS CMPGN_OFFR_CD             /* 캠페인오퍼코드 */
             , E.CMPGN_OFFR_NM AS CMPGN_OFFR_NM
             , A.CMPGN_OFFR_EXP AS CMPGN_OFFR_EXP           /* 캠페인오퍼비용 */
             , A.CMPGN_OFFR_EXP_TYP_CD AS CMPGN_OFFR_EXP_TYP_CD /* 캠페인오퍼비용구분코드 */
             , A.CMPGN_OFFR_PAY_DT AS CMPGN_OFFR_PAY_DT         /* 캠페인오퍼지급일자 */
             , A.CMPGN_OFFR_EVNT_DESC AS CMPGN_OFFR_EVNT_DESC       /* 캠페인오퍼행사내용 */
             , A.CMPGN_PRDGFT_NM AS CMPGN_PRDGFT_NM     /* 캠페인사은품명 */
             , A.EVNT_NO AS EVNT_NO                     /* 행사번호 */
             , A.EVNT_DESC AS EVNT_DESC                 /* 행사내용 */
             , A.CMPGN_PLCY_NO AS CMPGN_PLCY_NO         /* 캠페인정책번호 */
             , A.THM_TRGT_TYP_CD AS THM_TRGT_TYP_CD     /* 테마별타겟분류코드 */
             , D.THM_TRGT_TYP_NM AS THM_TRGT_TYP_NM
             , A.THM_TRGT_CD AS THM_TRGT_CD             /* 테마별타겟코드 */
             , D.THM_TRGT_NM AS THM_TRGT_NM
             , A.SCCSS_CNDTN_CD AS SCCSS_CNDTN_CD           /* 성공조건코드 */
             , F.SCCSS_CNDTN_NM AS SCCSS_CNDTN_NM
             , A.CMPGN_EXCT_RNK AS CMPGN_EXCT_RNK           /* 캠페인실행순위 */
             , A.CMPGN_RQST_ID AS CMPGN_RQST_ID         /* 캠페인요청자아이디 */
             , C.CHRGPERS_NM AS CMPGN_RQST_NM
             , A.FNL_APPRVL_ID AS FNL_APPRVL_ID         /* 최종승인자아이디 */
             , A.FNL_APPRVL_DTTM AS FNL_APPRVL_DTTM     /* 최종승인일시 */
             , A.FNL_APPRVL_STS AS FNL_APPRVL_STS           /* 최종승인상태 */
             , A.EFF_ANAL_STRT_DT AS EFF_ANAL_STRT_DT       /* 효과분석시작일자 */
             , A.EFF_ANAL_END_DT AS EFF_ANAL_END_DT         /* 효과분석종료일자 */
             , A.TOPN AS TOPN
             , A.CUST_CNT AS CUST_CNT
             , A.CUST_CNT_T AS CUST_CNT_T
             , A.GFT_SYS_REG_YN AS GFT_SYS_REG_YN       /* 사은품시스템등록여부 */
             , A.SND_TYP_CD AS SND_TYP_CD               /* 발송구분코드 */
             , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM027' AND COMM_CD = A.SND_TYP_CD) AS SND_TYP_NM
          FROM CMSVIEW.CM_CMPGN_MST A
               LEFT OUTER JOIN CMSVIEW.CM_CMPGN_CTGRY B
            ON A.CMPGN_CTGRY_SB_CD = B.CMPGN_CTGRY_SB_CD
               LEFT OUTER JOIN TSVM.CMS_USER_CRM C
            ON A.CMPGN_RQST_ID = C.CHRGPERS_CD
               LEFT OUTER JOIN CMSVIEW.CM_THM_TRGT D
            ON A.THM_TRGT_CD = D.THM_TRGT_CD
               LEFT OUTER JOIN CMSVIEW.CM_CMPGN_OFFR E          /* 캠페인 오퍼 */
            ON A.CMPGN_OFFR_CD = E.CMPGN_OFFR_CD
               LEFT OUTER JOIN CMSVIEW.CM_CMPGN_SCCS_CNDTN_CD F
            ON A.SCCSS_CNDTN_CD = F.SCCSS_CNDTN_CD
         WHERE CMPGN_NO = 'C20151110101711626'
;


------------------------------------------------------------------------------
-- 타겟팅방법 : 선택형타겟

        SELECT A.CMPGN_NO AS CMPGN_NO
             , A.TRGT_CNDTN_CD AS TRGT_CNDTN_CD
             , A.SEQ_NO AS SEQ_NO
             , A.CLMN_CNT AS CLMN_CNT
             , C.TRGT_CNDTN_TYP_NM AS TRGT_CNDTN_TYP_NM
             , C.TRGT_CNDTN_NM AS TRGT_CNDTN_NM
             , A.TRGT_CHC_VL1 AS TRGT_CHC_VL1
             , A.TRGT_CHC_VL2 AS TRGT_CHC_VL2
             , A.TRGT_CHC_VL3 AS TRGT_CHC_VL3
             , A.TRGT_CHC_VL4 AS TRGT_CHC_VL4
             , A.TRGT_CHC_VL5 AS TRGT_CHC_VL5
             , A.TRGT_CHC_VL6 AS TRGT_CHC_VL6
             , A.TRGT_CHC_VL7 AS TRGT_CHC_VL7
             , A.TRGT_CHC_VL8 AS TRGT_CHC_VL8
             , A.TRGT_CHC_VL9 AS TRGT_CHC_VL9
             , A.TRGT_CHC_VL10 AS TRGT_CHC_VL10
             , A.TRGT_CHC_NM1 AS TRGT_CHC_NM1
             , A.TRGT_CHC_NM2 AS TRGT_CHC_NM2
             , A.TRGT_CHC_NM3 AS TRGT_CHC_NM3
             , A.TRGT_CHC_NM4 AS TRGT_CHC_NM4
             , A.TRGT_CHC_NM5 AS TRGT_CHC_NM5
             , A.TRGT_CHC_NM6 AS TRGT_CHC_NM6
             , A.TRGT_CHC_NM7 AS TRGT_CHC_NM7
             , A.TRGT_CHC_NM8 AS TRGT_CHC_NM8
             , A.TRGT_CHC_NM9 AS TRGT_CHC_NM9
             , A.TRGT_CHC_NM10 AS TRGT_CHC_NM10
             , A.PRD_USE_YN AS PRD_USE_YN
             , A.MLT_YN AS MLT_YN                               /* 멀티여부 */
             , A.EXCPT_YN AS EXCPT_YN                           /* 제외여부 */
             , A.CNDTN_CHC_MTHD_CD AS CNDTN_CHC_MTHD_CD         /* 조건선택방법코드 */
             , A.DB_NM AS DB_NM                                 /* 데이터베이스명 */
             , A.TBL_NM AS TBL_NM                               /* 테이블명 */
             , A.CLMN_NM AS CLMN_NM                             /* 컬럼명 */
             , A.CMPRSN_OPRTR_GRP_CD AS CMPRSN_OPRTR_GRP_CD     /* 논리연산자구분코드 */
             , A.LGC_OPRTR_GRP_CD AS LGC_OPRTR_GRP_CD           /* 비교연산자구분코드 */
             , A.PRD_CLMN_NM AS PRD_CLMN_NM
             , A.TRGT_CHC_GRP_NM AS TRGT_CHC_GRP_NM
             , C.REF_TRGT_CNDTN_CD AS REF_TRGT_CNDTN_CD         /* 필수참조타겟조건코드 */
             , D.CNDTN_CHC_MTHD_CD AS REF_CNDTN_CHC_MTHD_CD     /* 필수참조타겟조건코드 조건선택방법코드 */
          FROM CMSVIEW.CM_CMPGN_TRGT_CHC A
             , CMSVIEW.CM_CMPGN_MST B
             , CMSVIEW.CM_TRGT_CNDTN C
          LEFT OUTER JOIN CMSVIEW.CM_TRGT_CNDTN D
            ON C.REF_TRGT_CNDTN_CD = D.TRGT_CNDTN_CD
         WHERE 1 = 1
           AND A.CMPGN_NO = B.CMPGN_NO
           AND A.TRGT_CNDTN_CD = C.TRGT_CNDTN_CD
            AND
                C.EXCPT_YN = 'N'
           AND A.CMPGN_NO = 'C20151117101711793'
         ORDER BY A.SEQ_NO
;

------------------------------------------------------------------------------


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

        var pars = "cmpgn_no=${cmpgnMst.cmpgn_no}&chnnl_typ_cd=" + chnnl_typ_cd + "&chnnl_no=" + chnnl_no;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

https://cms.emart.com:8343/SASEMARTCMS/common/HH14063I.do?method=batchService&cmpgn_no=C20150831101711500&chnnl_no=APT1017151117190

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 운영 ] CM_CHNNL_SMS

-- CREATE TABLE
CREATE SET TABLE CMSDATA.CM_CHNNL_SMS_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      SND_DESC VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용문구',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_CHNNL_SMS_KANG
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , CHNNL_DESC
    , STR_RPLY_NO
    , CHNNL_RSV_SND_DTTM
    , TST_GRP_CD
    , RPLC_WRD_1
    , RPLC_WRD_2
    , RPLC_WRD_3
    , RPLC_WRD_4
    , RPLC_WRD_5
    , CRTRN_STRT_DT
    , CRTRN_END_DT
    , USE_YN
    , CHNNL_MSG_CD
    , REJECT_MSG_CD
    , NULL   -- SND_DESC
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_CHNNL_SMS
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CHNNL_SMS;

-- RENAME
RENAME TABLE CMSDATA.CM_CHNNL_SMS_KANG TO CMSDATA.CM_CHNNL_SMS;

-- MAKE VIEW
REPLACE VIEW CMSVIEW.CM_CHNNL_SMS  AS LOCKING TABLE CMSDATA.CM_CHNNL_SMS FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_SMS);


SELECT * FROM CMSVIEW.CM_CHNNL_SMS;



----------------------------------------------------------------------------------------------------
[ 개발 ] CM_CHNNL_SMS

-- CREATE TABLE
CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_SMS_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      SND_DESC VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용문구',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_CHNNL_SMS_KANG
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , CHNNL_DESC
    , STR_RPLY_NO
    , CHNNL_RSV_SND_DTTM
    , TST_GRP_CD
    , RPLC_WRD_1
    , RPLC_WRD_2
    , RPLC_WRD_3
    , RPLC_WRD_4
    , RPLC_WRD_5
    , CRTRN_STRT_DT
    , CRTRN_END_DT
    , USE_YN
    , CHNNL_MSG_CD
    , REJECT_MSG_CD
    , NULL   -- SND_DESC
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA_DEV.CM_CHNNL_SMS
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_CHNNL_SMS;

-- RENAME
RENAME TABLE CMSDATA_DEV.CM_CHNNL_SMS_KANG TO CMSDATA_DEV.CM_CHNNL_SMS;

-- MAKE VIEW
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_SMS  AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_SMS FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_SMS);


SELECT * FROM CMSVIEW_DEV.CM_CHNNL_SMS;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 운영 ] CM_CHNNL_LMS

-- CREATE TABLE
CREATE SET TABLE CMSDATA.CM_CHNNL_LMS_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      SND_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목문구',
      SND_DESC VARCHAR(2000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용문구',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_CHNNL_LMS_KANG
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , CHNNL_SBJCT
    , CHNNL_DESC
    , STR_RPLY_NO
    , CHNNL_RSV_SND_DTTM
    , TST_GRP_CD
    , RPLC_WRD_1
    , RPLC_WRD_2
    , RPLC_WRD_3
    , RPLC_WRD_4
    , RPLC_WRD_5
    , CRTRN_STRT_DT
    , CRTRN_END_DT
    , USE_YN
    , CHNNL_MSG_CD
    , REJECT_MSG_CD
    , NULL  -- SND_SBJT
    , NULL  -- SND_DESC
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_CHNNL_LMS
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CHNNL_LMS;

-- RENAME
RENAME TABLE CMSDATA.CM_CHNNL_LMS_KANG TO CMSDATA.CM_CHNNL_LMS;

-- MAKE VIEW
REPLACE VIEW CMSVIEW.CM_CHNNL_LMS  AS LOCKING TABLE CMSDATA.CM_CHNNL_LMS FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_LMS);


SELECT * FROM CMSVIEW.CM_CHNNL_LMS;


----------------------------------------------------------------------------------------------------
[ 개발 ] CM_CHNNL_LMS

-- CREATE TABLE
CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_LMS_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제목',
      CHNNL_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '내용',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      RPLC_WRD_1 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구1',
      RPLC_WRD_2 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구2',
      RPLC_WRD_3 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구3',
      RPLC_WRD_4 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구4',
      RPLC_WRD_5 VARCHAR(250) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구5',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일자',
      CRTRN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일자',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      SND_SBJCT VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목문구',
      SND_DESC VARCHAR(2000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용문구',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_CHNNL_LMS_KANG
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , CHNNL_SBJCT
    , CHNNL_DESC
    , STR_RPLY_NO
    , CHNNL_RSV_SND_DTTM
    , TST_GRP_CD
    , RPLC_WRD_1
    , RPLC_WRD_2
    , RPLC_WRD_3
    , RPLC_WRD_4
    , RPLC_WRD_5
    , CRTRN_STRT_DT
    , CRTRN_END_DT
    , USE_YN
    , CHNNL_MSG_CD
    , REJECT_MSG_CD
    , NULL  -- SND_SBJT
    , NULL  -- SND_DESC
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA_DEV.CM_CHNNL_LMS
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_CHNNL_LMS;

-- RENAME
RENAME TABLE CMSDATA_DEV.CM_CHNNL_LMS_KANG TO CMSDATA_DEV.CM_CHNNL_LMS;

-- MAKE VIEW
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_LMS  AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_LMS FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_LMS);

SELECT * FROM CMSVIEW_DEV.CM_CHNNL_LMS;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


SELECT CHNNL_NO, CHNNL_DESC FROM CMSVIEW.CM_CHNNL_SMS WHERE CHNNL_NO LIKE 'SMS%'

SELECT CHNNL_NO, CHNNL_SBJCT FROM CMSVIEW.CM_CHNNL_LMS WHERE CHNNL_NO LIKE 'LMS%'

SELECT CHNNL_NO, CHNNL_SBJCT FROM CMSVIEW.CM_CHNNL_MMS WHERE CHNNL_NO LIKE 'MMS%'

SELECT CHNNL_NO, CHNNL_SBJCT FROM CMSVIEW.CM_CHNNL_BMS WHERE CHNNL_NO LIKE 'BMS%'

SELECT CHNNL_NO FROM CMSVIEW.CM_CHNNL_EML WHERE CHNNL_NO LIKE 'EML%'

SELECT * FROM CMSVIEW.CM_CMPGN_MST ORDER BY CMPGN_NO DESC;


SELECT
    C.CMPGN_NO       AS CMPGN_NO
    , C.CMPGN_NM     AS CMPGN_NM
    , A.CHNNL_NO     AS CHNNL_NO
    , A.PUSH_TITLE   AS CHNNL_NM
FROM
    (
        SELECT CHNNL_NO, PUSH_TITLE FROM CMSVIEW.CM_CHNNL_APT WHERE CHNNL_NO LIKE 'APT%'
        UNION
        SELECT CHNNL_NO, PUSH_TITLE FROM CMSVIEW.CM_CHNNL_APR WHERE CHNNL_NO LIKE 'APR%'
    ) A
    , CMSVIEW.CM_CMPGN_EXCT B
    , CMSVIEW.CM_CMPGN_MST  C
WHERE 1=1
    AND B.CHNNL_NO = A.CHNNL_NO
    AND C.CMPGN_NO = B.CMPGN_NO
;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

        SELECT A.CMPGN_NO   AS CMPGN_NO                     /* 캠페인번호 */
             , A.RFR_CMPGN_NO   AS RFR_CMPGN_NO             /* 참조캠페인번호 */
             , A.CMPGN_NM   AS CMPGN_NM                     /* 캠페인명 */
             , A.CMPGN_ANNTN AS CMPGN_ANNTN                 /* 캠페인설명 */
             , A.CHNNL_ANNTN AS CHNNL_ANNTN                 /* 채널설명 */
             , A.CMPGN_STEP AS CMPGN_STEP                   /* 캠페인단계 */
             , A.SND_TYP_CD AS SND_TYP_CD                   /* 발송구분코드 */
             , A.CMPGN_MTHD_CD AS CMPGN_MTHD_CD             /* 캠페인방법코드 */
             , A.TRGT_MTHD_CD   AS TRGT_MTHD_CD             /* 타겟팅방법코드 */
             , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM012' AND COMM_CD = A.TRGT_MTHD_CD) AS TRGT_MTHD_NM
             , A.CMPGN_CTGRY_CD AS CMPGN_CTGRY_CD           /* 캠페인분류코드 */
             , B.CMPGN_CTGRY_NM AS CMPGN_CTGRY_NM           /* 캠페인분류명 */
             , A.CMPGN_CTGRY_SB_CD AS CMPGN_CTGRY_SB_CD     /* 캠페인세분류코드 */
             , B.CMPGN_CTGRY_SB_NM AS CMPGN_CTGRY_SB_NM     /* 캠페인세분류명 */
             , A.CHNNL_DVD_PLCY_YN AS CHNNL_DVD_PLCY_YN     /* 채널배분정책사용여부 */
             , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM028' AND COMM_CD = A.CHNNL_DVD_PLCY_YN) AS CHNNL_DVD_PLCY_NM
             , A.STR_ID AS STR_ID                           /* 점포아이디 */
             , C.STORENM AS STR_NM
             , A.CMPGN_STRT_DT AS CMPGN_STRT_DT             /* 캠페인시작일자 */
             , A.CMPGN_END_DT AS CMPGN_END_DT               /* 캠페인종료일자 */
             , A.EFF_ANAL_STRT_DT AS EFF_ANAL_STRT_DT       /* 효과분석시작일자 */
             , A.EFF_ANAL_END_DT AS EFF_ANAL_END_DT         /* 효과분석종료일자 */
             , A.CMPGN_RJCT_RSN AS CMPGN_RJCT_RSN           /* 캠페인반려사유 */
             , A.CMPGN_OFFR_CD AS CMPGN_OFFR_CD             /* 캠페인오퍼코드 */
             , E.CMPGN_OFFR_NM AS CMPGN_OFFR_NM
             , A.CMPGN_OFFR_EXP AS CMPGN_OFFR_EXP           /* 캠페인오퍼비용 */
             , A.CMPGN_OFFR_EXP_TYP_CD AS CMPGN_OFFR_EXP_TYP_CD /* 캠페인오퍼비용구분코드 */
             , A.CMPGN_OFFR_PAY_DT AS CMPGN_OFFR_PAY_DT         /* 캠페인오퍼지급일자 */
             , A.CMPGN_OFFR_EVNT_DESC AS CMPGN_OFFR_EVNT_DESC       /* 캠페인오퍼행사내용 */
             , A.CMPGN_PRDGFT_NM AS CMPGN_PRDGFT_NM     /* 캠페인사은품명 */
             , A.EVNT_NO AS EVNT_NO                     /* 행사번호 */
             , A.EVNT_DESC AS EVNT_DESC                 /* 행사내용 */
             , A.CMPGN_PLCY_NO AS CMPGN_PLCY_NO         /* 캠페인정책번호 */
             , A.THM_TRGT_TYP_CD AS THM_TRGT_TYP_CD     /* 테마별타겟분류코드 */
             , D.THM_TRGT_TYP_NM AS THM_TRGT_TYP_NM
             , A.THM_TRGT_CD AS THM_TRGT_CD             /* 테마별타겟코드 */
             , D.THM_TRGT_NM AS THM_TRGT_NM
             , A.SCCSS_CNDTN_CD AS SCCSS_CNDTN_CD           /* 성공조건코드 */
             , F.SCCSS_CNDTN_NM AS SCCSS_CNDTN_NM
             , A.CMPGN_EXCT_RNK AS CMPGN_EXCT_RNK           /* 캠페인실행순위 */
             , A.CMPGN_RQST_ID AS CMPGN_RQST_ID         /* 캠페인요청자아이디 */
             , C.CHRGPERS_NM AS CMPGN_RQST_NM
             , A.FNL_APPRVL_ID AS FNL_APPRVL_ID         /* 최종승인자아이디 */
             , A.FNL_APPRVL_DTTM AS FNL_APPRVL_DTTM     /* 최종승인일시 */
             , A.FNL_APPRVL_STS AS FNL_APPRVL_STS           /* 최종승인상태 */
             , A.EFF_ANAL_STRT_DT AS EFF_ANAL_STRT_DT       /* 효과분석시작일자 */
             , A.EFF_ANAL_END_DT AS EFF_ANAL_END_DT         /* 효과분석종료일자 */
             , A.TOPN AS TOPN
             , A.CUST_CNT AS CUST_CNT
             , A.CUST_CNT_T AS CUST_CNT_T
             , A.GFT_SYS_REG_YN AS GFT_SYS_REG_YN       /* 사은품시스템등록여부 */
             , A.SND_TYP_CD AS SND_TYP_CD               /* 발송구분코드 */
             , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM027' AND COMM_CD = A.SND_TYP_CD) AS SND_TYP_NM
          FROM CMSVIEW.CM_CMPGN_MST A
               LEFT OUTER JOIN CMSVIEW.CM_CMPGN_CTGRY B
            ON A.CMPGN_CTGRY_SB_CD = B.CMPGN_CTGRY_SB_CD
               LEFT OUTER JOIN TSVM.CMS_USER_CRM C
            ON A.CMPGN_RQST_ID = C.CHRGPERS_CD
               LEFT OUTER JOIN CMSVIEW.CM_THM_TRGT D
            ON A.THM_TRGT_CD = D.THM_TRGT_CD
               LEFT OUTER JOIN CMSVIEW.CM_CMPGN_OFFR E          /* 캠페인 오퍼 */
            ON A.CMPGN_OFFR_CD = E.CMPGN_OFFR_CD
               LEFT OUTER JOIN CMSVIEW.CM_CMPGN_SCCS_CNDTN_CD F
            ON A.SCCSS_CNDTN_CD = F.SCCSS_CNDTN_CD
         WHERE CMPGN_NO = 'C20151110101711626'


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------
-- 타겟팅방법 : 테마별타겟

SELECT
    A.CMPGN_NO                  AS CMPGN_NO                 /* 캠페인번호 */
    , A.RFR_CMPGN_NO            AS RFR_CMPGN_NO             /* 참조캠페인번호 */
    , A.CMPGN_NM                AS CMPGN_NM                 /* 캠페인명 */
    , A.CMPGN_ANNTN             AS  CMPGN_ANNTN             /* 캠페인설명 */
    , A.CHNNL_ANNTN             AS  CHNNL_ANNTN             /* 채널설명 */
    , A.CMPGN_STEP              AS  CMPGN_STEP              /* 캠페인단계 */
    , A.SND_TYP_CD              AS  SND_TYP_CD              /* 발송구분코드 */
    , A.CMPGN_MTHD_CD           AS  CMPGN_MTHD_CD           /* 캠페인방법코드 */
    , A.TRGT_MTHD_CD            AS TRGT_MTHD_CD             /* 타겟팅방법코드 */
    , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM012' AND COMM_CD = A.TRGT_MTHD_CD)        AS  TRGT_MTHD_NM
    , A.CMPGN_CTGRY_CD          AS  CMPGN_CTGRY_CD          /* 캠페인분류코드 */
    , B.CMPGN_CTGRY_NM          AS  CMPGN_CTGRY_NM          /* 캠페인분류명 */
    , A.CMPGN_CTGRY_SB_CD       AS  CMPGN_CTGRY_SB_CD       /* 캠페인세분류코드 */
    , B.CMPGN_CTGRY_SB_NM       AS  CMPGN_CTGRY_SB_NM       /* 캠페인세분류명 */
    , A.CHNNL_DVD_PLCY_YN       AS  CHNNL_DVD_PLCY_YN       /* 채널배분정책사용여부 */
    , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM028' AND COMM_CD = A.CHNNL_DVD_PLCY_YN)   AS  CHNNL_DVD_PLCY_NM
    , A.STR_ID                  AS  STR_ID                  /* 점포아이디 */
    , C.STORENM                 AS  STR_NM
    , A.CMPGN_STRT_DT           AS  CMPGN_STRT_DT           /* 캠페인시작일자 */
    , A.CMPGN_END_DT            AS  CMPGN_END_DT            /* 캠페인종료일자 */
    , A.EFF_ANAL_STRT_DT        AS  EFF_ANAL_STRT_DT        /* 효과분석시작일자 */
    , A.EFF_ANAL_END_DT         AS  EFF_ANAL_END_DT         /* 효과분석종료일자 */
    , A.CMPGN_RJCT_RSN          AS  CMPGN_RJCT_RSN          /* 캠페인반려사유 */
    , A.CMPGN_OFFR_CD           AS  CMPGN_OFFR_CD           /* 캠페인오퍼코드 */
    , E.CMPGN_OFFR_NM           AS  CMPGN_OFFR_NM
    , A.CMPGN_OFFR_EXP          AS  CMPGN_OFFR_EXP          /* 캠페인오퍼비용 */
    , A.CMPGN_OFFR_EXP_TYP_CD   AS  CMPGN_OFFR_EXP_TYP_CD   /* 캠페인오퍼비용구분코드 */
    , A.CMPGN_OFFR_PAY_DT       AS  CMPGN_OFFR_PAY_DT       /* 캠페인오퍼지급일자 */
    , A.CMPGN_OFFR_EVNT_DESC    AS  CMPGN_OFFR_EVNT_DESC    /* 캠페인오퍼행사내용 */
    , A.CMPGN_PRDGFT_NM         AS  CMPGN_PRDGFT_NM         /* 캠페인사은품명 */
    , A.EVNT_NO                 AS  EVNT_NO                 /* 행사번호 */
    , A.EVNT_DESC               AS  EVNT_DESC               /* 행사내용 */
    , A.CMPGN_PLCY_NO           AS  CMPGN_PLCY_NO           /* 캠페인정책번호 */
    , A.THM_TRGT_TYP_CD         AS  THM_TRGT_TYP_CD         /* 테마별타겟분류코드 */
    , D.THM_TRGT_TYP_NM         AS  THM_TRGT_TYP_NM
    , A.THM_TRGT_CD             AS  THM_TRGT_CD             /* 테마별타겟코드 */
    , D.THM_TRGT_NM             AS  THM_TRGT_NM
    , A.SCCSS_CNDTN_CD          AS  SCCSS_CNDTN_CD          /* 성공조건코드 */
    , F.SCCSS_CNDTN_NM          AS  SCCSS_CNDTN_NM
    , A.CMPGN_EXCT_RNK          AS  CMPGN_EXCT_RNK          /* 캠페인실행순위 */
    , A.CMPGN_RQST_ID           AS  CMPGN_RQST_ID           /* 캠페인요청자아이디 */
    , C.CHRGPERS_NM             AS  CMPGN_RQST_NM
    , A.FNL_APPRVL_ID           AS  FNL_APPRVL_ID           /* 최종승인자아이디 */
    , A.FNL_APPRVL_DTTM         AS  FNL_APPRVL_DTTM         /* 최종승인일시 */
    , A.FNL_APPRVL_STS          AS  FNL_APPRVL_STS          /* 최종승인상태 */
    , A.EFF_ANAL_STRT_DT        AS  EFF_ANAL_STRT_DT        /* 효과분석시작일자 */
    , A.EFF_ANAL_END_DT         AS  EFF_ANAL_END_DT         /* 효과분석종료일자 */
    , A.TOPN                    AS  TOPN
    , A.CUST_CNT                AS  CUST_CNT
    , A.CUST_CNT_T              AS  CUST_CNT_T
    , A.GFT_SYS_REG_YN          AS  GFT_SYS_REG_YN          /* 사은품시스템등록여부 */
    , A.SND_TYP_CD              AS  SND_TYP_CD              /* 발송구분코드 */
    , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM027' AND COMM_CD = A.SND_TYP_CD)          AS  SND_TYP_NM
FROM
    CMSVIEW.CM_CMPGN_MST                             A
    LEFT OUTER JOIN CMSVIEW.CM_CMPGN_CTGRY           B  ON A.CMPGN_CTGRY_SB_CD = B.CMPGN_CTGRY_SB_CD
    LEFT OUTER JOIN TSVM.CMS_USER_CRM                C  ON A.CMPGN_RQST_ID     = C.CHRGPERS_CD
    LEFT OUTER JOIN CMSVIEW.CM_THM_TRGT              D  ON A.THM_TRGT_CD       = D.THM_TRGT_CD
    LEFT OUTER JOIN CMSVIEW.CM_CMPGN_OFFR            E  ON A.CMPGN_OFFR_CD     = E.CMPGN_OFFR_CD
    LEFT OUTER JOIN CMSVIEW.CM_CMPGN_SCCS_CNDTN_CD   F  ON A.SCCSS_CNDTN_CD    = F.SCCSS_CNDTN_CD
WHERE 1=1
    AND CMPGN_NO = 'C20151110101711626'
;




------------------------------------------------------------------------------
-- 타겟팅방법 : 선택형타겟

SELECT
    A.CMPGN_NO                  AS  CMPGN_NO
    , B.TRGT_MTHD_CD            AS  TRGT_MTHD_CD
    , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM012' AND COMM_CD = B.TRGT_MTHD_CD) AS TRGT_MTHD_NM
    , A.TRGT_CNDTN_CD           AS  TRGT_CNDTN_CD
    , A.SEQ_NO                  AS  SEQ_NO
    , A.CLMN_CNT                AS  CLMN_CNT
    , C.TRGT_CNDTN_TYP_NM       AS  TRGT_CNDTN_TYP_NM
    , C.TRGT_CNDTN_NM           AS  TRGT_CNDTN_NM
    , A.TRGT_CHC_VL1            AS  TRGT_CHC_VL1
    , A.TRGT_CHC_VL2            AS  TRGT_CHC_VL2
    , A.TRGT_CHC_VL3            AS  TRGT_CHC_VL3
    , A.TRGT_CHC_VL4            AS  TRGT_CHC_VL4
    , A.TRGT_CHC_VL5            AS  TRGT_CHC_VL5
    , A.TRGT_CHC_VL6            AS  TRGT_CHC_VL6
    , A.TRGT_CHC_VL7            AS  TRGT_CHC_VL7
    , A.TRGT_CHC_VL8            AS  TRGT_CHC_VL8
    , A.TRGT_CHC_VL9            AS  TRGT_CHC_VL9
    , A.TRGT_CHC_VL10           AS  TRGT_CHC_VL10
    , A.TRGT_CHC_NM1            AS  TRGT_CHC_NM1
    , A.TRGT_CHC_NM2            AS  TRGT_CHC_NM2
    , A.TRGT_CHC_NM3            AS  TRGT_CHC_NM3
    , A.TRGT_CHC_NM4            AS  TRGT_CHC_NM4
    , A.TRGT_CHC_NM5            AS  TRGT_CHC_NM5
    , A.TRGT_CHC_NM6            AS  TRGT_CHC_NM6
    , A.TRGT_CHC_NM7            AS  TRGT_CHC_NM7
    , A.TRGT_CHC_NM8            AS  TRGT_CHC_NM8
    , A.TRGT_CHC_NM9            AS  TRGT_CHC_NM9
    , A.TRGT_CHC_NM10           AS  TRGT_CHC_NM10
    , A.PRD_USE_YN              AS  PRD_USE_YN
    , A.MLT_YN                  AS  MLT_YN                  /* 멀티여부 */
    , A.EXCPT_YN                AS  EXCPT_YN                /* 제외여부 */
    , A.CNDTN_CHC_MTHD_CD       AS  CNDTN_CHC_MTHD_CD       /* 조건선택방법코드 */
    , A.DB_NM                   AS  DB_NM                   /* 데이터베이스명 */
    , A.TBL_NM                  AS  TBL_NM                  /* 테이블명 */
    , A.CLMN_NM                 AS  CLMN_NM                 /* 컬럼명 */
    , A.CMPRSN_OPRTR_GRP_CD     AS  CMPRSN_OPRTR_GRP_CD     /* 논리연산자구분코드 */
    , A.LGC_OPRTR_GRP_CD        AS  LGC_OPRTR_GRP_CD        /* 비교연산자구분코드 */
    , A.PRD_CLMN_NM             AS  PRD_CLMN_NM
    , A.TRGT_CHC_GRP_NM         AS  TRGT_CHC_GRP_NM
    , C.REF_TRGT_CNDTN_CD       AS  REF_TRGT_CNDTN_CD       /* 필수참조타겟조건코드 */
    , D.CNDTN_CHC_MTHD_CD       AS  REF_CNDTN_CHC_MTHD_CD   /* 필수참조타겟조건코드 조건선택방법코드 */
FROM
    CMSVIEW.CM_CMPGN_TRGT_CHC          A
    , CMSVIEW.CM_CMPGN_MST             B
    , CMSVIEW.CM_TRGT_CNDTN            C
    LEFT OUTER JOIN CMSVIEW.CM_TRGT_CNDTN D     ON C.REF_TRGT_CNDTN_CD = D.TRGT_CNDTN_CD
WHERE 1 = 1
    AND A.CMPGN_NO = B.CMPGN_NO
    AND A.TRGT_CNDTN_CD = C.TRGT_CNDTN_CD
    AND C.EXCPT_YN = 'N'
    AND A.CMPGN_NO = 'C20151117101711793'
ORDER BY
    A.SEQ_NO
;

------------------------------------------------------------------------------

    http://localhost:8080/SASEMARTCMS/common/CmsDraftDoc.do?method=page&cmpgn_no=C20151029101711358

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

<!DOCTYPE html>
<html>
    <head>
        <title> sjisbmoc </title>
<script type="text/javascript" src="http://code.jquery.com/jquery.min.js"></script>
<script type='text/javascript'>
//<![CDATA[

/* 첫번째 select option 값 */
var sel_01_al   = new Array();
sel_01_al.push({value:20000,text:'원피스'});
sel_01_al.push({value:24000,text:'아우터'});
sel_01_al.push({value:30000,text:'드레스'});

/* 두번째 select option 값 */
var sel_02_al   = new Array();
sel_02_al.push({value:1,text:'1개'});
sel_02_al.push({value:2,text:'2개'});
sel_02_al.push({value:3,text:'3개'});
sel_02_al.push({value:4,text:'4개'});
sel_02_al.push({value:5,text:'5개'});

$(document).ready(function(){
    var sel1 = new Array();
    sel1.push('<option value="">선택</option>');
    for(var i=0; i<sel_01_al.length; i++) {
        sel1.push('<option value="'+sel_01_al[i].value+'">'+sel_01_al[i].text+'</option>');
    }

    $('#sel_01_Id').html(sel1.join(''));
    $('#sel_01_Id').change(function(){
        calcPrice();
    });

    var sel2 = new Array();
    sel2.push('<option value="">선택</option>');
    for(var i=0; i<sel_02_al.length; i++) {
        sel2.push('<option value="'+sel_02_al[i].value+'">'+sel_02_al[i].text+'</option>');
    }

    $('#sel_02_Id').html(sel2.join(''));
    $('#sel_02_Id').change(function(){
        calcPrice();
    });
});

function calcPrice() {
    var price = Number($('#sel_01_Id').val());
    var qut   = Number($('#sel_02_Id').val());
    if(price>0 && qut>0) {
        $('#dispId').html((String(price*qut)).comma());
    } else {
        $('#dispId').html('');
    }
}

String.prototype.comma = Number.prototype.comma = function() {
    var n = String(this).replace(/\,/g,'');
    return n.match(RegExp('^[0-9]{'+(n.length%3||3)+'}|[0-9]{3}','g')).join();
};

//]]>
</script>
    </head>
    <body>

        <select id='sel_01_Id'></select>
        <select id='sel_02_Id'></select>
        <div id='dispId'></div>

    </body>
</html>


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 운영 ] CM_CHNNL_APT

-- CREATE TABLE
CREATE SET TABLE CMSDATA.CM_CHNNL_APT_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      BIZ_ID VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형코드',
      MSG_TYPE VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형',
      MSG_PUSH_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시유형',
      PUSH_TITLE VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목',
      PUSH_MSG VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용',
      MSG_TEXT VARCHAR(3500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시인앱메시지',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      HP_CMPGN_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사설명(주석)',
      HP_REG_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항등록여부',
      HP_STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      HP_REG_STDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록시작일',
      HP_REG_EDDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록종료일',
      HP_REG_TITLE VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항제목',
      HP_REG_MSG VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항내용',
      HP_REG_REPLACE_TEXT VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '대체텍스트',
      HP_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일명',
      HP_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일_URL',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      IMG_USE_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지사용여부',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      PUSH_MSG_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지ID',
      PUSH_RET_MSG VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시결과메시지',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_CHNNL_APT_KANG
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , BIZ_ID
    , MSG_TYPE
    , MSG_PUSH_TYPE
    , PUSH_TITLE
    , PUSH_MSG
    , MSG_TEXT
    , CHNNL_RSV_SND_DTTM
    , HP_CMPGN_DESC
    , HP_REG_YN
    , HP_STR_ID
    , HP_REG_STDT
    , HP_REG_EDDT
    , HP_REG_TITLE
    , HP_REG_MSG
    , HP_REG_REPLACE_TEXT
    , HP_FILE_NM
    , HP_FILE_URL
    , CHNNL_MSG_CD
    , STR_RPLY_NO
    , REJECT_MSG_CD
    , IMG_USE_YN
    , USE_YN
    , TST_GRP_CD
    , PUSH_MSG_ID
    , ''
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_CHNNL_APT
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CHNNL_APT;

-- RENAME
RENAME TABLE CMSDATA.CM_CHNNL_APT_KANG TO CMSDATA.CM_CHNNL_APT;

-- MAKE VIEW
REPLACE VIEW CMSVIEW.CM_CHNNL_APT  AS LOCKING TABLE CMSDATA.CM_CHNNL_APT FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APT);


SELECT * FROM CMSVIEW.CM_CHNNL_APT;


----------------------------------------------------------------------------------------------------
[ 개발 ] CM_CHNNL_APT

-- CREATE TABLE
CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_APT_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      BIZ_ID VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형코드',
      MSG_TYPE VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형',
      MSG_PUSH_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시유형',
      PUSH_TITLE VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목',
      PUSH_MSG VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용',
      MSG_TEXT VARCHAR(3500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시인앱메시지',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      HP_CMPGN_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사설명(주석)',
      HP_REG_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항등록여부',
      HP_STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      HP_REG_STDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록시작일',
      HP_REG_EDDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록종료일',
      HP_REG_TITLE VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항제목',
      HP_REG_MSG VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항내용',
      HP_REG_REPLACE_TEXT VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '대체텍스트',
      HP_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일명',
      HP_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일_URL',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      IMG_USE_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지사용여부',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      PUSH_MSG_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지ID',
      PUSH_RET_MSG VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시결과메시지',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_CHNNL_APT_KANG
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , BIZ_ID
    , MSG_TYPE
    , MSG_PUSH_TYPE
    , PUSH_TITLE
    , PUSH_MSG
    , MSG_TEXT
    , CHNNL_RSV_SND_DTTM
    , HP_CMPGN_DESC
    , HP_REG_YN
    , HP_STR_ID
    , HP_REG_STDT
    , HP_REG_EDDT
    , HP_REG_TITLE
    , HP_REG_MSG
    , HP_REG_REPLACE_TEXT
    , HP_FILE_NM
    , HP_FILE_URL
    , CHNNL_MSG_CD
    , STR_RPLY_NO
    , REJECT_MSG_CD
    , IMG_USE_YN
    , USE_YN
    , TST_GRP_CD
    , PUSH_MSG_ID
    , ''
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA_DEV.CM_CHNNL_APT
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_CHNNL_APT;

-- RENAME
RENAME TABLE CMSDATA_DEV.CM_CHNNL_APT_KANG TO CMSDATA_DEV.CM_CHNNL_APT;

-- MAKE VIEW
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_APT  AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_APT FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_APT);

SELECT * FROM CMSVIEW_DEV.CM_CHNNL_APT;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 운영 ] CM_CHNNL_APR

-- CREATE TABLE
CREATE SET TABLE CMSDATA.CM_CHNNL_APR_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      BIZ_ID VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형코드',
      MSG_TYPE VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형',
      MSG_PUSH_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시유형',
      PUSH_TITLE VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목',
      PUSH_MSG VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용',
      MSG_TEXT VARCHAR(3500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시인앱메시지',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      HP_CMPGN_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사설명(주석)',
      HP_REG_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항등록여부',
      HP_STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      HP_REG_STDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록시작일',
      HP_REG_EDDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록종료일',
      HP_REG_TITLE VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항제목',
      HP_REG_MSG VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항내용',
      HP_REG_REPLACE_TEXT VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '대체텍스트',
      HP_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일명',
      HP_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일_URL',
      CONTENTS_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청사항',
      CONTENTS_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일명',
      CONTENTS_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일_URL',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      IMG_USE_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지사용여부',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      PUSH_MSG_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지ID',
      PUSH_RET_MSG VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시결과메시지',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_CHNNL_APR_KANG
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , BIZ_ID
    , MSG_TYPE
    , MSG_PUSH_TYPE
    , PUSH_TITLE
    , PUSH_MSG
    , MSG_TEXT
    , CHNNL_RSV_SND_DTTM
    , HP_CMPGN_DESC
    , HP_REG_YN
    , HP_STR_ID
    , HP_REG_STDT
    , HP_REG_EDDT
    , HP_REG_TITLE
    , HP_REG_MSG
    , HP_REG_REPLACE_TEXT
    , HP_FILE_NM
    , HP_FILE_URL
    , CONTENTS_DESC
    , CONTENTS_FILE_NM
    , CONTENTS_FILE_URL
    , CHNNL_MSG_CD
    , STR_RPLY_NO
    , REJECT_MSG_CD
    , IMG_USE_YN
    , USE_YN
    , TST_GRP_CD
    , PUSH_MSG_ID
    , ''
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_CHNNL_APR
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CHNNL_APR;

-- RENAME
RENAME TABLE CMSDATA.CM_CHNNL_APR_KANG TO CMSDATA.CM_CHNNL_APR;

-- MAKE VIEW
REPLACE VIEW CMSVIEW.CM_CHNNL_APR  AS LOCKING TABLE CMSDATA.CM_CHNNL_APR FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APR);


SELECT * FROM CMSVIEW.CM_CHNNL_APR;


----------------------------------------------------------------------------------------------------
[ 개발 ] CM_CHNNL_APR

-- CREATE TABLE
CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_APR_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      BIZ_ID VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형코드',
      MSG_TYPE VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형',
      MSG_PUSH_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시유형',
      PUSH_TITLE VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목',
      PUSH_MSG VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용',
      MSG_TEXT VARCHAR(3500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시인앱메시지',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      HP_CMPGN_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사설명(주석)',
      HP_REG_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항등록여부',
      HP_STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      HP_REG_STDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록시작일',
      HP_REG_EDDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록종료일',
      HP_REG_TITLE VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항제목',
      HP_REG_MSG VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항내용',
      HP_REG_REPLACE_TEXT VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '대체텍스트',
      HP_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일명',
      HP_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일_URL',
      CONTENTS_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청사항',
      CONTENTS_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일명',
      CONTENTS_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일_URL',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      IMG_USE_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지사용여부',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      PUSH_MSG_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지ID',
      PUSH_RET_MSG VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시결과메시지',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_CHNNL_APR_KANG
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , BIZ_ID
    , MSG_TYPE
    , MSG_PUSH_TYPE
    , PUSH_TITLE
    , PUSH_MSG
    , MSG_TEXT
    , CHNNL_RSV_SND_DTTM
    , HP_CMPGN_DESC
    , HP_REG_YN
    , HP_STR_ID
    , HP_REG_STDT
    , HP_REG_EDDT
    , HP_REG_TITLE
    , HP_REG_MSG
    , HP_REG_REPLACE_TEXT
    , HP_FILE_NM
    , HP_FILE_URL
    , CONTENTS_DESC
    , CONTENTS_FILE_NM
    , CONTENTS_FILE_URL
    , CHNNL_MSG_CD
    , STR_RPLY_NO
    , REJECT_MSG_CD
    , IMG_USE_YN
    , USE_YN
    , TST_GRP_CD
    , PUSH_MSG_ID
    , ''
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA_DEV.CM_CHNNL_APR
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_CHNNL_APR;

-- RENAME
RENAME TABLE CMSDATA_DEV.CM_CHNNL_APR_KANG TO CMSDATA_DEV.CM_CHNNL_APR;

-- MAKE VIEW
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_APR  AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_APR FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_APR);

SELECT * FROM CMSVIEW_DEV.CM_CHNNL_APR;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

            UPDATE CMSDATA_DEV.CM_CHNNL_SMS
               SET SND_DESC = ( SELECT B.COMM_CD_VL
                                       || A.CHNNL_DESC
                                       || X'0d'X'0a' || A.STR_RPLY_NO
                                       || X'0d'X'0a' || C.COMM_CD_VL
                                  FROM CMSVIEW_DEV.CM_CHNNL_SMS A
                                       LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD B
                                    ON B.GRP_CD        = 'CM007'
                                   AND A.CHNNL_MSG_CD  = B.COMM_CD
                                       LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD C
                                    ON C.GRP_CD        = 'CM024'
                                   AND A.REJECT_MSG_CD = C.COMM_CD
                                 WHERE A.CHNNL_NO      = #chnnl_no# )
             WHERE CHNNL_NO = #chnnl_no#


            UPDATE CMSDATA_DEV.CM_CHNNL_LMS
               SET SND_SBJCT = ( SELECT B.COMM_CD_VL
                                        || A.CHNNL_SBJCT
                                   FROM CMSVIEW_DEV.CM_CHNNL_LMS A
                                        LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD B
                                     ON B.GRP_CD       = 'CM007'
                                    AND A.CHNNL_MSG_CD = B.COMM_CD
                                  WHERE A.CHNNL_NO     = #chnnl_no# )
                 , SND_DESC  = ( SELECT B.COMM_CD_VL
                                        || A.CHNNL_DESC
                                        || X'0d'X'0a' || A.STR_RPLY_NO
                                        || X'0d'X'0a' || C.COMM_CD_VL
                                   FROM CMSVIEW_DEV.CM_CHNNL_LMS A
                                        LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD B
                                     ON B.GRP_CD       = 'CM007'
                                    AND A.CHNNL_MSG_CD = B.COMM_CD
                                        LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD C
                                     ON C.GRP_CD        = 'CM024'
                                    AND A.REJECT_MSG_CD = C.COMM_CD
                                  WHERE A.CHNNL_NO      = #chnnl_no# )
             WHERE CHNNL_NO  = #chnnl_no#


---------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------


------------------------------------------------------------------------

UPDATE
    CMSDATA_DEV.CM_CHNNL_SMS
SET
    SND_DESC = (
        SELECT
            B.COMM_CD_VL
            || A.CHNNL_DESC
            || X'0d'X'0a' || A.STR_RPLY_NO
            || X'0d'X'0a' || C.COMM_CD_VL
        FROM
            CMSVIEW_DEV.CM_CHNNL_SMS A
            LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD B
                ON  B.GRP_CD        = 'CM007'
                AND A.CHNNL_MSG_CD  = B.COMM_CD
            LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD C
                ON  C.GRP_CD        = 'CM024'
                AND A.REJECT_MSG_CD = C.COMM_CD
        WHERE
            A.CHNNL_NO = #chnnl_no#
    )
WHERE
    CHNNL_NO = #chnnl_no#

------------------------------------------------------------------------

UPDATE
    CMSDATA_DEV.CM_CHNNL_LMS
SET
    SND_SBJCT = (
        SELECT
            B.COMM_CD_VL
            || A.CHNNL_SBJCT
        FROM
            CMSVIEW_DEV.CM_CHNNL_LMS A
            LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD B
                ON  B.GRP_CD       = 'CM007'
                AND A.CHNNL_MSG_CD = B.COMM_CD
        WHERE
            A.CHNNL_NO     = #chnnl_no#
    )
    , SND_DESC  = (
        SELECT
            B.COMM_CD_VL
            || A.CHNNL_DESC
            || X'0d'X'0a' || A.STR_RPLY_NO
            || X'0d'X'0a' || C.COMM_CD_VL
        FROM
            CMSVIEW_DEV.CM_CHNNL_LMS A
            LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD B
                ON  B.GRP_CD       = 'CM007'
                AND A.CHNNL_MSG_CD = B.COMM_CD
            LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD C
                ON  C.GRP_CD        = 'CM024'
                AND A.REJECT_MSG_CD = C.COMM_CD
        WHERE
            A.CHNNL_NO      = #chnnl_no#
    )
WHERE
    CHNNL_NO  = #chnnl_no#

------------------------------------------------------------------------










----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------
-- 타겟팅방법 : 테마별타겟

SELECT
    A.CMPGN_NO                  AS CMPGN_NO                 /* 캠페인번호 */
    , A.RFR_CMPGN_NO            AS RFR_CMPGN_NO             /* 참조캠페인번호 */
    , A.CMPGN_NM                AS CMPGN_NM                 /* 캠페인명 */
    , A.CMPGN_ANNTN             AS  CMPGN_ANNTN             /* 캠페인설명 */
    , A.CHNNL_ANNTN             AS  CHNNL_ANNTN             /* 채널설명 */
    , A.CMPGN_STEP              AS  CMPGN_STEP              /* 캠페인단계 */
    , A.SND_TYP_CD              AS  SND_TYP_CD              /* 발송구분코드 */
    , A.CMPGN_MTHD_CD           AS  CMPGN_MTHD_CD           /* 캠페인방법코드 */
    , A.TRGT_MTHD_CD            AS TRGT_MTHD_CD             /* 타겟팅방법코드 */
    , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM012' AND COMM_CD = A.TRGT_MTHD_CD)        AS  TRGT_MTHD_NM
    , A.CMPGN_CTGRY_CD          AS  CMPGN_CTGRY_CD          /* 캠페인분류코드 */
    , B.CMPGN_CTGRY_NM          AS  CMPGN_CTGRY_NM          /* 캠페인분류명 */
    , A.CMPGN_CTGRY_SB_CD       AS  CMPGN_CTGRY_SB_CD       /* 캠페인세분류코드 */
    , B.CMPGN_CTGRY_SB_NM       AS  CMPGN_CTGRY_SB_NM       /* 캠페인세분류명 */
    , A.CHNNL_DVD_PLCY_YN       AS  CHNNL_DVD_PLCY_YN       /* 채널배분정책사용여부 */
    , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM028' AND COMM_CD = A.CHNNL_DVD_PLCY_YN)   AS  CHNNL_DVD_PLCY_NM
    , A.STR_ID                  AS  STR_ID                  /* 점포아이디 */
    , C.STORENM                 AS  STR_NM
    , A.CMPGN_STRT_DT           AS  CMPGN_STRT_DT           /* 캠페인시작일자 */
    , A.CMPGN_END_DT            AS  CMPGN_END_DT            /* 캠페인종료일자 */
    , A.EFF_ANAL_STRT_DT        AS  EFF_ANAL_STRT_DT        /* 효과분석시작일자 */
    , A.EFF_ANAL_END_DT         AS  EFF_ANAL_END_DT         /* 효과분석종료일자 */
    , A.CMPGN_RJCT_RSN          AS  CMPGN_RJCT_RSN          /* 캠페인반려사유 */
    , A.CMPGN_OFFR_CD           AS  CMPGN_OFFR_CD           /* 캠페인오퍼코드 */
    , E.CMPGN_OFFR_NM           AS  CMPGN_OFFR_NM
    , A.CMPGN_OFFR_EXP          AS  CMPGN_OFFR_EXP          /* 캠페인오퍼비용 */
    , A.CMPGN_OFFR_EXP_TYP_CD   AS  CMPGN_OFFR_EXP_TYP_CD   /* 캠페인오퍼비용구분코드 */
    , A.CMPGN_OFFR_PAY_DT       AS  CMPGN_OFFR_PAY_DT       /* 캠페인오퍼지급일자 */
    , A.CMPGN_OFFR_EVNT_DESC    AS  CMPGN_OFFR_EVNT_DESC    /* 캠페인오퍼행사내용 */
    , A.CMPGN_PRDGFT_NM         AS  CMPGN_PRDGFT_NM         /* 캠페인사은품명 */
    , A.EVNT_NO                 AS  EVNT_NO                 /* 행사번호 */
    , A.EVNT_DESC               AS  EVNT_DESC               /* 행사내용 */
    , A.CMPGN_PLCY_NO           AS  CMPGN_PLCY_NO           /* 캠페인정책번호 */
    , A.THM_TRGT_TYP_CD         AS  THM_TRGT_TYP_CD         /* 테마별타겟분류코드 */
    , D.THM_TRGT_TYP_NM         AS  THM_TRGT_TYP_NM
    , A.THM_TRGT_CD             AS  THM_TRGT_CD             /* 테마별타겟코드 */
    , D.THM_TRGT_NM             AS  THM_TRGT_NM
    , A.SCCSS_CNDTN_CD          AS  SCCSS_CNDTN_CD          /* 성공조건코드 */
    , F.SCCSS_CNDTN_NM          AS  SCCSS_CNDTN_NM
    , A.CMPGN_EXCT_RNK          AS  CMPGN_EXCT_RNK          /* 캠페인실행순위 */
    , A.CMPGN_RQST_ID           AS  CMPGN_RQST_ID           /* 캠페인요청자아이디 */
    , C.CHRGPERS_NM             AS  CMPGN_RQST_NM
    , A.FNL_APPRVL_ID           AS  FNL_APPRVL_ID           /* 최종승인자아이디 */
    , A.FNL_APPRVL_DTTM         AS  FNL_APPRVL_DTTM         /* 최종승인일시 */
    , A.FNL_APPRVL_STS          AS  FNL_APPRVL_STS          /* 최종승인상태 */
    , A.EFF_ANAL_STRT_DT        AS  EFF_ANAL_STRT_DT        /* 효과분석시작일자 */
    , A.EFF_ANAL_END_DT         AS  EFF_ANAL_END_DT         /* 효과분석종료일자 */
    , A.TOPN                    AS  TOPN
    , A.CUST_CNT                AS  CUST_CNT
    , A.CUST_CNT_T              AS  CUST_CNT_T
    , A.GFT_SYS_REG_YN          AS  GFT_SYS_REG_YN          /* 사은품시스템등록여부 */
    , A.SND_TYP_CD              AS  SND_TYP_CD              /* 발송구분코드 */
    , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM027' AND COMM_CD = A.SND_TYP_CD)          AS  SND_TYP_NM
FROM
    CMSVIEW.CM_CMPGN_MST                             A
    LEFT OUTER JOIN CMSVIEW.CM_CMPGN_CTGRY           B  ON A.CMPGN_CTGRY_SB_CD = B.CMPGN_CTGRY_SB_CD
    LEFT OUTER JOIN TSVM.CMS_USER_CRM                C  ON A.CMPGN_RQST_ID     = C.CHRGPERS_CD
    LEFT OUTER JOIN CMSVIEW.CM_THM_TRGT              D  ON A.THM_TRGT_CD       = D.THM_TRGT_CD
    LEFT OUTER JOIN CMSVIEW.CM_CMPGN_OFFR            E  ON A.CMPGN_OFFR_CD     = E.CMPGN_OFFR_CD
    LEFT OUTER JOIN CMSVIEW.CM_CMPGN_SCCS_CNDTN_CD   F  ON A.SCCSS_CNDTN_CD    = F.SCCSS_CNDTN_CD
WHERE 1=1
    AND CMPGN_NO = 'C20151110101711626'
;

------------------------------------------------------------------------------
-- 타겟팅방법 : 선택형타겟

SELECT
    A.CMPGN_NO                  AS  CMPGN_NO
    , B.TRGT_MTHD_CD            AS  TRGT_MTHD_CD
    , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM012' AND COMM_CD = B.TRGT_MTHD_CD) AS TRGT_MTHD_NM
    , A.TRGT_CNDTN_CD           AS  TRGT_CNDTN_CD
    , A.SEQ_NO                  AS  SEQ_NO
    , A.CLMN_CNT                AS  CLMN_CNT
    , C.TRGT_CNDTN_TYP_NM       AS  TRGT_CNDTN_TYP_NM
    , C.TRGT_CNDTN_NM           AS  TRGT_CNDTN_NM
    , A.TRGT_CHC_VL1            AS  TRGT_CHC_VL1
    , A.TRGT_CHC_VL2            AS  TRGT_CHC_VL2
    , A.TRGT_CHC_VL3            AS  TRGT_CHC_VL3
    , A.TRGT_CHC_VL4            AS  TRGT_CHC_VL4
    , A.TRGT_CHC_VL5            AS  TRGT_CHC_VL5
    , A.TRGT_CHC_VL6            AS  TRGT_CHC_VL6
    , A.TRGT_CHC_VL7            AS  TRGT_CHC_VL7
    , A.TRGT_CHC_VL8            AS  TRGT_CHC_VL8
    , A.TRGT_CHC_VL9            AS  TRGT_CHC_VL9
    , A.TRGT_CHC_VL10           AS  TRGT_CHC_VL10
    , A.TRGT_CHC_NM1            AS  TRGT_CHC_NM1
    , A.TRGT_CHC_NM2            AS  TRGT_CHC_NM2
    , A.TRGT_CHC_NM3            AS  TRGT_CHC_NM3
    , A.TRGT_CHC_NM4            AS  TRGT_CHC_NM4
    , A.TRGT_CHC_NM5            AS  TRGT_CHC_NM5
    , A.TRGT_CHC_NM6            AS  TRGT_CHC_NM6
    , A.TRGT_CHC_NM7            AS  TRGT_CHC_NM7
    , A.TRGT_CHC_NM8            AS  TRGT_CHC_NM8
    , A.TRGT_CHC_NM9            AS  TRGT_CHC_NM9
    , A.TRGT_CHC_NM10           AS  TRGT_CHC_NM10
    , A.PRD_USE_YN              AS  PRD_USE_YN
    , A.MLT_YN                  AS  MLT_YN                  /* 멀티여부 */
    , A.EXCPT_YN                AS  EXCPT_YN                /* 제외여부 */
    , A.CNDTN_CHC_MTHD_CD       AS  CNDTN_CHC_MTHD_CD       /* 조건선택방법코드 */
    , A.DB_NM                   AS  DB_NM                   /* 데이터베이스명 */
    , A.TBL_NM                  AS  TBL_NM                  /* 테이블명 */
    , A.CLMN_NM                 AS  CLMN_NM                 /* 컬럼명 */
    , A.CMPRSN_OPRTR_GRP_CD     AS  CMPRSN_OPRTR_GRP_CD     /* 논리연산자구분코드 */
    , A.LGC_OPRTR_GRP_CD        AS  LGC_OPRTR_GRP_CD        /* 비교연산자구분코드 */
    , A.PRD_CLMN_NM             AS  PRD_CLMN_NM
    , A.TRGT_CHC_GRP_NM         AS  TRGT_CHC_GRP_NM
    , C.REF_TRGT_CNDTN_CD       AS  REF_TRGT_CNDTN_CD       /* 필수참조타겟조건코드 */
    , D.CNDTN_CHC_MTHD_CD       AS  REF_CNDTN_CHC_MTHD_CD   /* 필수참조타겟조건코드 조건선택방법코드 */
FROM
    CMSVIEW.CM_CMPGN_TRGT_CHC          A
    , CMSVIEW.CM_CMPGN_MST             B
    , CMSVIEW.CM_TRGT_CNDTN            C
    LEFT OUTER JOIN CMSVIEW.CM_TRGT_CNDTN D     ON C.REF_TRGT_CNDTN_CD = D.TRGT_CNDTN_CD
WHERE 1 = 1
    AND A.CMPGN_NO = B.CMPGN_NO
    AND A.TRGT_CNDTN_CD = C.TRGT_CNDTN_CD
    AND C.EXCPT_YN = 'N'
    AND A.CMPGN_NO = 'C20151117101711793'
ORDER BY
    A.SEQ_NO
;


-------------------------------------------------------------------------------------------
[ ? ]
        SELECT A.CMPGN_NO   AS CMPGN_NO                     /* 캠페인번호 */
             , A.RFR_CMPGN_NO   AS RFR_CMPGN_NO             /* 참조캠페인번호 */
             , A.CMPGN_NM   AS CMPGN_NM                     /* 캠페인명 */
             , A.CMPGN_ANNTN AS CMPGN_ANNTN                 /* 캠페인설명 */
             , A.CHNNL_ANNTN AS CHNNL_ANNTN                 /* 채널설명 */
             , A.CMPGN_STEP AS CMPGN_STEP                   /* 캠페인단계 */
             , A.SND_TYP_CD AS SND_TYP_CD                   /* 발송구분코드 */
             , A.CMPGN_MTHD_CD AS CMPGN_MTHD_CD             /* 캠페인방법코드 */
             , A.TRGT_MTHD_CD   AS TRGT_MTHD_CD             /* 타겟팅방법코드 */
             , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM012' AND COMM_CD = A.TRGT_MTHD_CD) AS TRGT_MTHD_NM
             , A.CMPGN_CTGRY_CD AS CMPGN_CTGRY_CD           /* 캠페인분류코드 */
             , B.CMPGN_CTGRY_NM AS CMPGN_CTGRY_NM           /* 캠페인분류명 */
             , A.CMPGN_CTGRY_SB_CD AS CMPGN_CTGRY_SB_CD     /* 캠페인세분류코드 */
             , B.CMPGN_CTGRY_SB_NM AS CMPGN_CTGRY_SB_NM     /* 캠페인세분류명 */
             , A.CHNNL_DVD_PLCY_YN AS CHNNL_DVD_PLCY_YN     /* 채널배분정책사용여부 */
             , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM028' AND COMM_CD = A.CHNNL_DVD_PLCY_YN) AS CHNNL_DVD_PLCY_NM
             , A.STR_ID AS STR_ID                           /* 점포아이디 */
             , C.STORENM AS STR_NM
             , A.CMPGN_STRT_DT AS CMPGN_STRT_DT             /* 캠페인시작일자 */
             , A.CMPGN_END_DT AS CMPGN_END_DT               /* 캠페인종료일자 */
             , A.EFF_ANAL_STRT_DT AS EFF_ANAL_STRT_DT       /* 효과분석시작일자 */
             , A.EFF_ANAL_END_DT AS EFF_ANAL_END_DT         /* 효과분석종료일자 */
             , A.CMPGN_RJCT_RSN AS CMPGN_RJCT_RSN           /* 캠페인반려사유 */
             , A.CMPGN_OFFR_CD AS CMPGN_OFFR_CD             /* 캠페인오퍼코드 */
             , E.CMPGN_OFFR_NM AS CMPGN_OFFR_NM
             , A.CMPGN_OFFR_EXP AS CMPGN_OFFR_EXP           /* 캠페인오퍼비용 */
             , A.CMPGN_OFFR_EXP_TYP_CD AS CMPGN_OFFR_EXP_TYP_CD /* 캠페인오퍼비용구분코드 */
             , A.CMPGN_OFFR_PAY_DT AS CMPGN_OFFR_PAY_DT         /* 캠페인오퍼지급일자 */
             , A.CMPGN_OFFR_EVNT_DESC AS CMPGN_OFFR_EVNT_DESC       /* 캠페인오퍼행사내용 */
             , A.CMPGN_PRDGFT_NM AS CMPGN_PRDGFT_NM     /* 캠페인사은품명 */
             , A.EVNT_NO AS EVNT_NO                     /* 행사번호 */
             , A.EVNT_DESC AS EVNT_DESC                 /* 행사내용 */
             , A.CMPGN_PLCY_NO AS CMPGN_PLCY_NO         /* 캠페인정책번호 */
             , A.THM_TRGT_TYP_CD AS THM_TRGT_TYP_CD     /* 테마별타겟분류코드 */
             , D.THM_TRGT_TYP_NM AS THM_TRGT_TYP_NM
             , A.THM_TRGT_CD AS THM_TRGT_CD             /* 테마별타겟코드 */
             , D.THM_TRGT_NM AS THM_TRGT_NM
             , A.SCCSS_CNDTN_CD AS SCCSS_CNDTN_CD           /* 성공조건코드 */
             , F.SCCSS_CNDTN_NM AS SCCSS_CNDTN_NM
             , A.CMPGN_EXCT_RNK AS CMPGN_EXCT_RNK           /* 캠페인실행순위 */
             , A.CMPGN_RQST_ID AS CMPGN_RQST_ID         /* 캠페인요청자아이디 */
             , C.CHRGPERS_NM AS CMPGN_RQST_NM
             , A.FNL_APPRVL_ID AS FNL_APPRVL_ID         /* 최종승인자아이디 */
             , A.FNL_APPRVL_DTTM AS FNL_APPRVL_DTTM     /* 최종승인일시 */
             , A.FNL_APPRVL_STS AS FNL_APPRVL_STS           /* 최종승인상태 */
             , A.EFF_ANAL_STRT_DT AS EFF_ANAL_STRT_DT       /* 효과분석시작일자 */
             , A.EFF_ANAL_END_DT AS EFF_ANAL_END_DT         /* 효과분석종료일자 */
             , A.TOPN AS TOPN
             , A.CUST_CNT AS CUST_CNT
             , A.CUST_CNT_T AS CUST_CNT_T
             , A.GFT_SYS_REG_YN AS GFT_SYS_REG_YN       /* 사은품시스템등록여부 */
             , A.SND_TYP_CD AS SND_TYP_CD               /* 발송구분코드 */
             , (SELECT COMM_CD_VL FROM CMSVIEW.CM_CMMN_CD WHERE GRP_CD = 'CM027' AND COMM_CD = A.SND_TYP_CD) AS SND_TYP_NM
          FROM CMSVIEW.CM_CMPGN_MST A
               LEFT OUTER JOIN CMSVIEW.CM_CMPGN_CTGRY B
            ON A.CMPGN_CTGRY_SB_CD = B.CMPGN_CTGRY_SB_CD
               LEFT OUTER JOIN TSVM.CMS_USER_CRM C
            ON A.CMPGN_RQST_ID = C.CHRGPERS_CD
               LEFT OUTER JOIN CMSVIEW.CM_THM_TRGT D
            ON A.THM_TRGT_CD = D.THM_TRGT_CD
               LEFT OUTER JOIN CMSVIEW.CM_CMPGN_OFFR E          /* 캠페인 오퍼 */
            ON A.CMPGN_OFFR_CD = E.CMPGN_OFFR_CD
               LEFT OUTER JOIN CMSVIEW.CM_CMPGN_SCCS_CNDTN_CD F
            ON A.SCCSS_CNDTN_CD = F.SCCSS_CNDTN_CD
         WHERE 1=1
            --AND CMPGN_NO = 'C20151120101711849'
            AND TRGT_MTHD_CD = '03'





----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SELECT
    A.*
FROM
    CMSVIEW.CM_CMMN_CD  A
WHERE 1=1
ORDER BY
    A.GRP_CD
;



SELECT
    A.*
FROM
    CMSVIEW.CM_CHNNL_APT A
WHERE 1=1
ORDER BY

;


            SELECT      /* HH14065I.getChnnlAptInfo */
                A.CHNNL_NO                AS CHNNL_NO
                , A.RFR_CMPGN_NO          AS RFR_CMPGN_NO
                , A.RFR_CHNNL_NO          AS RFR_CHNNL_NO
                , A.BIZ_ID                AS BIZ_ID
                , A.MSG_TYPE              AS MSG_TYPE
                , A.MSG_PUSH_TYPE         AS MSG_PUSH_TYPE
                , A.PUSH_TITLE            AS PUSH_TITLE
                /* , A.PUSH_MSG              AS PUSH_MSG */
                , B.COMM_CD_VL || A.PUSH_MSG  AS PUSH_MSG
                /* , A.MSG_TEXT              AS MSG_TEXT */
                , B.COMM_CD_VL || A.MSG_TEXT  AS MSG_TEXT
                , A.CHNNL_RSV_SND_DTTM    AS CHNNL_RSV_SND_DTTM
                , A.HP_CMPGN_DESC         AS HP_CMPGN_DESC
                , A.HP_REG_YN             AS HP_REG_YN
                , A.HP_STR_ID             AS HP_STR_ID
                , A.HP_REG_STDT           AS HP_REG_STDT
                , A.HP_REG_EDDT           AS HP_REG_EDDT
                , A.HP_REG_TITLE          AS HP_REG_TITLE
                , A.HP_REG_MSG            AS HP_REG_MSG
                , A.HP_REG_REPLACE_TEXT   AS HP_REG_REPLACE_TEXT
                , A.HP_FILE_NM            AS HP_FILE_NM
                , A.HP_FILE_URL           AS HP_FILE_URL
                , A.CHNNL_MSG_CD          AS CHNNL_MSG_CD
                , A.STR_RPLY_NO           AS STR_RPLY_NO
                , A.REJECT_MSG_CD         AS REJECT_MSG_CD
                , A.IMG_USE_YN            AS IMG_USE_YN
                , A.USE_YN                AS USE_YN
                , A.TST_GRP_CD            AS TST_GRP_CD
                , A.SYS_CRTN_DTTM         AS SYS_CRTN_DTTM
                , A.SYS_UPDT_DTTM         AS SYS_UPDT_DTTM
                , A.SYS_FRST_OPRTN_ID     AS SYS_FRST_OPRTN_ID
                , A.SYS_LST_UPDT_ID       AS SYS_LST_UPDT_ID
            FROM
                CMSVIEW.CM_CHNNL_APT A
                , CMSVIEW.CM_CMMN_CD B
            WHERE 1=1
                AND A.CHNNL_NO = 'APT1017151110098'
                AND B.GRP_CD = 'CM007'
                AND B.COMM_CD = A.CHNNL_MSG_CD
;

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 타겟팅 : 추출형 ]

        SELECT TOP 1
            A.CMPGN_HISTRY_NO
            , A.PRCS_MM AS PRCS_MM
            , A.*
        FROM
            CMSVIEW.CM_CMPGN_HISTRY A
        WHERE 1=1
            AND A.CMPGN_NO = 'C20151120101711849'
            AND A.CMPGN_STEP = 'CS02'
        ORDER BY
            A.CMPGN_HISTRY_NO DESC









----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


------------------------------------------------------------------------

UPDATE
    CMSDATA_DEV.CM_CHNNL_SMS
SET
    SND_DESC = (
        SELECT
            B.COMM_CD_VL
            || A.CHNNL_DESC
            || X'0d'X'0a' || A.STR_RPLY_NO
            || X'0d'X'0a' || C.COMM_CD_VL
        FROM
            CMSVIEW_DEV.CM_CHNNL_SMS A
            LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD B
                ON  B.GRP_CD        = 'CM007'
                AND A.CHNNL_MSG_CD  = B.COMM_CD
            LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD C
                ON  C.GRP_CD        = 'CM024'
                AND A.REJECT_MSG_CD = C.COMM_CD
        WHERE
            A.CHNNL_NO = #chnnl_no#
    )
WHERE
    CHNNL_NO = #chnnl_no#

------------------------------------------------------------------------

UPDATE
    CMSDATA_DEV.CM_CHNNL_LMS
SET
    SND_SBJCT = (
        SELECT
            B.COMM_CD_VL
            || A.CHNNL_SBJCT
        FROM
            CMSVIEW_DEV.CM_CHNNL_LMS A
            LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD B
                ON  B.GRP_CD       = 'CM007'
                AND A.CHNNL_MSG_CD = B.COMM_CD
        WHERE
            A.CHNNL_NO     = #chnnl_no#
    )
    , SND_DESC  = (
        SELECT
            B.COMM_CD_VL
            || A.CHNNL_DESC
            || X'0d'X'0a' || A.STR_RPLY_NO
            || X'0d'X'0a' || C.COMM_CD_VL
        FROM
            CMSVIEW_DEV.CM_CHNNL_LMS A
            LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD B
                ON  B.GRP_CD       = 'CM007'
                AND A.CHNNL_MSG_CD = B.COMM_CD
            LEFT OUTER JOIN CMSVIEW_DEV.CM_CMMN_CD C
                ON  C.GRP_CD        = 'CM024'
                AND A.REJECT_MSG_CD = C.COMM_CD
        WHERE
            A.CHNNL_NO      = #chnnl_no#
    )
WHERE
    CHNNL_NO  = #chnnl_no#

------------------------------------------------------------------------




-------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------



SELECT
    A.CMPGN_NO
    , A.TRGT_MTHD_CD            AS  TRGT_MTHD_CD
    , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM012' AND COMM_CD = A.TRGT_MTHD_CD) AS TRGT_MTHD_NM
FROM
    CMSVIEW_DEV.CM_CMPGN_MST A
WHERE 1=1
    AND A.TRGT_MTHD_CD IN ('01')  /* 테마 */
    --AND A.TRGT_MTHD_CD IN ('02')  /* 선택 */
    --AND A.TRGT_MTHD_CD IN ('03')  /* 추출 */
ORDER BY
    A.CMPGN_NO DESC
;



SELECT CAST(1234567890.11 AS DECIMAL(18,0)) (FORMAT 'Z9') AS NUM;







----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ TIMESTAMP(6) -> TIMESTAMP(0) 변경작업 ]

공지

    TIMESTAMP 변경작업

    1. 변경작업분석 결과 작업과정이 시간이 많이 필요함. 수시작업으로 전환

    2. 변경관련 테이블 예상 110개, 개발과 운영 동시에 적용 필요

    3. 변경작업 스크립트는 틈틈히 작업을 하고 실행은 점심시간이나 일과 후에 작업을 진행할 겁니다.

    4. 작업기간은 11.23 ~ 27.

    5. 변경전 원본은 당분간 보관할 겁니다.


참조샘플 스크립트는 아래와 같습니다.


--------------------------------------------------------------------------------------
-- SHOW TABLE
SHOW TABLE CMSDATA_DEV.CM_CHNNL_APT;


--------------------------------------------------------------------------------------
-- COPY TABLE
CREATE TABLE CMSDATA_DEV.CM_CHNNL_APT_KANG  AS CMSDATA_DEV.CM_CHNNL_APT  WITH DATA;



--------------------------------------------------------------------------------------
-- RENAME
RENAME TABLE CMSDATA_DEV.CM_CHNNL_APT_KANG TO CMSDATA_DEV.CM_CHNNL_APT_KANG_ORG;


--------------------------------------------------------------------------------------
-- CREATE TABLE
CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_APT_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
       CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      BIZ_ID VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형코드',
      MSG_TYPE VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형',
      MSG_PUSH_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시유형',
      PUSH_TITLE VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목',
      PUSH_MSG VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용',
      MSG_TEXT VARCHAR(3500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시인앱메시지',
      CHNNL_RSV_SND_DTTM TIMESTAMP(0) TITLE '채널예약발송일시',
      HP_CMPGN_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사설명(주석)',
      HP_REG_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항등록여부',
      HP_STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      HP_REG_STDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록시작일',
      HP_REG_EDDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록종료일',
      HP_REG_TITLE VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항제목',
      HP_REG_MSG VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항내용',
      HP_REG_REPLACE_TEXT VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '대체텍스트',
      HP_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일명',
      HP_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일_URL',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      IMG_USE_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지사용여부',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      PUSH_MSG_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지ID',
      PUSH_RET_MSG VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시결과메시지',
      SYS_CRTN_DTTM TIMESTAMP(0) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(0) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );


--------------------------------------------------------------------------------------
-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_CHNNL_APT_KANG
SELECT
    *
FROM
    CMSDATA_DEV.CM_CHNNL_APT_KANG_ORG
;

INSERT INTO
    CMSDATA_DEV.CM_CHNNL_APT_KANG
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , BIZ_ID
    , MSG_TYPE
    , MSG_PUSH_TYPE
    , PUSH_TITLE
    , PUSH_MSG
    , MSG_TEXT
    , TO_DATE(TO_CHAR(CHNNL_RSV_SND_DTTM, 'YYYYMMDDHH24MISS'), 'YYYYMMDDHH24MISS')
    , HP_CMPGN_DESC
    , HP_REG_YN
    , HP_STR_ID
    , HP_REG_STDT
    , HP_REG_EDDT
    , HP_REG_TITLE
    , HP_REG_MSG
    , HP_REG_REPLACE_TEXT
    , HP_FILE_NM
    , HP_FILE_URL
    , CHNNL_MSG_CD
    , STR_RPLY_NO
    , REJECT_MSG_CD
    , IMG_USE_YN
    , USE_YN
    , TST_GRP_CD
    , PUSH_MSG_ID
    , PUSH_RET_MSG
    , TO_DATE(TO_CHAR(SYS_CRTN_DTTM, 'YYYYMMDDHH24MISS'), 'YYYYMMDDHH24MISS')
    , TO_DATE(TO_CHAR(SYS_UPDT_DTTM, 'YYYYMMDDHH24MISS'), 'YYYYMMDDHH24MISS')
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA_DEV.CM_CHNNL_APT_KANG_ORG
;

--------------------------------------------------------------------------------------
-- VIEWR
REPLACE VIEW CMSVIEW.CM_CHNNL_APT_KANG AS LOCKING TABLE CMSDATA.CM_CHNNL_APT_KANG  FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APT_KANG );


--------------------------------------------------------------------------------------
-- COMPARE
SELECT * FROM CMSDATA_DEV.CM_CHNNL_APT;

SELECT * FROM CMSDATA_DEV.CM_CHNNL_APT_KANG;

SELECT * FROM CMSDATA_DEV.CM_CHNNL_APT_KANG_ORG;


--------------------------------------------------------------------------------------
-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_CHNNL_APT_KANG_ORG;

DROP TABLE CMSDATA_DEV.CM_CHNNL_APT_KANG;





----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SELECT CUST_ID
FROM CMSDATA.CM_CHNNL_TST_GRP_CUST
WHERE TST_GRP_CD = '00011'
GROUP BY 1



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ 타겟팅 : 추출형 ]

        SELECT TOP 1
            A.CMPGN_HISTRY_NO
            , A.PRCS_MM AS PRCS_MM
            , A.*
        FROM
            CMSVIEW_DEV.CM_CMPGN_HISTRY A
        WHERE 1=1
            AND A.CMPGN_NO IN (
                'C20151120101711852'
            )
            AND A.CMPGN_STEP = 'CS02'
        ORDER BY
            A.CMPGN_HISTRY_NO DESC
;

----------------------------------------------------------------------

SELECT
    A.TRGT_MTHD_CD
    , A.CMPGN_NO
    , B.PRCS_MM
    , B.CMPGN_HISTRY_NO
    --, B.*
FROM
    CMSVIEW_DEV.CM_CMPGN_MST       A
    , CMSVIEW_DEV.CM_CMPGN_HISTRY  B
WHERE 1=1
    AND A.TRGT_MTHD_CD = '03'
    AND B.CMPGN_NO     = A.CMPGN_NO
    AND B.CMPGN_STEP   = 'CS02'
ORDER BY
    A.CMPGN_NO DESC
    , B.CMPGN_HISTRY_NO DESC
;


----------------------------------------------------------------------




            SELECT   TOP 1        /* CmsDraftDoc.getCmsDraftDocInfo6 : 타겟팅 : 03-추출형 */
                A.CMPGN_NO            AS CMPGN_NO
                , A.TRGT_MTHD_CD      AS TRGT_MTHD_CD
                , B.CMPGN_HISTRY_NO   AS CMPGN_HISTRY_NO
                , B.PRCS_MM           AS PRCS_NM
                --, B.*
            FROM
                CMSVIEW_DEV.CM_CMPGN_MST       A
                , CMSVIEW_DEV.CM_CMPGN_HISTRY  B
            WHERE 1=1
                AND A.TRGT_MTHD_CD = '03'
                AND A.CMPGN_NO     = 'C20151120101711849'
                AND B.CMPGN_NO     = A.CMPGN_NO
                AND B.CMPGN_STEP   = 'CS02'
            ORDER BY
                A.CMPGN_NO DESC
                , B.CMPGN_HISTRY_NO DESC
;






            SELECT DISTINCT    /* HH14065I.getTestCustId - 1 : 점포 */
                B.TEST_CUST_ID    AS TEST_CUST_ID
                /*, B.STR_ID        AS STR_ID       */
                /*, B.EMP_NO        AS EMP_NO       */
                /*, B.JOB_CODE      AS JOB_CODE     */
                /*, B.TEST_EMP_NO   AS TEST_EMP_NO  */
                /*, B.TEST_USER_NM  AS TEST_USER_NM */
            FROM
                TCVM.STORE_PUSH_TEST_USER B
            WHERE 1=1
                AND B.BLOSSOM_NOTICE_YN = 'N'
                AND B.EMP_NO IN (
                    SELECT DISTINCT
                        A.CMPGN_RQST_ID
                    FROM
                        CMSVIEW_DEV.CM_CMPGN_MST A
                    WHERE 1=1
                        AND A.CMPGN_NO = 'C20151120101711849' /*#cmpgn_no# */
                )
            UNION
            SELECT DISTINCT    /* HH14065I.getTestCustId - 2 : 본사 */
                CUST_ID
            FROM
                CMSDATA_DEV.CM_CHNNL_TST_GRP_CUST
            WHERE
                TST_GRP_CD = '00011'





----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

            SELECT    /* CmsDraftDoc.getCmsDraftDocInfo1 : 캠페인 기본 + 타겟팅 : 01-테마형 */
                A.CMPGN_NO                  AS CMPGN_NO                 /* 캠페인번호 */
                , A.RFR_CMPGN_NO            AS RFR_CMPGN_NO             /* 참조캠페인번호 */
                , A.CMPGN_NM                AS CMPGN_NM                 /* 캠페인명 */
                , A.CMPGN_ANNTN             AS  CMPGN_ANNTN             /* 캠페인설명 */
                , A.CHNNL_ANNTN             AS  CHNNL_ANNTN             /* 채널설명 */
                , A.CMPGN_STEP              AS  CMPGN_STEP              /* 캠페인단계 */
                , A.SND_TYP_CD              AS  SND_TYP_CD              /* 발송구분코드 */
                , A.CMPGN_MTHD_CD           AS  CMPGN_MTHD_CD           /* 캠페인방법코드 */
                , A.TRGT_MTHD_CD            AS TRGT_MTHD_CD             /* 타겟팅방법코드 */
                , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM012' AND COMM_CD = A.TRGT_MTHD_CD)        AS  TRGT_MTHD_NM
                , A.CMPGN_CTGRY_CD          AS  CMPGN_CTGRY_CD          /* 캠페인분류코드 */
                , B.CMPGN_CTGRY_NM          AS  CMPGN_CTGRY_NM          /* 캠페인분류명 */
                , A.CMPGN_CTGRY_SB_CD       AS  CMPGN_CTGRY_SB_CD       /* 캠페인세분류코드 */
                , B.CMPGN_CTGRY_SB_NM       AS  CMPGN_CTGRY_SB_NM       /* 캠페인세분류명 */
                , A.CHNNL_DVD_PLCY_YN       AS  CHNNL_DVD_PLCY_YN       /* 채널배분정책사용여부 */
                , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM028' AND COMM_CD = A.CHNNL_DVD_PLCY_YN)   AS  CHNNL_DVD_PLCY_NM
                , A.STR_ID                  AS  STR_ID                  /* 점포아이디 */
                , C.STORENM                 AS  STR_NM
                , A.CMPGN_STRT_DT           AS  CMPGN_STRT_DT           /* 캠페인시작일자 */
                , A.CMPGN_END_DT            AS  CMPGN_END_DT            /* 캠페인종료일자 */
                , A.EFF_ANAL_STRT_DT        AS  EFF_ANAL_STRT_DT        /* 효과분석시작일자 */
                , A.EFF_ANAL_END_DT         AS  EFF_ANAL_END_DT         /* 효과분석종료일자 */
                , A.CMPGN_RJCT_RSN          AS  CMPGN_RJCT_RSN          /* 캠페인반려사유 */
                , A.CMPGN_OFFR_CD           AS  CMPGN_OFFR_CD           /* 캠페인오퍼코드 */
                , E.CMPGN_OFFR_NM           AS  CMPGN_OFFR_NM
                , A.CMPGN_OFFR_EXP          AS  CMPGN_OFFR_EXP          /* 캠페인오퍼비용 */
                , A.CMPGN_OFFR_EXP_TYP_CD   AS  CMPGN_OFFR_EXP_TYP_CD   /* 캠페인오퍼비용구분코드 */
                , A.CMPGN_OFFR_PAY_DT       AS  CMPGN_OFFR_PAY_DT       /* 캠페인오퍼지급일자 */
                , A.CMPGN_OFFR_EVNT_DESC    AS  CMPGN_OFFR_EVNT_DESC    /* 캠페인오퍼행사내용 */
                , A.CMPGN_PRDGFT_NM         AS  CMPGN_PRDGFT_NM         /* 캠페인사은품명 */
                , A.EVNT_NO                 AS  EVNT_NO                 /* 행사번호 */
                , A.EVNT_DESC               AS  EVNT_DESC               /* 행사내용 */
                , A.CMPGN_PLCY_NO           AS  CMPGN_PLCY_NO           /* 캠페인정책번호 */
                , A.THM_TRGT_TYP_CD         AS  THM_TRGT_TYP_CD         /* 테마별타겟분류코드 */
                , D.THM_TRGT_TYP_NM         AS  THM_TRGT_TYP_NM
                , A.THM_TRGT_CD             AS  THM_TRGT_CD             /* 테마별타겟코드 */
                , D.THM_TRGT_NM             AS  THM_TRGT_NM
                , A.SCCSS_CNDTN_CD          AS  SCCSS_CNDTN_CD          /* 성공조건코드 */
                , F.SCCSS_CNDTN_NM          AS  SCCSS_CNDTN_NM
                , A.CMPGN_EXCT_RNK          AS  CMPGN_EXCT_RNK          /* 캠페인실행순위 */
                , A.CMPGN_RQST_ID           AS  CMPGN_RQST_ID           /* 캠페인요청자아이디 */
                , C.CHRGPERS_NM             AS  CMPGN_RQST_NM
                , A.FNL_APPRVL_ID           AS  FNL_APPRVL_ID           /* 최종승인자아이디 */
                , A.FNL_APPRVL_DTTM         AS  FNL_APPRVL_DTTM         /* 최종승인일시 */
                , A.FNL_APPRVL_STS          AS  FNL_APPRVL_STS          /* 최종승인상태 */
                , A.EFF_ANAL_STRT_DT        AS  EFF_ANAL_STRT_DT        /* 효과분석시작일자 */
                , A.EFF_ANAL_END_DT         AS  EFF_ANAL_END_DT         /* 효과분석종료일자 */
                , A.TOPN                    AS  TOPN
                , A.CUST_CNT                AS  CUST_CNT
                , A.CUST_CNT_T              AS  CUST_CNT_T
                , A.GFT_SYS_REG_YN          AS  GFT_SYS_REG_YN          /* 사은품시스템등록여부 */
                , A.SND_TYP_CD              AS  SND_TYP_CD              /* 발송구분코드 */
                , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM027' AND COMM_CD = A.SND_TYP_CD)          AS  SND_TYP_NM
            FROM
                CMSVIEW_DEV.CM_CMPGN_MST                                 A
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_CTGRY           B  ON A.CMPGN_CTGRY_SB_CD = B.CMPGN_CTGRY_SB_CD
                LEFT OUTER JOIN TSVM.CMS_USER_CRM                    C  ON A.CMPGN_RQST_ID     = C.CHRGPERS_CD
                LEFT OUTER JOIN CMSVIEW_DEV.CM_THM_TRGT              D  ON A.THM_TRGT_CD       = D.THM_TRGT_CD
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_OFFR            E  ON A.CMPGN_OFFR_CD     = E.CMPGN_OFFR_CD
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_CD   F  ON A.SCCSS_CNDTN_CD    = F.SCCSS_CNDTN_CD
            WHERE 1=1
                AND CMPGN_NO = 'C20151110101711626'


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

            SELECT    TOP 1 /* CmsDraftDoc.getCmsDraftDocInfo (기안지 정보) */
                A.CMPGN_NO               AS CMPGN_NO                          /* 캠페인 번호 */
                , A.CMPGN_NM             AS CMPGN_NM                          /* 캠페인 명 */
                , A.CMPGN_ANNTN          AS CMPGN_ANNTN                       /* 캠페인 설명 */
                , A.CMPGN_STRT_DT        AS CMPGN_STRT_DT                     /* 캠페인 시작일자 */
                , A.CMPGN_END_DT         AS CMPGN_END_DT                      /* 캠페인 종료일자 */
                , A.TRGT_MTHD_CD         AS TRGT_MTHD_CD                      /* 타겟팅방법코드 */
                , A.CMPGN_CTGRY_CD       AS CMPGN_CTGRY_CD                    /* 캠페인 분류코드 */
                , B.CMPGN_CTGRY_NM       AS CMPGN_CTGRY_NM                    /* 캠페인 분류명 */
                , A.CMPGN_CTGRY_SB_CD    AS CMPGN_CTGRY_SB_CD                 /* 캠페인 상세분류코드 */
                , B.CMPGN_CTGRY_SB_NM    AS CMPGN_CTGRY_SB_NM                 /* 캠페인 상세분류명 */
                , A.CMPGN_OFFR_CD        AS CMPGN_OFFR_CD                     /* 캠페인 오퍼 코드 */
                , D.CMPGN_OFFR_NM        AS CMPGN_OFFR_NM                     /* 캠페인 오퍼명 */
                , A.CMPGN_OFFR_EXP        AS CMPGN_OFFR_EXP                   /* 캠페인오퍼비용 */
                , A.CMPGN_OFFR_EXP_TYP_CD AS CMPGN_OFFR_EXP_TYP_CD            /* 캠페인오퍼비용구분코드 */
                , NVL(TO_CHAR(A.CMPGN_OFFR_PAY_DT, 'YYYY-MM-DD HH24:MM:SS'),'-')     AS CMPGN_OFFR_PAY_DT                /* 캠페인오퍼지급일자 */
                , A.CMPGN_OFFR_EVNT_DESC  AS CMPGN_OFFR_EVNT_DESC             /* 캠페인오퍼행사내용 */
                , A.SCCSS_CNDTN_CD       AS SCCSS_CNDTN_CD                    /* 성공조건코드 */
                , E.SCCSS_CNDTN_NM       AS SCCSS_CNDTN_NM                    /* 성공조건명 */
                , C.MY_STR_ID            AS MY_STR_ID                         /* 점포ID */
                , C.MY_STR_NM            AS MY_STR_NM                         /* 점포명 */
                , A.SYS_FRST_OPRTN_ID    AS SYS_FRST_OPRTN_ID                 /* 기안등록사원ID */
                , C.USER_NM              AS USER_NM                           /* 기안등록사원명 */
                , C.CUST_ID              AS CUST_ID                           /* 기안등록사원 고객ID */
                , TO_CHAR(A.SYS_CRTN_DTTM, 'YYYY-MM-DD')    AS SYS_CRTN_DT    /* 캠페인 등록일자 */
            FROM
                CMSVIEW_DEV.CM_CMPGN_MST                     A          /* 캠페인 마스터 */
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_CTGRY   B          /* 캠페인 카테고리 */
                    ON  B.CMPGN_CTGRY_CD    = A.CMPGN_CTGRY_CD
                    AND B.CMPGN_CTGRY_SB_CD = A.CMPGN_CTGRY_SB_CD
                LEFT OUTER JOIN (
                    SELECT DISTINCT
                        MY_STR_ID
                        , MY_STR_NM
                        , EMP_NO
                        , USER_NM
                        , CUST_ID
                    FROM
                        TCVM.STORE_EMP_CUST_ID                          /* 점포별 직원정보 */
                    WHERE 1=1
                )                                            C
                    ON C.EMP_NO = A.SYS_FRST_OPRTN_ID
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_OFFR    D          /* 캠페인 오퍼 정보 */
                    ON D.CMPGN_OFFR_CD     = A.CMPGN_OFFR_CD
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_CD E    /* 캠페인 성공조건 정보 */
                    ON E.SCCSS_CNDTN_CD    = A.SCCSS_CNDTN_CD
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_EXCT    F          /* 캠페인 실행 */
                    ON F.CMPGN_NO          = A.CMPGN_NO
            WHERE 1=1
                AND A.CMPGN_NO = 'C20151110101711626'


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

        SELECT
             A.CMPGN_NO AS CMPGN_NO                     /* 캠페인번호 */
             , B.CHNNL_NO
             , A.RFR_CMPGN_NO   AS RFR_CMPGN_NO             /* 참조캠페인번호 */
             , A.CMPGN_NM   AS CMPGN_NM                     /* 캠페인명 */
             , A.CMPGN_ANNTN AS CMPGN_ANNTN                 /* 캠페인설명 */
             , A.CHNNL_ANNTN AS CHNNL_ANNTN                 /* 채널설명 */
             , A.CMPGN_STEP AS CMPGN_STEP                   /* 캠페인단계 */
             , A.SND_TYP_CD AS SND_TYP_CD                   /* 발송구분코드 */
             , A.CMPGN_MTHD_CD AS CMPGN_MTHD_CD             /* 캠페인방법코드 */
             , A.TRGT_MTHD_CD   AS TRGT_MTHD_CD             /* 타겟팅방법코드 */
             , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM012' AND COMM_CD = A.TRGT_MTHD_CD) AS TRGT_MTHD_NM
             , A.CMPGN_CTGRY_CD AS CMPGN_CTGRY_CD           /* 캠페인분류코드 */
             , B.CMPGN_CTGRY_NM AS CMPGN_CTGRY_NM           /* 캠페인분류명 */
             , A.CMPGN_CTGRY_SB_CD AS CMPGN_CTGRY_SB_CD     /* 캠페인세분류코드 */
             , B.CMPGN_CTGRY_SB_NM AS CMPGN_CTGRY_SB_NM     /* 캠페인세분류명 */
             , A.CHNNL_DVD_PLCY_YN AS CHNNL_DVD_PLCY_YN     /* 채널배분정책사용여부 */
             , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM028' AND COMM_CD = A.CHNNL_DVD_PLCY_YN) AS CHNNL_DVD_PLCY_NM
             , A.STR_ID AS STR_ID                           /* 점포아이디 */
             , C.STORENM AS STR_NM
             , A.CMPGN_STRT_DT AS CMPGN_STRT_DT             /* 캠페인시작일자 */
             , A.CMPGN_END_DT AS CMPGN_END_DT               /* 캠페인종료일자 */
             , A.EFF_ANAL_STRT_DT AS EFF_ANAL_STRT_DT       /* 효과분석시작일자 */
             , A.EFF_ANAL_END_DT AS EFF_ANAL_END_DT         /* 효과분석종료일자 */
             , A.CMPGN_RJCT_RSN AS CMPGN_RJCT_RSN           /* 캠페인반려사유 */
             , A.CMPGN_OFFR_CD AS CMPGN_OFFR_CD             /* 캠페인오퍼코드 */
             , E.CMPGN_OFFR_NM AS CMPGN_OFFR_NM
             , A.CMPGN_OFFR_EXP AS CMPGN_OFFR_EXP           /* 캠페인오퍼비용 */
             , A.CMPGN_OFFR_EXP_TYP_CD AS CMPGN_OFFR_EXP_TYP_CD /* 캠페인오퍼비용구분코드 */
             , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM026' AND COMM_CD = A.CMPGN_OFFR_EXP_TYP_CD) AS CMPGN_OFFR_EXP_TYP_NM
             , A.CMPGN_OFFR_PAY_DT AS CMPGN_OFFR_PAY_DT         /* 캠페인오퍼지급일자 */
             , A.CMPGN_OFFR_EVNT_DESC AS CMPGN_OFFR_EVNT_DESC       /* 캠페인오퍼행사내용 */
             , A.CMPGN_PRDGFT_NM AS CMPGN_PRDGFT_NM     /* 캠페인사은품명 */
             , A.EVNT_NO AS EVNT_NO                     /* 행사번호 */
             , A.EVNT_DESC AS EVNT_DESC                 /* 행사내용 */
             , A.CMPGN_PLCY_NO AS CMPGN_PLCY_NO         /* 캠페인정책번호 */
             , A.THM_TRGT_TYP_CD AS THM_TRGT_TYP_CD     /* 테마별타겟분류코드 */
             , D.THM_TRGT_TYP_NM AS THM_TRGT_TYP_NM
             , A.THM_TRGT_CD AS THM_TRGT_CD             /* 테마별타겟코드 */
             , D.THM_TRGT_NM AS THM_TRGT_NM
             , A.SCCSS_CNDTN_CD AS SCCSS_CNDTN_CD           /* 성공조건코드 */
             , F.SCCSS_CNDTN_NM AS SCCSS_CNDTN_NM
             , A.CMPGN_EXCT_RNK AS CMPGN_EXCT_RNK           /* 캠페인실행순위 */
             , A.CMPGN_RQST_ID AS CMPGN_RQST_ID         /* 캠페인요청자아이디 */
             , C.CHRGPERS_NM AS CMPGN_RQST_NM
             , A.FNL_APPRVL_ID AS FNL_APPRVL_ID         /* 최종승인자아이디 */
             , A.FNL_APPRVL_DTTM AS FNL_APPRVL_DTTM     /* 최종승인일시 */
             , A.FNL_APPRVL_STS AS FNL_APPRVL_STS           /* 최종승인상태 */
             , A.EFF_ANAL_STRT_DT AS EFF_ANAL_STRT_DT       /* 효과분석시작일자 */
             , A.EFF_ANAL_END_DT AS EFF_ANAL_END_DT         /* 효과분석종료일자 */
             , A.TOPN AS TOPN
             , A.CUST_CNT AS CUST_CNT
             , A.CUST_CNT_T AS CUST_CNT_T
             , A.GFT_SYS_REG_YN AS GFT_SYS_REG_YN       /* 사은품시스템등록여부 */
             , A.SND_TYP_CD AS SND_TYP_CD               /* 발송구분코드 */
             , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM027' AND COMM_CD = A.SND_TYP_CD) AS SND_TYP_NM
          FROM CMSVIEW_DEV.CM_CMPGN_MST A
               LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_CTGRY B
            ON A.CMPGN_CTGRY_SB_CD = B.CMPGN_CTGRY_SB_CD
               LEFT OUTER JOIN TSVM.CMS_USER_CRM C
            ON A.CMPGN_RQST_ID = C.CHRGPERS_CD
               LEFT OUTER JOIN CMSVIEW_DEV.CM_THM_TRGT D
            ON A.THM_TRGT_CD = D.THM_TRGT_CD
               LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_OFFR E          /* 캠페인 오퍼 */
            ON A.CMPGN_OFFR_CD = E.CMPGN_OFFR_CD
               LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_CD F
            ON A.SCCSS_CNDTN_CD = F.SCCSS_CNDTN_CD
         WHERE 1=1
            --AND CMPGN_NO = 'C20151122101711856'
            AND A.GFT_SYS_REG_YN = 'Y'
         ORDER BY
            A.CMPGN_NO DESC


----------------------------------------------------------------------------------------------------

            SELECT
                A.ID                       AS ID
                , A.MSG_GRP_ID             AS MSG_GRP_ID
                , A.MSG_TYPE               AS MSG_TYPE
                , A.MSG_PUSH_TYPE          AS MSG_PUSH_TYPE
                , A.PUSH_TITLE             AS PUSH_TITLE
                , A.PUSH_MSG               AS PUSH_MSG
                , A.MSG_TEXT               AS MSG_TEXT
                , A.RICH_PUSH_MSG          AS RICH_PUSH_MSG
                , A.PUSH_IMG               AS PUSH_IMG
                , A.PUSH_KEY               AS PUSH_KEY
                , A.PUSH_VALUE             AS PUSH_VALUE
                , A.VALID_FOR_MINUTE       AS VALID_FOR_MINUTE
                , A.PUSH_TIME_TO_LIVE_SEC  AS PUSH_TIME_TO_LIVE_SEC
                , A.EXPIRE_DATE            AS EXPIRE_DATE
                , A.UNREAD_CNT             AS UNREAD_CNT
                , A.TEMPLATE_ID            AS TEMPLATE_ID
                , A.MAP1                   AS MAP1
                , A.MAP2                   AS MAP2
                , A.MAP3                   AS MAP3
                , A.SMS_CONTENT            AS SMS_CONTENT
                , A.REG_DATE               AS REG_DATE
                , A.UPT_DATE               AS UPT_DATE
                , A.MSG_KIND               AS MSG_KIND
                , A.TITLE_COLOR            AS TITLE_COLOR
                , A.CONTENT_COLOR          AS CONTENT_COLOR
                , A.COLOR_FLAG             AS COLOR_FLAG
                , A.RECOVERY_FLAG          AS RECOVERY_FLAG
                , A.SMS_MSG                AS SMS_MSG
                , A.SMS_TYPE               AS SMS_TYPE
                , A.TARGET_CUSTOM_ID       AS TARGET_CUSTOM_ID
                , A.TARGET_CHNNL_ID        AS TARGET_CHNNL_ID
                , B.CHNNL_RSV_SND_STTM     AS CHNNL_RSV_SND_STTM
            FROM
                TB_MSG        A
                , TB_CRM_INFO B
            WHERE 1=1
                AND A.ID = #msg_id#
                AND B.TARGET_CUSTOM_ID = A.TARGET_CUSTOM_ID
                AND B.TARGET_CHNNL_ID  = A.TARGET_CHNNL_ID

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


C20151122101711854  SMS1017151122658
C20151120101711842  SMS1017151120657   SMS
C20151120111711841  LMS1117151120829   LMS
C20151120111711840  LMS1117151120828
C20151122101711854  LMS1017151122832
C20151122101711853  LMS1017151122831
C20151120101711842  LMS1017151120830
C20151120111711848  APT1117151120228
C20151122101711854  APT1017151122235
C20151122101711853  APT1017151122234
C20151120101711852  APT1017151120232
C20151120101711851  APT1017151120231
C20151120101711850  APT1017151120230
C20151120101711849  APT1017151120229
C20151120101711847  APT1017151120227
C20151120101711846  APT1017151120226
C20151120101711845  APT1017151120225
C20151120101711844  APT1017151120222
C20151120101711843  APT1017151120220
C20151120101711842  APT1017151120219

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
                                temp += "<td> <table>"; /* fnObj.nullValue(res.draftInfo4[i].contents, "없음") */
                                if (res.draftInfo4[i].msg_title != null)
                                    temp += "<tr><td>" + fnObj.nullValue(res.draftInfo4[i].msg_title, "없음") + "</td></td>";
                                if (res.draftInfo4[i].msg_desc != null)
                                    temp += "<tr><td>" + fnObj.nullValue(res.draftInfo4[i].msg_desc, "없음") + "</td></td>";
                                temp += "</table></td>";


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


SELECT
    A.CMPGN_NO                     AS CMPGN_NO
    , A.SCCSS_CNDTN_CD             AS SCCSS_CNDTN_CD                /* 성공조건코드 */
    , A.SCCSS_CNDTN_DTL_SEQ_NO     AS SCCSS_CNDTN_DTL_SEQ_NO        /* 성공조건상세일련번호 */
    , A.CHGR_CD                    AS BU_CD                         /* 담당코드 */
    , A.CHGR_NM                    AS BU_NM                         /* 담당명 */
    , A.ITM_BYNG_CTGRY_CD          AS team_cd                       /* 상품구매카테고리코드 */
    , A.ITM_BYNG_CTGRY_NM          AS team_nm                       /* 상품구매카테고리명 */
    , A.ITM_BYNG_BG_TYP_CD         AS gcode_cd                      /* 상품구매대분류코드 */
    , A.ITM_BYNG_BG_TYP_NM         AS gcode_nm                      /* 상품구매대분류명 */
    , A.ITM_BYNG_MD_TYP_CD         AS mcode_cd                      /* 상품구매중분류코드 */
    , A.ITM_BYNG_MD_TYP_NM         AS mcode_nm                      /* 상품구매중분류명 */
    , A.ITM_BYNG_SM_TYP_CD         AS dcode_cd                      /* 상품구매소분류코드 */
    , A.ITM_BYNG_SM_TYP_NM         AS dcode_nm                      /* 상품구매소분류명 */
    , A.ITM_BYNG_SKU_NO            AS skucd                         /* 상품구매SKU번호 */
    , A.ITM_BYNG_SKU_NM            AS gd_nm                         /* 상품구매SKU명 */
    , A.GLAMT_CMPLT_AMT_TYP        AS GLAMT_CMPLT_AMT_TYP           /* 목표금액달성금액구분 */
    , B.COMM_CD_VL                 AS GLAMT_CMPLT_AMT_TYP_NM
    , A.GLAMT_CMPLT_AMT            AS GLAMT_CMPLT_AMT               /* 목표금액달성금액 */
    , TO_CHAR(A.GLAMT_CMPLT_EVNT_STAT_DT,'yyyy-mm-dd') AS GLAMT_CMPLT_EVNT_STAT_DT      /* 목표금액달성행사기간시작일자 */
    , TO_CHAR(A.GLAMT_CMPLT_EVNT_END_DT,'yyyy-mm-dd')  AS GLAMT_CMPLT_EVNT_END_DT       /* 목표금액달성행사기간종료일자 */
    , CTMTRNS_GLWUP_SCCS_TYP       AS CTMTRNS_GLWUP_SCCS_TYP        /* 객단가증가성공구분 */
    , C.COMM_CD_VL                 AS CTMTRNS_GLWUP_SCCS_TYP_NM
    , CTMTRNS_GLWUP_SCCS_CAD_TYP   AS CTMTRNS_GLWUP_SCCS_CAD_TYP    /* 결제카드성공카드종류 */
FROM
    CMSVIEW.CM_CMPGN_SCCS_CNDTN_DTL A
    LEFT OUTER JOIN CMSVIEW.CM_CMMN_CD B
        ON A.GLAMT_CMPLT_AMT_TYP = B.COMM_CD
        AND B.GRP_CD = 'CM022'
    LEFT OUTER JOIN CMSVIEW.CM_CMMN_CD C
        ON A.CTMTRNS_GLWUP_SCCS_TYP = C.COMM_CD
        AND C.GRP_CD = 'CM021'
WHERE
    A.CMPGN_NO = 'C20151122101711856'


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ 001 ] CM_AMT_RSPNS_SMM

CREATE SET TABLE CMSDATA.CM_AMT_RSPNS_SMM ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      TC_GRP_CD CHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테스트고객여부' NOT NULL,
      GUBUN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '구분명' NOT NULL,
      MAN1_3UNDER DECIMAL(18,2) TITLE '3만원미만',
      MAN2_3OVER DECIMAL(18,2) TITLE '3민원이상',
      MAN3_5OVER DECIMAL(18,2) TITLE '5만원이상',
      MAN4_100VER DECIMAL(18,2) TITLE '7만원이상',
      MAN5_15OVER DECIMAL(18,2) TITLE '10만원이상',
      MAN6_20OVER DECIMAL(18,2) TITLE '15만원이상',
      MAN7_30OVER DECIMAL(18,2) TITLE '30만원이상',
      MAN8_50OVER DECIMAL(18,2) TITLE '50만원이상',
      SYS_CRTN_DTTM DATE FORMAT 'YYYY-MM-DD' TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM DATE FORMAT 'YYYY-MM-DD' TITLE 'SYS_변경일시')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,TC_GRP_CD ,GUBUN_NM );


----------------------------------------------------------------------------------------------------


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 개발 ]

DROP TABLE CMSDATA_DEV.CM_USER_LOG;

CREATE TABLE CMSDATA_DEV.CM_USER_LOG
(
    USER_ID       VARCHAR(20)              TITLE '사용자ID(사번:EMP_NO)'
    , USER_TYPE   VARCHAR(2)               TITLE '사용자타입(10:관리자,20:사용자)'
    , CONN_DATE   DATE FORMAT 'YYYY-MM-DD' TITLE '접속일자'
    , CONN_TIME   VARCHAR(6)               TITLE '접속시간'
    , PGM_ID      VARCHAR(20)              TITLE '프로그램ID'
    , USER_IP     VARCHAR(40)              TITLE '사용자IP'
    , ACTION_NO   VARCHAR(2)               TITLE '행위번호(10:접속,20:조회,30:저장,40:삭제)'
);

REPLACE VIEW CMSVIEW_DEV.CM_USER_LOG AS LOCKING TABLE CMSDATA_DEV.CM_USER_LOG  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_USER_LOG );

----------------------------------------------------------------------------------------------------
[ 운영 ]

DROP TABLE CMSDATA.CM_USER_LOG;

CREATE TABLE CMSDATA.CM_USER_LOG
(
    USER_ID       VARCHAR(20)              TITLE '사용자ID(사번:EMP_NO)'
    , USER_TYPE   VARCHAR(2)               TITLE '사용자타입(10:관리자,20:사용자)'
    , CONN_DATE   DATE FORMAT 'YYYY-MM-DD' TITLE '접속일자'
    , CONN_TIME   VARCHAR(6)               TITLE '접속시간'
    , PGM_ID      VARCHAR(20)              TITLE '프로그램ID'
    , USER_IP     VARCHAR(40)              TITLE '사용자IP'
    , ACTION_NO   VARCHAR(2)               TITLE '행위번호(10:접속,20:조회,30:저장,40:삭제)'
);

REPLACE VIEW CMSVIEW.CM_USER_LOG AS LOCKING TABLE CMSDATA.CM_USER_LOG  FOR ACCESS (SELECT * FROM CMSDATA.CM_USER_LOG );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 개발 ]

DROP TABLE CMSDATA_DEV.CM_PGM_ID;

CREATE TABLE CMSDATA_DEV.CM_PGM_ID
(
    SEQ_NO       VARCHAR( 3)   TITLE '순번 001~999'
    , PGM_ID     VARCHAR(20)   TITLE '프로그램ID'
    , PGM_TYPE   VARCHAR( 2)   TITLE '프로그램유형(H1:본사,C1:점포사용자 C2:점포관리자,D1:공통)'
    , LEVEL1_NM  VARCHAR(60)   TITLE '메뉴레벨1-이름'
    , LEVEL2_NM  VARCHAR(60)   TITLE '메뉴레벨2-이름'
    , LEVEL3_NM  VARCHAR(60)   TITLE '메뉴레벨3-이름'
    , USE_YN     VARCHAR( 1)   TITLE '사용여부(Y:사용, N:사용하지 않음)'
);

REPLACE VIEW CMSVIEW_DEV.CM_PGM_ID AS LOCKING TABLE CMSDATA_DEV.CM_PGM_ID  FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_PGM_ID );

----------------------------------------------------------------------------------------------------
[ 운영 ]

DROP TABLE CMSDATA.CM_PGM_ID;

CREATE TABLE CMSDATA.CM_PGM_ID
(
    SEQ_NO       VARCHAR( 3)   TITLE '순번 001~999'
    , PGM_ID     VARCHAR(20)   TITLE '프로그램ID'
    , PGM_TYPE   VARCHAR( 2)   TITLE '프로그램유형(H1:본사,C1:점포사용자 C2:점포관리자,D1:공통)'
    , LEVEL1_NM  VARCHAR(60)   TITLE '메뉴레벨1-이름'
    , LEVEL2_NM  VARCHAR(60)   TITLE '메뉴레벨2-이름'
    , LEVEL3_NM  VARCHAR(60)   TITLE '메뉴레벨3-이름'
    , USE_YN     VARCHAR( 1)   TITLE '사용여부(Y:사용, N:사용하지 않음)'
);

REPLACE VIEW CMSVIEW.CM_PGM_ID AS LOCKING TABLE CMSDATA.CM_PGM_ID  FOR ACCESS (SELECT * FROM CMSDATA.CM_PGM_ID );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

        SELECT POS_EVENT_NO     AS EVENT_NO         /* 포스행사번호 */
             , POS_EVENT_NM     AS EVENT_NM         /* 포스행사명 */
             , INPUT_EVENT_NM   AS INPUT_EVENT_NM   /* 입력행사명 */
             , EVENT_START_DATE AS EVENT_START_DATE /* 행사시작일자 */
             , EVENT_END_DATE   AS EVENT_END_DATE   /* 행사종료일자 */
          FROM TCVM.MTEVD_POS_THEME
         WHERE 1 = 1
        AND
             EVENT_NM LIKE '%' || '' || '%'
           AND CURRENT_DATE BETWEEN EVENT_START_DATE AND EVENT_END_DATE
         ORDER BY EVENT_START_DATE DESC

2015-11-24 21:46:26,715 DEBUG [java.sql.ResultSet] {rset-100293} ResultSet
2015-11-24 21:46:26,716 DEBUG [java.sql.ResultSet] {rset-100293} Header: [EVENT_NO, EVENT_NM, INPUT_EVENT_NM, EVENT_START_DATE, EVENT_END_DATE]
2015-11-24 21:46:26,716 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511004, 복합쿠폰에누리, TR점포핸드빌삼성48, 2015-11-23, 2015-11-29]
2015-11-24 21:46:26,716 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511017, 1대N 쿠폰에누리, 특별할인쿠폰삼성6차, 2015-11-23, 2015-11-29]
2015-11-24 21:46:26,716 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511012, 복합쿠폰에누리, 특별할인쿠폰 6차, 2015-11-23, 2015-11-29]
2015-11-24 21:46:26,716 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511098, 1대N 쿠폰에누리, 필립스5%(풍산), 2015-11-19, 2015-12-02]
2015-11-24 21:46:26,716 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511114, 1대N 쿠폰에누리, 쿠쿠5%(안양), 2015-11-19, 2015-12-02]
2015-11-24 21:46:26,716 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511081, 자동에누리, [일렉]점별행사(11월3주차), 2015-11-19, 2015-11-25]
2015-11-24 21:46:26,716 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511089, 결제할인쿠폰_전체, 1116알뜰폰 3천, 2015-11-16, 2015-11-30]
2015-11-24 21:46:26,717 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511086, 결제할인쿠폰_전체, 1116알뜰폰 3천, 2015-11-16, 2015-11-30]
2015-11-24 21:46:26,717 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511130, 결제할인쿠폰_전체, 1116알뜰폰 3천(수정), 2015-11-16, 2015-11-30]
2015-11-24 21:46:26,717 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511085, MMS_결제할인쿠폰_전체, 1116알뜰폰 3천, 2015-11-16, 2015-11-30]
2015-11-24 21:46:26,717 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511088, MMS_결제할인쿠폰_전체, 1116알뜰폰 3천, 2015-11-16, 2015-11-30]
2015-11-24 21:46:26,717 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511189, 릴레이 에누리(군)_수량, [유가공]남양2개10%, 2015-11-12, 2015-11-25]
2015-11-24 21:46:26,717 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511201, 상품권증정과회수_금액, _샘표1천[올가닉가공~], 2015-11-12, 2015-11-25]
2015-11-24 21:46:26,717 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511092, 결제할인쿠폰_전체, 수능 5만원, 2015-11-12, 2015-11-30]
2015-11-24 21:46:26,717 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511199, 상품권증정과회수_금액, _애경3천[세제$], 2015-11-12, 2015-11-25]
2015-11-24 21:46:26,718 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511205, 릴레이 에누리(군)_수량, 와인 G7 3종, 2015-11-12, 2015-12-02]
2015-11-24 21:46:26,718 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511132, 상품권증정과회수_금액, _샘표2천[올가닉가공~], 2015-11-12, 2015-11-25]
2015-11-24 21:46:26,718 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511206, 릴레이 에누리(군)_수량, 와인 에라주리즈 3종, 2015-11-12, 2015-12-02]
2015-11-24 21:46:26,718 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511203, 명절배송꼬리표, 종가집 태양초즉석김장김치, 2015-11-12, 2015-12-31]
2015-11-24 21:46:26,718 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511091, 결제할인쿠폰_전체, 수능 3만원, 2015-11-12, 2015-11-30]
2015-11-24 21:46:26,718 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511160, 릴레이 에누리(군)_수량, 크래프트맥주할인, 2015-11-05, 2015-12-31]
2015-11-24 21:46:26,718 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511133, 릴레이 에누리(군)_금액, ♣침장]윈도우9개점, 2015-11-05, 2015-12-02]
2015-11-24 21:46:26,718 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511192, N+1(단일 SKU), [조미료]1+1, 2015-11-05, 2015-11-25]
2015-11-24 21:46:26,719 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511216, 자동에누리, [바디]니베아세트할인, 2015-11-05, 2015-11-25]
2015-11-24 21:46:26,719 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511194, N+1(복수 SKU), 과자CAT]직소싱웨이퍼3종1+1, 2015-11-05, 2015-11-25]
2015-11-24 21:46:26,719 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511186, N+1(단일 SKU), [건해산]11/2김1+1, 2015-11-04, 2015-11-25]
2015-11-24 21:46:26,719 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511220, 릴레이 에누리(군)_수량, 성수점 퀼팅점퍼 대량구매, 2015-11-04, 2015-11-30]
2015-11-24 21:46:26,719 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511137, 연계에누리A_일치, [세탁기]삼성드럼+수납함, 2015-11-03, 2015-11-30]
2015-11-24 21:46:26,719 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511155, 연계에누리A_일치, TR SS드럼 + 수납함 5만원, 2015-11-03, 2015-11-30]
2015-11-24 21:46:26,719 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511168, 릴레이 에누리(군)_수량, 크래프트맥주에누리, 2015-11-03, 2015-12-31]
2015-11-24 21:46:26,719 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511149, 자동에누리, 주방/가구에누리행사, 2015-11-03, 2015-12-31]
2015-11-24 21:46:26,720 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511193, 릴레이 에누리(군)_수량, 맥주에누리, 2015-11-03, 2015-11-25]
2015-11-24 21:46:26,720 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511147, 자동에누리, ★빅텐 맛사지 30 에누리, 2015-11-03, 2015-11-30]
2015-11-24 21:46:26,720 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511042, N+1(복수 SKU), LEE]11월 아시리라 2+1, 2015-11-01, 2015-11-30]
2015-11-24 21:46:26,720 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511048, 릴레이 에누리(군)_수량, 스타킹)2개이상추가30%, 2015-11-01, 2015-12-31]
2015-11-24 21:46:26,720 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511128, MMS_결제할인쿠폰_전체, [앱]e스탬프5천, 2015-11-01, 2015-12-09]
2015-11-24 21:46:26,720 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511108, N+1(복수 SKU), 슈웹스2+1, 2015-11-01, 2015-12-31]
2015-11-24 21:46:26,720 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511045, 자동에누리, 11월)헤어생활, 2015-11-01, 2015-11-30]
2015-11-24 21:46:26,720 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511049, 릴레이 에누리(군)_수량, 아울렛)2개이상30%, 2015-11-01, 2015-12-31]
2015-11-24 21:46:26,721 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511103, N+1(복수 SKU), 매일우유속2+1, 2015-11-01, 2015-12-31]
2015-11-24 21:46:26,721 DEBUG [java.sql.ResultSet] {rset-100293} Result: [2201511126, 자동에누리, [애플]CPU 에누리행사, 2015-11-01, 2015-12-26]



SHOW TABLE TDATA.MTEVD_POS_THEME;

CREATE SET TABLE TDATA.MTEVD_POS_THEME ,NO FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      POS_EVENT_NO VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '포스행사번호' NOT NULL,
      POS_EVENT_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '포스행사명',
      INPUT_EVENT_NM VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '입력행사명',
      BIZTP_CODE CHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '업태코드' NOT NULL,
      D_CODE1 CHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '소분류코드1',
      D_CODE2 CHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '소분류코드2',
      D_CODE3 CHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '소분류코드3',
      EVENT_TYPE_CODE CHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사유형코드' NOT NULL,
      EVNTY_CODE CHAR(3) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사타입코드' NOT NULL,
      EVNTY_MENU_NO DECIMAL(12,0) TITLE '행사타입메뉴번호' NOT NULL,
      EVENT_START_DATE DATE FORMAT 'yyyy/mm/dd' TITLE '행사시작일자',
      EVENT_END_DATE DATE FORMAT 'yyyy/mm/dd' TITLE '행사종료일자',
      START_TM CHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '시작시각',
      END_TM CHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '종료시각',
      VEN_BRDN_RATE DECIMAL(5,2) TITLE '협력회사부담율',
      APPY_MTHD_CODE CHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '적용방법코드',
      CPN_APPY_LIMIT_QTY DECIMAL(11,2) TITLE '쿠폰적용제한수량',
      CPN_MAX_ISNC_QTY DECIMAL(11,2) TITLE '쿠폰최대발급수량',
      EVENT_STND_QTY DECIMAL(11,2) TITLE '행사기준수량',
      SKU_GRP_NO1 CHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품그룹번호1',
      SKU_GRP_NO2 CHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품그룹번호2',
      SKU_GRP_NO3 CHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품그룹번호3',
      PCARD_CLUB_ID CHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '포인트카드클럽ID',
      ECOST DECIMAL(14,2) TITLE '행사비',
      PCH_AMT1 DECIMAL(14,2) TITLE '구매금액1',
      PCH_QTY1 DECIMAL(11,2) TITLE '구매수량1',
      ENURI_RATE1 DECIMAL(5,2) TITLE '에누리율1',
      ENURI_AMT1 DECIMAL(14,2) TITLE '에누리금액1',
      PCH_AMT2 DECIMAL(14,2) TITLE '구매금액2',
      PCH_QTY2 DECIMAL(11,2) TITLE '구매수량2',
      ENURI_RATE2 DECIMAL(5,2) TITLE '에누리율2',
      ENURI_AMT2 DECIMAL(14,2) TITLE '에누리금액2',
      PCH_AMT3 DECIMAL(14,2) TITLE '구매금액3',
      PCH_QTY3 DECIMAL(11,2) TITLE '구매수량3',
      ENURI_RATE3 DECIMAL(5,2) TITLE '에누리율3',
      ENURI_AMT3 DECIMAL(14,2) TITLE '에누리금액3',
      PCH_AMT4 DECIMAL(14,2) TITLE '구매금액4',
      PCH_QTY4 DECIMAL(11,2) TITLE '구매수량4',
      ENURI_RATE4 DECIMAL(5,2) TITLE '에누리율4',
      ENURI_AMT4 DECIMAL(14,2) TITLE '에누리금액4',
      SPE_WORD_USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '특정문구사용여부' NOT NULL,
      GIFTS_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '증정품여부' NOT NULL,
      ASSOC_POS_EVENT_NO VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '연계포스행사번호',
      CHG_DT CHAR(14) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변경일시' NOT NULL,
      CHG_ID VARCHAR(13) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변경ID' NOT NULL,
      POS_EVENT_SHORT_NM VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사약칭',
      SEQ_CODE CHAR(3) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '신행사타입(SEQ)',
      POS_EVNTY_CODE VARCHAR(3) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'POS행사타입코드',
      EVENT_DAY VARCHAR(7) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사요일',
      EVENT_CONDITION VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사성립기준',
      AMT_CONDITION VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사금액적용방법',
      PCH_AMT5 DECIMAL(14,2) TITLE '구매금액5',
      PCH_QTY5 DECIMAL(11,2) TITLE '구매수량5',
      ENURI_RATE5 DECIMAL(5,2) TITLE '에누리율5',
      ENURI_AMT5 DECIMAL(14,2) TITLE '에누리금액5',
      PCH_AMT6 DECIMAL(14,2) TITLE '구매금액6',
      PCH_QTY6 DECIMAL(11,2) TITLE '구매수량6',
      ENURI_RATE6 DECIMAL(5,2) TITLE '에누리율6',
      ENURI_AMT6 DECIMAL(14,2) TITLE '에누리금액6',
      PCH_AMT7 DECIMAL(14,2) TITLE '구매금액7',
      PCH_QTY7 DECIMAL(11,2) TITLE '구매수량7',
      ENURI_RATE7 DECIMAL(5,2) TITLE '에누리율7',
      ENURI_AMT7 DECIMAL(14,2) TITLE '에누리금액7',
      PCH_AMT8 DECIMAL(14,2) TITLE '구매금액8',
      PCH_QTY8 DECIMAL(11,2) TITLE '구매수량8',
      ENURI_RATE8 DECIMAL(5,2) TITLE '에누리율8',
      ENURI_AMT8 DECIMAL(14,2) TITLE '에누리금액8',
      PCH_AMT9 DECIMAL(14,2) TITLE '구매금액9',
      PCH_QTY9 DECIMAL(11,2) TITLE '구매수량9',
      ENURI_RATE9 DECIMAL(5,2) TITLE '에누리율9',
      ENURI_AMT9 DECIMAL(14,2) TITLE '에누리금액9',
      PCH_AMT10 DECIMAL(14,2) TITLE '구매금액10',
      PCH_QTY10 DECIMAL(11,2) TITLE '구매수량10',
      ENURI_RATE10 DECIMAL(5,2) TITLE '에누리율10',
      ENURI_AMT10 DECIMAL(14,2) TITLE '에누리금액10',
      LINK_CONDITION1 VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '연계적용방법1',
      LINK_CONDITION2 VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '연계적용방법1',
      LINK_CONDITION3 VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '연계적용방법1',
      LINK_CONDITION4 VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '연계적용방법4',
      SKU_GRP_NO4 VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품그룹번호4',
      LINK_CONDITION5 VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '연계적용방법5',
      SKU_GRP_NO5 VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '상품그룹번호5',
      CPN_CONDITION VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '쿠폰적용방법',
      CPN_ISSUE_KIND VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '쿠폰발행형태',
      CPN_EXACT VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '결제할인쿠폰정산위치',
      POINT_CONDITION VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '포인트클럽대상여부',
      CARD_CONDITION VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '신용카드적용조건',
      CARD_COMP_CONDITION VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '신용카드적용방법',
      CARD_COMP VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '신용카드사코드',
      PRT_CONDITION VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '꼬리표적용여부',
      PRESENT_LIMIT_AMT DECIMAL(9,0) TITLE '상품권즉시증정가능금액',
      ENURI_CONDITION VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사금액적용방법',
      FORBID_CONDITION VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사복수적용조건',
      FORBID_CODE VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사복수적용금지코드',
      EVTAMT_PRT VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사금액영수증표기여부')
UNIQUE PRIMARY INDEX XPKMTEVD_POS_THEME ( POS_EVENT_NO ,BIZTP_CODE );












        SELECT A.CMPGN_NO   AS CMPGN_NO                     /* 캠페인번호 */
             , A.RFR_CMPGN_NO   AS RFR_CMPGN_NO             /* 참조캠페인번호 */
             , A.CMPGN_NM   AS CMPGN_NM                     /* 캠페인명 */
             , A.CMPGN_ANNTN AS CMPGN_ANNTN                 /* 캠페인설명 */
             , A.CHNNL_ANNTN AS CHNNL_ANNTN                 /* 채널설명 */
             , A.CMPGN_STEP AS CMPGN_STEP                   /* 캠페인단계 */
             , A.SND_TYP_CD AS SND_TYP_CD                   /* 발송구분코드 */
             , A.CMPGN_MTHD_CD AS CMPGN_MTHD_CD             /* 캠페인방법코드 */
             , A.TRGT_MTHD_CD   AS TRGT_MTHD_CD             /* 타겟팅방법코드 */
             , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM012' AND COMM_CD = A.TRGT_MTHD_CD) AS TRGT_MTHD_NM
             , A.CMPGN_CTGRY_CD AS CMPGN_CTGRY_CD           /* 캠페인분류코드 */
             , B.CMPGN_CTGRY_NM AS CMPGN_CTGRY_NM           /* 캠페인분류명 */
             , A.CMPGN_CTGRY_SB_CD AS CMPGN_CTGRY_SB_CD     /* 캠페인세분류코드 */
             , B.CMPGN_CTGRY_SB_NM AS CMPGN_CTGRY_SB_NM     /* 캠페인세분류명 */
             , A.CHNNL_DVD_PLCY_YN AS CHNNL_DVD_PLCY_YN     /* 채널배분정책사용여부 */
             , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM028' AND COMM_CD = A.CHNNL_DVD_PLCY_YN) AS CHNNL_DVD_PLCY_NM
             , A.STR_ID AS STR_ID                           /* 점포아이디 */
             , C.STORENM AS STR_NM
             , A.CMPGN_STRT_DT AS CMPGN_STRT_DT             /* 캠페인시작일자 */
             , A.CMPGN_END_DT AS CMPGN_END_DT               /* 캠페인종료일자 */
             , A.EFF_ANAL_STRT_DT AS EFF_ANAL_STRT_DT       /* 효과분석시작일자 */
             , A.EFF_ANAL_END_DT AS EFF_ANAL_END_DT         /* 효과분석종료일자 */
             , A.CMPGN_RJCT_RSN AS CMPGN_RJCT_RSN           /* 캠페인반려사유 */
             , A.CMPGN_OFFR_CD AS CMPGN_OFFR_CD             /* 캠페인오퍼코드 */
             , E.CMPGN_OFFR_NM AS CMPGN_OFFR_NM
             , A.CMPGN_OFFR_EXP AS CMPGN_OFFR_EXP           /* 캠페인오퍼비용 */
             , A.CMPGN_OFFR_EXP_TYP_CD AS CMPGN_OFFR_EXP_TYP_CD /* 캠페인오퍼비용구분코드 */
             , A.CMPGN_OFFR_PAY_DT AS CMPGN_OFFR_PAY_DT         /* 캠페인오퍼지급일자 */
             , A.CMPGN_OFFR_EVNT_DESC AS CMPGN_OFFR_EVNT_DESC       /* 캠페인오퍼행사내용 */
             , A.CMPGN_PRDGFT_NM AS CMPGN_PRDGFT_NM     /* 캠페인사은품명 */
             , A.EVNT_NO AS EVNT_NO                     /* 행사번호 */
             , A.EVNT_DESC AS EVNT_DESC                 /* 행사내용 */
             , A.CMPGN_PLCY_NO AS CMPGN_PLCY_NO         /* 캠페인정책번호 */
             , A.THM_TRGT_TYP_CD AS THM_TRGT_TYP_CD     /* 테마별타겟분류코드 */
             , D.THM_TRGT_TYP_NM AS THM_TRGT_TYP_NM
             , A.THM_TRGT_CD AS THM_TRGT_CD             /* 테마별타겟코드 */
             , D.THM_TRGT_NM AS THM_TRGT_NM
             , A.SCCSS_CNDTN_CD AS SCCSS_CNDTN_CD           /* 성공조건코드 */
             , F.SCCSS_CNDTN_NM AS SCCSS_CNDTN_NM
             , A.CMPGN_EXCT_RNK AS CMPGN_EXCT_RNK           /* 캠페인실행순위 */
             , A.CMPGN_RQST_ID AS CMPGN_RQST_ID         /* 캠페인요청자아이디 */
             , C.CHRGPERS_NM AS CMPGN_RQST_NM
             , A.FNL_APPRVL_ID AS FNL_APPRVL_ID         /* 최종승인자아이디 */
             , A.FNL_APPRVL_DTTM AS FNL_APPRVL_DTTM     /* 최종승인일시 */
             , A.FNL_APPRVL_STS AS FNL_APPRVL_STS           /* 최종승인상태 */
             , A.EFF_ANAL_STRT_DT AS EFF_ANAL_STRT_DT       /* 효과분석시작일자 */
             , A.EFF_ANAL_END_DT AS EFF_ANAL_END_DT         /* 효과분석종료일자 */
             , A.TOPN AS TOPN
             , A.CUST_CNT AS CUST_CNT
             , A.CUST_CNT_T AS CUST_CNT_T
             , A.GFT_SYS_REG_YN AS GFT_SYS_REG_YN       /* 사은품시스템등록여부 */
             , A.SND_TYP_CD AS SND_TYP_CD               /* 발송구분코드 */
             , (SELECT COMM_CD_VL FROM CMSVIEW_DEV.CM_CMMN_CD WHERE GRP_CD = 'CM027' AND COMM_CD = A.SND_TYP_CD) AS SND_TYP_NM
          FROM CMSVIEW_DEV.CM_CMPGN_MST A
               LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_CTGRY B
            ON A.CMPGN_CTGRY_SB_CD = B.CMPGN_CTGRY_SB_CD
               LEFT OUTER JOIN TSVM.CMS_USER_CRM C
            ON A.CMPGN_RQST_ID = C.CHRGPERS_CD
               LEFT OUTER JOIN CMSVIEW_DEV.CM_THM_TRGT D
            ON A.THM_TRGT_CD = D.THM_TRGT_CD
               LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_OFFR E          /* 캠페인 오퍼 */
            ON A.CMPGN_OFFR_CD = E.CMPGN_OFFR_CD
               LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_CD F
            ON A.SCCSS_CNDTN_CD = F.SCCSS_CNDTN_CD
         WHERE CMPGN_NO = 'C20151120101711846'




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ 운영 ]

DROP TABLE CMSDATA.SIMUL_CUST_PROFIL_SMM;

CREATE SET TABLE CMSDATA.SIMUL_CUST_PROFIL_SMM ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CUST_GRADE_NM VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '고객등급명' NOT NULL,
      CUST_AGE_NM VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '나이구분명' NOT NULL,
      CUST_GENDER_NM VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '성별' NOT NULL,
      CUST_CNT DECIMAL(8,0) TITLE '고객건수',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시')
UNIQUE PRIMARY INDEX ( CMPGN_NO )
UNIQUE INDEX XPKSIMUL_CUST_PROFIL_SMM ( CMPGN_NO ,CUST_GRADE_NM , CUST_AGE_NM ,CUST_GENDER_NM );


REPLACE VIEW CMSVIEW.SIMUL_CUST_PROFIL_SMM AS LOCKING TABLE CMSDATA.SIMUL_CUST_PROFIL_SMM  FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_CUST_PROFIL_SMM );



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 앱쿠폰 ]

담당 : 엘루오 R&D 본부 이승찬 차장 (010-9020-9796 sc.lee@eluocnc.com)

분스DB개발기 접속정보(FTP)

    IP : 174.100.29.31:21   USER : emartweb / sb2akxm#1

    PATH : /emartweb/batch/work_file/upload

    FILE : crm_coupon_20151125.sam         (이마트앱 쿠폰 파일명)
    FILE : crm_coupon_limit_20151125.sam   (쿠폰수량제한 파일명)

개발진행에 궁금한 점은 '유태연 차장님'에게


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

EVENT_CODE      10    /* 이벤트코드    MMS_VENT_MST.EVENT_CODE와 동일
LIMIT_START_DT   8    /* 제한시작일자  20151101
LIMIT_START_TM   6    /* 제한시작시간  080000
LIMIT_END_DT     8    /* 제한종료일자  20151101
LIMIT_END_TM     6    /* 제한종료시간  235959
LIMIT_CNT        8    /* 제한수량      1000

----------------------------------------------------------------------------------------------------

            SELECT       /* HH14065I.getAppCoupon */
                B.CMPGN_NO              AS CMPGN_NO
                , B.CHNNL_NO            AS CHNNL_NO
                , A.EVNT_NO             AS EVENT_CODE       /* 이벤트코드 */
                , C.POS_EVENT_NM        AS EVENT_NAME       /* 이벤트명 */
                , '-쿠폰사용가능점포-'  AS EVENT_JIJUM      /* 변경할 것 : 쿠폰사용가능점포 */
                , C.EVENT_START_DATE    AS EVENT_START_DATE /* 행사시작일 */
                , C.EVENT_END_DATE      AS EVENT_END_DATE   /* 행사종료일 */
                , C.EVENT_START_DATE    AS SRV_START_DATE   /* 변경할 것 : 쿠폰사용시작일 */
                , C.EVENT_END_DATE      AS SRV_END_DATE     /* 변경할 것 : 쿠폰사용종료일 */
                , '-사용조건-'          AS EVENT_CONDITION  /* 변경할 것 : 사용조건 */
                , '-안내내용-'          AS EVENT_NOTICE     /* 변경할 것 : 안내내용 */
                , 'N'                   AS GIFT_FLAG        /* 변경할 것 : 선물가능여부 */
                , '1'                   AS STAMP_NUM        /* 변경할 것 : 1인최대발급개수 */
                , '0'                   AS LIMIT_DOWN_NUM   /* 변경할 것 : 발급수량제한 */
                , '20151125'            AS LIMIT_START_DT   /* 변경할 것 : 제한시작일자  20151101 */
                , '080000'              AS LIMIT_START_TM   /* 변경할 것 : 제한시작시간  080000   */
                , '20151125'            AS LIMIT_END_DT     /* 변경할 것 : 제한종료일자  20151101 */
                , '235959'              AS LIMIT_END_TM     /* 변경할 것 : 제한종료시간  235959   */
                , '1230'                AS LIMIT_CNT        /* 변경할 것 : 제한수량      1000     */
            FROM
                CMSVIEW_DEV.CM_CMPGN_MST     A
                , CMSVIEW_DEV.CM_CMPGN_EXCT  B
                , TCVM.MTEVD_POS_THEME       C
            WHERE 1=1
                AND A.CMPGN_NO = #cmpgn_no#  /* 'C20151030103811390' */
                AND B.CMPGN_NO = A.CMPGN_NO
                AND B.CHNNL_NO = #chnnl_no#  /* 'MMS1038151102287' */
                AND C.POS_EVENT_NO = A.EVNT_NO


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

DROP TABLE CMSDATA.SIMUL_CUST_PROFIL_SMM;

CREATE SET TABLE CMSDATA.SIMUL_CUST_PROFIL_SMM ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CUST_GRADE_NM VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '고객등급명' NOT NULL,
      CUST_AGE_NM VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '나이구분명' NOT NULL,
      CUST_GENDER_NM VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '성별' NOT NULL,
      CUST_CNT DECIMAL(8,0) TITLE '고객건수',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시')
UNIQUE PRIMARY INDEX ( CMPGN_NO )
UNIQUE INDEX XPKSIMUL_CUST_PROFIL_SMM ( CMPGN_NO ,CUST_GRADE_NM ,
CUST_AGE_NM ,CUST_GENDER_NM );

REPLACE VIEW CMSVIEW.SIMUL_CUST_PROFIL_SMM AS LOCKING TABLE CMSDATA.SIMUL_CUST_PROFIL_SMM  FOR ACCESS (SELECT * FROM CMSDATA.SIMUL_CUST_PROFIL_SMM );


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 경품채널 : 행사 경품 대상자 ]

[ 행사마스터 ]

    EVENT_ID       CHAR( 10)    /* 이벤트ID          */
    EVENT_NM       CHAR(200)    /* 이벤트명          */
    WIN_RANGE_CNT  CHAR( 10)    /* 전체당첨자수      */
    EVENT_START_DT CHAR(  8)    /* 행사시작일자      */
    EVENT_END_DT   CHAR(  8)    /* 행사종료일자      */
    DEL_YN         CHAR(  1)    /* 삭제여부          */

[ 경품마스터 ]

    GIFT_ID        CHAR( 10)    /* 경품ID            */
    EVENT_ID       CHAR( 10)    /* 이벤트ID          */
    GIFT_NM        CHAR(200)    /* 경품명            */
    GIFT_CNT       CHAR( 10)    /* 경품수            */
    GIFT_START_DT  CHAR(  8)    /* 경품수령시작일자  */
    GIFT_END_DT    CHAR(  8)    /* 경품수령종료일자  */
    DEL_YN         CHAR(  1)    /* 삭제여부          */

[ 경품 대상자 목록 ]

    CUST_ID        CHAR(  9)    /* 고객ID            */
    CUST_NM        CHAR(200)    /* 고객명            */
    STORE_CD       CHAR(  4)    /* 경품수령점포코드  */
    EVENT_ID       CHAR( 10)    /* 이벤트ID          */
    GIFT_ID        CHAR( 10)    /* 경품ID            */

----------------------------------------------------------------------------------------------------

        if (!flag) {
            if (flag) {
                // [ 행사마스터 237 bytes ]
                mapInfo.put("event_id"       , "EVENT_ID"       );    // CHAR( 10)    /* 이벤트ID          */
                mapInfo.put("event_nm"       , "EVENT_NM"       );    // CHAR(200)    /* 이벤트명          */
                mapInfo.put("win_range_cnt"  , "WIN_RANGE_CNT"  );    // CHAR( 10)    /* 전체당첨자수      */
                mapInfo.put("event_start_dt" , "EVENT_START_DT" );    // CHAR(  8)    /* 행사시작일자      */
                mapInfo.put("event_end_dt"   , "EVENT_END_DT"   );    // CHAR(  8)    /* 행사종료일자      */
                mapInfo.put("del_yn"         , "DEL_YN"         );    // CHAR(  1)    /* 삭제여부          */
            }

            if (flag) {
                // [ 경품마스터 247 bytes ]
                mapInfo.put("gift_id"        , "GIFT_ID"        );    // CHAR( 10)    /* 경품ID            */
                mapInfo.put("event_id"       , "EVENT_ID"       );    // CHAR( 10)    /* 이벤트ID          */
                mapInfo.put("gift_nm"        , "GIFT_NM"        );    // CHAR(200)    /* 경품명            */
                mapInfo.put("gift_cnt"       , "GIFT_CNT"       );    // CHAR( 10)    /* 경품수            */
                mapInfo.put("gift_start_dt"  , "GIFT_START_DT"  );    // CHAR(  8)    /* 경품수령시작일자  */
                mapInfo.put("gift_end_dt"    , "GIFT_END_DT"    );    // CHAR(  8)    /* 경품수령종료일자  */
                mapInfo.put("del_yn"         , "DEL_YN"         );    // CHAR(  1)    /* 삭제여부          */
            }

            if (flag) {
                // [ 경품 대상자 목록 N * 233 bytes ]
                mapInfo.put("cust_id"        , "CUST_ID"        );    // CHAR(  9)    /* 고객ID            */
                mapInfo.put("cust_nm"        , "CUST_NM"        );    // CHAR(200)    /* 고객명            */
                mapInfo.put("store_cd"       , "STORE_CD"       );    // CHAR(  4)    /* 경품수령점포코드  */
                mapInfo.put("event_id"       , "EVENT_ID"       );    // CHAR( 10)    /* 이벤트ID          */
                mapInfo.put("gift_id"        , "GIFT_ID"        );    // CHAR( 10)    /* 경품ID            */
            }
        }

----------------------------------------------------------------------------------------------------

--  행사마스터
DROP TABLE CMSDATA.CM_EVNT_MST;

CREATE TABLE CMSDATA.CM_EVNT_MST
(
    CMPGN_NO          VARCHAR( 20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
    CHNNL_NO          VARCHAR( 20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
    EVENT_ID          VARCHAR( 10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이벤트ID' NOT NULL,
    EVENT_NM          VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이벤트명',
    WIN_RANGE_CNT     VARCHAR( 10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '전체당첨자수',
    EVENT_START_DT    VARCHAR(  8) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사시작일자',
    EVENT_END_DT      VARCHAR(  8) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사종료일자',
    DEL_YN            VARCHAR(  1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '삭제여부',
    SYS_CRTN_DTTM     TIMESTAMP(0) TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM     TIMESTAMP(0) TITLE 'SYS_변경일시',
    SYS_FRST_OPRTN_ID VARCHAR( 20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
    SYS_LST_UPDT_ID   VARCHAR( 20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디'
)
UNIQUE PRIMARY INDEX ( CMPGN_NO, CHNNL_NO, EVENT_ID )
;

REPLACE VIEW CMSVIEW.CM_EVNT_MST  AS LOCKING TABLE CMSDATA.CM_EVNT_MST FOR ACCESS (SELECT * FROM CMSDATA.CM_EVNT_MST);

-- 경품마스터
DROP TABLE CMSDATA.CM_GFT_MST;

CREATE TABLE CMSDATA.CM_GFT_MST
(
    EVENT_ID          VARCHAR( 10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이벤트ID' NOT NULL,
    GIFT_ID           VARCHAR( 10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '경품ID' NOT NULL,
    GIFT_NM           VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '경품명',
    GIFT_CNT          VARCHAR( 10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '경품수',
    GIFT_START_DT     VARCHAR(  8) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '경품수령시작일자',
    GIFT_END_DT       VARCHAR(  8) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '경품수령종료일자',
    DEL_YN            VARCHAR(  1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '삭제여부',
    SYS_CRTN_DTTM     TIMESTAMP(0) TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM     TIMESTAMP(0) TITLE 'SYS_변경일시',
    SYS_FRST_OPRTN_ID VARCHAR( 20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
    SYS_LST_UPDT_ID   VARCHAR( 20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디'
)
UNIQUE PRIMARY INDEX ( EVENT_ID, GIFT_ID )
;

REPLACE VIEW CMSVIEW.CM_GFT_MST  AS LOCKING TABLE CMSDATA.CM_GFT_MST FOR ACCESS (SELECT * FROM CMSDATA.CM_GFT_MST);

-- 경품고객목록
DROP TABLE CMSDATA.CM_GFT_CUST_LST;

CREATE TABLE CMSDATA.CM_GFT_CUST_LST
(
    EVENT_ID          VARCHAR( 10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이벤트ID' NOT NULL,
    GIFT_ID           VARCHAR( 10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '경품ID' NOT NULL,
    CUST_ID           VARCHAR(  9) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '고객ID' NOT NULL,
    CUST_NM           VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '고객명',
    STORE_CD          VARCHAR(  4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '경품수령점포코드',
    SYS_CRTN_DTTM     TIMESTAMP(0) TITLE 'SYS_생성일시',
    SYS_UPDT_DTTM     TIMESTAMP(0) TITLE 'SYS_변경일시',
    SYS_FRST_OPRTN_ID VARCHAR( 20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
    SYS_LST_UPDT_ID   VARCHAR( 20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디'
)
UNIQUE PRIMARY INDEX ( EVENT_ID, GIFT_ID, CUST_ID )
;

REPLACE VIEW CMSVIEW.CM_GFT_CUST_LST  AS LOCKING TABLE CMSDATA.CM_GFT_CUST_LST FOR ACCESS (SELECT * FROM CMSDATA.CM_GFT_CUST_LST);





----------------------------------------------------------------------------------------------------

CREATE TABLE CMSDATA_DEV.CM_EVNT_MST      AS CMSDATA.CM_EVNT_MST      WITH DATA;

CREATE TABLE CMSDATA_DEV.CM_GFT_MST       AS CMSDATA.CM_GFT_MST       WITH DATA;

CREATE TABLE CMSDATA_DEV.CM_GFT_CUST_LST  AS CMSDATA.CM_GFT_CUST_LST  WITH DATA;



----------------------------------------------------------------------------------------------------

REPLACE VIEW CMSVIEW_DEV.CM_EVNT_MST      AS LOCKING TABLE CMSDATA_DEV.CM_EVNT_MST     FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_EVNT_MST    );

REPLACE VIEW CMSVIEW_DEV.CM_GFT_MST       AS LOCKING TABLE CMSDATA_DEV.CM_GFT_MST      FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_GFT_MST     );

REPLACE VIEW CMSVIEW_DEV.CM_GFT_CUST_LST  AS LOCKING TABLE CMSDATA_DEV.CM_GFT_CUST_LST FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_GFT_CUST_LST);


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

--------------------------------------------------------------------

SELECT    /* HH14065I.getMaxId */
	CAST('EVENT_ID' AS CHAR(20))           AS MAX_NM
	, NVL(MAX(A.EVENT_ID), '9000000000')   AS MAX_VAL
FROM
	CMSVIEW.CM_EVNT_MST  A
UNION
SELECT
	CAST('GIFT_ID' AS CHAR(20))            AS MAX_NM
	, NVL(MAX(B.GIFT_ID), '8000000000')    AS MAX_VAL
FROM
	CMSVIEW.CM_GFT_MST   B
;

--------------------------------------------------------------------


SELECT     /* HH14065I.getEvntGiftInfo */
	A.CMPGN_NO                             AS CMPGN_NO
	, NULL                                 AS CHNNL_NO
	, A.CMPGN_OFFR_EVNT_DESC               AS EVENT_NM
	, A.CMPGN_PRDGFT_NM                    AS GIFT_NM
	, TO_CHAR(A.CMPGN_STRT_DT,'YYYYMMDD')  AS START_DT
	, TO_CHAR(A.CMPGN_END_DT,'YYYYMMDD')   AS END_DT
	, A.STR_ID                             AS STR_ID
FROM
	CMSVIEW.CM_CMPGN_MST  A
WHERE 1=1
	AND A.CMPGN_NO = 'C20151205102011972'
;

--------------------------------------------------------------------

INSERT INTO     /* HH14065I.insertEvntMst */
	CMSDATA.CM_EVNT_MST
(
	CMPGN_NO
	, CHNNL_NO
	, EVENT_ID
	, EVENT_NM
	, WIN_RANGE_CNT
	, EVENT_START_DT
	, EVENT_END_DT
	, DEL_YN
	, SYS_CRTN_DTTM
	, SYS_FRST_OPRTN_ID
)
VALUES
(
	#cmpgn_no#
	, #chnnl_no#
	, #event_id#
	, #event_nm#
	, '1000'
	, #start_dt#
	, #end_dt#
	, 'Y'
	, CURRENT_TIMESTAMP(0)
	, 'BATCH'
)
;

--------------------------------------------------------------------

INSERT INTO     /* HH14065I.insertGftMst */
	CMSDATA.CM_GFT_MST
(
	EVENT_ID
	, GIFT_ID
	, GIFT_NM
	, GIFT_CNT
	, GIFT_START_DT
	, GIFT_END_DT
	, DEL_YN
	, SYS_CRTN_DTTM
	, SYS_FRST_OPRTN_ID
)
VALUES
(
	#event_id#
	, #gift_id#
	, #gift_nm#
	, '1000'
	, #start_dt#
	, #end_dt#
	, 'Y'
	, CURRENT_TIMESTAMP(0)
	, 'BATCH'
)
;

--------------------------------------------------------------------

INSERT INTO     /* HH14065I.insertGftCustLst */
	CMSDATA.CM_GFT_CUST_LST
(
	EVENT_ID
	, GIFT_ID
	, CUST_ID
	, CUST_NM
	, STORE_CD
	, SYS_CRTN_DTTM
	, SYS_FRST_OPRTN_ID
)
VALUES
(
	#event_id#
	, #gift_id#
	, #cust_id#
	, ''
	, #str_id#
	, CURRENT_TIMESTAMP(0)
	, 'BATCH'
)
;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


-- 블라섬 결재완료 알림 수신 대상자(1분배치/건수 여러건 일 경우 1회만 전송)    RECEIVER
SELECT DISTINCT
    EMPLY_NO
FROM
    CMSDATA.CM_CHNNL_TST_GRP_CUST
WHERE
    TST_GRP_CD = '00013'
;


-- 블라섬 결재완료 알림 수신 대상자(1분배치/건수 여러건 일 경우 1회만 전송)    SENDER
SELECT DISTINCT
    EMPLY_NO
FROM
    CMSDATA.CM_CHNNL_TST_GRP_CUST
WHERE
    TST_GRP_CD = '00014'
;

-------------------------------------------------------------------------------------
-- SENDER(00014), RECEIVER(00013)

SELECT DISTINCT
    TST_GRP_CD
    , EMPLY_NO
FROM
    CMSDATA.CM_CHNNL_TST_GRP_CUST
WHERE
    TST_GRP_CD IN ('00013', '00014')
ORDER BY
    TST_GRP_CD DESC


-------------------------------------------------------------------------------------

-- 모바일앱 푸시 테스트 추가자
SELECT DISTINCT
    CUST_ID
FROM
    CMSDATA.CM_CHNNL_TST_GRP_CUST
WHERE
    TST_GRP_CD = '00011'
;



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 개발 ] CM_CHNNL_APT

DROP TABLE CMSDATA_DEV.CM_CHNNL_APT_KANG;

-- CREATE TABLE
CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_APT_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      BIZ_ID VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형코드',
      MSG_TYPE VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형',
      MSG_PUSH_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시유형',
      PUSH_TITLE VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목',
      PUSH_MSG VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용',
      MSG_TEXT VARCHAR(3500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시인앱메시지',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      HP_CMPGN_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사설명(주석)',
      HP_REG_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항등록여부',
      HP_STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      HP_REG_STDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록시작일',
      HP_REG_EDDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록종료일',
      HP_REG_TITLE VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항제목',
      HP_REG_MSG VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항내용',
      HP_REG_REPLACE_TEXT VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '대체텍스트',
      HP_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일명',
      HP_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일_URL',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      IMG_USE_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지사용여부',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      PUSH_MSG_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지ID',
      PUSH_RET_MSG VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시결과메시지',
      RPLC_WRD_01 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구01',
      RPLC_WRD_02 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구02',
      RPLC_WRD_03 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구03',
      RPLC_WRD_04 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구04',
      RPLC_WRD_05 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구05',
      RPLC_WRD_06 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구06',
      RPLC_WRD_07 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구07',
      RPLC_WRD_08 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구08',
      RPLC_WRD_09 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구09',
      RPLC_WRD_10 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구10',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일',
      CRTRN_END_DT  DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );


-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_CHNNL_APT_KANG
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , BIZ_ID
    , MSG_TYPE
    , MSG_PUSH_TYPE
    , PUSH_TITLE
    , PUSH_MSG
    , MSG_TEXT
    , CHNNL_RSV_SND_DTTM
    , HP_CMPGN_DESC
    , HP_REG_YN
    , HP_STR_ID
    , HP_REG_STDT
    , HP_REG_EDDT
    , HP_REG_TITLE
    , HP_REG_MSG
    , HP_REG_REPLACE_TEXT
    , HP_FILE_NM
    , HP_FILE_URL
    , CHNNL_MSG_CD
    , STR_RPLY_NO
    , REJECT_MSG_CD
    , IMG_USE_YN
    , USE_YN
    , TST_GRP_CD
    , PUSH_MSG_ID
    , PUSH_RET_MSG
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA_DEV.CM_CHNNL_APT
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_CHNNL_APT;

-- RENAME
RENAME TABLE CMSDATA_DEV.CM_CHNNL_APT_KANG TO CMSDATA_DEV.CM_CHNNL_APT;

-- MAKE VIEW
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_APT  AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_APT FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_APT);


SELECT * FROM CMSVIEW_DEV.CM_CHNNL_APT;


----------------------------------------------------------------------------------------------------
[ 개발 ] CM_CHNNL_APR

DROP TABLE CMSDATA_DEV.CM_CHNNL_APR_KANG;

-- CREATE TABLE
CREATE SET TABLE CMSDATA_DEV.CM_CHNNL_APR_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      BIZ_ID VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형코드',
      MSG_TYPE VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형',
      MSG_PUSH_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시유형',
      PUSH_TITLE VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목',
      PUSH_MSG VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용',
      MSG_TEXT VARCHAR(3500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시인앱메시지',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      HP_CMPGN_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사설명(주석)',
      HP_REG_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항등록여부',
      HP_STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      HP_REG_STDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록시작일',
      HP_REG_EDDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록종료일',
      HP_REG_TITLE VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항제목',
      HP_REG_MSG VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항내용',
      HP_REG_REPLACE_TEXT VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '대체텍스트',
      HP_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일명',
      HP_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일_URL',
      CONTENTS_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청사항',
      CONTENTS_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일명',
      CONTENTS_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일_URL',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      IMG_USE_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지사용여부',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      PUSH_MSG_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지ID',
      PUSH_RET_MSG VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시결과메시지',
      RPLC_WRD_01 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구01',
      RPLC_WRD_02 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구02',
      RPLC_WRD_03 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구03',
      RPLC_WRD_04 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구04',
      RPLC_WRD_05 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구05',
      RPLC_WRD_06 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구06',
      RPLC_WRD_07 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구07',
      RPLC_WRD_08 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구08',
      RPLC_WRD_09 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구09',
      RPLC_WRD_10 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구10',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일',
      CRTRN_END_DT  DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );


-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_CHNNL_APR_KANG
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , BIZ_ID
    , MSG_TYPE
    , MSG_PUSH_TYPE
    , PUSH_TITLE
    , PUSH_MSG
    , MSG_TEXT
    , CHNNL_RSV_SND_DTTM
    , HP_CMPGN_DESC
    , HP_REG_YN
    , HP_STR_ID
    , HP_REG_STDT
    , HP_REG_EDDT
    , HP_REG_TITLE
    , HP_REG_MSG
    , HP_REG_REPLACE_TEXT
    , HP_FILE_NM
    , HP_FILE_URL
    , CONTENTS_DESC
    , CONTENTS_FILE_NM
    , CONTENTS_FILE_URL
    , CHNNL_MSG_CD
    , STR_RPLY_NO
    , REJECT_MSG_CD
    , IMG_USE_YN
    , USE_YN
    , TST_GRP_CD
    , PUSH_MSG_ID
    , PUSH_RET_MSG
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA_DEV.CM_CHNNL_APR
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_CHNNL_APR;

-- RENAME
RENAME TABLE CMSDATA_DEV.CM_CHNNL_APR_KANG TO CMSDATA_DEV.CM_CHNNL_APR;

-- MAKE VIEW
REPLACE VIEW CMSVIEW_DEV.CM_CHNNL_APR  AS LOCKING TABLE CMSDATA_DEV.CM_CHNNL_APR FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CHNNL_APR);


SELECT * FROM CMSVIEW_DEV.CM_CHNNL_APR;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 개발 ] CM_CMPGN_EXCT

SHOW TABLE CMSDATA_DEV.CM_CMPGN_EXCT;

DROP TABLE CMSDATA_DEV.CM_CMPGN_EXCT_KANG;

-- CREATE TABLE
CREATE SET TABLE CMSDATA_DEV.CM_CMPGN_EXCT_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_NM VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널명',
      IMMDTLY_SND_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '즉시발송여부',
      CMPGN_EXCT_SCHDLD_DTTM TIMESTAMP(6) TITLE '캠페인실행예정일시',
      CMPGN_EXCT_FNSH_DTTM TIMESTAMP(6) TITLE '캠페인실행완료일시',
      CMPGN_EXCT_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인실행상태',
      RSV_CNT DECIMAL(8,0) TITLE '예약건수',
      RSV_CHC_CNT DECIMAL(8,0) TITLE '예약선택건수',
      SND_CNT DECIMAL(8,0) TITLE '발송건수',
      SND_FL_CNT DECIMAL(8,0) TITLE '발송실패건수',
      CMPGN_OPN_CNT DECIMAL(8,0) TITLE '캠페인오픈건수',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드',
      CHNNL_PLCY_NO DECIMAL(18,0) TITLE '채널정책번호',
      IMG_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지제작요청상태',
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_SND_CNT DECIMAL(2,0) TITLE '테스트발송횟수',
      CMPGN_EXCT_RNK INTEGER TITLE '캠페인실행순위',
      CHNNL_EXCT_FNSH_DTTM TIMESTAMP(0) TITLE '채널실행완료일시',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_CMPGN_EXCT_KANG
SELECT
    CMPGN_NO
    , CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , CHNNL_NM
    , IMMDTLY_SND_YN
    , CMPGN_EXCT_SCHDLD_DTTM
    , CMPGN_EXCT_FNSH_DTTM
    , CMPGN_EXCT_STTS
    , RSV_CNT
    , RSV_CHC_CNT
    , SND_CNT
    , SND_FL_CNT
    , CMPGN_OPN_CNT
    , TST_GRP_CD
    , CHNNL_TYP_CD
    , CHNNL_PLCY_NO
    , IMG_MK_RQST_STTS
    , CMPGN_STTS
    , CHNNL_RSV_SND_DTTM
    , TST_SND_CNT
    , CMPGN_EXCT_RNK
    , NULL
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA_DEV.CM_CMPGN_EXCT
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_CMPGN_EXCT;

-- RENAME
RENAME TABLE CMSDATA_DEV.CM_CMPGN_EXCT_KANG TO CMSDATA_DEV.CM_CMPGN_EXCT;

-- MAKE VIEW
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_EXCT  AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_EXCT FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_EXCT);


SELECT * FROM CMSVIEW_DEV.CM_CMPGN_EXCT;





----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 운영 ] CM_CHNNL_APT  -> 업무마감후 작업

DROP TABLE CMSDATA.CM_CHNNL_APT_KANG;

-- CREATE TABLE
CREATE SET TABLE CMSDATA.CM_CHNNL_APT_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      BIZ_ID VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형코드',
      MSG_TYPE VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형',
      MSG_PUSH_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시유형',
      PUSH_TITLE VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목',
      PUSH_MSG VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용',
      MSG_TEXT VARCHAR(3500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시인앱메시지',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      HP_CMPGN_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사설명(주석)',
      HP_REG_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항등록여부',
      HP_STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      HP_REG_STDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록시작일',
      HP_REG_EDDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록종료일',
      HP_REG_TITLE VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항제목',
      HP_REG_MSG VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항내용',
      HP_REG_REPLACE_TEXT VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '대체텍스트',
      HP_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일명',
      HP_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일_URL',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      IMG_USE_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지사용여부',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      PUSH_MSG_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지ID',
      PUSH_RET_MSG VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시결과메시지',
      RPLC_WRD_01 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구01',
      RPLC_WRD_02 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구02',
      RPLC_WRD_03 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구03',
      RPLC_WRD_04 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구04',
      RPLC_WRD_05 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구05',
      RPLC_WRD_06 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구06',
      RPLC_WRD_07 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구07',
      RPLC_WRD_08 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구08',
      RPLC_WRD_09 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구09',
      RPLC_WRD_10 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구10',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일',
      CRTRN_END_DT   DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );


-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_CHNNL_APT_KANG
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , BIZ_ID
    , MSG_TYPE
    , MSG_PUSH_TYPE
    , PUSH_TITLE
    , PUSH_MSG
    , MSG_TEXT
    , CHNNL_RSV_SND_DTTM
    , HP_CMPGN_DESC
    , HP_REG_YN
    , HP_STR_ID
    , HP_REG_STDT
    , HP_REG_EDDT
    , HP_REG_TITLE
    , HP_REG_MSG
    , HP_REG_REPLACE_TEXT
    , HP_FILE_NM
    , HP_FILE_URL
    , CHNNL_MSG_CD
    , STR_RPLY_NO
    , REJECT_MSG_CD
    , IMG_USE_YN
    , USE_YN
    , TST_GRP_CD
    , PUSH_MSG_ID
    , PUSH_RET_MSG
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_CHNNL_APT
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CHNNL_APT;

-- RENAME
RENAME TABLE CMSDATA.CM_CHNNL_APT_KANG TO CMSDATA.CM_CHNNL_APT;

-- MAKE VIEW
REPLACE VIEW CMSVIEW.CM_CHNNL_APT  AS LOCKING TABLE CMSDATA.CM_CHNNL_APT FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APT);


SELECT * FROM CMSVIEW.CM_CHNNL_APT;


----------------------------------------------------------------------------------------------------
[ 운영 ] CM_CHNNL_APR

DROP TABLE CMSDATA.CM_CHNNL_APR_KANG;

-- CREATE TABLE
CREATE SET TABLE CMSDATA.CM_CHNNL_APR_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      BIZ_ID VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형코드',
      MSG_TYPE VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지유형',
      MSG_PUSH_TYPE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시유형',
      PUSH_TITLE VARCHAR(40) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송제목',
      PUSH_MSG VARCHAR(80) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송내용',
      MSG_TEXT VARCHAR(3500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시인앱메시지',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      HP_CMPGN_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사설명(주석)',
      HP_REG_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항등록여부',
      HP_STR_ID VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      HP_REG_STDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록시작일',
      HP_REG_EDDT DATE FORMAT 'YYYY-MM-DD' TITLE '공지사항등록종료일',
      HP_REG_TITLE VARCHAR(500) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항제목',
      HP_REG_MSG VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항내용',
      HP_REG_REPLACE_TEXT VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '대체텍스트',
      HP_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일명',
      HP_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '공지사항첨부파일_URL',
      CONTENTS_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청사항',
      CONTENTS_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일명',
      CONTENTS_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일_URL',
      CHNNL_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널문구',
      STR_RPLY_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포회신번호',
      REJECT_MSG_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신거부문구',
      IMG_USE_YN VARCHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지사용여부',
      USE_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      PUSH_MSG_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시메시지ID',
      PUSH_RET_MSG VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '푸시결과메시지',
      RPLC_WRD_01 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구01',
      RPLC_WRD_02 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구02',
      RPLC_WRD_03 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구03',
      RPLC_WRD_04 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구04',
      RPLC_WRD_05 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구05',
      RPLC_WRD_06 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구06',
      RPLC_WRD_07 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구07',
      RPLC_WRD_08 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구08',
      RPLC_WRD_09 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구09',
      RPLC_WRD_10 VARCHAR(256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '변환문구10',
      CRTRN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '기준시작일',
      CRTRN_END_DT   DATE FORMAT 'YYYY-MM-DD' TITLE '기준종료일',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CHNNL_NO );


-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_CHNNL_APR_KANG
SELECT
    CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , BIZ_ID
    , MSG_TYPE
    , MSG_PUSH_TYPE
    , PUSH_TITLE
    , PUSH_MSG
    , MSG_TEXT
    , CHNNL_RSV_SND_DTTM
    , HP_CMPGN_DESC
    , HP_REG_YN
    , HP_STR_ID
    , HP_REG_STDT
    , HP_REG_EDDT
    , HP_REG_TITLE
    , HP_REG_MSG
    , HP_REG_REPLACE_TEXT
    , HP_FILE_NM
    , HP_FILE_URL
    , CONTENTS_DESC
    , CONTENTS_FILE_NM
    , CONTENTS_FILE_URL
    , CHNNL_MSG_CD
    , STR_RPLY_NO
    , REJECT_MSG_CD
    , IMG_USE_YN
    , USE_YN
    , TST_GRP_CD
    , PUSH_MSG_ID
    , PUSH_RET_MSG
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , NULL
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_CHNNL_APR
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CHNNL_APR;

-- RENAME
RENAME TABLE CMSDATA.CM_CHNNL_APR_KANG TO CMSDATA.CM_CHNNL_APR;

-- MAKE VIEW
REPLACE VIEW CMSVIEW.CM_CHNNL_APR  AS LOCKING TABLE CMSDATA.CM_CHNNL_APR FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_APR);


SELECT * FROM CMSVIEW.CM_CHNNL_APR;

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 운영 ] CM_CMPGN_EXCT

SHOW TABLE CMSDATA.CM_CMPGN_EXCT;

DROP TABLE CMSDATA.CM_CMPGN_EXCT_KANG;

-- CREATE TABLE
CREATE SET TABLE CMSDATA.CM_CMPGN_EXCT_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      RFR_CHNNL_NO DECIMAL(18,0) TITLE '참조채널번호',
      CHNNL_NM VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널명',
      IMMDTLY_SND_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '즉시발송여부',
      CMPGN_EXCT_SCHDLD_DTTM TIMESTAMP(6) TITLE '캠페인실행예정일시',
      CMPGN_EXCT_FNSH_DTTM TIMESTAMP(6) TITLE '캠페인실행완료일시',
      CMPGN_EXCT_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인실행상태',
      RSV_CNT DECIMAL(8,0) TITLE '예약건수',
      RSV_CHC_CNT DECIMAL(8,0) TITLE '예약선택건수',
      SND_CNT DECIMAL(8,0) TITLE '발송건수',
      SND_FL_CNT DECIMAL(8,0) TITLE '발송실패건수',
      CMPGN_OPN_CNT DECIMAL(8,0) TITLE '캠페인오픈건수',
      TST_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널테스트그룹코드',
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드',
      CHNNL_PLCY_NO DECIMAL(18,0) TITLE '채널정책번호',
      IMG_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이미지제작요청상태',
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      CHNNL_RSV_SND_DTTM TIMESTAMP(6) TITLE '채널예약발송일시',
      TST_SND_CNT DECIMAL(2,0) TITLE '테스트발송횟수',
      CMPGN_EXCT_RNK INTEGER TITLE '캠페인실행순위',
      CHNNL_EXCT_FNSH_DTTM TIMESTAMP(0) TITLE '채널실행완료일시',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO ,CHNNL_NO );

-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_CMPGN_EXCT_KANG
SELECT
    CMPGN_NO
    , CHNNL_NO
    , RFR_CMPGN_NO
    , RFR_CHNNL_NO
    , CHNNL_NM
    , IMMDTLY_SND_YN
    , CMPGN_EXCT_SCHDLD_DTTM
    , CMPGN_EXCT_FNSH_DTTM
    , CMPGN_EXCT_STTS
    , RSV_CNT
    , RSV_CHC_CNT
    , SND_CNT
    , SND_FL_CNT
    , CMPGN_OPN_CNT
    , TST_GRP_CD
    , CHNNL_TYP_CD
    , CHNNL_PLCY_NO
    , IMG_MK_RQST_STTS
    , CMPGN_STTS
    , CHNNL_RSV_SND_DTTM
    , TST_SND_CNT
    , CMPGN_EXCT_RNK
    , NULL
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_CMPGN_EXCT
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CMPGN_EXCT;

-- RENAME
RENAME TABLE CMSDATA.CM_CMPGN_EXCT_KANG TO CMSDATA.CM_CMPGN_EXCT;

-- MAKE VIEW
REPLACE VIEW CMSVIEW.CM_CMPGN_EXCT  AS LOCKING TABLE CMSDATA.CM_CMPGN_EXCT FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_EXCT);


SELECT * FROM CMSVIEW.CM_CMPGN_EXCT;



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 캠페인 알람 메시지 (CM_CMPGN_ALRM_MSG) ]

    CMPGN_STEP   VARCHAR(   5)   // 캠페인단계
    CMPGN_STTS   VARCHAR(   5)   // 캠페인실행상태
    RECEIVER     VARCHAR( 256)   // 수신자(','로구분)
    SENDER       VARCHAR(  10)   // 송신자
    MSG_ID       VARCHAR(  50)   // 메시지ID
    HEADER       VARCHAR( 512)   // 메시지헤더
    MESSAGE      VARCHAR( 512)   // 메시지
    MESSAGE_BODY VARCHAR(1024)   // 메시지내용
    USE_YN       VARCHAR(   1)   // 사용여부

----------------------------------------------------------------------------------------------------
[ 개발 ] CM_CMPGN_ALRM_MSG

DROP TABLE CMSDATA_DEV.CM_CMPGN_ALRM_MSG;

-- CREATE TABLE
CREATE SET TABLE CMSDATA_DEV.CM_CMPGN_ALRM_MSG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
        CMPGN_STEP   VARCHAR(   5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인단계',
        CMPGN_STTS   VARCHAR(   5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인실행상태',
        RECEIVER     VARCHAR( 256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신자(,로구분)',
        SENDER       VARCHAR(  10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '송신자',
        MSG_ID       VARCHAR(  50) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지ID',
        HEADER       VARCHAR( 512) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지헤더',
        MESSAGE      VARCHAR( 512) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지',
        MESSAGE_BODY VARCHAR(1024) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지내용',
        USE_YN       VARCHAR(   1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부'
);


REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_ALRM_MSG  AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_ALRM_MSG FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_ALRM_MSG);


SELECT * FROM CMSVIEW_DEV.CM_CMPGN_ALRM_MSG;


----------------------------------------------------------------------------------------------------
[ 운영 ] CM_CMPGN_ALRM_MSG

DROP TABLE CMSDATA.CM_CMPGN_ALRM_MSG;

-- CREATE TABLE
CREATE SET TABLE CMSDATA.CM_CMPGN_ALRM_MSG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
        CMPGN_STEP   VARCHAR(   5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인단계',
        CMPGN_STTS   VARCHAR(   5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인실행상태',
        RECEIVER     VARCHAR( 256) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '수신자(,로구분)',
        SENDER       VARCHAR(  10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '송신자',
        MSG_ID       VARCHAR(  50) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지ID',
        HEADER       VARCHAR( 512) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지헤더',
        MESSAGE      VARCHAR( 512) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지',
        MESSAGE_BODY VARCHAR(1024) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '메시지내용',
        USE_YN       VARCHAR(   1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용여부'
);


REPLACE VIEW CMSVIEW.CM_CMPGN_ALRM_MSG  AS LOCKING TABLE CMSDATA.CM_CMPGN_ALRM_MSG FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_ALRM_MSG);


SELECT * FROM CMSVIEW.CM_CMPGN_ALRM_MSG;




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

CREATE TABLE CM_ORG
(
    DTTM TIMESTAMP(6)
);

SELECT * FROM CM_ORG;

INSERT INTO CM_ORG VALUES ( CURRENT_TIMESTAMP );

CREATE TABLE CM_ORG_KANG
(
    DTTM TIMESTAMP(0)
);

-----------------------------------

INSERT INTO
    CM_ORG_KANG
SELECT
    CAST(CAST(DTTM AS CHAR(19)) AS TIMESTAMP(0))
FROM
    CM_ORG
;

-----------------------------------

SELECT * FROM CM_ORG;
SELECT * FROM CM_ORG_KANG;

DROP TABLE CM_ORG;
DROP TABLE CM_ORG_KANG;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

다른 DB환경에서도 사용 가능한 것 같지만 일단 Teradata 교제에서 나오는 내용이니 Teradata로 분류

    Char -> DATE
    CAST('20100101' AS DATE FORMAT 'YYYYMMDD')
    => 20100101 // DATE형 - 출력 포맷은 툴에 따라 다를 수 있음.

    Char -> Numeric
    CAST('1234' AS DECIMAL(4, 2) FORMAT '9(2)V9(2)');
    => 12.34 // Numeric Overflow 주의. 가능한 명확한 포맷을 지정

    Char -> TIME
    CAST('01:00:00' AS TIME(0))
    => 01:00:00 // TIME(n)에서 n은 초에 대한 정밀도이다. 따라서 주어진 Char의 초의 정밀도가 n 이하여야 한다.

    Char -> TIMESTAMP
    CAST('2010-01-01 01:01:01.12345' AS TIMESTAMP(5));
    => 2010-01-01 01:01:01.12345 // TIMESTAMP(n)에서 n은 TIME과 마찬가지다.

    DATE -> Char
    CAST(CURRENT_DATE AS CHAR(10))
    => 2013-04-10
    CAST(CAST(CURRENT_DATE AS FORMAT 'YYYY/MM/DD') AS CHAR(10)); // 결과 포맷을 다르게 하기 위해서 AS FORMAT을 추가
    => 2012/03/29

    DATE -> TIMESTAMP
    CAST(DATE '2010-01-01' AS TIMESTAMP(1));
    => 2010-01-01 00:00:00.0

    Numeric -> Char
    CAST(12345 AS CHAR(5))
    => 12345 // 명시적으로 CAST를 사용하지 않을 경우 일부 데이터에 대해서 truncation이 발생할 수 있으므로 주의

    Numeric -> Numeric
    CAST((A * B) / C AS DECIMAL(15, 2)); // A, B, C가 DEC(8, 2)일 때 결과값을 DEC(15, 2)로 변환하는 경우

    TIMESTAMP -> Char
    CAST(CURRENT_TIMESTAMP AS CHAR(26));
    => 2013-04-10-18.25.31.210000
    CAST(CAST(CURRENT_TIMESTAMP AS FORMAT 'YYYY/MM/DDBHH:MI:SS.S(6)') AS CHAR(26));
    => 2013-04-10 18:25:31.210000 // 결과 포맷을 다르게 하기 위해서 AS FORMAT을 추가

    TIMESTAMP -> DATE
    CAST(CURRENT_TIMESTAMP AS DATE);
    => 2013-04-10
    CAST(TIMESTAMP '2010-01-01 01:02:03' AS DATE);
    => 2010-01-01

[출처] [Teradata] CAST 함수 (데이터 타입 변환)|작성자 Ehne


----------------------------------------------------------------------------------------------------

CURRENT_DATE
DATE
CURRENT_TIME
TIME
CURRENT_TIMESTAMP
USER
SESSION
DATABASE
[출처] [Teradata] 내장 함수 (BUILT-IN Function)|작성자 Ehne


----------------------------------------------------------------------------------------------------

IN은 제공자 EXISTS는 확인자 역할을 한다.

IN은 먼저 서브쿼리를 분석해와서 메인쿼리에게 비교하기 위한 값들을 제공하고
EXISTS는 단지 존재하는지만 확인해주는 역할을 한다.

IN과 EXISTS의 가장 큰 차이는 찾으려는 값에 NULL이 있을 때다.

IN은 다음과 같이 동작한다. subquery1의 반환값이 'A', 'B', 'C'라고 가정
'A' IN (subquery1)
=> 'A' IN ('A', 'B', 'C')
=> 'A' = 'A' OR 'A' = 'B' OR 'A' = 'C'
=> true OR false OR false
=> true

따라서 NOT IN은
'A' NOT IN (subquery1)
=> 'A' NOT IN ('A', 'B', 'C')
=> 'A' <> 'A' AND 'A' <> 'B' AND 'A' <> 'C'
=> false AND true AND true
=> false

이번에는 subquery2의 반환값에 NULL이 있다고 가정
'A' IN (subquery2)
=> 'A' IN ('A', 'B', NULL)
=> 'A' = 'A' OR 'A' = 'B' OR 'A' = NULL
=> true OR false OR ?
=> ? // 결과적으로는 false와 같아진다.

그렇다면 NOT IN은

'A' NOT IN (subquery2)
=> 'A' NOT IN ('A', 'B', NULL)
=> 'A' <> 'A' AND 'A' <> 'B' AND 'A' <> NULL
=> false AND true AND ?
=> ? // NULL이 포함된 결과와 IN, NOT IN을 한다면 둘다 ? 이므로 false나 마찬가지.

즉, false는 아니지만... NULL이 있을 때는 IN 과 NOT IN의 결과가 같다.
중요한 점은. NULL값이 있으면 서브쿼리가지고 뭔가를 하려고 했던 메인쿼리에서 아무것도 할 수가 없다.




다음은 EXISTS. subquery3에서 조건에 의해 찾은 값이 있다고 가정 (찾은 값이 NULL이더라도)
subquery3 AS (SELECT NULL FROM table WHERE cmp) // 조건 cmp에 의해 찾아도 결과는 항상 NULL이다. 그러나 찾았다는게 중요
EXISTS (subquery3)
=> EXISTS (찾았다!)
=> true

따라서 NOT EXISTS는
NOT EXISTS (subquery3)
=> NOT EXISTS (찾았다!)
=> false

즉, 조건만 맞으면 결과가 NULL이든 뭐든 true or false로 나눠진다.




추가적으로
IN을 쓸 때는 서브쿼리 범위가 작아야 유리하다. 서브쿼리 전체를 뒤지기 때문(?)
EXIEST를 쓸 때는 메인쿼리 범위가 작아야 유리. 서브쿼리는 있는지만 확인 (찾을 때까지만 돌고 있으면 끝남)

IN을 사용할 때는 NULL값이 있는지 확인하고 처리 해줘야 한다.
[SQL] NULL 관련 함수 참고

[출처] [SQL] IN과 EXISTS (NOT IN과 NOT EXISTS)|작성자 Ehne


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

--------------------------------------------------------------

SELECT   /* HH14065I.getCmpgnInfo */
    A.CMPGN_NO    AS CMPGN_NO
    , A.CMPGN_NM  AS CMPGN_NM
FROM
    CMSVIEW_DEV.CM_CMPGN_MST   A
WHERE 1=1
    AND A.CMPGN_NO = ''
;

--------------------------------------------------------------

SELECT   /* HH14065I.getMessageInfo */
    A.CMPGN_STEP      AS CMPGN_STEP
    , A.CMPGN_STTS    AS CMPGN_STTS
    , A.RECEIVER      AS RECEIVER
    , A.SENDER        AS SENDER
    , A.MSG_ID        AS MSG_ID
    , A.HEADER        AS HEADER
    , A.MESSAGE       AS MESSAGE
    , A.MESSAGE_BODY  AS MESSAGE_BODY
    , A.USE_YN        AS USE_YN
FROM
    CMSVIEW_DEV.CM_CMPGN_ALRM_MSG    A
WHERE 1=1
    AND A.MSG_ID = 'M001'
    AND A.USE_YN = 'Y'
;




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

-- 예제 캠페인 입니다. 본사 비정기 apt채널의 캠페인입니다
-- 최종 형태는 아니지
-- push_msg ==> 발송내용입니다.%CHANGEWORD01%휴무일 안내입니다.

SELECT
    *
FROM
    CMSVIEW.CM_CHNNL_APT
WHERE 1=1
    AND CHNNL_NO IN (
        SELECT
            CHNNL_NO
        FROM
            CMSVIEW.CM_CMPGN_EXCT
        WHERE 1=1
            AND CMPGN_NO = 'H20151127000003001'
            AND CHNNL_TYP_CD = 'APT'
    )


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


안녕하세요.이마트2팀이경렬입니다.

FN_GET_CHECK_DIGIT사용권한이완료되었습니다.

FUNCTION사용법은행사코드(10) +고객CID에서C를제외한 8자리를합하면됩니다.

EX) SELECT FN_GET_CHECK_DIGIT('2201503215' || '74625146')FROM DUAL

FN_VARIDATION_CHECK_DIGIT는생성된바코드체크하는함수입니다.

EX) SELECT FN_VARIDATION_CHECK_DIGIT('2201503215' || '74625146' ||'8')FROM DUAL

감사합니다.



mms funtion 설명입니다..


================================
안 필 재 Manager
신세계 I&C
이마트팀 / CRM 기획
Tel: 02-380-5613   Mobile: 010-4388-8102
e-mail : apisblue@shinsegae.com
================================



보낸 사람: 이경렬(mvno 고객ㆍ할인) - 이마트2팀
보낸 날짜: 2015-11-26 PM 5:34:26
제목: fw: mms 정보 전달건.

안녕하세요. 과장님
밑에 방법으로 넣으셔도 되요.

From:이경렬(MVNO고객ㆍ할인) -이마트2팀
Sent: Friday, November 06, 2015 5:21 PM
To: 이종회(MVNO고객ㆍ할인) -이마트2팀;배동섭(MVNO고객 ·할인) -이마트2팀
Subject: MMS 정보전달건.

안녕하세요. 이마트2팀 이경렬입니다.

행사마스터 등록.

    INSERT INTO
        MMS_EVENT_MST
    (
        EVENT_CODE
        , EVENT_DESC
        , EVENT_START_DATE
        , EVENT_END_DATE
        , COUPON_DESC
        , BRCH_ID
        , PRINT_GB
        , EVENT_TYPE
        , CUST_CNT
        , SEND_CNT
        , INSERT_ID
        , MODIFY_ID
        , INSERT_DATE
        , MODIFY_DATE
    ) VALUES (
        #{POS_EVENT_NO}       -- 행사코드
        , #{POS_EVENT_NM,javaType=string,jdbcType=VARCHAR} || ' - ' ||  #{INPUT_EVENT_NM,javaType=string,jdbcType=VARCHAR}     --행사설명
        , #{EVENT_START_DATE} -- 행사시작일자
        , #{EVENT_END_DATE}   -- 행사종료일자
        , #{COUPON_DESC,javaType=string,jdbcType=VARCHAR}    -- 쿠폰설명
        , ’’                -- 가맹점코드
        , 1                   -- 정산구분
        , #{EVENT_TYPE}       -- 행사종류(1: MMS, 2:SMS, 3:앱쿠폰)
        , 0                   -- 업로드한 고객수
        , NULL                -- MMS전송건수
        , #{INSERT_ID}        -- 입력자
        , #{INSERT_ID}        -- 수정자
        , SYSDATE
        , SYSDATE
    )


쿠폰마스터 등록.

    INSERT INTO
        MMS_CUST_MST
    (
        EVENT_CODE
        , CUST_NO
        , BARCODE_NO
        , BRCH_ID
        , COUPON_TYPE
        , INSERT_ID
        , MODIFY_ID
        , INSERT_DATE
        , MODIFY_DATE
    ) VALUES (
        #{event_code}
        , #{cust_no}
        , #{event_code} || SUBSTR(#{cust_no},2) || (
            SELECT
            (
                SELECT
                    SUBSTR (TO_CHAR (10 - MOD (CHECK_VALUE, 10), 'B9999999'), -1)
                FROM
                    (
                        SELECT
                            SUM(CASE
                                WHEN MOD (LEVEL, 2) = 1 THEN
                                    TO_NUMBER(SUBSTR ( #{event_code} || SUBSTR(#{cust_no}, 2), -LEVEL, 1)) * 3
                                ELSE
                                    TO_NUMBER(SUBSTR ( #{event_code} || SUBSTR(#{cust_no}, 2), -LEVEL, 1)) * 1
                                END)   AS CHECK_VALUE
                        FROM
                            DUAL
                        CONNECT BY
                            LEVEL  LENGTH (#{event_code} || SUBSTR(#{cust_no}, 2))
                    )
            )
            FROM DUAL
        )
        , #{brch_id}    -- 가맹점코드
        , '01'
        , #{insert_id}
        , #{insert_id}
        , SYSDATE
        , SYSDATE
    )



행사 코드는 : event_code
고객 cid : #{cust_no}
가맹점 코드 brch_id : E000010344

로 입력하면 됩니다.

접속 정보는 밑에 있습니다.

감사합니다.

--------------------
# 개발기 (mms/mmsadmin)
MMS.TEST =
    (DESCRIPTION =
        (ADDRESS = (PROTOCOL = TCP) (HOST = 174.100.29.31) (PORT = 1521))
        (CONNECT_DATA =
            (SERVER = dedicated)
            (SERVICE_NAME = BOONS)
        )
    )


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


            INSERT INTO
                MMS_EVENT_MST
            (
                EVENT_CODE            /* 행사코드                       */
                , EVENT_DESC          /* 행사설명                       */
                , EVENT_START_DATE    /* 행사시작일자   YYYYMMDD VC(8)  */
                , EVENT_END_DATE      /* 행사종료일자   YYYYMMDD VC(8)  */
                , COUPON_DESC         /* 쿠폰설명                       */
                , BRCH_ID             /* 가맹점코드 'E000010344'        */
                , PRINT_GB            /* 정산구분(1:e마트,2:업체)       */
                , CUST_CNT            /* 업로드한 고객수 1000000        */
                , SEND_CNT            /* MMS전송건수           0        */
                , INSERT_ID           /* 입력자ID cms                   */
                , MODIFY_ID           /* 수정자ID cms                   */
                , INSERT_DATE         /* 입력날짜 SYSDATE               */
                , MODIFY_DATE         /* 수정날짜 SYSDATE               */
                , EVENT_TYPE          /* 행사종류(1:MMS 2:SMS 3:앱쿠폰) */
            )
            VALUES
            (
                #event_code#
                , #event_desc#
                , #event_start_date#
                , #event_end_date#
                , #coupon_desc#
                , 'E000010344'
                , '1'
                , 1000000
                , 0
                , 'cms'
                , 'cms'
                , SYSDATE
                , SYSDATE
                , '3'
            )


----------------------------------------------------------------------------------------------------


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

CREATE TABLE MMS.MMS_EVENT_MST
(
  EVENT_CODE        VARCHAR2(10 BYTE)           NOT NULL,
  EVENT_DESC        VARCHAR2(100 BYTE),
  EVENT_START_DATE  VARCHAR2(8 BYTE)            NOT NULL,
  EVENT_END_DATE    VARCHAR2(8 BYTE)            NOT NULL,
  COUPON_DESC       VARCHAR2(100 BYTE)          NOT NULL,
  BRCH_ID           VARCHAR2(10 BYTE)           NOT NULL,
  PRINT_GB          VARCHAR2(1 BYTE)            NOT NULL,
  CUST_CNT          NUMBER(8)                   NOT NULL,
  SEND_CNT          NUMBER(8)                   DEFAULT 0,
  INSERT_ID         VARCHAR2(20 BYTE)           NOT NULL,
  MODIFY_ID         VARCHAR2(20 BYTE)           NOT NULL,
  INSERT_DATE       DATE                        NOT NULL,
  MODIFY_DATE       DATE                        NOT NULL,
  EVENT_TYPE        VARCHAR2(1 BYTE)
)

COMMENT ON TABLE MMS.MMS_EVENT_MST IS 'MMS행사마스터';

EVENT_CODE            /* 행사코드                     */
, EVENT_DESC          /* 행사설명                     */
, EVENT_START_DATE    /* 행사시작일자                 */
, EVENT_END_DATE      /* 행사종료일자                 */
, COUPON_DESC         /* 쿠폰설명                     */
, BRCH_ID             /* 가맹점코드                   */
, PRINT_GB            /* 정산구분(1:e마트,2:업체)     */
, CUST_CNT            /* 업로드한 고객수              */
, SEND_CNT            /* MMS전송건수                  */
, INSERT_ID           /* 입력자ID                     */
, MODIFY_ID           /* 수정자ID                     */
, INSERT_DATE         /* 입력날짜                     */
, MODIFY_DATE         /* 수정날짜                     */
, EVENT_TYPE          /* 행사종류                     */

----------------------------------------------------------------------------------------------------

CREATE TABLE MMS.MMS_CUST_MST
(
  EVENT_CODE   VARCHAR2(10 BYTE)                NOT NULL,
  CUST_NO      VARCHAR2(9 BYTE)                 NOT NULL,
  BARCODE_NO   VARCHAR2(20 BYTE)                NOT NULL,
  BRCH_ID      VARCHAR2(10 BYTE)                NOT NULL,
  STCD_NM      VARCHAR2(100 BYTE),
  STCD_NM1     VARCHAR2(100 BYTE),
  COUPON_TYPE  VARCHAR2(2 BYTE)                 DEFAULT '01',
  STATUS       VARCHAR2(6 BYTE),
  INSERT_ID    VARCHAR2(20 BYTE)                NOT NULL,
  MODIFY_ID    VARCHAR2(20 BYTE)                NOT NULL,
  INSERT_DATE  DATE                             NOT NULL,
  MODIFY_DATE  DATE                             NOT NULL
)

COMMENT ON TABLE MMS.MMS_CUST_MST IS 'MMS마스터테이블';

COMMENT ON COLUMN MMS.MMS_CUST_MST.EVENT_CODE   IS 행사코드
COMMENT ON COLUMN MMS.MMS_CUST_MST.CUST_NO      IS 고객ID
COMMENT ON COLUMN MMS.MMS_CUST_MST.BARCODE_NO   IS 바코드
COMMENT ON COLUMN MMS.MMS_CUST_MST.BRCH_ID      IS 가맹점코드
COMMENT ON COLUMN MMS.MMS_CUST_MST.STCD_NM      IS 점포명
COMMENT ON COLUMN MMS.MMS_CUST_MST.STCD_NM1     IS 점포명1
COMMENT ON COLUMN MMS.MMS_CUST_MST.COUPON_TYPE  IS 쿠폰종류
COMMENT ON COLUMN MMS.MMS_CUST_MST.STATUS       IS 대이터이관여부
COMMENT ON COLUMN MMS.MMS_CUST_MST.INSERT_ID    IS 입력자ID
COMMENT ON COLUMN MMS.MMS_CUST_MST.MODIFY_ID    IS 수정자ID
COMMENT ON COLUMN MMS.MMS_CUST_MST.INSERT_DATE  IS 입력날짜
COMMENT ON COLUMN MMS.MMS_CUST_MST.MODIFY_DATE  IS 수정날짜


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ 당골점포코드 ]  점포명과 연결한다.


SELECT
    AA.CUST_ID
    , AA.CUST_CNT
FROM
    (
        SELECT
            A.CUST_ID
            , COUNT(*) AS CUST_CNT
        FROM
            TCVM.HOMEPAGE_FAVORITE_JIJUM  A
        WHERE 1=1
            AND DEL_YN = 'N'
        GROUP BY
            A.CUST_ID
    ) AA
WHERE 1=1
    AND AA.CUST_CNT != 1
;






----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

      CONTENTS_DESC VARCHAR(4000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청사항',
      CONTENTS_FILE_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일명',
      CONTENTS_FILE_URL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '제작요청첨부파일_URL',


, CONTENTS_DESC        AS  CONTENTS_DESC
, CONTENTS_FILE_NM     AS  CONTENTS_FILE_NM
, CONTENTS_FILE_URL    AS  CONTENTS_FILE_URL

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ Regular Expression ]
----------------------------------------------------------------------------------------------------

1. Username Regular Expression Pattern

package com.mkyong.regex;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class UsernameValidator{

      private Pattern pattern;
      private Matcher matcher;

      private static final String USERNAME_PATTERN = "^[a-z0-9_-]{3,15}$";

      public UsernameValidator(){
          pattern = Pattern.compile(USERNAME_PATTERN);
      }

      /**
       * Validate username with regular expression
       * @param username username for validation
       * @return true valid username, false invalid username
       */
      public boolean validate(final String username){

          matcher = pattern.matcher(username);
          return matcher.matches();

      }
}

package com.mkyong.regex;

import org.testng.Assert;
import org.testng.annotations.*;

/**
 * Username validator Testing
 * @author mkyong
 *
 */
public class UsernameValidatorTest {

    private UsernameValidator usernameValidator;

    @BeforeClass
        public void initData(){
        usernameValidator = new UsernameValidator();
        }

    @DataProvider
    public Object[][] ValidUsernameProvider() {
        return new Object[][]{
           {new String[] {
                 "mkyong34", "mkyong_2002","mkyong-2002" ,"mk3-4_yong"
           }}
                };
    }

    @DataProvider
    public Object[][] InvalidUsernameProvider() {
        return new Object[][]{
           {new String[] {
             "mk","mk@yong","mkyong123456789_-"
           }}
            };
    }

    @Test(dataProvider = "ValidUsernameProvider")
    public void ValidUsernameTest(String[] Username) {

       for(String temp : Username){
        boolean valid = usernameValidator.validate(temp);
        System.out.println("Username is valid : " + temp + " , " + valid);
        Assert.assertEquals(true, valid);
       }

    }

    @Test(dataProvider = "InvalidUsernameProvider",
                 dependsOnMethods="ValidUsernameTest")
    public void InValidUsernameTest(String[] Username) {

       for(String temp : Username){
        boolean valid = usernameValidator.validate(temp);
        System.out.println("username is valid : " + temp + " , " + valid);
        Assert.assertEquals(false, valid);
       }

    }
}




----------------------------------------------------------------------------------------------------

2. Password Regular Expression Pattern

(           # Start of group
  (?=.*\d)      #   must contains one digit from 0-9
  (?=.*[a-z])       #   must contains one lowercase characters
  (?=.*[A-Z])       #   must contains one uppercase characters
  (?=.*[@#$%])      #   must contains one special symbols in the list "@#$%"
              .     #     match anything with previous condition checking
                {6,20}  #        length at least 6 characters and maximum of 20
)           # End of group


package com.mkyong.regex;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class PasswordValidator{

      private Pattern pattern;
      private Matcher matcher;

      private static final String PASSWORD_PATTERN =
              "((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%]).{6,20})";

      public PasswordValidator(){
          pattern = Pattern.compile(PASSWORD_PATTERN);
      }

      /**
       * Validate password with regular expression
       * @param password password for validation
       * @return true valid password, false invalid password
       */
      public boolean validate(final String password){

          matcher = pattern.matcher(password);
          return matcher.matches();

      }
}

package com.mkyong.regex;

import org.testng.Assert;
import org.testng.annotations.*;

/**
 * Password validator Testing
 * @author mkyong
 *
 */
public class PasswordValidatorTest {

    private PasswordValidator passwordValidator;

    @BeforeClass
        public void initData(){
        passwordValidator = new PasswordValidator();
        }

    @DataProvider
    public Object[][] ValidPasswordProvider() {
        return new Object[][]{
           {new String[] {
               "mkyong1A@", "mkYOn12$",
           }}
            };
    }

    @DataProvider
    public Object[][] InvalidPasswordProvider() {
        return new Object[][]{
           {new String[] {
               "mY1A@","mkyong12@","mkyoNg12*",
                            "mkyonG$$","MKYONG12$"
           }}
           };
    }

    @Test(dataProvider = "ValidPasswordProvider")
    public void ValidPasswordTest(String[] password) {

       for(String temp : password){
        boolean valid = passwordValidator.validate(temp);
        System.out.println("Password is valid : " + temp + " , " + valid);
        Assert.assertEquals(true, valid);
       }

    }

    @Test(dataProvider = "InvalidPasswordProvider",
                 dependsOnMethods="ValidPasswordTest")
    public void InValidPasswordTest(String[] password) {

       for(String temp : password){
        boolean valid = passwordValidator.validate(temp);
        System.out.println("Password is valid : " + temp + " , " + valid);
        Assert.assertEquals(false, valid);
       }
    }
}



----------------------------------------------------------------------------------------------------

3. Hexadecimal Color Code Regular Expression Pattern

^        #start of the line
 #       #  must constains a "#" symbols
 (       #  start of group #1
  [A-Fa-f0-9]{6} #    any strings in the list, with length of 6
  |      #    ..or
  [A-Fa-f0-9]{3} #    any strings in the list, with length of 3
 )       #  end of group #1
$        #end of the line

package com.mkyong.regex;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class HexValidator{

   private Pattern pattern;
   private Matcher matcher;

   private static final String HEX_PATTERN = "^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$";

   public HexValidator(){
      pattern = Pattern.compile(HEX_PATTERN);
   }

   /**
   * Validate hex with regular expression
   * @param hex hex for validation
   * @return true valid hex, false invalid hex
   */
   public boolean validate(final String hex){

      matcher = pattern.matcher(hex);
      return matcher.matches();

   }
}

package com.mkyong.regex;

import org.testng.Assert;
import org.testng.annotations.*;

/**
 * Hex validator Testing
 * @author mkyong
 *
 */
public class HexValidatorTest {

    private HexValidator hexValidator;

    @BeforeClass
        public void initData(){
        hexValidator = new HexValidator();
        }

    @DataProvider
    public Object[][] ValidHexProvider() {
        return new Object[][]{
               {new String[] {
                "#1f1f1F", "#AFAFAF","#1AFFa1","#222fff", "#F00"
               }}
        };
    }

    @DataProvider
    public Object[][] InvalidHexProvider() {
        return new Object[][]{
            {new String[] {
                   "123456","#afafah","#123abce","aFaE3f",
                   "F00","#afaf", "#F0h"
                }}
        };
    }

    @Test(dataProvider = "ValidHexProvider")
    public void ValidHexTest(String[] hex) {

       for(String temp : hex){
           boolean valid = hexValidator.validate(temp);
           System.out.println("Hex is valid : " + temp + " , " + valid);
           Assert.assertEquals(true, valid);
       }

    }

    @Test(dataProvider = "InvalidHexProvider", dependsOnMethods="ValidHexTest")
    public void InValidHexTest(String[] hex) {

       for(String temp : hex){
           boolean valid = hexValidator.validate(temp);
           System.out.println("Hex is valid : " + temp + " , " + valid);
           Assert.assertEquals(false, valid);
       }

    }
}


----------------------------------------------------------------------------------------------------

4. Email Regular Expression Pattern

^           #start of the line
  [_A-Za-z0-9-\\+]+ #  must start with string in the bracket [ ], must contains one or more (+)
  (         #   start of group #1
    \\.[_A-Za-z0-9-]+   #     follow by a dot "." and string in the bracket [ ], must contains one or more (+)
  )*            #   end of group #1, this group is optional (*)
    @           #     must contains a "@" symbol
     [A-Za-z0-9-]+      #       follow by string in the bracket [ ], must contains one or more (+)
      (         #         start of group #2 - first level TLD checking
       \\.[A-Za-z0-9]+  #           follow by a dot "." and string in the bracket [ ], must contains one or more (+)
      )*        #         end of group #2, this group is optional (*)
      (         #         start of group #3 - second level TLD checking
       \\.[A-Za-z]{2,}  #           follow by a dot "." and string in the bracket [ ], with minimum length of 2
      )         #         end of group #3
$           #end of the line

package com.mkyong.regex;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class EmailValidator {

    private Pattern pattern;
    private Matcher matcher;

    private static final String EMAIL_PATTERN =
        "^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@"
        + "[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$";

    public EmailValidator() {
        pattern = Pattern.compile(EMAIL_PATTERN);
    }

    /**
     * Validate hex with regular expression
     *
     * @param hex
     *            hex for validation
     * @return true valid hex, false invalid hex
     */
    public boolean validate(final String hex) {

        matcher = pattern.matcher(hex);
        return matcher.matches();

    }
}

package com.mkyong.regex;

import org.testng.Assert;
import org.testng.annotations.*;

/**
 * Email validator Testing
 *
 * @author mkyong
 *
 */
public class EmailValidatorTest {

    private EmailValidator emailValidator;

    @BeforeClass
    public void initData() {
        emailValidator = new EmailValidator();
    }

    @DataProvider
    public Object[][] ValidEmailProvider() {
        return new Object[][] { { new String[] { "mkyong@yahoo.com",
            "mkyong-100@yahoo.com", "mkyong.100@yahoo.com",
            "mkyong111@mkyong.com", "mkyong-100@mkyong.net",
            "mkyong.100@mkyong.com.au", "mkyong@1.com",
            "mkyong@gmail.com.com", "mkyong+100@gmail.com",
            "mkyong-100@yahoo-test.com" } } };
    }

    @DataProvider
    public Object[][] InvalidEmailProvider() {
        return new Object[][] { { new String[] { "mkyong", "mkyong@.com.my",
            "mkyong123@gmail.a", "mkyong123@.com", "mkyong123@.com.com",
            ".mkyong@mkyong.com", "mkyong()*@gmail.com", "mkyong@%*.com",
            "mkyong..2002@gmail.com", "mkyong.@gmail.com",
            "mkyong@mkyong@gmail.com", "mkyong@gmail.com.1a" } } };
    }

    @Test(dataProvider = "ValidEmailProvider")
    public void ValidEmailTest(String[] Email) {

        for (String temp : Email) {
            boolean valid = emailValidator.validate(temp);
            System.out.println("Email is valid : " + temp + " , " + valid);
            Assert.assertEquals(valid, true);
        }

    }

    @Test(dataProvider = "InvalidEmailProvider", dependsOnMethods = "ValidEmailTest")
    public void InValidEmailTest(String[] Email) {

        for (String temp : Email) {
            boolean valid = emailValidator.validate(temp);
            System.out.println("Email is valid : " + temp + " , " + valid);
            Assert.assertEquals(valid, false);
        }
    }
}





----------------------------------------------------------------------------------------------------

5. Image File Extension Regular Expression Pattern

(           #Start of the group #1
 [^\s]+         #  must contains one or more anything (except white space)
       (        #    start of the group #2
         \.     #   follow by a dot "."
         (?i)       #   ignore the case sensive checking for the following characters
             (      #     start of the group #3
              jpg   #       contains characters "jpg"
              |     #       ..or
              png   #       contains characters "png"
              |     #       ..or
              gif   #       contains characters "gif"
              |     #       ..or
              bmp   #       contains characters "bmp"
             )      #     end of the group #3
       )        #     end of the group #2
  $         #  end of the string
)           #end of the group #1

package com.mkyong.regex;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class ImageValidator{

   private Pattern pattern;
   private Matcher matcher;

   private static final String IMAGE_PATTERN =
                "([^\\s]+(\\.(?i)(jpg|png|gif|bmp))$)";

   public ImageValidator(){
      pattern = Pattern.compile(IMAGE_PATTERN);
   }

   /**
   * Validate image with regular expression
   * @param image image for validation
   * @return true valid image, false invalid image
   */
   public boolean validate(final String image){

      matcher = pattern.matcher(image);
      return matcher.matches();

   }
}

package com.mkyong.regex;

import org.testng.Assert;
import org.testng.annotations.*;

/**
 * Image validator Testing
 * @author mkyong
 *
 */
public class ImageValidatorTest {

    private ImageValidator imageValidator;

    @BeforeClass
        public void initData(){
        imageValidator = new ImageValidator();
        }

    @DataProvider
    public Object[][] ValidImageProvider() {
       return new Object[][]{
             {new String[] {
           "a.jpg", "a.gif","a.png", "a.bmp",
           "..jpg", "..gif","..png", "..bmp",
           "a.JPG", "a.GIF","a.PNG", "a.BMP",
           "a.JpG", "a.GiF","a.PnG", "a.BmP",
           "jpg.jpg", "gif.gif","png.png", "bmp.bmp"
           }
              }
       };
    }

    @DataProvider
    public Object[][] InvalidImageProvider() {
      return new Object[][]{
        {new String[] {
           ".jpg", ".gif",".png",".bmp",
           " .jpg", " .gif"," .png"," .bmp",
                   "a.txt", "a.exe","a.","a.mp3",
           "jpg", "gif","png","bmp"
           }
             }
       };
    }

    @Test(dataProvider = "ValidImageProvider")
     public void ValidImageTest(String[] Image) {

       for(String temp : Image){
           boolean valid = imageValidator.validate(temp);
           System.out.println("Image is valid : " + temp + " , " + valid);
           Assert.assertEquals(true, valid);
       }

    }

    @Test(dataProvider = "InvalidImageProvider",
                 dependsOnMethods="ValidImageTest")
    public void InValidImageTest(String[] Image) {

       for(String temp : Image){
           boolean valid = imageValidator.validate(temp);
           System.out.println("Image is valid : " + temp + " , " + valid);
           Assert.assertEquals(false, valid);
       }
    }
}



----------------------------------------------------------------------------------------------------

6. IP Address Regular Expression Pattern

^       #start of the line
 (      #  start of group #1
   [01]?\\d\\d? #    Can be one or two digits. If three digits appear, it must start either 0 or 1
        #    e.g ([0-9], [0-9][0-9],[0-1][0-9][0-9])
    |       #    ...or
   2[0-4]\\d    #    start with 2, follow by 0-4 and end with any digit (2[0-4][0-9])
    |           #    ...or
   25[0-5]      #    start with 2, follow by 5 and ends with 0-5 (25[0-5])
 )      #  end of group #2
  \.            #  follow by a dot "."
....            # repeat with 3 times (3x)
$       #end of the line

package com.mkyong.regex;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class IPAddressValidator{

    private Pattern pattern;
    private Matcher matcher;

    private static final String IPADDRESS_PATTERN =
        "^([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\." +
        "([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\." +
        "([01]?\\d\\d?|2[0-4]\\d|25[0-5])\\." +
        "([01]?\\d\\d?|2[0-4]\\d|25[0-5])$";

    public IPAddressValidator(){
      pattern = Pattern.compile(IPADDRESS_PATTERN);
    }

   /**
    * Validate ip address with regular expression
    * @param ip ip address for validation
    * @return true valid ip address, false invalid ip address
    */
    public boolean validate(final String ip){
      matcher = pattern.matcher(ip);
      return matcher.matches();
    }
}

package com.mkyong.regex;

import org.testng.Assert;
import org.testng.annotations.*;

/**
 * IPAddress validator Testing
 * @author mkyong
 *
 */
public class IPAddressValidatorTest {

    private IPAddressValidator ipAddressValidator;

    @BeforeClass
        public void initData(){
        ipAddressValidator = new IPAddressValidator();
        }

    @DataProvider
    public Object[][] ValidIPAddressProvider() {
        return new Object[][]{
           new Object[] {"1.1.1.1"},new Object[] {"255.255.255.255"},
                   new Object[] {"192.168.1.1"},new Object[] {"10.10.1.1"},
                   new Object[] {"132.254.111.10"},new Object[] {"26.10.2.10"},
           new Object[] {"127.0.0.1"}
        };
    }

    @DataProvider
    public Object[][] InvalidIPAddressProvider() {
        return new Object[][]{
           new Object[] {"10.10.10"},new Object[] {"10.10"},
                   new Object[] {"10"},new Object[] {"a.a.a.a"},
                   new Object[] {"10.0.0.a"},new Object[] {"10.10.10.256"},
           new Object[] {"222.222.2.999"},new Object[] {"999.10.10.20"},
                   new Object[] {"2222.22.22.22"},new Object[] {"22.2222.22.2"},
                   new Object[] {"10.10.10"},new Object[] {"10.10.10"},
        };
    }

    @Test(dataProvider = "ValidIPAddressProvider")
    public void ValidIPAddressTest(String ip) {
           boolean valid = ipAddressValidator.validate(ip);
           System.out.println("IPAddress is valid : " + ip + " , " + valid);
           Assert.assertEquals(true, valid);
    }

    @Test(dataProvider = "InvalidIPAddressProvider",
                 dependsOnMethods="ValidIPAddressTest")
    public void InValidIPAddressTest(String ip) {
           boolean valid = ipAddressValidator.validate(ip);
           System.out.println("IPAddress is valid : " + ip + " , " + valid);
           Assert.assertEquals(false, valid);
    }
}



----------------------------------------------------------------------------------------------------

7. Time Format Regular Expression Pattern

(               #start of group #1
 1[012]             #  start with 10, 11, 12
 |              #  or
 [1-9]              #  start with 1,2,...9
)               #end of group #1
 :              #    follow by a semi colon (:)
  [0-5][0-9]            #      follw by 0..5 and 0..9, which means 00 to 59
            (\\s)?      #        follow by a white space (optional)
                  (?i)      #          next checking is case insensitive
                      (am|pm)   #            follow by am or pm


package com.mkyong.regex;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class Time12HoursValidator{

      private Pattern pattern;
      private Matcher matcher;

      private static final String TIME12HOURS_PATTERN =
                                "(1[012]|[1-9]):[0-5][0-9](\\s)?(?i)(am|pm)";

      public Time12HoursValidator(){
          pattern = Pattern.compile(TIME12HOURS_PATTERN);
      }

      /**
       * Validate time in 12 hours format with regular expression
       * @param time time address for validation
       * @return true valid time fromat, false invalid time format
       */
      public boolean validate(final String time){
          matcher = pattern.matcher(time);
          return matcher.matches();
      }
}

package com.mkyong.regex;

import org.testng.Assert;
import org.testng.annotations.*;

/**
 * Time 12 hours format validator Testing
 * @author mkyong
 *
 */
public class Time12HoursValidatorTest {

    private Time12HoursValidator time12HoursValidator;

    @BeforeClass
        public void initData(){
        time12HoursValidator = new Time12HoursValidator();
        }

    @DataProvider
    public Object[][] ValidTime12HoursProvider() {
        return new Object[][]{
             new Object[] {"1:00am"}, new Object[] {"1:00 am"},
                     new Object[] {"1:00 AM"}, new Object[] {"1:00pm"},
                     new Object[] {"1:00 pm"},new Object[] {"1:00 PM"},
             new Object[] {"12:50 pm"}
        };
    }

    @DataProvider
    public Object[][] InvalidTime12HoursProvider() {
        return new Object[][]{
             new Object[] {"0:00 am"},new Object[] {"10:00  am"},
             new Object[] {"1:00"},new Object[] {"23:00 am"},
             new Object[] {"1:61 pm"},new Object[] {"13:00 pm"},
             new Object[] {"001:50 pm"},new Object[] {"10:99 am"},
             new Object[] {"01:00 pm"}, new Object[] {"1:00 bm"}
        };
    }

    @Test(dataProvider = "ValidTime12HoursProvider")
    public void ValidTime12HoursTest(String time) {
       boolean valid = time12HoursValidator.validate(time);
       System.out.println("Time12Hours is valid : " + time + " , " + valid);
       Assert.assertEquals(true, valid);
    }

    @Test(dataProvider = "InvalidTime12HoursProvider",
                 dependsOnMethods="ValidTime12HoursTest")
    public void InValidTime12HoursTest(String time) {
       boolean valid = time12HoursValidator.validate(time);
       System.out.println("Time12Hours is valid : " + time + " , " + valid);
       Assert.assertEquals(false, valid);
    }
}



----------------------------------------------------------------------------------------------------

8. Date Format(dd/mm/yyyy) Regular Expression Pattern

(           #start of group #1
 0?[1-9]        #  01-09 or 1-9
 |                      #  ..or
 [12][0-9]      #  10-19 or 20-29
 |          #  ..or
 3[01]          #  30, 31
)           #end of group #1
  /         #  follow by a "/"
   (            #    start of group #2
    0?[1-9]     #   01-09 or 1-9
    |           #   ..or
    1[012]      #   10,11,12
    )           #    end of group #2
     /          #   follow by a "/"
      (         #     start of group #3
       (19|20)\\d\\d    #       19[0-9][0-9] or 20[0-9][0-9]
       )        #     end of group #3

package com.mkyong.regex;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class DateValidator{

  private Pattern pattern;
  private Matcher matcher;

  private static final String DATE_PATTERN =
          "(0?[1-9]|[12][0-9]|3[01])/(0?[1-9]|1[012])/((19|20)\\d\\d)";

  public DateValidator(){
      pattern = Pattern.compile(DATE_PATTERN);
  }

  /**
   * Validate date format with regular expression
   * @param date date address for validation
   * @return true valid date fromat, false invalid date format
   */
   public boolean validate(final String date){

     matcher = pattern.matcher(date);

     if(matcher.matches()){

     matcher.reset();

     if(matcher.find()){

             String day = matcher.group(1);
         String month = matcher.group(2);
         int year = Integer.parseInt(matcher.group(3));

         if (day.equals("31") &&
          (month.equals("4") || month .equals("6") || month.equals("9") ||
                  month.equals("11") || month.equals("04") || month .equals("06") ||
                  month.equals("09"))) {
            return false; // only 1,3,5,7,8,10,12 has 31 days
         } else if (month.equals("2") || month.equals("02")) {
                  //leap year
          if(year % 4==0){
              if(day.equals("30") || day.equals("31")){
                  return false;
              }else{
                  return true;
              }
          }else{
                 if(day.equals("29")||day.equals("30")||day.equals("31")){
                  return false;
                 }else{
                  return true;
              }
          }
          }else{
        return true;
          }
       }else{
              return false;
       }
     }else{
      return false;
     }
   }
}

package com.mkyong.regex;

import org.testng.Assert;
import org.testng.annotations.*;

/**
 * Date format dd/mm/yyyy validator Testing
 * @author mkyong
 *
 */
public class DateValidatorTest {

    private DateValidator dateValidator;

    @BeforeClass
        public void initData(){
        dateValidator = new DateValidator();
        }

    @DataProvider
    public Object[][] ValidDateProvider() {
        return new Object[][]{
            new Object[] {"1/1/2010"}, new Object[] {"01/01/2020"},
            new Object[] {"31/1/2010"}, new Object[] {"31/01/2020"},
            new Object[] {"29/2/2008"}, new Object[] {"29/02/2008"},
            new Object[] {"28/2/2009"}, new Object[] {"28/02/2009"},
            new Object[] {"31/3/2010"}, new Object[] {"31/03/2010"},
            new Object[] {"30/4/2010"}, new Object[] {"30/04/2010"},
            new Object[] {"31/5/2010"}, new Object[] {"31/05/2010"},
            new Object[] {"30/6/2010"}, new Object[] {"30/06/2010"},
            new Object[] {"31/7/2010"}, new Object[] {"31/07/2010"},
            new Object[] {"31/8/2010"}, new Object[] {"31/08/2010"},
            new Object[] {"30/9/2010"}, new Object[] {"30/09/2010"},
            new Object[] {"31/10/2010"}, new Object[] {"31/10/2010"},
            new Object[] {"30/11/2010"}, new Object[] {"30/11/2010"},
            new Object[] {"31/12/2010"}, new Object[] {"31/12/2010"}
        };
    }

    @DataProvider
    public Object[][] InvalidDateProvider() {
        return new Object[][]{
            new Object[] {"32/1/2010"}, new Object[] {"32/01/2020"},
            new Object[] {"1/13/2010"}, new Object[] {"01/01/1820"},
            new Object[] {"29/2/2007"}, new Object[] {"29/02/2007"},
            new Object[] {"30/2/2008"}, new Object[] {"31/02/2008"},
            new Object[] {"29/a/2008"}, new Object[] {"a/02/2008"},
            new Object[] {"333/2/2008"}, new Object[] {"29/02/200a"},
            new Object[] {"31/4/2010"}, new Object[] {"31/04/2010"},
            new Object[] {"31/6/2010"}, new Object[] {"31/06/2010"},
            new Object[] {"31/9/2010"}, new Object[] {"31/09/2010"},
            new Object[] {"31/11/2010"}
        };
    }

    @Test(dataProvider = "ValidDateProvider")
    public void ValidDateTest(String date) {
        boolean valid = dateValidator.validate(date);
        System.out.println("Date is valid : " + date + " , " + valid);
        Assert.assertEquals(true, valid);
    }

    @Test(dataProvider = "InvalidDateProvider",
                 dependsOnMethods="ValidDateTest")
    public void InValidDateTest(String date) {
        boolean valid = dateValidator.validate(date);
        System.out.println("Date is valid : " + date + " , " + valid);
        Assert.assertEquals(false, valid);
    }
}


----------------------------------------------------------------------------------------------------

9. HTML tag Regular Expression Pattern

<       #start with opening tag "<"
 (      #   start of group #1
   "[^"]*"  #   allow string with double quotes enclosed - "string"
   |        #   ..or
   '[^']*'  #   allow string with single quote enclosed - 'string'
   |        #   ..or
   [^'">]   #   cant contains one single quotes, double quotes and ">"
 )      #   end of group #1
 *      # 0 or more
>       #end with closing tag ">"


package com.mkyong.regex;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class HTMLTagValidator{

   private Pattern pattern;
   private Matcher matcher;

   private static final String HTML_TAG_PATTERN = "<(\"[^\"]*\"|'[^']*'|[^'\">])*>";

   public HTMLTagValidator(){
      pattern = Pattern.compile(HTML_TAG_PATTERN);
   }

  /**
   * Validate html tag with regular expression
   * @param tag html tag for validation
   * @return true valid html tag, false invalid html tag
   */
  public boolean validate(final String tag){

      matcher = pattern.matcher(tag);
      return matcher.matches();

  }
}

package com.mkyong.regex;

import org.testng.Assert;
import org.testng.annotations.*;

/**
 * HTMLTag validator Testing
 * @author mkyong
 *
 */
public class HTMLTagValidatorTest {

    private HTMLTagValidator htmlTagValidator;

    @BeforeClass
        public void initData(){
        htmlTagValidator = new HTMLTagValidator();
        }

    @DataProvider
    public Object[][] ValidHTMLTagProvider() {
           return new Object[][]{
           new Object[] {"<b>"},
                   new Object[] {"<input value='>'>"},
           new Object[] {"<input value='<'>"},
           new Object[] {"<b/>"},
                   new Object[] {"<a href='http://www.google.com'>"},
           new Object[] {"<br>"},
                   new Object[] {"<br/>"},
           new Object[] {"<input value=\"\" id='test'>"},
                   new Object[] {"<input value='' id='test'>"}
       };
    }

    @DataProvider
    public Object[][] InvalidHTMLTagProvider() {
        return new Object[][]{
          new Object[] {"<input value=\" id='test'>"},
          new Object[] {"<input value=' id='test'>"},
          new Object[] {"<input value=> >"}
        };
    }

    @Test(dataProvider = "ValidHTMLTagProvider")
    public void ValidHTMLTagTest(String tag) {

        boolean valid = htmlTagValidator.validate(tag);
        System.out.println("HTMLTag is valid : " + tag + " , " + valid);
        Assert.assertEquals(true, valid);

    }

    @Test(dataProvider = "InvalidHTMLTagProvider",
                 dependsOnMethods="ValidHTMLTagTest")
    public void InValidHTMLTagTest(String tag) {

       boolean valid = htmlTagValidator.validate(tag);
       System.out.println("HTMLTag is valid : " + tag + " , " + valid);
       Assert.assertEquals(false, valid);

    }
}



----------------------------------------------------------------------------------------------------

10. HTML links Regular Expression Pattern

(       #start of group #1
 ?i     #  all checking are case insensive
)       #end of group #1
<a              #start with "<a"
  (     #  start of group #2
    [^>]+   #     anything except (">"), at least one character
   )        #  end of group #2
  >     #     follow by ">"
    (.+?)   #   match anything
         </a>   #     end with "</a>

\s*            #can start with whitespace
  (?i)             # all checking are case insensive
     href          #  follow by "href" word
        \s*=\s*        #   allows spaces on either side of the equal sign,
              (        #    start of group #1
               "([^"]*")   #      allow string with double quotes enclosed - "string"
               |       #      ..or
               '[^']*'     #        allow string with single quotes enclosed - 'string'
               |           #      ..or
               ([^'">]+)   #      can't contains one single quotes, double quotes ">"
          )        #    end of group #1

package com.mkyong.crawler.core;

import java.util.Vector;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class HTMLLinkExtractor {

    private Pattern patternTag, patternLink;
    private Matcher matcherTag, matcherLink;

    private static final String HTML_A_TAG_PATTERN = "(?i)<a([^>]+)>(.+?)</a>";
    private static final String HTML_A_HREF_TAG_PATTERN =
        "\\s*(?i)href\\s*=\\s*(\"([^\"]*\")|'[^']*'|([^'\">\\s]+))";


    public HTMLLinkExtractor() {
        patternTag = Pattern.compile(HTML_A_TAG_PATTERN);
        patternLink = Pattern.compile(HTML_A_HREF_TAG_PATTERN);
    }

    /**
     * Validate html with regular expression
     *
     * @param html
     *            html content for validation
     * @return Vector links and link text
     */
    public Vector<HtmlLink> grabHTMLLinks(final String html) {

        Vector<HtmlLink> result = new Vector<HtmlLink>();

        matcherTag = patternTag.matcher(html);

        while (matcherTag.find()) {

            String href = matcherTag.group(1); // href
            String linkText = matcherTag.group(2); // link text

            matcherLink = patternLink.matcher(href);

            while (matcherLink.find()) {

                String link = matcherLink.group(1); // link
                HtmlLink obj = new HtmlLink();
                obj.setLink(link);
                obj.setLinkText(linkText);

                result.add(obj);

            }

        }

        return result;

    }

    class HtmlLink {

        String link;
        String linkText;

        HtmlLink(){};

        @Override
        public String toString() {
            return new StringBuffer("Link : ").append(this.link)
            .append(" Link Text : ").append(this.linkText).toString();
        }

        public String getLink() {
            return link;
        }

        public void setLink(String link) {
            this.link = replaceInvalidChar(link);
        }

        public String getLinkText() {
            return linkText;
        }

        public void setLinkText(String linkText) {
            this.linkText = linkText;
        }

        private String replaceInvalidChar(String link){
            link = link.replaceAll("'", "");
            link = link.replaceAll("\"", "");
            return link;
        }

    }
}

package com.mkyong.crawler.core;

import java.util.Vector;

import org.testng.Assert;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.DataProvider;
import org.testng.annotations.Test;

import com.mkyong.crawler.core.HTMLLinkExtractor.HtmlLink;

/**
 * HTML link extrator Testing
 *
 * @author mkyong
 *
 */
public class TestHTMLLinkExtractor {

    private HTMLLinkExtractor htmlLinkExtractor;
    String TEST_LINK = "http://www.google.com";

    @BeforeClass
    public void initData() {
        htmlLinkExtractor = new HTMLLinkExtractor();
    }

    @DataProvider
    public Object[][] HTMLContentProvider() {
      return new Object[][] {
        new Object[] { "abc hahaha <a href='" + TEST_LINK + "'>google</a>" },
        new Object[] { "abc hahaha <a HREF='" + TEST_LINK + "'>google</a>" },

        new Object[] { "abc hahaha <A HREF='" + TEST_LINK + "'>google</A> , "
        + "abc hahaha <A HREF='" + TEST_LINK + "' target='_blank'>google</A>" },

        new Object[] { "abc hahaha <A HREF='" + TEST_LINK + "' target='_blank'>google</A>" },
        new Object[] { "abc hahaha <A target='_blank' HREF='" + TEST_LINK + "'>google</A>" },
        new Object[] { "abc hahaha <A target='_blank' HREF=\"" + TEST_LINK + "\">google</A>" },
        new Object[] { "abc hahaha <a HREF=" + TEST_LINK + ">google</a>" }, };
    }

    @Test(dataProvider = "HTMLContentProvider")
    public void ValidHTMLLinkTest(String html) {

        Vector<HtmlLink> links = htmlLinkExtractor.grabHTMLLinks(html);

        //there must have something
        Assert.assertTrue(links.size() != 0);

        for (int i = 0; i < links.size(); i++) {
            HtmlLink htmlLinks = links.get(i);
            //System.out.println(htmlLinks);
            Assert.assertEquals(htmlLinks.getLink(), TEST_LINK);
        }

    }
}



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

    private static void test04(String[] args) throws Exception {

        Map<String,String> mapWord = new HashMap<String,String>();
        String ptn = "%([a-zA-Z0-9]{3,})%";
        String str = "정규표현%HELLO%식은 검색해 보%TIME%시면 아시%ID%겠지만 문자%ID01%열에서 특정 패턴을 이용해...";
        StringBuffer sb = new StringBuffer();

        if (flag) {
            mapWord.put("%HELLO%  ".trim(), "안녕하세요.");
            mapWord.put("%TIME%   ".trim(), "시간은");
            mapWord.put("%ID01%   ".trim(), "C123456ABC34D45E");
        }

        if (flag) {

            Pattern pattern = Pattern.compile(ptn);
            Matcher matcher = pattern.matcher(str);

            while (matcher.find()) {
                String key = matcher.group();
                String grp1 = matcher.group(1);
                String value = mapWord.get(key);
                if (value == null)
                    value = "";

                matcher.appendReplacement(sb, "[" + grp1 + "->" + value + "]");
            }

            System.out.println("> " + sb.toString());
        }
    }


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

        SELECT TOP 1  /* HH14065I. */
            A.CUST_ID     AS CUST_ID
            , A.STR_ID    AS FAV_STR_ID
            , B.STR_NM    AS FAV_STR_NM
        FROM
            TCVM.HOMEPAGE_FAVORITE_JIJUM  A
            , TCVM.STORE                  B
        WHERE 1=1
            AND A.DEL_YN = 'N'
            AND B.STR_ID = A.STR_ID


----------------------------------------------------------------------------------------------------

            SELECT
                A.CMPGN_NO              AS CMPGN_NO
                , A.CHNNL_NO            AS CHNNL_NO
                , A.CHNNL_TYP_CD        AS CHNNL_TYP_CD
                , A.CUST_ID             AS CUST_ID
                , B.STR_ID              AS STR_ID
                , C.STR_NM              AS STR_NM
            FROM
                CMSVIEW_DEV.CM_CMPGN_TRGT_CUST  A
                , TCVM.HOMEPAGE_FAVORITE_JIJUM  B
                , TCVM.STORE                    C
            WHERE 1=1
                AND A.CMPGN_NO = 'C20151122101711858'
                AND A.CHNNL_NO = 'SMS1017151122666'
                AND B.DEL_YN = 'N'
                AND B.CUST_ID = A.CUST_ID
                AND C.STR_ID = B.STR_ID


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ oracle CLOB 자료 ]

JDBC에서 Connection 처리 후  CLOB 쓸 때

    String sql = "insert into TABLE values (?,?,?)";
    PreparedStatement pstmt = connection.prepareStatement(sql);

    pstmt.setInt(1, 1234);
    pstmt.setCharacterStream(2, new StringReader(some_string, some_string.length());
    pstmt.setString(3, "Hello");
    pstmt.execute();

읽을 때

    public static String readClobData(Reader reader) throws IOException {
        StringBuffer sb = new StringBuffer();
        char[] buf = new char[1024];
        int cnt = 0;
        if (reader != null) {
            while ((cnt = reader.read(buf)) != -1) {
                sb.append(buf, 0, cnt);
            }
        }
        return sb.toString();
    }

    ResultSet rs = #####
    String clobString = readClobData(rs.getCharacterStream("clob_column"));

----------------------------------------------------------------------------------------------------

    sr0 = new java.io.StringReader(dataBean.getContent());
    pstmt.setCharacterStream(1, sr0, dataBean.getContent().length());

----------------------------------------------------------------------------------------------------
[ iBatis + CLOB ]

일단 clob을 집어넣고 뺄때 ibatis에 알려줘야했었던거다 ㅡㅡ;
셀렉트문... 먼저 resultMap을 셀렉트 하기전에 선언해줘야한다;; 왜냐면 XML은 순차적으로 해석하기때문에... 먼저 해줘야 나중에있는놈이 쓸수있는거다.
그리고 CONTENT를 보면 알겠지만 jdbcType와 javaType를 정의해주었다..

XML의 내용이다..

<resultMap id="viewIncClob" class="hmap">
  <result property="BBS_ORDER" column="BBS_ORDER"/>
  <result property="TITLE" column="TITLE"/>
  <result property="FIRSTREGDATE" column="FIRSTREGDATE"/>
  <result property="WRITER" column="WRITER"/>
  <result property="CONTENT" column="CONTENT" jdbcType="CLOB" javaType="java.lang.String"/>
 </resultMap>

셀렉트문에서는 만들어놓은 resultMap을 사용해준다.
 <select id="viewNotice" parameterClass="hmap" resultMap="viewIncClob">
  <![CDATA[
   SELECT BBS_ORDER, TITLE, TO_CHAR(FIRSTREGDATE,'YYYY-MM-DD') AS FIRSTREGDATE, WRITER,
          CONTENT
     FROM DPSCMM005
    WHERE BBS_ORDER = #bbs_order#
  ]]>
 </select>

인서트문이다.업데이트문도 동일하겠지?
파라미터 맵을 만들어준다.  지금 하는 프로젝트는 해쉬맵으로 넘겨주니까 클래스는 지정해놓은 해쉬맵으로 받고...
CLOB 파라미터는 jdbcType를 CLOB 으로 지정해준다..

 <parameterMap id="insertIncClob" class="hmap">
  <parameter property="title"/>
  <parameter property="writer"/>
  <parameter property="content" jdbcType="CLOB"/>
  <parameter property="bbskubun"/>
 </parameterMap>

그리고 인서트문에서도 해줘야 하는데 위에처럼 파라미터 맵을 만들어서 해도 되고. CLOB 필드만 CLOB으로 선언해서 넣을수가있다..
별다른 이유가 없다면 그냥 바로 CLOB으로 집어넣는게 편하겠지..

 <insert id="InsNotice" parameterClass="hmap">
  <![CDATA[
    INSERT INTO DPSCMM005 (
    BBS_ORDER,
    TITLE,
    WRITER,
    CONTENT,
    BBSKUBUN,
    FIRSTREGDATE,
    FINALCHNGDATE,
    FINALCHNGADDR,
    DATASTTCD
   ) VALUES (
        (SELECT NVL(MAX(BBS_ORDER),0)+1 FROM DPSCMM005),
        #title#,
        #writer#,
        #content:CLOB#,                              <------------- 넘어온 파라미터값 뒤에 :CLOB를 붙여주면 CLOB으로 들어간다~!
        #bbskubun#,
        SYSDATE,
        TO_DATE(#wdate#, 'YYYY-MM-DD'),
        #clientIP#,
        '0')
  ]]>
 </insert>

ibatis를 쓰지 않는다면 dbms_lob를 써서 불러와야한다. 물론 ibatis를 쓴다면 그냥 CONTENT만 불러오면 된다 ^^
select dbms_lob.substr(content, dbms_lob.getlength(content), 1) as CONTENT from dpscmm005 where bbs_order = '56'---비교적 간단한듯...

----------------------------------------------------------------------------------------------------

ibatis에서 Oracle의 CLOB을 쓰기위해서는 아래와 같은 별도 resultMap 생성이 필요의 처리가 필요하다

<resultMap id="brdView" class="java.util.HashMap">
        <result property="seq" column="seq"/>
        <result property="title" column="title"/>
        <result property="contents" column="contents" jdbcType="CLOB" javaType="java.lang.String"/>
        <result property="url" column="url"/>
</resultMap>

<select id="test.dao.selectTable" parameterClass="Map" resultMap="brdView">
select
        seq, title, contents, url
from testTable
</select>

* select ibatis 의 resultMap 에 위에서 선언한 brdView 를 세팅한다
* CLOB column 부분 을 잘 세팅할것
* 혹시 검색 쿼리에 column 이 추가될 경우 brdView 에도 같은 명칭으로 추가

EX) addcolumn 란 컬럼이 추가된경우 아래와 같다
<resultMap id="brdView" class="java.util.HashMap">
        <result property="seq" column="seq"/>
        <result property="title" column="title"/>
        <result property="contents" column="contents" jdbcType="CLOB" javaType="java.lang.String"/>
        <result property="url" column="url"/>
        <result property="addcolumn" column="addcolumn"/>
</resultMap>

<select id="test.dao.selectTable" parameterClass="Map" resultMap="brdView">
select
        seq, title, contents, url, addcolumn
from testTable
</select>
[출처] ibatis Oracle clob 처리하기 (하늘 Java) |작성자 프라임

----------------------------------------------------------------------------------------------------
< Bean >
package netville.knowledge.business.model;

import java.io.Serializable;

public class Report implements Serializable {
    private static final long serialVersionUID = ####L;

    protected String id;
    protected String name;
    protected String description;
    protected byte[] data;

    public String getId() {
        return id;
    }

    public void setId(String id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public String getDescription() {
        return description;
    }

    public void setDescription(String description) {
        this.description = description;
    }

    public byte[] getData() {
        return data;
    }

    public void setData(byte[] data) {
        this.data = data;
    }
}

< Service >
public Report getReport(String id) {
    try {
        return attachmentDAO.getReport(id);
    } catch (Exception e) {
        logger.error(e);
        throw new KnowRuntimeException(e);
    }
}

< DAO >
public Report getReport(String id) {
    return (Report) getSqlMapClientTemplate().queryForObject("knowledge.attachment.getReport", id);
}

public void insertReport(Report report) {
    getSqlMapClientTemplate().insert("knowledge.attachment.insertReport", report);
}


< SQL-MAP >
    <typeAlias alias="report" type="netville.knowledge.business.model.Report" />
    <resultMap class="report" id="report-result">
        <result column="id" porperty="id"/>
        <result column="name" property="name"/>
        <result column="description" property="description"/>
        <result column="data" property="data" jdbcType="BLOB"/>
    </resultMap>
    <insert id="insertReport" parameterClass="report">
        INSERT INTO REPORT
        (
            ID,
            NAME,
            DESCRIPTION,
            DATA
        ) VALUES (
            #id#,
            #name#,
            #description#,
            #data#
        )
    </insert>
    <select id="getReport" parameterClass="string" resultMap="report-result">
        SELECT
            *
        FROM
            REPORT
        WHERE
            ID = #value#
    </select>

<UTIL>
    public static byte[] getBytesFromFile(File file) throws IOException {

        InputStream is = new FileInputStream(file);

        long length = file.length();
        if (length > Integer.MAX_VALUE) {
            return null;
        }

        byte[] bytes = new byte[(int) length];

        int offset = 0;
        int numRead = 0;
        while (offset < bytes.length && (numRead = is.read(bytes, offset, bytes.length - offset)) >= 0) {
            offset += numRead;
        }

        if (offset < bytes.length) {
            throw new IOException("Could not completely read file " + file.getName());
        }

        is.close();

        return bytes;
    }

----------------------------------------------------------------------------------------------------

    <resultMap class="java.util.HashMap" id="resultStone">
        <result column="CONTENT" property="CONTENT" jdbcType="CLOB" javaType="java.lang.String"/>
    </resultMap>
    <select id="getMap" resultMap="resultStone" parameterClass="map">
        SELECT CONTENT FROM TABLE
    </select>


    <!-- CLOB Data를 위한 정의 -->
    <resultMap class="hmap">
        <result column="CONTENT" property="CONTENT" typeHandler="clobHandler"/>
    </resultMap>
    <select id="getBoardDetail" parameterClass="map" resultMap="getClobBoardData">
        TITLE, CONTENT FROM TEX_BULLETIN
        <iterate prepend="IN" property="listId" open="(" close=")" conjunction=",">
            #listId[]#
        </iterate>
    </select>

----------------------------------------------------------------------------------------------------

        // insert 하는 코드 예제
        params = new HashMap<String, Object>();
        params.put("retryTable", retryQName);
        params.put("file_id", message.getMessageId());
        params.put("source_type", getMessageTypeName(message.getSourceType()));
        params.put("msg_file", defalte(encode(message.getValue())));
        sqlMap.insert("insertToRetryQTable", params);
        // SQL-Map
        <insert id="insertToRetryQTable" parameterClass="java.util.Map">
            INSERT INTO $retryTable$ (FILE_ID, SOURCE_TYPE, MSG_FILE) VALUES (#file_id#, #source_type#, #msg_file:BLOB# )
        </insert>

    위 예제코드는 Oracle이나 CUBRID에서는 동작하지 않는다. byte 배열을 BLOB으로 바인딩할 수 없기 때문이다.
    따라서 아래와 같이 TypeHandler에서 setParameter 메소드를 구현해야 한다.

        // ps는 PreparedStatement 객체
        @Override
        public void setParameter(PreparedStatement ps, int i, Object parameter, String jdbcType) throws Exception {
            byte[] bytes = (byte[]) parameter;
            if (bytes != null) {
                Blob blob = ps.getConnection().createBlob();
                blob.setBytes(1, bytes);
                ps.setBlob(i, blob);
            } else {
                ps.setBlob(i, (Blob) null);
            }
        }


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ Linux 메모리 사용량 확인 ]

    top에서 리눅스 시스템의 메모리 사용량을 보면 항상 대부분의 메모리가 사용중이고, free 메모리는 얼마되지 않는다.

        <app01>

            matcmsapp01:/sas/sasuser/sas>top
            top - 09:24:24 up 155 days, 21:01, 12 users,  load average: 0.00, 0.03, 0.02
            Tasks: 453 total,   1 running, 452 sleeping,   0 stopped,   0 zombie
            Cpu(s):  0.2%us,  0.2%sy,  0.0%ni, 99.5%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st
            Mem:  65982532k total, 49347344k used, 16635188k free,   987724k buffers
            Swap: 67108856k total,   132432k used, 66976424k free, 26697296k cached

              PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
            15177 sas       20   0 11.2g 1.7g  13m S  1.7  2.7 281:19.30 java
             3335 sas       20   0 9802m 1.2g  14m S  1.3  1.9 277:27.85 java
             .....

    전체 66G 메모리 중에 49.3G 정도 사용하고 있는 것으로 나온다.

        <app02>

            matcmsapp02:/sas/sasuser/sas>top
            top - 09:24:25 up 155 days, 21:00,  8 users,  load average: 2.97, 2.06, 1.86
            Tasks: 429 total,   1 running, 428 sleeping,   0 stopped,   0 zombie
            Cpu(s): 10.7%us,  0.2%sy,  0.0%ni, 89.1%id,  0.0%wa,  0.0%hi,  0.0%si,  0.0%st
            Mem:  65982532k total, 65484132k used,   498400k free,  1031444k buffers
            Swap: 67108856k total,    70456k used, 67038400k free, 42926300k cached

              PID USER      PR  NI  VIRT  RES  SHR S %CPU %MEM    TIME+  COMMAND
            30007 sas       20   0 3697m 479m  16m S 112.2  0.7  32380:55 java
            17486 sas       20   0 3697m 480m  16m S 54.4  0.7  15844:03 java
            19976 sas       20   0 13.9g 5.5g  26m S  1.7  8.7 505:48.91 java
            .....

    전체 66G 메모리 중에 65.4G 정도 사용하고 있는 것으로 나온다.

    메모리가 부족한 것인다.
    한마디로 그렇지 한다. 이는 리눅스의 OS cache 때문이다. 리눅스는 가용메모리 전체를 OS cache로 사용한다.
    평상시에는 Disk Block에 대한 cashe로 사용하고, 대신 언제든지 가용 메모리로 할당할 수 있도록 준비한다.
    OS cache를 포함하여 그리고 임시 버퍼등의 메모리 사이즈는 가용 메모리로 봐야한다.

        실제 가용 메모리 = mem_free + mem_cache + mem_buffer

    buffers, cache 영역까지 감안한 실제 메모리 사용량을 free명령어를 통해서 확인할 수 있다.

        <app01>
            matcmsapp01:/sas/sasuser/sas>free -m -s 10
                         total       used       free     shared    buffers     cached
            Mem:         64436      48193      16242          0        964      26071
            -/+ buffers/cache:      21156      43279
            Swap:        65535        129      65406

    현재 64.436G 메모리 중에 21.156G 실제 사용중이고, 43.279G가 언제든지 할당 가능한 가용 메모리다.

        <app02>
            matcmsapp02:/sas/sasuser/sas>free -m -s 10
                         total       used       free     shared    buffers     cached
            Mem:         64436      63949        486          0       1007      41920
            -/+ buffers/cache:      21021      43414
            Swap:        65535         68      65467


    현재 64.436G 메모리 중에 21.021G 실제 사용중이고, 43.414G가 언제든지 할당 가능한 가용 메모리다.

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------
[ 앱쿠폰 확인 작업 ]

cmpgn_no : H20151202000003001
chnnl_no : APT0000151202005
event_code : 2201528534

     * 운영     : https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=batchAppCoupon&cmpgn_no=H20151202000003001&chnnl_no=APT0000151202005
     * 운영복합 : https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=batchAppCoupon&cmpgn_no:chnnl_no=H20151202000003001:APT0000151202005;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
* 경품지급은 모두 SAM 파일로 처리한다.

[ 행사 마스터 ]

EVENT_ID       VARCHAR( 10)  /* 이벤트ID  '9000000001'~  */
EVENT_NM       VARCHAR(200)  /* 이벤트명                 */
WIN_RANGE_CNT  VARCHAR( 10)  /* 전체당첨자수             */
EVENT_START_DT VARCHAR(  8)  /* 행사시작일자 'YYYYMMDD'  */
EVENT_END_DT   VARCHAR(  8)  /* 행사종료일자 'YYYYMMDD'  */
DEL_YN         VARCHAR(  1)  /* 삭제여부     'Y'         */

"event_id"
"event_nm"
"win_range_cnt"
"event_start_dt"
"event_end_dt"
"del_yn"


                mapEvent.put("event_id"      , "");
                mapEvent.put("event_nm"      , "");
                mapEvent.put("win_range_cnt" , "");
                mapEvent.put("event_start_dt", "");
                mapEvent.put("event_end_dt"  , "");
                mapEvent.put("del_yn"        , "");

                sbMst.append(EncDecUtil.getNString(String.valueOf(mapEvent.get("event_id"      )),  10));
                sbMst.append(EncDecUtil.getNString(String.valueOf(mapEvent.get("event_nm"      )), 200));
                sbMst.append(EncDecUtil.getNString(String.valueOf(mapEvent.get("win_range_cnt" )),  10));
                sbMst.append(EncDecUtil.getNString(String.valueOf(mapEvent.get("event_start_dt")),   8));
                sbMst.append(EncDecUtil.getNString(String.valueOf(mapEvent.get("event_end_dt"  )),   8));
                sbMst.append(EncDecUtil.getNString(String.valueOf(mapEvent.get("del_yn"        )),   1));


----------------------------------------------------------------------------------------------------
[ 경품 마스터 ]

GIFT_ID        VARCHAR( 10)  /* 경품ID    '8000000001'~      */
EVENT_ID       VARCHAR( 10)  /* 이벤트ID                     */
GIFT_NM        VARCHAR(200)  /* 경품명                       */
GIFT_CNT       VARCHAR( 10)  /* 경품수                       */
GIFT_START_DT  VARCHAR(  8)  /* 경품수령시작일자 'YYYYMMDD'  */
GIFT_END_DT    VARCHAR(  8)  /* 경품수령종료일자 'YYYYMMDD'  */
DEL_YN         VARCHAR(  1)  /* 삭제여부     'Y'             */

"gift_id"
"event_id"
"gift_nm"
"gift_cnt"
"gift_start_dt"
"gift_end_dt"
"del_yn"

                    mapGift.put("gift_id"      , "");
                    mapGift.put("event_id"     , "");
                    mapGift.put("gift_nm"      , "");
                    mapGift.put("gift_cnt"     , "");
                    mapGift.put("gift_start_dt", "");
                    mapGift.put("gift_end_dt"  , "");
                    mapGift.put("del_yn"       , "");

                    sbLimit.append(EncDecUtil.getNString(String.valueOf(map.get("gift_id"      )),  10));
                    sbLimit.append(EncDecUtil.getNString(String.valueOf(map.get("event_id"     )),  10));
                    sbLimit.append(EncDecUtil.getNString(String.valueOf(map.get("gift_nm"      )), 200));
                    sbLimit.append(EncDecUtil.getNString(String.valueOf(map.get("gift_cnt"     )),  10));
                    sbLimit.append(EncDecUtil.getNString(String.valueOf(map.get("gift_start_dt")),   8));
                    sbLimit.append(EncDecUtil.getNString(String.valueOf(map.get("gift_end_dt"  )),   8));
                    sbLimit.append(EncDecUtil.getNString(String.valueOf(map.get("del_yn"       )),   1));

----------------------------------------------------------------------------------------------------
[ 경품지급 대상자 목록 ]

CUST_ID        VARCHAR(  9)  /* 고객ID              */
CUST_NM        VARCHAR(200)  /* 고객명    공백으로  */
STORE_CD       VARCHAR(  4)  /* 경품수령점포코드    */
EVENT_ID       VARCHAR( 10)  /* 이벤트ID            */
GIFT_ID        VARCHAR( 10)  /* 경품ID              */

"cust_id"
"cust_nm"
"store_cd"
"event_id"
"gift_id"

                        mapCust.put("cust_id" , "");
                        mapCust.put("cust_nm" , "");
                        mapCust.put("store_cd", "");
                        mapCust.put("event_id", "");
                        mapCust.put("gift_id" , "");

                    sbLimit.append(EncDecUtil.getNString(String.valueOf(map.get("cust_id" )),   9));
                    sbLimit.append(EncDecUtil.getNString(String.valueOf(map.get("cust_nm" )), 200));
                    sbLimit.append(EncDecUtil.getNString(String.valueOf(map.get("store_cd")),   4));
                    sbLimit.append(EncDecUtil.getNString(String.valueOf(map.get("event_id")),  10));
                    sbLimit.append(EncDecUtil.getNString(String.valueOf(map.get("gift_id" )),  10));


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SHOW TABLE CM_CMMN_CD;

CREATE SET TABLE CMSDATA.CM_CMMN_CD_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '그룹코드' NOT NULL,
      COMM_CD VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '코드' NOT NULL,
      GRP_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '그룹코드명',
      COMM_CD_VL VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '코드값',
      SRT_SEQ_NO DECIMAL(18,0) TITLE '정렬일련번호',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( GRP_CD ,COMM_CD );

INSERT INTO
    CMSDATA.CM_CMMN_CD_KANG
SELECT
    GRP_CD
    , COMM_CD
    , GRP_NM
    , COMM_CD_VL
    , SRT_SEQ_NO
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_CMMN_CD
;


DELETE FROM
    CM_CMMN_CD_KANG A
WHERE 1=1
    AND GRP_CD IN ('CM051','CM052','CM053')
;

insert into cm_cmmn_cd_KANG(grp_cd, grp_nm, comm_cd, comm_cd_vl, SRT_SEQ_NO) values ('CM051','CRMMGR','031880','안필재', 1);
insert into cm_cmmn_cd_KANG(grp_cd, grp_nm, comm_cd, comm_cd_vl, SRT_SEQ_NO) values ('CM051','CRMMGR','112644','강수영', 2);
insert into cm_cmmn_cd_KANG(grp_cd, grp_nm, comm_cd, comm_cd_vl, SRT_SEQ_NO) values ('CM051','CRMMGR','105902','오미현', 3);
insert into cm_cmmn_cd_KANG(grp_cd, grp_nm, comm_cd, comm_cd_vl, SRT_SEQ_NO) values ('CM051','CRMMGR','125344','윤지중', 4);
insert into cm_cmmn_cd_KANG(grp_cd, grp_nm, comm_cd, comm_cd_vl, SRT_SEQ_NO) values ('CM051','CRMMGR','126300','김현화', 5);

insert into cm_cmmn_cd_KANG(grp_cd, grp_nm, comm_cd, comm_cd_vl, SRT_SEQ_NO) values ('CM052','PMSMGR','112644','강수영', 1);

insert into cm_cmmn_cd_KANG(grp_cd, grp_nm, comm_cd, comm_cd_vl, SRT_SEQ_NO) values ('CM053','SYSMGR','112644','강수영', 1);


SELECT * FROM CM_CMMN_CD_KANG ORDER BY GRP_CD DESC, COMM_CD;

-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CMMN_CD;

-- RENAME
RENAME TABLE CMSDATA.CM_CMMN_CD_KANG TO CMSDATA.CM_CMMN_CD;

-- MAKE VIEW
REPLACE VIEW CMSVIEW.CM_CMMN_CD  AS LOCKING TABLE CMSDATA.CM_CMMN_CD FOR ACCESS (SELECT * FROM CMSDATA.CM_CMMN_CD);



SELECT * FROM CM_CMMN_CD ORDER BY GRP_CD DESC, COMM_CD;


DROP TABLE CMSDATA_DEV.CM_CMMN_CD;

CREATE TABLE CMSDATA_DEV.CM_CMMN_CD  AS CMSDATA.CM_CMMN_CD  WITH DATA;



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SELECT * FROM CM_CMMN_CD WHERE GRP_CD IN ('CM050','CM051','CM052','CM053') ORDER BY GRP_CD, SRT_SEQ_NO;

insert into cm_cmmn_cd(grp_cd, grp_nm, comm_cd, srt_SEQ_NO, comm_cd_vl) values ('CM050', 'MMS개인화쿠폰','MMS01', 1, '없음' );
insert into cm_cmmn_cd(grp_cd, grp_nm, comm_cd, srt_SEQ_NO, comm_cd_vl) values ('CM050', 'MMS개인화쿠폰','MMS02', 2, 'MMS쿠폰발급' );
insert into cm_cmmn_cd(grp_cd, grp_nm, comm_cd, srt_SEQ_NO, comm_cd_vl) values ('CM050', 'MMS개인화쿠폰','MMS03', 3, '앱쿠폰(선발행)' );
insert into cm_cmmn_cd(grp_cd, grp_nm, comm_cd, srt_SEQ_NO, comm_cd_vl) values ('CM050', 'MMS개인화쿠폰','MMS04', 4, '앱쿠폰(후발행)' );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

-----------------------------------------------------------------------------------

SELECT
    A.*
FROM
    CMSVIEW_DEV.CM_CMMN_CD  A
WHERE 1=1
    AND A.GRP_CD IN ('CM051','CM052','CM053')
ORDER BY
    A.GRP_CD DESC
    , A.SRT_SEQ_NO
;


-----------------------------------------------------------------------------------

SELECT * FROM CMSVIEW_DEV.CM_CMPGN_MST;

SELECT * FROM TCVM.STORE;


-----------------------------------------------------------------------------------

SHOW TABLE CM_CHNNL_APR;

-----------------------------------------------------------------------------------

SELECT * FROM CM_CMMN_CD WHERE GRP_CD IN ('CM050','CM051','CM052','CM053') ORDER BY GRP_CD, SRT_SEQ_NO;

-----------------------------------------------------------------------------------

insert into cm_cmmn_cd(grp_cd, grp_nm, comm_cd, srt_SEQ_NO, comm_cd_vl) values ('CM050', 'MMS개인화쿠폰','MMS01', 1, '없음' );
insert into cm_cmmn_cd(grp_cd, grp_nm, comm_cd, srt_SEQ_NO, comm_cd_vl) values ('CM050', 'MMS개인화쿠폰','MMS02', 2, 'MMS쿠폰발급' );
insert into cm_cmmn_cd(grp_cd, grp_nm, comm_cd, srt_SEQ_NO, comm_cd_vl) values ('CM050', 'MMS개인화쿠폰','MMS03', 3, '앱쿠폰(선발행)' );
insert into cm_cmmn_cd(grp_cd, grp_nm, comm_cd, srt_SEQ_NO, comm_cd_vl) values ('CM050', 'MMS개인화쿠폰','MMS04', 4, '앱쿠폰(후발행)' );



-----------------------------------------------------------------------------------

SELECT * FROM CMSVIEW_DEV.CM_CMPGN_MST;

SELECT * FROM CMSVIEW_DEV.CM_CMPGN_EXCT WHERE CHNNL_NM IS NOT NULL;

SELECT DISTINCT
    MY_STR_ID
    , MY_STR_NM
    , EMP_NO
    , USER_NM
    , CUST_ID
FROM
    TCVM.STORE_EMP_CUST_ID
ORDER BY
    MY_STR_ID
    , EMP_NO

-----------------------------------------------------------------------------------

SELECT * FROM CMSVIEW_DEV.CM_CMPGN_EXCT WHERE CHNNL_NM IS NOT NULL;

-----------------------------------------------------------------------------------

            SELECT  TOP 1  /* HH14065I.getMapChangeWord01 */
                A.CMPGN_NO           AS CMPGN_NO    /* 캠페인번호  */
                , A.CMPGN_NM         AS CMPGN_NM    /* 캠페인명    */
                , B.CHNNL_NO         AS CHNNL_NO    /* 채널번호    */
                , B.CHNNL_NM         AS CHNNL_NM    /* 채널명      */
                , A.CMPGN_RQST_ID    AS PLANNER     /* 기안사원    */
                , C.MY_STR_ID        AS STR_ID2     /* 점포ID-2    */
                , C.MY_STR_NM        AS STR_NM2     /* 점포명-2    */
                , C.EMP_NO           AS EMP_NO      /* 사원번호    */
                , C.USER_NM          AS EMP_NM      /* 사원명      */
                , C.CUST_ID          AS EMP_CUST_ID /* 사원CUST_ID */
                , D.STR_ID           AS STR_ID      /* 점포ID      */
                , D.STR_NM           AS STR_NM      /* 점포명      */
                , CASE NVL(D.POS_STR_CODE, '    ')
                    WHEN '    ' THEN '0000'
                    ELSE D.POS_STR_CODE
                    END              AS POS_STR_CD  /* POS점포코드 */
                /* , LENGTH(D.POS_STR_CODE) */
            FROM
                CMSVIEW_DEV.CM_CMPGN_MST                   A
                LEFT OUTER JOIN CMSVIEW_DEV.CM_CMPGN_EXCT  B
                    ON  B.CMPGN_NO = A.CMPGN_NO
                    /* AND B.CHNNL_NO = 'NULL' */
                    AND B.CHNNL_NO = #chnnl_no#
                LEFT OUTER JOIN TCVM.STORE_EMP_CUST_ID     C
                    ON  C.EMP_NO = A.CMPGN_RQST_ID
                LEFT OUTER JOIN TCVM.STORE                 D
                    ON  D.STR_ID = A.STR_ID
            WHERE 1=1
                /* AND A.CMPGN_NO LIKE 'C201512%' */
                /* AND A.CMPGN_NO = 'C20151202101711958' */
                AND A.CMPGN_NO = #cmpgn_no#


-----------------------------------------------------------------------------------

            SELECT  /* HH14065I.getMapChangeWord02 */
                A.GRP_CD        AS GRP_CD
                , A.SRT_SEQ_NO  AS SRT_SEQ_NO
                , A.GRP_NM      AS GRP_NM
                , A.COMM_CD     AS COMM_CD
                , A.COMM_CD_VL  AS COMM_CD_VL
            FROM
                CMSVIEW_DEV.CM_CMMN_CD  A
            WHERE 1=1
                AND A.GRP_CD IN ('CM051','CM052','CM053')
            ORDER BY
                A.GRP_CD, A.SRT_SEQ_NO


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

select * from CMSVIEW_DEV.CM_AMT_RSPNS_SMM             ;
select * from CMSVIEW_DEV.CM_BDSRCT_RSPNS_SMM          ;
select * from CMSVIEW_DEV.CM_BST_CMPGN                 ;
select * from CMSVIEW_DEV.CM_BUYTERM_DAY               ;
--select * from CMSVIEW_DEV.CM_BUYTERM_WEEK              ;
select * from CMSVIEW_DEV.CM_CARD_CO                   ;
select * from CMSVIEW_DEV.CM_CATCHMNT_INCRSS_RTO_SMM   ;
select * from CMSVIEW_DEV.CM_CHNNL_ACHIVE_COMPRSM_SMM  ;
select * from CMSVIEW_DEV.CM_CHNNL_APR                 ; HP_FILE_URL
select * from CMSVIEW_DEV.CM_CHNNL_APT                 ; HP_FILE_URL
--
select * from CMSVIEW_DEV.CM_CHNNL_BMS                 ; TMP_FL_PTH FL_1_PATH ~ FL_3_PATH
select * from CMSVIEW_DEV.CM_CHNNL_DM                  ;
select * from CMSVIEW_DEV.CM_CHNNL_DVD_WGHT            ;
select * from CMSVIEW_DEV.CM_CHNNL_EML                 ;
select * from CMSVIEW_DEV.CM_CHNNL_LMS                 ;
select * from CMSVIEW_DEV.CM_CHNNL_MMS                 ; FL_1_PATH ~ FL_3_PATH
select * from CMSVIEW_DEV.CM_CHNNL_PLCY                ;
select * from CMSVIEW_DEV.CM_CHNNL_POS                 ;
select * from CMSVIEW_DEV.CM_CHNNL_RMNS_CNT_BY_DAY     ;
select * from CMSVIEW_DEV.CM_CHNNL_RSPNS_SMM           ;
--
select * from CMSVIEW_DEV.CM_CHNNL_RSPNS_SMM_UV        ;
select * from CMSVIEW_DEV.CM_CHNNL_SMS                 ;
select * from CMSVIEW_DEV.CM_CHNNL_TST_GRP             ;
select * from CMSVIEW_DEV.CM_CHNNL_TST_GRP_CUST        ;
select * from CMSVIEW_DEV.CM_CMMN_CD                   ;
select * from CMSVIEW_DEV.CM_CMPGN_ALRM_MSG            ;
select * from CMSVIEW_DEV.CM_CMPGN_CHNNL               ;
select * from CMSVIEW_DEV.CM_CMPGN_CTGRY               ;
select * from CMSVIEW_DEV.CM_CMPGN_EXCT                ;
select * from CMSVIEW_DEV.CM_CMPGN_HISTRY              ;
--
select * from CMSVIEW_DEV.CM_CMPGN_MST                 ;
select * from CMSVIEW_DEV.CM_CMPGN_OFFR                ;
select * from CMSVIEW_DEV.CM_CMPGN_PLCY                ;
select * from CMSVIEW_DEV.CM_CMPGN_REG                 ;
select * from CMSVIEW_DEV.CM_CMPGN_REG_DTL             ;
--select * from CMSVIEW_DEV.CM_CMPGN_REG_DTL3            ;
select * from CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_CD       ;
select * from CMSVIEW_DEV.CM_CMPGN_SCCS_CNDTN_DTL      ;
select * from CMSVIEW_DEV.CM_CMPGN_SIMUL_CUST          ;
select * from CMSVIEW_DEV.CM_CMPGN_TRGT_CHC            ;
--
select * from CMSVIEW_DEV.CM_CMPGN_TRGT_CUST           ;
select * from CMSVIEW_DEV.CM_CMTN_PLN                  ;
select * from CMSVIEW_DEV.CM_CTGRY_ACHIVE_COMPRSM_SMM  ;
select * from CMSVIEW_DEV.CM_CTGY_INCRSS_RTO_SMM       ;
select * from CMSVIEW_DEV.CM_CUST_FAV_CHNNL            ;
select * from CMSVIEW_DEV.CM_CUST_GRADE                ;
select * from CMSVIEW_DEV.CM_CUST_GRADE_TMP            ;
select * from CMSVIEW_DEV.CM_CUST_MST                  ;
select * from CMSVIEW_DEV.CM_CUST_RSPNS_SMM            ;
select * from CMSVIEW_DEV.CM_CUST_SCCSS_RSPNS_HSTRY    ;
--
select * from CMSVIEW_DEV.CM_DAY_VISIT_EXCSS_SMM       ;
select * from CMSVIEW_DEV.CM_DAY_VISIT_INCRSS_SMM      ;
select * from CMSVIEW_DEV.CM_DIC_TBL                   ;
select * from CMSVIEW_DEV.CM_DT_RSPNS_SMM              ;
--select * from CMSVIEW_DEV.CM_EMART_RECPT               ;
--select * from CMSVIEW_DEV.CM_EMART_SAMPLE              ;
select * from CMSVIEW_DEV.CM_EMI_HQ_APPROVAL           ;
select * from CMSVIEW_DEV.CM_ETLJOB_LOG                ;
select * from CMSVIEW_DEV.CM_ETLJOB_MAST               ;
select * from CMSVIEW_DEV.CM_HQ_RSLT_ANLYSS_SMM        ;
--
select * from CMSVIEW_DEV.CM_MAP_INCRSS_RTO_SMM        ;
--select * from CMSVIEW_DEV.CM_MENU_LOGDATA_RS           ;
--select * from CMSVIEW_DEV.CM_MENU_LOGINFO              ;
select * from CMSVIEW_DEV.CM_MON_VISIT_EXCSS_SMM       ;
select * from CMSVIEW_DEV.CM_NTC                       ;
select * from CMSVIEW_DEV.CM_OFFR_ACHIVE_COMPRSM_SMM   ;
select * from CMSVIEW_DEV.CM_OFFR_EXP_INFO             ;
--select * from CMSVIEW_DEV.CM_OFFR_EXP_INFO_ET          ;
--select * from CMSVIEW_DEV.CM_OFFR_EXP_INFO_RS          ;
--select * from CMSVIEW_DEV.CM_OFFR_EXP_INFO_UV          ;
--
--select * from CMSVIEW_DEV.CM_OFFR_EXP_INFO_WT          ;
select * from CMSVIEW_DEV.CM_OFFR_SCCS_CNDTN           ;
select * from CMSVIEW_DEV.CM_PGM_ID                    ;
select * from CMSVIEW_DEV.CM_RSLT_ANLYSS_SMM           ;
select * from CMSVIEW_DEV.CM_SCCSS_RSPNS_SMM           ;
select * from CMSVIEW_DEV.CM_SCCS_RSPNS_SMM            ;
select * from CMSVIEW_DEV.CM_SCHDL_HO                  ;
select * from CMSVIEW_DEV.CM_SCHDL_HO_DTTM             ;
select * from CMSVIEW_DEV.CM_SCHDL_HO_SCCS_CNDTN_DTL   ;
--select * from CMSVIEW_DEV.CM_SEND_MST                  ;
--
--select * from CMSVIEW_DEV.CM_STARBUCKS_REVN            ;
--select * from CMSVIEW_DEV.CM_STARBUCKS_REVN2           ;
--select * from CMSVIEW_DEV.CM_STARBUCKS_USER            ;
select * from CMSVIEW_DEV.CM_STORE_TEL                 ;
select * from CMSVIEW_DEV.CM_STR                       ;
select * from CMSVIEW_DEV.CM_STR_ADMIN_AREA_ADDRSS     ;
select * from CMSVIEW_DEV.CM_STR_CHGR                  ;
select * from CMSVIEW_DEV.CM_STR_DAY_SMM               ;
select * from CMSVIEW_DEV.CM_STR_EXP                   ;
select * from CMSVIEW_DEV.CM_STR_GRADE_SMM             ;
--
select * from CMSVIEW_DEV.CM_STR_RSLT_ANLYSS_SMM       ;
select * from CMSVIEW_DEV.CM_TGT_CUST_RSPNS_HSTRY      ;
select * from CMSVIEW_DEV.CM_THM_TRGT                  ;
select * from CMSVIEW_DEV.CM_THM_TRGT_CUST             ;
select * from CMSVIEW_DEV.CM_THM_TRGT_STR              ;
select * from CMSVIEW_DEV.CM_TRGT_CNDTN                ;
select * from CMSVIEW_DEV.CM_TRGT_CNDTN_BY_STR         ;
select * from CMSVIEW_DEV.CM_TRGT_CNDTN_INSTNC         ;
--select * from CMSVIEW_DEV.CM_TRGT_CUST_BARCD           ;
select * from CMSVIEW_DEV.CM_TRGT_CUST_CHNNL_RSPNS     ;
--
select * from CMSVIEW_DEV.CM_TRGT_CUST_INFO            ;
select * from CMSVIEW_DEV.CM_TRGT_CUST_OFFR_RSLT       ;
select * from CMSVIEW_DEV.CM_TRGT_CUST_PRCHSE_INFO     ;
--select * from CMSVIEW_DEV.CM_TRGT_CUST_RSPNS           ;
select * from CMSVIEW_DEV.CM_TRGT_RQST_RSLT            ;
select * from CMSVIEW_DEV.CM_TST_CHRGPERS              ;
select * from CMSVIEW_DEV.CM_USER_LOG                  ;
select * from CMSVIEW_DEV.CM_WRD_RPLC                  ;
select * from CMSVIEW_DEV.CM_YM_CHNNL_SMM              ;
select * from CMSVIEW_DEV.CM_YM_CMPGN_EXP_SMM          ;
--
select * from CMSVIEW_DEV.CM_YM_CRRNT_OFFR             ;
select * from CMSVIEW_DEV.CM_YM_CTGRY_SMM              ;
select * from CMSVIEW_DEV.CM_YM_EXP_SMM                ;
select * from CMSVIEW_DEV.CM_YM_MNTH_EXP_SMM           ;
select * from CMSVIEW_DEV.CM_YM_OFFR_SMM               ;
select * from CMSVIEW_DEV.CM_YM_RSLT_SMM               ;
select * from CMSVIEW_DEV.CM_YM_SCCSS_SMM              ;
--select * from CMSVIEW_DEV.CM_YM_SCCSS_YM               ;
select * from CMSVIEW_DEV.CM_YM_SCCS_SMM               ;
select * from CMSVIEW_DEV.CM_YM_TOT_EXP_SMM            ;

select * from CMSVIEW_DEV.CM_YM_YEAR_EXP_SMM           ;
select * from CMSVIEW_DEV.SIMUL_ANLYSS_CMPGN_INFO      ;
select * from CMSVIEW_DEV.SIMUL_CUST_6MON_SLS          ;
select * from CMSVIEW_DEV.SIMUL_CUST_PROFIL_SMM        ;
select * from CMSVIEW_DEV.SIMUL_CUST_SMM               ;
select * from CMSVIEW_DEV.SIMUL_EXP_SMM                ;
select * from CMSVIEW_DEV.SIMUL_FORCST_SMM             ;
select * from CMSVIEW_DEV.SIMUL_SIMUL_SMM              ;
select * from CMSVIEW_DEV.SIMUL_STR_MAP_SMM            ;


----------------------------------------------------------------------------------------------------

--select * from CMSVIEW_DEV.CM_BUYTERM_WEEK              ;
--select * from CMSVIEW_DEV.CM_CMPGN_REG_DTL3            ;
--select * from CMSVIEW_DEV.CM_EMART_RECPT               ;
--select * from CMSVIEW_DEV.CM_EMART_SAMPLE              ;
--select * from CMSVIEW_DEV.CM_MENU_LOGDATA_RS           ;
--select * from CMSVIEW_DEV.CM_MENU_LOGINFO              ;
--select * from CMSVIEW_DEV.CM_OFFR_EXP_INFO_ET          ;
--select * from CMSVIEW_DEV.CM_OFFR_EXP_INFO_RS          ;
--select * from CMSVIEW_DEV.CM_OFFR_EXP_INFO_UV          ;
--select * from CMSVIEW_DEV.CM_OFFR_EXP_INFO_WT          ;
--select * from CMSVIEW_DEV.CM_SEND_MST                  ;
--select * from CMSVIEW_DEV.CM_STARBUCKS_REVN            ;
--select * from CMSVIEW_DEV.CM_STARBUCKS_REVN2           ;
--select * from CMSVIEW_DEV.CM_STARBUCKS_USER            ;
--select * from CMSVIEW_DEV.CM_TRGT_CUST_BARCD           ;
--select * from CMSVIEW_DEV.CM_TRGT_CUST_RSPNS           ;
--select * from CMSVIEW_DEV.CM_YM_SCCSS_YM               ;

select * from CMSVIEW_DEV.CM_CHNNL_APR                 ; --HP_FILE_URL
select * from CMSVIEW_DEV.CM_CHNNL_APT                 ; --HP_FILE_URL
select * from CMSVIEW_DEV.CM_CHNNL_BMS                 ; --TMP_FL_PTH FL_1_PATH ~ FL_3_PATH
select * from CMSVIEW_DEV.CM_CHNNL_MMS                 ; --FL_1_PATH ~ FL_3_PATH


---------------------------------------------------------------------------------

SELECT
    'HP_FILE_URL='
    , A.HP_FILE_URL
    , 'CONTENTS_FILE_URL='
    , A.CONTENTS_FILE_URL
    , 'CHNNL_NO='
    , A.CHNNL_NO
FROM
    CMSVIEW_DEV.CM_CHNNL_APR   A
WHERE 1=1
    AND (
        A.HP_FILE_URL LIKE '%/rfile/%'
        OR A.CONTENTS_FILE_URL LIKE '%/rcfile/%'
    )
;

---------------------------------------------------------------------------------

UPDATE
    CMSDATA_DEV.CM_CHNNL_APR
SET
    HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rfile/1448991316937d7e9829e-9d83-419a-86fa-b50f47b635c0.jpg',
    CONTENTS_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rcfile/1448991292583d3b5de72-2aae-424b-af03-4327916d60a4.jpg'
WHERE 1=1
    AND CHNNL_NO='APR0000151214001'
;

UPDATE
    CMSDATA_DEV.CM_CHNNL_APR
SET
    HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rfile/1448992174924485fd4ef-8123-4beb-bd77-d5010da733a6.jpg'
WHERE 1=1
    AND CHNNL_NO='APR0000151202004'
;

UPDATE
    CMSDATA_DEV.CM_CHNNL_APR
SET
    HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rfile/1448857965340f1538873-b7b3-4bf2-a4ff-9dc1b6c78aeb.jpg'
WHERE 1=1
    AND CHNNL_NO='APR0000151130002'
;

UPDATE
    CMSDATA_DEV.CM_CHNNL_APR
SET
    HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rfile/1448860482195c4c0c683-638e-4c9c-a153-463ba7b73658.jpg',
    CONTENTS_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rcfile/1448860455160b97397d4-21b2-444c-8c5a-b0f664569214.jpg'
WHERE 1=1
    AND CHNNL_NO='APR0000151130001'
;

UPDATE
    CMSDATA_DEV.CM_CHNNL_APR
SET
    CONTENTS_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rcfile/1448991244584445c4e14-3f4e-4dea-af61-8708cb8e85bb.jpg'
WHERE 1=1
    AND CHNNL_NO='APR0000151202001'
;

UPDATE
    CMSDATA_DEV.CM_CHNNL_APR
SET
    HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rfile/14490444003542e2838cd-2625-4fbb-958c-4a7e408e2d16.jpg',
    CONTENTS_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rcfile/1449044358853ee3b1277-1f1a-4bab-af2f-72df829e7ea9.jpg'
WHERE 1=1
    AND CHNNL_NO='APR0000151202005'
;

UPDATE
    CMSDATA_DEV.CM_CHNNL_APR
SET
    CONTENTS_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rcfile/1449123432055c84ef2a8-5934-4094-af70-1a307bec0061.jpg'
WHERE 1=1
    AND CHNNL_NO='APR0000151216001'
;

---------------------------------------------------------------------------------


SELECT
    'UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='''
    || A.HP_FILE_URL
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'  AS DUMMY
FROM
    CMSVIEW_DEV.CM_CHNNL_APT   A
WHERE 1=1
    AND A.HP_FILE_URL LIKE '%/tfile/%'
;

---------------------------------------------------------------------------------

UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14471400616171fe6dd86-989f-4c82-816e-e2bb2a09b669.jpg' WHERE 1=1 AND CHNNL_NO='APT1092151110097';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14479989485133ee8b60d-0172-49ef-99cd-dc4a2d3a92d1.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151120225';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14482615166650999c005-cf32-4446-9544-ea4c2a4ee695.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151123240';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14489912042916635045c-9996-4bd1-be50-09e8dff1fd4e.jpg' WHERE 1=1 AND CHNNL_NO='APT0000151202001';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/144817874242106f79463-e852-4de9-a985-d841df8db666.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151122233';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447140616033d84e50a0-230e-452b-862f-2f859548a568.jpg' WHERE 1=1 AND CHNNL_NO='APT1092151110099';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14485303789676cdd9346-1ec3-4e38-bf00-051242ba4746.jpg' WHERE 1=1 AND CHNNL_NO='APT1098151126278';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14482536081966cee8c64-8463-4b1c-b552-b510665d007a.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151123238';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14483270150281c5b9e80-5bdd-4487-bd74-c01ac6184a3b.png' WHERE 1=1 AND CHNNL_NO='APT1017151123235';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14481926986982fe93e63-d94f-4ca6-9511-042b7663d8a4.png' WHERE 1=1 AND CHNNL_NO='APT1017151122234';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1448991728524bdd330b6-d0aa-4076-b8fd-c56e4245e814.jpg' WHERE 1=1 AND CHNNL_NO='APT0000151203001';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1448848489256f23cabb3-2540-4cfc-a1aa-eed3926cba1c.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151129288';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447158248263c77dfeb8-e280-420c-9ccc-b9959dbf2003.png' WHERE 1=1 AND CHNNL_NO='APT1017151110110';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14488556499740c27e13c-b484-4865-b4ce-b736f3af66e5.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151130290';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447255915424e22937e8-49b0-486b-8a49-de6b19c436f3.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151111115';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14484371106749f506f79-6b65-45de-a8b8-c8371f6f17ec.png' WHERE 1=1 AND CHNNL_NO='APT1017151125262';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14471327955950b99c764-4bfc-40f5-b0da-eee68b5b1afe.jpg' WHERE 1=1 AND CHNNL_NO='APT1098151110082';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/144757906091178006e39-3b4e-4d29-9dfc-29afb7434cee.jpg' WHERE 1=1 AND CHNNL_NO='APT1098151115168';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447717595224f5a4302b-2a99-41c0-8fdf-12aaba41b565.png' WHERE 1=1 AND CHNNL_NO='APT1098151113161';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447231480839768672cc-4e96-49f3-8332-0fe7452d2f32.png' WHERE 1=1 AND CHNNL_NO='APT1092151111113';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/144827899210214fa4575-1870-443c-b59c-069d226c2f42.png' WHERE 1=1 AND CHNNL_NO='APT1117151120228';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1448264424923ceced30c-489f-46b0-ae8c-e62d793f2b2d.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151123242';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447145126013ee042af4-dd5d-42d2-87bb-dd2b90672cfb.jpg' WHERE 1=1 AND CHNNL_NO='APT1032151110109';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447992160155d371bbfe-8a70-49b1-a887-1a93fc9d4d71.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151120219';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/144780441363813a8aa6f-5cfc-48ce-9358-7affdbf5e655.png' WHERE 1=1 AND CHNNL_NO='APT1092151117185';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1449044291990272f4c44-d232-42eb-8c4a-05328071ca37.jpg' WHERE 1=1 AND CHNNL_NO='APT0000151202006';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14480058427111fa0a83a-1429-4af2-b39d-02fc369b10ba.png' WHERE 1=1 AND CHNNL_NO='APT1017151120229';
UPDATE CMSDATA_DEV.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14480145532820e937964-2aea-479b-934c-943348d29e82.png' WHERE 1=1 AND CHNNL_NO='APT1017151120230';


---------------------------------------------------------------------------------

SELECT
    A.CHNNL_NO
    , A.TMP_FL_PTH
    , A.FL_1_PTH
    , A.FL_2_PTH
    , A.FL_3_PTH
FROM
    CMSVIEW_DEV.CM_CHNNL_BMS   A
WHERE 1=1
    --AND A.HP_FILE_URL LIKE '%/tfile/%'
;

SELECT
    'UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET TMP_FL_PTH='''
    || A.TMP_FL_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW_DEV.CM_CHNNL_BMS   A
WHERE 1=1
    AND A.TMP_FL_PTH LIKE '%/bfile/%'
;

UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET TMP_FL_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448393387052ca70df87-2506-48b8-afb9-edfce4b6cd2b.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125001';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET TMP_FL_PTH='/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/FILES/bfile/' WHERE 1=1 AND CHNNL_NO='BMS0000151124002';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET TMP_FL_PTH='/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/FILES/bfile/' WHERE 1=1 AND CHNNL_NO='BMS0000151124001';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET TMP_FL_PTH='/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/FILES/bfile/' WHERE 1=1 AND CHNNL_NO='BMS1017151022002';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET TMP_FL_PTH='/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/FILES/bfile/' WHERE 1=1 AND CHNNL_NO='BMS1017151030062';

SELECT
    'UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_1_PTH='''
    || A.FL_1_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW_DEV.CM_CHNNL_BMS   A
WHERE 1=1
    AND A.FL_1_PTH LIKE '%/bfile/%'
;

UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/14454917384692bde08c8-af87-4794-8d03-315e8d79b9e5.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151022001';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448393429413cd682034-5128-40a5-bb68-474a8fc7b7ff.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125002';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448393387052ca70df87-2506-48b8-afb9-edfce4b6cd2b.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125001';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448368073843876060f7-56ab-4e7b-9047-c5bd254d2389.png' WHERE 1=1 AND CHNNL_NO='BMS0000151124002';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448368046435cacc9e65-f4c0-4eb4-a60e-3fee337aadb6.png' WHERE 1=1 AND CHNNL_NO='BMS0000151124001';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448282474670adef92cf-34a8-4947-889b-e16d546c80f1.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151123002';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448388485503eff2d9ba-3f6b-4b65-b562-629f978b0d2b.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125003';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448282419655cb0c0070-01fc-4b82-b7d8-f3808bdc235a.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151123001';

SELECT
    'UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_2_PTH='''
    || A.FL_2_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW_DEV.CM_CHNNL_BMS   A
WHERE 1=1
    AND A.FL_2_PTH LIKE '%/bfile/%'
;

UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/14454917390894865d799-36bc-4932-9b9c-102049023766.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151022001';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/14483934297673d7cb336-1f30-41ba-84d1-ccb735f40c19.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125002';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448393387614419d6ad9-c414-4272-8ea5-e8f68da730f7.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125001';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448282475094951acc52-93b2-439d-8539-94f64ccb268f.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151123002';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448282420302ffad3ee9-b30f-437f-86ae-b96ff485795e.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151123001';


SELECT
    'UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_3_PTH='''
    || A.FL_3_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW_DEV.CM_CHNNL_BMS   A
WHERE 1=1
    AND A.FL_3_PTH LIKE '%/bfile/%'
;

UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_3_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/144549173971186535266-1daf-4a84-809e-935cc57a5b06.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151022001';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_3_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448393429910d90b6aa9-9c3d-4136-9667-85d7ce9567f7.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125002';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_3_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448393387772b2b3dd37-4c7d-4e9a-b9dc-b3217e969a73.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125001';
UPDATE CMSDATA_DEV.CM_CHNNL_BMS SET FL_3_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448282475243d7436f15-142a-4241-b896-30183035464f.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151123002';


---------------------------------------------------------------------------------


SELECT
    A.CHNNL_NO
    , A.FL_1_PTH
    , A.FL_2_PTH
    , A.FL_3_PTH
    , A.*
FROM
    CMSVIEW_DEV.CM_CHNNL_MMS   A
WHERE 1=1
    --AND A.HP_FILE_URL LIKE '%/tfile/%'
;


SELECT
    'UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='''
    || A.FL_1_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW_DEV.CM_CHNNL_MMS   A
WHERE 1=1
    AND A.FL_1_PTH LIKE '%/mfile/%'
;

UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144585632640748b8b6a6-11e3-45ae-acc4-e39bb4ac3449.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151026202';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14463943400724cbba915-6171-455e-9aa8-712396a4cbc7.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000151102001';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14453188989775def1b26-b222-4315-b262-8c1000bdc876.png' WHERE 1=1 AND CHNNL_NO='MMS1017151020155';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14460380369605751a7d7-251c-49a5-9343-d0dc661b84c6.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151028234';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1445652717117a5dbb533-9087-46de-aaa1-3789a8dd2a31.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151024189';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/undefined' WHERE 1=1 AND CHNNL_NO='MMS0000151112001';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14430918400841fa5986e-3c3b-45de-b53e-66a2f4c5b8c9.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000150924054';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1448192631771be3a1d60-0fd3-4e86-8eae-7c9651d09a75.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000151122001';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1446084750363c8d08ffd-d50b-4375-8bbf-339e0f53a30b.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151029245';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1449216305618417cf92a-ca35-46c8-bdbd-f6cda2391c5b.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151203305';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1446177270998d99c4468-9dec-4b84-8a45-33eaa58bba82.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151030261';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1442807747352b20f14f9-c6e1-4131-8958-6e70da42c1e1.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017150921023';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14428000176430d99ef52-655b-436e-a12a-6128974c2038.png' WHERE 1=1 AND CHNNL_NO='MMS1017150921020';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14465418929603be090f5-ba0e-4497-ad63-26e659f12e7c.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151030271';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14428214622347f6d1d8a-bf5e-4363-a191-ca41aaab64dd.png' WHERE 1=1 AND CHNNL_NO='MMS1017150921030';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1442910023061995a4271-ae8b-4c20-bd66-25228eb3fd9e.png' WHERE 1=1 AND CHNNL_NO='MMS1017150922039';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144542965943274839c09-8eb7-4362-bfb2-6561519ed9c6.png' WHERE 1=1 AND CHNNL_NO='MMS1017151021179';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144279931706673a70abd-c4f0-4464-879d-1852801aa91d.png' WHERE 1=1 AND CHNNL_NO='MMS1017150921019';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144282256916129a40cdd-d7d1-4def-8017-b02938b9f1e3.png' WHERE 1=1 AND CHNNL_NO='MMS1017150921031';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14463589119488bf46965-6f2d-4115-aec0-acd6293c0bb9.png' WHERE 1=1 AND CHNNL_NO='MMS1017151101275';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14483884006116fb58081-0a88-4684-9358-c35bb8fd8b20.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000151125002';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/undefined' WHERE 1=1 AND CHNNL_NO='MMS1117151104303';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14453188989775def1b26-b222-4315-b262-8c1000bdc876.png' WHERE 1=1 AND CHNNL_NO='MMS0000151018001';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14461804117316394d18b-f75a-4047-9571-a7a90c9a8ee6.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151030266';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144549938923635ce8962-eb68-412c-bf92-466d4b69cc27.png' WHERE 1=1 AND CHNNL_NO='MMS1017151022183';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144825368102280d82ed7-51ef-4b6e-afcb-493dcc0461f8.png' WHERE 1=1 AND CHNNL_NO='MMS1017151123304';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1445586313936b5c36644-42e4-450e-96a1-89541ee38277.png' WHERE 1=1 AND CHNNL_NO='MMS1017151023186';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14456515264016f911edc-1735-49b5-bf4f-1884a5a9eafe.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151024188';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/undefined' WHERE 1=1 AND CHNNL_NO='MMS0000151130001';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14460380369605751a7d7-251c-49a5-9343-d0dc661b84c6.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000151018003';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1442898663000fa7d73ed-ffc3-4ff3-bab0-2e9c9bc7b55c.png' WHERE 1=1 AND CHNNL_NO='MMS1017150922038';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/undefined' WHERE 1=1 AND CHNNL_NO='MMS0000151030001';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1443684240149560f3127-d44c-4582-a534-5652d184fd1c.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017150918003';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14428826716215ebcc785-f676-4a63-89f6-19faf6670500.png' WHERE 1=1 AND CHNNL_NO='MMS1017150922033';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1446602049869e14a1eb8-b22c-430c-b8fc-b39eb41ffe5f.png' WHERE 1=1 AND CHNNL_NO='MMS1017151104299';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144600791398610719ef8-38e7-4aab-bf1f-462238498135.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151027221';


SELECT
    'UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_2_PTH='''
    || A.FL_2_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW_DEV.CM_CHNNL_MMS   A
WHERE 1=1
    AND A.FL_2_PTH LIKE '%/mfile/%'
;

UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/undefined' WHERE 1=1 AND CHNNL_NO='MMS0000151030001';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/undefined' WHERE 1=1 AND CHNNL_NO='MMS0000151112001';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1443091840770e9964c02-5625-41d0-ad82-b51a735af0af.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000150924054';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1446602087194d860ac75-b024-45f8-9d88-a2db947e71b5.png' WHERE 1=1 AND CHNNL_NO='MMS1017151104299';
UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/undefined' WHERE 1=1 AND CHNNL_NO='MMS0000151130001';


SELECT
    'UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_3_PTH='''
    || A.FL_3_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW_DEV.CM_CHNNL_MMS   A
WHERE 1=1
    AND A.FL_3_PTH LIKE '%/mfile/%'
;

UPDATE CMSDATA_DEV.CM_CHNNL_MMS SET FL_3_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1443091841443444f066e-ed0c-4d0f-9c25-4e120b271410.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000150924054';




---------------------------------------------------------------------------------
---------------------------------------------------------------------------------
---------------------------------------------------------------------------------
[ 운영 ]
---------------------------------------------------------------------------------

SELECT
    'HP_FILE_URL='
    , A.HP_FILE_URL
    , 'CONTENTS_FILE_URL='
    , A.CONTENTS_FILE_URL
    , 'CHNNL_NO='
    , A.CHNNL_NO
FROM
    CMSVIEW.CM_CHNNL_APR   A
WHERE 1=1
    AND (
        A.HP_FILE_URL LIKE '%/rfile/%'
        OR A.CONTENTS_FILE_URL LIKE '%/rcfile/%'
    )
;


SELECT
    'UPDATE CMSDATA.CM_CHNNL_APR SET HP_FILE_URL='''
    || A.HP_FILE_URL
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW.CM_CHNNL_APR   A
WHERE 1=1
    AND A.HP_FILE_URL LIKE '%/rfile/%'
;

UPDATE CMSDATA.CM_CHNNL_APR SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rfile/1449132476143bf999cd2-d9bc-43a9-8050-1e41433a93bf.jpg' WHERE 1=1 AND CHNNL_NO='APR0000151203004';
UPDATE CMSDATA.CM_CHNNL_APR SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rfile/1448991316937d7e9829e-9d83-419a-86fa-b50f47b635c0.jpg' WHERE 1=1 AND CHNNL_NO='APR0000151214001';
UPDATE CMSDATA.CM_CHNNL_APR SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rfile/1448992174924485fd4ef-8123-4beb-bd77-d5010da733a6.jpg' WHERE 1=1 AND CHNNL_NO='APR0000151202004';
UPDATE CMSDATA.CM_CHNNL_APR SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rfile/1448857965340f1538873-b7b3-4bf2-a4ff-9dc1b6c78aeb.jpg' WHERE 1=1 AND CHNNL_NO='APR0000151130002';
UPDATE CMSDATA.CM_CHNNL_APR SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rfile/1448860482195c4c0c683-638e-4c9c-a153-463ba7b73658.jpg' WHERE 1=1 AND CHNNL_NO='APR0000151130001';
UPDATE CMSDATA.CM_CHNNL_APR SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rfile/14490444003542e2838cd-2625-4fbb-958c-4a7e408e2d16.jpg' WHERE 1=1 AND CHNNL_NO='APR0000151202005';

SELECT
    'UPDATE CMSDATA.CM_CHNNL_APR SET CONTENTS_FILE_URL='''
    || A.CONTENTS_FILE_URL
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW.CM_CHNNL_APR   A
WHERE 1=1
    AND A.CONTENTS_FILE_URL LIKE '%/rcfile/%'
;

UPDATE CMSDATA.CM_CHNNL_APR SET CONTENTS_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rcfile/144913251817074463a09-a60a-4356-a89d-b25145af5ad2.docx' WHERE 1=1 AND CHNNL_NO='APR0000151203004';
UPDATE CMSDATA.CM_CHNNL_APR SET CONTENTS_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rcfile/1448991292583d3b5de72-2aae-424b-af03-4327916d60a4.jpg' WHERE 1=1 AND CHNNL_NO='APR0000151214001';
UPDATE CMSDATA.CM_CHNNL_APR SET CONTENTS_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rcfile/1448860455160b97397d4-21b2-444c-8c5a-b0f664569214.jpg' WHERE 1=1 AND CHNNL_NO='APR0000151130001';
UPDATE CMSDATA.CM_CHNNL_APR SET CONTENTS_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rcfile/144910629355776a12b9f-8373-44e8-84d5-ace197660cfb.JPG' WHERE 1=1 AND CHNNL_NO='APR0000151203003';
UPDATE CMSDATA.CM_CHNNL_APR SET CONTENTS_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rcfile/1448991244584445c4e14-3f4e-4dea-af61-8708cb8e85bb.jpg' WHERE 1=1 AND CHNNL_NO='APR0000151202001';
UPDATE CMSDATA.CM_CHNNL_APR SET CONTENTS_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/rcfile/1449044358853ee3b1277-1f1a-4bab-af2f-72df829e7ea9.jpg' WHERE 1=1 AND CHNNL_NO='APR0000151202005';



---------------------------------------------------------------------------------


SELECT
    'UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='''
    || A.HP_FILE_URL
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'  AS DUMMY
FROM
    CMSVIEW.CM_CHNNL_APT   A
WHERE 1=1
    AND A.HP_FILE_URL LIKE '%/tfile/%'
;

---------------------------------------------------------------------------------

UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14491355269274e0adbe8-2ebc-4396-8bf5-b5b9234b4cd1.jpg' WHERE 1=1 AND CHNNL_NO='APT0000151210001';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14471400616171fe6dd86-989f-4c82-816e-e2bb2a09b669.jpg' WHERE 1=1 AND CHNNL_NO='APT1092151110097';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14479989485133ee8b60d-0172-49ef-99cd-dc4a2d3a92d1.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151120225';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14482615166650999c005-cf32-4446-9544-ea4c2a4ee695.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151123240';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14489912042916635045c-9996-4bd1-be50-09e8dff1fd4e.jpg' WHERE 1=1 AND CHNNL_NO='APT0000151202001';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/144817874242106f79463-e852-4de9-a985-d841df8db666.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151122233';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447140616033d84e50a0-230e-452b-862f-2f859548a568.jpg' WHERE 1=1 AND CHNNL_NO='APT1092151110099';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14485303789676cdd9346-1ec3-4e38-bf00-051242ba4746.jpg' WHERE 1=1 AND CHNNL_NO='APT1098151126278';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14482536081966cee8c64-8463-4b1c-b552-b510665d007a.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151123238';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14483270150281c5b9e80-5bdd-4487-bd74-c01ac6184a3b.png' WHERE 1=1 AND CHNNL_NO='APT1017151123235';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14481926986982fe93e63-d94f-4ca6-9511-042b7663d8a4.png' WHERE 1=1 AND CHNNL_NO='APT1017151122234';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1448991728524bdd330b6-d0aa-4076-b8fd-c56e4245e814.jpg' WHERE 1=1 AND CHNNL_NO='APT0000151203001';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1448848489256f23cabb3-2540-4cfc-a1aa-eed3926cba1c.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151129288';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447158248263c77dfeb8-e280-420c-9ccc-b9959dbf2003.png' WHERE 1=1 AND CHNNL_NO='APT1017151110110';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14488556499740c27e13c-b484-4865-b4ce-b736f3af66e5.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151130290';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447255915424e22937e8-49b0-486b-8a49-de6b19c436f3.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151111115';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14484371106749f506f79-6b65-45de-a8b8-c8371f6f17ec.png' WHERE 1=1 AND CHNNL_NO='APT1017151125262';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14471327955950b99c764-4bfc-40f5-b0da-eee68b5b1afe.jpg' WHERE 1=1 AND CHNNL_NO='APT1098151110082';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/144757906091178006e39-3b4e-4d29-9dfc-29afb7434cee.jpg' WHERE 1=1 AND CHNNL_NO='APT1098151115168';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447717595224f5a4302b-2a99-41c0-8fdf-12aaba41b565.png' WHERE 1=1 AND CHNNL_NO='APT1098151113161';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447231480839768672cc-4e96-49f3-8332-0fe7452d2f32.png' WHERE 1=1 AND CHNNL_NO='APT1092151111113';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/144827899210214fa4575-1870-443c-b59c-069d226c2f42.png' WHERE 1=1 AND CHNNL_NO='APT1117151120228';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1448264424923ceced30c-489f-46b0-ae8c-e62d793f2b2d.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151123242';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447145126013ee042af4-dd5d-42d2-87bb-dd2b90672cfb.jpg' WHERE 1=1 AND CHNNL_NO='APT1032151110109';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1447992160155d371bbfe-8a70-49b1-a887-1a93fc9d4d71.jpg' WHERE 1=1 AND CHNNL_NO='APT1017151120219';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/144780441363813a8aa6f-5cfc-48ce-9358-7affdbf5e655.png' WHERE 1=1 AND CHNNL_NO='APT1092151117185';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/1449044291990272f4c44-d232-42eb-8c4a-05328071ca37.jpg' WHERE 1=1 AND CHNNL_NO='APT0000151202006';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14480058427111fa0a83a-1429-4af2-b39d-02fc369b10ba.png' WHERE 1=1 AND CHNNL_NO='APT1017151120229';
UPDATE CMSDATA.CM_CHNNL_APT SET HP_FILE_URL='https://cms.emart.com:8343/SASEMARTCMS/FILES/tfile/14480145532820e937964-2aea-479b-934c-943348d29e82.png' WHERE 1=1 AND CHNNL_NO='APT1017151120230';



---------------------------------------------------------------------------------

SELECT
    A.CHNNL_NO
    , A.TMP_FL_PTH
    , A.FL_1_PTH
    , A.FL_2_PTH
    , A.FL_3_PTH
FROM
    CMSVIEW.CM_CHNNL_BMS   A
WHERE 1=1
    --AND A.HP_FILE_URL LIKE '%/tfile/%'
;

SELECT
    'UPDATE CMSDATA.CM_CHNNL_BMS SET TMP_FL_PTH='''
    || A.TMP_FL_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'SELECT
    A.CHNNL_NO
    , A.TMP_FL_PTH
    , A.FL_1_PTH
    , A.FL_2_PTH
    , A.FL_3_PTH
FROM
    CMSVIEW.CM_CHNNL_BMS   A
WHERE 1=1
    --AND A.HP_FILE_URL LIKE '%/tfile/%'
;

SELECT
    'UPDATE CMSDATA.CM_CHNNL_BMS SET TMP_FL_PTH='''
    || A.TMP_FL_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW.CM_CHNNL_BMS   A
WHERE 1=1
    AND A.TMP_FL_PTH LIKE '%/bfile/%'
;

UPDATE CMSDATA.CM_CHNNL_BMS SET TMP_FL_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448393387052ca70df87-2506-48b8-afb9-edfce4b6cd2b.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125001';
UPDATE CMSDATA.CM_CHNNL_BMS SET TMP_FL_PTH='/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/FILES/bfile/' WHERE 1=1 AND CHNNL_NO='BMS0000151124002';
UPDATE CMSDATA.CM_CHNNL_BMS SET TMP_FL_PTH='/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/FILES/bfile/' WHERE 1=1 AND CHNNL_NO='BMS0000151124001';
UPDATE CMSDATA.CM_CHNNL_BMS SET TMP_FL_PTH='/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/FILES/bfile/' WHERE 1=1 AND CHNNL_NO='BMS1017151022002';
UPDATE CMSDATA.CM_CHNNL_BMS SET TMP_FL_PTH='/sas/sasv94/config/Lev1/Web/WebAppServer/SASServer_EMART/sas_webapps/sas.emartcms.war/FILES/bfile/' WHERE 1=1 AND CHNNL_NO='BMS1017151030062';

SELECT
    'UPDATE CMSDATA.CM_CHNNL_BMS SET FL_1_PTH='''
    || A.FL_1_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW.CM_CHNNL_BMS   A
WHERE 1=1
    AND A.FL_1_PTH LIKE '%/bfile/%'
;

UPDATE CMSDATA.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/14454917384692bde08c8-af87-4794-8d03-315e8d79b9e5.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151022001';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448393429413cd682034-5128-40a5-bb68-474a8fc7b7ff.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125002';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448393387052ca70df87-2506-48b8-afb9-edfce4b6cd2b.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125001';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448368073843876060f7-56ab-4e7b-9047-c5bd254d2389.png' WHERE 1=1 AND CHNNL_NO='BMS0000151124002';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448368046435cacc9e65-f4c0-4eb4-a60e-3fee337aadb6.png' WHERE 1=1 AND CHNNL_NO='BMS0000151124001';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448282474670adef92cf-34a8-4947-889b-e16d546c80f1.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151123002';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448388485503eff2d9ba-3f6b-4b65-b562-629f978b0d2b.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125003';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448282419655cb0c0070-01fc-4b82-b7d8-f3808bdc235a.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151123001';

SELECT
    'UPDATE CMSDATA.CM_CHNNL_BMS SET FL_2_PTH='''
    || A.FL_2_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW.CM_CHNNL_BMS   A
WHERE 1=1
    AND A.FL_2_PTH LIKE '%/bfile/%'
;

UPDATE CMSDATA.CM_CHNNL_BMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/14454917390894865d799-36bc-4932-9b9c-102049023766.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151022001';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/14483934297673d7cb336-1f30-41ba-84d1-ccb735f40c19.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125002';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448393387614419d6ad9-c414-4272-8ea5-e8f68da730f7.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125001';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448282475094951acc52-93b2-439d-8539-94f64ccb268f.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151123002';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448282420302ffad3ee9-b30f-437f-86ae-b96ff485795e.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151123001';


SELECT
    'UPDATE CMSDATA.CM_CHNNL_BMS SET FL_3_PTH='''
    || A.FL_3_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW.CM_CHNNL_BMS   A
WHERE 1=1
    AND A.FL_3_PTH LIKE '%/bfile/%'
;

UPDATE CMSDATA.CM_CHNNL_BMS SET FL_3_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/144549173971186535266-1daf-4a84-809e-935cc57a5b06.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151022001';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_3_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448393429910d90b6aa9-9c3d-4136-9667-85d7ce9567f7.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125002';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_3_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448393387772b2b3dd37-4c7d-4e9a-b9dc-b3217e969a73.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151125001';
UPDATE CMSDATA.CM_CHNNL_BMS SET FL_3_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/bfile/1448282475243d7436f15-142a-4241-b896-30183035464f.jpg' WHERE 1=1 AND CHNNL_NO='BMS0000151123002';




---------------------------------------------------------------------------------



SELECT
    A.CHNNL_NO
    , A.FL_1_PTH
    , A.FL_2_PTH
    , A.FL_3_PTH
    , A.*
FROM
    CMSVIEW.CM_CHNNL_MMS   A
WHERE 1=1
    --AND A.HP_FILE_URL LIKE '%/tfile/%'
;


SELECT
    'UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='''
    || A.FL_1_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW.CM_CHNNL_MMS   A
WHERE 1=1
    AND A.FL_1_PTH LIKE '%/mfile/%'
;

UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144585632640748b8b6a6-11e3-45ae-acc4-e39bb4ac3449.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151026202';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14463943400724cbba915-6171-455e-9aa8-712396a4cbc7.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000151102001';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14453188989775def1b26-b222-4315-b262-8c1000bdc876.png' WHERE 1=1 AND CHNNL_NO='MMS1017151020155';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14460380369605751a7d7-251c-49a5-9343-d0dc661b84c6.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151028234';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1445652717117a5dbb533-9087-46de-aaa1-3789a8dd2a31.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151024189';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/undefined' WHERE 1=1 AND CHNNL_NO='MMS0000151112001';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14430918400841fa5986e-3c3b-45de-b53e-66a2f4c5b8c9.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000150924054';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1448192631771be3a1d60-0fd3-4e86-8eae-7c9651d09a75.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000151122001';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1446084750363c8d08ffd-d50b-4375-8bbf-339e0f53a30b.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151029245';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1446177270998d99c4468-9dec-4b84-8a45-33eaa58bba82.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151030261';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1442807747352b20f14f9-c6e1-4131-8958-6e70da42c1e1.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017150921023';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14428000176430d99ef52-655b-436e-a12a-6128974c2038.png' WHERE 1=1 AND CHNNL_NO='MMS1017150921020';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14465418929603be090f5-ba0e-4497-ad63-26e659f12e7c.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151030271';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14428214622347f6d1d8a-bf5e-4363-a191-ca41aaab64dd.png' WHERE 1=1 AND CHNNL_NO='MMS1017150921030';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1442910023061995a4271-ae8b-4c20-bd66-25228eb3fd9e.png' WHERE 1=1 AND CHNNL_NO='MMS1017150922039';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144542965943274839c09-8eb7-4362-bfb2-6561519ed9c6.png' WHERE 1=1 AND CHNNL_NO='MMS1017151021179';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144279931706673a70abd-c4f0-4464-879d-1852801aa91d.png' WHERE 1=1 AND CHNNL_NO='MMS1017150921019';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144282256916129a40cdd-d7d1-4def-8017-b02938b9f1e3.png' WHERE 1=1 AND CHNNL_NO='MMS1017150921031';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14463589119488bf46965-6f2d-4115-aec0-acd6293c0bb9.png' WHERE 1=1 AND CHNNL_NO='MMS1017151101275';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14483884006116fb58081-0a88-4684-9358-c35bb8fd8b20.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000151125002';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/undefined' WHERE 1=1 AND CHNNL_NO='MMS1117151104303';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14453188989775def1b26-b222-4315-b262-8c1000bdc876.png' WHERE 1=1 AND CHNNL_NO='MMS0000151018001';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14461804117316394d18b-f75a-4047-9571-a7a90c9a8ee6.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151030266';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144549938923635ce8962-eb68-412c-bf92-466d4b69cc27.png' WHERE 1=1 AND CHNNL_NO='MMS1017151022183';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144825368102280d82ed7-51ef-4b6e-afcb-493dcc0461f8.png' WHERE 1=1 AND CHNNL_NO='MMS1017151123304';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1445586313936b5c36644-42e4-450e-96a1-89541ee38277.png' WHERE 1=1 AND CHNNL_NO='MMS1017151023186';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14456515264016f911edc-1735-49b5-bf4f-1884a5a9eafe.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151024188';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144914927606572f02b78-1552-44bd-8463-dd6416c4fd55.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000151130001';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14460380369605751a7d7-251c-49a5-9343-d0dc661b84c6.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000151018003';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1442898663000fa7d73ed-ffc3-4ff3-bab0-2e9c9bc7b55c.png' WHERE 1=1 AND CHNNL_NO='MMS1017150922038';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/undefined' WHERE 1=1 AND CHNNL_NO='MMS0000151030001';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1443684240149560f3127-d44c-4582-a534-5652d184fd1c.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017150918003';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/14428826716215ebcc785-f676-4a63-89f6-19faf6670500.png' WHERE 1=1 AND CHNNL_NO='MMS1017150922033';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1446602049869e14a1eb8-b22c-430c-b8fc-b39eb41ffe5f.png' WHERE 1=1 AND CHNNL_NO='MMS1017151104299';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_1_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/144600791398610719ef8-38e7-4aab-bf1f-462238498135.jpg' WHERE 1=1 AND CHNNL_NO='MMS1017151027221';


SELECT
    'UPDATE CMSDATA.CM_CHNNL_MMS SET FL_2_PTH='''
    || A.FL_2_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW.CM_CHNNL_MMS   A
WHERE 1=1
    AND A.FL_2_PTH LIKE '%/mfile/%'
;

UPDATE CMSDATA.CM_CHNNL_MMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/undefined' WHERE 1=1 AND CHNNL_NO='MMS0000151030001';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/undefined' WHERE 1=1 AND CHNNL_NO='MMS0000151112001';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1443091840770e9964c02-5625-41d0-ad82-b51a735af0af.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000150924054';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1446602087194d860ac75-b024-45f8-9d88-a2db947e71b5.png' WHERE 1=1 AND CHNNL_NO='MMS1017151104299';
UPDATE CMSDATA.CM_CHNNL_MMS SET FL_2_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1449149292340a8097f9d-d558-4a57-9863-415b690166d3.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000151130001';



SELECT
    'UPDATE CMSDATA.CM_CHNNL_MMS SET FL_3_PTH='''
    || A.FL_3_PTH
    || ''' WHERE 1=1 AND CHNNL_NO='''
    || A.CHNNL_NO || ''';'   AS DUMMY
FROM
    CMSVIEW.CM_CHNNL_MMS   A
WHERE 1=1
    AND A.FL_3_PTH LIKE '%/mfile/%'
;

UPDATE CMSDATA.CM_CHNNL_MMS SET FL_3_PTH='https://cms.emart.com:8343/SASEMARTCMS/FILES/mfile/1443091841443444f066e-ed0c-4d0f-9c25-4e120b271410.jpg' WHERE 1=1 AND CHNNL_NO='MMS0000150924054';








---------------------------------------------------------------------------------
---------------------------------------------------------------------------------
---------------------------------------------------------------------------------




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SHOW TABLE CM_CMPGN_MST;

SHOW TABLE CM_CMPGN_MSG_KANG;


-- CREATE TABLE
CREATE SET TABLE CMSDATA_DEV.CM_CMPGN_MSG_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      CMPGN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인명',
      CMPGN_ANNTN VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인설명',
      CHNNL_ANNTN VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널설명',
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      CMPGN_MTHD_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인방법코드',
      TRGT_MTHD_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟팅방법코드',
      CMPGN_CTGRY_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인분류코드',
      CMPGN_CTGRY_SB_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인세분류코드',
      CHNNL_DVD_PLCY_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널배분정책사용여부',
      STR_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      CMPGN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '캠페인시작일자',
      CMPGN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '캠페인종료일자',
      CMPGN_STRT_TM VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인시작시간',
      CMPGN_END_TM VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인종료시간',
      CMPGN_RJCT_RSN VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인반려사유',
      CMPGN_OFFR_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼코드',
      CMPGN_OFFR_EXP DECIMAL(18,2) TITLE '캠페인오퍼비용',
      CMPGN_OFFR_EXP_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼비용구분코드',
      CMPGN_OFFR_PAY_DT DATE FORMAT 'YYYY-MM-DD' TITLE '캠페인오퍼지급일자',
      CMPGN_OFFR_EVNT_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼행사내용',
      CMPGN_PRDGFT_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인사은품명',
      BIZTP_CODE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '업태코드',
      EVNT_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사번호',
      EVNT_DESC VARCHAR(2000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사내용',
      CMPGN_PLCY_NO DECIMAL(18,0) TITLE '캠페인정책번호',
      THM_TRGT_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테마별타겟분류코드',
      THM_TRGT_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테마별타겟코드',
      SCCSS_CNDTN_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '성공조건코드',
      CMPGN_EXCT_RNK INTEGER TITLE '캠페인실행순위',
      CMPGN_RQST_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인요청자아이디',
      FNL_APPRVL_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '최종승인자아이디',
      FNL_APPRVL_DTTM TIMESTAMP(6) TITLE '최종승인일시',
      FNL_APPRVL_STS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '최종승인상태',
      CMPGN_TRGT_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인대상요청상태',
      CMPGN_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인제작요청상태',
      RSPS_RTO_US_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '반응율사용구분코드',
      EFF_ANAL_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '효과분석시작일자',
      EFF_ANAL_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '효과분석종료일자',
      TOPN DECIMAL(8,0) TITLE 'TOPN',
      CUST_CNT DECIMAL(8,0) TITLE '고객수' DEFAULT 0. ,
      CUST_CNT_T DECIMAL(8,0) TITLE '고객수(TEST)' DEFAULT 0. ,
      RE_TRGT_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '리타겟팅여부',
      DUP_DEL_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '중복제거여부',
      GFT_SYS_REG_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사은품시스템등록여부',
      CMPGN_STEP VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인단계',
      SND_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송구분코드',
      CPN_PUB_TYP_CD VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '쿠폰발행구분코드',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO );


-- RESTORE DATA
INSERT INTO
    CMSDATA_DEV.CM_CMPGN_MSG_KANG
SELECT
    CMPGN_NO
    , RFR_CMPGN_NO
    , CMPGN_NM
    , CMPGN_ANNTN
    , CHNNL_ANNTN
    , CMPGN_STTS
    , CMPGN_MTHD_CD
    , TRGT_MTHD_CD
    , CMPGN_CTGRY_CD
    , CMPGN_CTGRY_SB_CD
    , CHNNL_DVD_PLCY_YN
    , STR_ID
    , CMPGN_STRT_DT
    , CMPGN_END_DT
    , CMPGN_STRT_TM
    , CMPGN_END_TM
    , CMPGN_RJCT_RSN
    , CMPGN_OFFR_CD
    , CMPGN_OFFR_EXP
    , CMPGN_OFFR_EXP_TYP_CD
    , CMPGN_OFFR_PAY_DT
    , CMPGN_OFFR_EVNT_DESC
    , CMPGN_PRDGFT_NM
    , BIZTP_CODE
    , EVNT_NO
    , EVNT_DESC
    , CMPGN_PLCY_NO
    , THM_TRGT_TYP_CD
    , THM_TRGT_CD
    , SCCSS_CNDTN_CD
    , CMPGN_EXCT_RNK
    , CMPGN_RQST_ID
    , FNL_APPRVL_ID
    , FNL_APPRVL_DTTM
    , FNL_APPRVL_STS
    , CMPGN_TRGT_RQST_STTS
    , CMPGN_MK_RQST_STTS
    , RSPS_RTO_US_TYP_CD
    , EFF_ANAL_STRT_DT
    , EFF_ANAL_END_DT
    , TOPN
    , CUST_CNT
    , CUST_CNT_T
    , RE_TRGT_YN
    , DUP_DEL_YN
    , GFT_SYS_REG_YN
    , CMPGN_STEP
    , SND_TYP_CD
    , NULL  -- CPN_PUB_TYP_CD
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
    , SYS_FRST_OPRTN_ID
    , SYS_LST_UPDT_ID
FROM
    CMSDATA_DEV.CM_CMPGN_MST
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA_DEV.CM_CMPGN_MST;

-- RENAME
RENAME TABLE CMSDATA_DEV.CM_CMPGN_MSG_KANG TO CMSDATA_DEV.CM_CMPGN_MST;

-- MAKE VIEW
REPLACE VIEW CMSVIEW_DEV.CM_CMPGN_MST  AS LOCKING TABLE CMSDATA_DEV.CM_CMPGN_MST FOR ACCESS (SELECT * FROM CMSDATA_DEV.CM_CMPGN_MST);


SELECT * FROM CMSVIEW_DEV.CM_CMPGN_MST;






----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

Git 브랜치 배우기 : http://git-scm.com/book/ko/v2

Git 간편 안내서   : http://rogerdudler.github.io/git-guide/index.ko.html

Git BOOK          : http://git-scm.com/book/ko/v2

Git 작업 흐름     : http://dalinaum-kr.tumblr.com/post/15516936704/git-work-flow

Git Tutorial      : http://www.dreamy.pe.kr/zbxe/CodeClip/95408

Eclipse + Git     : http://git-scm.com/ : [Try Git]   http://git-scm.com/doc      http://git-scm.com/docs

                    http://zzznara2.tistory.com/396    http://miffy7777.blog.me/220306795158

                    http://forum.falinux.com/zbxe/index.php?document_srl=625195&mid=lecture_tip
                    http://forum.falinux.com/zbxe/index.php?document_srl=627996&mid=lecture_tip

                    http://www.vogella.com/tutorials/EclipseGit/article.html


Groovy 시작입문   : http://www.slideshare.net/meadunhansa/groovy-42475432

                    http://www.slideshare.net/SukjinYun1/start-groovy

----------------------------------------------------------------------------------------------------

    Site           : https://github.com/

    Account        : grtlinux / [PWD]

    Git Repository : https://github.com/grtlinux/First.git

----------------------------------------------------------------------------------------------------

Git에 관련된 기본적인 개념 설명은 다음 사이트들에 잘 정리되어 있으니 참고하도록 합니다.
- http://rogerdudler.github.io/git-guide/index.ko.html
- http://maskkwon.tistory.com/129

여기에서 다루는 Git 사용법은 원격으로 Git을 관리하는 서버가 존재하고 이 원격 서버로부터 파일을 주고받는 구조입니다. 원격 저장소를 생성하고 관리하는 것을 먼저 다루고 이 원격 저장소로부터 파일을 push, pull을 하는 로컬 저장소를 다루도록 하겠습니다.


0. 사용자 등록
﻿사용자 등록이라고 해서 회원가입과 같은 거창한 것은 아니고, push를 할 때 어떤 사람이 push를 했는지 확인하기 용이하게 하기 위해 user의 정보를 등록하는 것 뿐입니다. 로컬에서 다음과 같은 명령어를 통해 유저 정보를 등록해줍니다.
 $git config --global user.name "유저의 이름"
 $git config --global user.email "유저의@이메.일"



1. Git 원격 저장소 만들기

 서버에 접속을 해서 원격 저장소로 사용할 폴더를 만들어주고 해당 폴더로 이동합니다.
 예)
 $mkdir GitServer.git
 $cd GitServer.git
 폴더명 뒤에는 관습적으로 .git을 붙여줍니다. 이렇게 이동한 폴더에서 bare 옵션을 이용하여 bare repository로 초기화해줍니다.
 $git init --bare
 이 bare repository는 서버 역할을 하는 repository로서 해당 폴더에서는 git 명령어를 사용할 수 없습니다. 이렇게 생성한 repo에는 자동적으로 원격 저장소가 필요로 하는 파일과 폴더들이 생성됩니다.
 이렇게 하면 원격 저장소를 만드는 것이 끝납니다. 이제 이 원격 저장소와 파일을 주고받는 로컬 저장소를 만들어 보겠습니다.



2. Git 로컬 저장소 만들기

 저장소로 만들 폴더로 이동을 하고 아래와 같은 명령어를 입력합니다. 저장소로 만들 폴더 안에 프로젝트 파일이 있어도 상관 없습니다.
 $git init
 이 과정을 거치면 해당 폴더에 .git이라고 하는 숨김파일이 생성이 됩니다. 이제 해당 폴더 안에 있는 모든 파일들을 commit 가능하도록 스테이지 영역에 파일들을 추가해줍니다.
 $git add *
 이 명령어를 통해 해당 폴더 안에 있는 모든 파일들을 추가할 수 있습니다.  이렇게 스테이지 영역에 추가 된 파일들은 commit 명령어를 통해 로컬 저장소로 commit이 가능한 것입니다. 즉 프로젝트를 진행하다가 파일이 추가가 될 경우 위 명령어를 활용해서 해당 파일을 스테이지에 계속 추가를 해줘야 하는 것입니다. 이렇게 추가된 파일들은 다음과 같은 명령어로 커밋이 가능합니다.
 $git commit -m "init project"
 init project라는 메세지와 함께 로컬 저장소에 파일들을 commit 합니다. 메세지를 이용하면 해당 commit 내용이 무엇인지 추후에 확인하기 용이합니다.
 이제 로컬 저장소에 있는 파일들을 원격 저장소로 전송하는 환경을 설정하도록 하겠습니다. 로컬 저장소 폴더에서 아래와 같은 명령어를 실행합니다.
 $git remote add origin username@hostname:GitServer.git
  어느 주소로 push를 할 것인지 설정을 해 줍니다. 예를 들어, 서버 계정이 gitmanager이고 IP주소가 123.123.123.123이며 원격 저장소의 경로가 ~/repo/GitServer.git이고 80번 포트를 이용해서 접근을 해야하는 경우 다음과 같이 입력을 해 줍니다.
 예)
 $git remote add origin ssh://gitmanager@123.123.123.123:80/~/repo/GitServer.git
 프로토콜을 어떤 것을 사용하는지는 자유지만 일반적으로 Git에서는 SSH를 사용하길 권장합니다. 다른 프로토콜에 비해 push와 pull이 자유롭기 때문입니다. (그래서 일반적으로 22번 포트를 사용하지만 학교나 회사의 경우 80번 포트를 제외하고는 전부 막아 놓는 경우가 많았습니다. 그래서 외부 포트 80번과 내부 포트 22번 포트를 포워딩해서 사용하기도 합니다.)
 만일  remote를 설정하는데 값을 잘못 입력했을 경우 아래의 명령어를 통해 수정 가능합니다.
 $git remote set-url origin username@hostname:GitServer.git
 이렇게 어느 원격 저장소로 push를 할 것인지 설정도 끝났다면 원격 저장소로 파일을 보낼 준비가 끝난 것입니다. 다음과 같은 명령어를 통해 파일을 push할 수 있습니다.
 $git push origin master
 master라고 하는 이름의 branch로 파일을 push합니다. 마지막으로 파일을 pull, push를 할 branch를 설정해주면 모든 작업이 끝나게 됩니다.
 $git branch --set-upstream master origin/master
 이제 자유롭게 push, pull을 할 수 있습니다.



 3. 원격 저장소로부터 프로젝트 파일을 그대로 가져오기

 프로젝트 초기에 PL이 위와 같이 Git을 설정해주고 팀원들이 해당 프로젝트 파일을 그대로 원격에서 받아오면 위와 같은 설정을 새로 할 필요가 없습니다. 원격 저장소에 업로드 된 프로젝트 파일들을 그대로 로컬로 복사해 오는 것을 clone이라고 합니다.
 $git clone username@hostname:GitServer.git
 이렇게 명령어 한 줄로 프로젝트 파일을 원격 저장소로부터 복사해 올 수 있습니다. 프로젝트를 복사해오면 해당 프로젝트 폴더명 그대로 새로운 폴더가 하나 생성이 되고 그 안에 프로젝트 파일이 들어있게 됩니다. (위의 예로는 GitServer라는 폴더가 생성됩니다.) git remote -v 명령어를 입력해보면 원격 저장소로 remote 경로가 설정이 되어있는 것을 확인할 수 있습니다.

 이렇게 기본적으로 git을 사용하는 방법에 대해서 알아봤습니다. 다음에는 Xcode와 연동하여 Git을 사용하는 법을 알아보겠습니다.


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 250만건수 쿼리 ]


               SELECT A.BIZTP_CODE AS BIZTP_CODE
                         , A.BU_CD AS BU_CD
                         , A.BU_NM AS BU_NM
                         , B.TEAM_CD AS TEAM_CD
                         , B.TEAM_NM AS TEAM_NM
                         , C.GCODE_CD AS GCODE_CD
                         , C.GCODE_NM AS GCODE_NM
                         , D.MCODE_CD AS MCODE_CD
                         , D.MCODE_NM AS MCODE_NM
                         , E.DCODE_CD AS DCODE_CD
                         , E.DCODE_NM AS DCODE_NM
                         , F.SKUCD AS SKUCD
                         , F.GD_NM AS GD_NM
                         , A.BU_CD || B.TEAM_CD || C.GCODE_CD || D.MCODE_CD || E.DCODE_CD || F.SKUCD AS CHKTYPE
                        FROM TCVM.EXCBU A
                                , TCVM.EXCTEAM B
                                , TCVM.EXCGCODE C
                                , TCVM.EXCMCODE D
                                , TCVM.EXCDCODE E
                                , TCVM.PXCGDORG F
                 WHERE A.BIZTP_CODE = B.BIZTP_CODE
                                AND A.BU_CD = B.BU_CD
                                AND B.BIZTP_CODE = C.BIZTP_CODE
                                AND B.TEAM_CD = C.TEAM_CD
                                AND C.BIZTP_CODE = D.BIZTP_CODE
                                AND C.GCODE_CD = D.GCODE_CD
                                AND D.BIZTP_CODE = E.BIZTP_CODE
                                AND D.MCODE_CD = E.MCODE_CD
                                AND E.BIZTP_CODE = F.BIZTP_CODE
                                AND E.DCODE_CD = F.DCODE_CD
                                AND A.BIZTP_CODE = '10'
          ORDER BY A.BIZTP_CODE, A.BU_CD, B.TEAM_CD, C.GCODE_CD, D.MCODE_CD, E.DCODE_CD, F.SKUCD






----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

#PAGE.00010.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00011.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00012.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.00013.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.00014.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.00015.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00016.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.00017.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.00018.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00019.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00020.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00021.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=page
#PAGE.00022.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00023.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.00024.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrList
#PAGE.00025.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00026.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=adminPlanList
#PAGE.00027.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listStroeHoliday
#PAGE.00028.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.00029.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.00030.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.00031.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00032.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.00033.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.00034.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00035.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00036.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00037.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=page&cmpgn_no=C20151204101711963
#PAGE.00038.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=selectSimulation&cmpgn_no=C20151204101711963
#PAGE.00039.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00040.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.00041.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.00042.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.00043.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00044.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.00045.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.00046.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00047.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00048.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00049.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=page&cmpgn_no=C20151202101711960
#PAGE.00050.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=page&cmpgn_no=C20151202101711960
#PAGE.00051.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmWrdRplcList
#PAGE.00052.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00053.001 = 5:/SASEMARTCMS/common/Common.do?method=selectStoreTelList
#PAGE.00054.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlSms
#PAGE.00055.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlLms
#PAGE.00056.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlMms
#PAGE.00057.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlBms
#PAGE.00058.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlEml
#PAGE.00059.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlApt
#PAGE.00060.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlApr
#PAGE.00061.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=selectSimulation
#PAGE.00062.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00063.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=prevPage
#PAGE.00064.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=page&cmpgn_no=C20151202101711960
#PAGE.00065.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00066.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00067.001 = 5:/SASEMARTCMS/branch/BB02010S.do?method=page
#PAGE.00068.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00069.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00070.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00071.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00072.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00073.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00074.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00075.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00076.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00077.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00078.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00079.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00080.001 = 5:/SASEMARTCMS/branch/BB02322S.do?method=page
#PAGE.00081.001 = 5:/SASEMARTCMS/branch/BB02322S.do?method=listArea
#PAGE.00082.001 = 5:/SASEMARTCMS/common/brokenSession.do?null
#PAGE.00083.001 = 5:/SASEMARTCMS/common/brokenSession.do?null
#PAGE.00084.001 = 5:/SASEMARTCMS/common/brokenSession.do?null
#PAGE.00085.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.00086.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00087.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00088.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.00089.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.00090.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.00091.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00092.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.00093.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.00094.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00095.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00096.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00097.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=page
#PAGE.00098.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=listWeekCnt
#PAGE.00099.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00100.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=page
#PAGE.00101.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=listIncrssRtoCnt
#PAGE.00102.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00103.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.00104.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.00105.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00106.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=page
#PAGE.00107.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.00108.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=listIncrssRtoCnt
#PAGE.00109.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00110.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.00111.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.00112.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00113.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.00114.001 = 5:/SASEMARTCMS/branch/II15005W.do?method=page
#PAGE.00115.001 = 5:/SASEMARTCMS/branch/II15005W.do?method=listMonthCnt
#PAGE.00116.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00117.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=page
#PAGE.00118.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=listWeekCnt
#PAGE.00119.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00120.001 = 5:/SASEMARTCMS/common/brokenSession.do?null
#PAGE.00121.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.00122.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00123.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00124.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00125.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00126.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00127.001 = 5:/SASEMARTCMS/common/brokenSession.do?null
#PAGE.00128.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.00129.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00130.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00131.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.00132.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.00133.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.00134.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00135.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.00136.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.00137.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00138.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00139.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00140.001 = 5:/SASEMARTCMS/branch/CC17032W.do?method=page
#PAGE.00141.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00142.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=page
#PAGE.00143.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=listWeekCnt
#PAGE.00144.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00145.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.00146.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.00147.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00148.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.00149.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00150.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00151.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00152.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00153.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.00154.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00155.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00156.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00157.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.00158.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.00159.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.00160.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00161.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.00162.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.00163.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00164.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00165.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00166.001 = 5:/SASEMARTCMS/branch/DD08034W.do?method=page
#PAGE.00167.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00168.001 = 5:/SASEMARTCMS/branch/DD08034W.do?method=selectMonthExp
#PAGE.00169.001 = 5:/SASEMARTCMS/branch/DD08035W.do?method=selectYearExp
#PAGE.00170.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00171.001 = 5:/SASEMARTCMS/branch/DD08034W.do?method=selectMonthExp
#PAGE.00172.001 = 5:/SASEMARTCMS/branch/DD08034W.do?method=selectMonthExp
#PAGE.00173.001 = 5:/SASEMARTCMS/branch/DD08034W.do?method=selectMonthExp
#PAGE.00174.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00175.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00176.001 = 5:/SASEMARTCMS/branch/DD08034W.do?method=page
#PAGE.00177.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00178.001 = 5:/SASEMARTCMS/branch/DD08034W.do?method=selectMonthExp
#PAGE.00179.001 = 5:/SASEMARTCMS/branch/DD08035W.do?method=selectYearExp
#PAGE.00180.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00181.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00182.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00183.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00184.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00185.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00186.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00187.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00188.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00189.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00190.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00191.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00192.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00193.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00194.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00195.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00196.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00197.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00198.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00199.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00200.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00201.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00202.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00203.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00204.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00205.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00206.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00207.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00208.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00209.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00210.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00211.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00212.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00213.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00214.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00215.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00216.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00217.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00218.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00219.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00220.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00221.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00222.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00223.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00224.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00225.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00226.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00227.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00228.001 = 5:/SASEMARTCMS/common/brokenSession.do?null
#PAGE.00229.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.00230.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00231.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00232.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00233.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00234.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00235.001 = 5:/SASEMARTCMS/common/FF14306W.do?method=page
#PAGE.00236.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00237.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00238.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00239.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00240.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00241.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00242.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00243.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00244.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00245.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00246.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=page
#PAGE.00247.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00248.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.00249.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00250.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00251.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00252.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00253.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00254.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00255.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00256.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00257.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00258.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00259.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.00260.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00261.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.00262.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00263.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00264.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00265.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00266.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00267.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00268.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00269.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00270.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00271.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00272.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=sync
#PAGE.00273.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00274.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=detailPage
#PAGE.00275.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrList
#PAGE.00276.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00277.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listCmpgnChnnl
#PAGE.00278.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrBySccsList
#PAGE.00279.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00280.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=adminPlanList
#PAGE.00281.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listStroeHoliday
#PAGE.00282.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00283.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrBySccsList
#PAGE.00284.001 = 5:/SASEMARTCMS/branch/BB02008S.do?method=page
#PAGE.00285.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00286.001 = 5:/SASEMARTCMS/common/Common.do?method=selectEventList
#PAGE.00287.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00288.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=getCmpgnStep
#PAGE.00289.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00290.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=saveCmpgnPlanStep1
#PAGE.00291.001 = 5:/SASEMARTCMS/admin/KK01004W.do?method=page
#PAGE.00292.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=getCustSimul
#PAGE.00293.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00294.001 = 5:/SASEMARTCMS/admin/KK01004W.do?method=selectSimulation
#PAGE.00295.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00296.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00297.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=getCmpgnStep
#PAGE.00298.001 = 5:/SASEMARTCMS/admin/KK01005W.do?method=page
#PAGE.00299.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmWrdRplcList
#PAGE.00300.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00301.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmChnnlTstGrpList
#PAGE.00302.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00303.001 = 5:/SASEMARTCMS/common/Common.do?method=selectStoreTelList
#PAGE.00304.001 = 5:/SASEMARTCMS/admin/KK01005W.do?method=selectChnnlApt
#PAGE.00305.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00306.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00307.001 = 5:/SASEMARTCMS/admin/KK01005W.do?method=saveChnnlApt
#PAGE.00308.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=getCmpgnStep
#PAGE.00309.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=updateCmpgnMstStep
#PAGE.00310.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=page
#PAGE.00311.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00312.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=searchCustId
#PAGE.00313.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00314.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlSmsList
#PAGE.00315.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlLmsList
#PAGE.00316.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlMmsList
#PAGE.00317.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlBmsList
#PAGE.00318.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlEmlList
#PAGE.00319.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlAptList
#PAGE.00320.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlAprList
#PAGE.00321.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectPmList
#PAGE.00322.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=page
#PAGE.00323.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00324.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=selectStrList
#PAGE.00325.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=selectTstChrgpersList
#PAGE.00326.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=page
#PAGE.00327.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00328.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=selectStrList
#PAGE.00329.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=selectTstChrgpersList
#PAGE.00330.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=page
#PAGE.00331.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00332.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=selectStrList
#PAGE.00333.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=selectTstChrgpersList
#PAGE.00334.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=selectTstChrgpersList
#PAGE.00335.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00336.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00337.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00338.001 = 5:/SASEMARTCMS/common/HH14310I.do?method=aprvlRqst0
#PAGE.00339.001 = 5:/SASEMARTCMS/branch/BB02023W.do?method=aprvlRqstHeadOffice
#PAGE.00340.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=page
#PAGE.00341.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00342.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.00343.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00344.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00345.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00346.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00347.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.00348.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.00349.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.00350.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=detailPage
#PAGE.00351.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=page&cmpgn_mthd_cd=OCCS&cmpgn_no=H20151205000002001
#PAGE.00352.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=searchCustId
#PAGE.00353.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00354.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlSmsList
#PAGE.00355.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlLmsList
#PAGE.00356.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlMmsList
#PAGE.00357.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlBmsList
#PAGE.00358.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlEmlList
#PAGE.00359.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlAptList
#PAGE.00360.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlAprList
#PAGE.00361.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectPmList
#PAGE.00362.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.00363.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00364.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00365.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.00366.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.00367.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.00368.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00369.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.00370.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.00371.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00372.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00373.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00374.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=page&cmpgn_no=C20151130111711952
#PAGE.00375.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=selectSimulation&cmpgn_no=C20151130111711952
#PAGE.00376.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00377.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.00378.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.00379.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.00380.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00381.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.00382.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.00383.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00384.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00385.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00386.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=page&cmpgn_no=C20151130111711949
#PAGE.00387.001 = 5:/SASEMARTCMS/branch/BB02010S.do?method=page&cmpgn_no=C20151130111711949
#PAGE.00388.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00389.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00390.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00391.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00392.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00393.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00394.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00395.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00396.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00397.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00398.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00399.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00400.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=page
#PAGE.00401.001 = 5:/SASEMARTCMS/branch/BB02322S.do?method=page
#PAGE.00402.001 = 5:/SASEMARTCMS/branch/BB02322S.do?method=listArea
#PAGE.00403.001 = 5:/SASEMARTCMS/branch/BB02322S.do?method=listArea
#PAGE.00404.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.00405.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00406.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00407.001 = 5:/SASEMARTCMS/branch/BB02322S.do?method=listArea
#PAGE.00408.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.00409.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.00410.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.00411.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00412.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.00413.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.00414.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00415.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00416.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00417.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=page
#PAGE.00418.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCustCnt
#PAGE.00419.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.00420.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00421.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00422.001 = 5:/SASEMARTCMS/common/FF14306W.do?method=page
#PAGE.00423.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00424.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00425.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00426.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00427.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00428.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00429.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00430.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00431.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00432.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00433.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00434.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00435.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00436.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00437.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00438.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00439.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00440.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00441.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00442.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=page
#PAGE.00443.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00444.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.00445.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00446.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00447.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00448.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00449.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCustCnt
#PAGE.00450.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=page
#PAGE.00451.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00452.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.00453.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrList
#PAGE.00454.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00455.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00456.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=page
#PAGE.00457.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=adminPlanList
#PAGE.00458.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listStroeHoliday
#PAGE.00459.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.00460.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00461.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00462.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00463.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00464.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00465.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00466.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00467.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00468.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00469.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00470.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00471.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00472.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00473.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00474.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00475.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00476.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00477.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00478.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00479.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00480.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=page
#PAGE.00481.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00482.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.00483.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.00484.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listCmpgnPlcy
#PAGE.00485.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=updateChnnlPlcy
#PAGE.00486.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.00487.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.00488.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listCmpgnPlcy
#PAGE.00489.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=page
#PAGE.00490.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=adminPlanList
#PAGE.00491.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listStroeHoliday
#PAGE.00492.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=adminPlanList
#PAGE.00493.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listStroeHoliday
#PAGE.00494.001 = 5:/SASEMARTCMS/branch/BB02322S.do?method=page
#PAGE.00495.001 = 5:/SASEMARTCMS/branch/BB02322S.do?method=listArea
#PAGE.00496.001 = 5:/SASEMARTCMS/branch/BB02322S.do?method=listArea
#PAGE.00497.001 = 5:/SASEMARTCMS/branch/BB02322S.do?method=listArea
#PAGE.00498.001 = 5:/SASEMARTCMS/branch/BB02322S.do?method=listArea
#PAGE.00499.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCustCnt
#PAGE.00500.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCustCnt
#PAGE.00501.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00502.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrBySccsList
#PAGE.00503.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00504.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listChnnlDvsn
#PAGE.00505.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=saveCmpgnPlanStep1
#PAGE.00506.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=nextPage
#PAGE.00507.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=page&cmpgn_no=C20151205102011971
#PAGE.00508.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00509.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00510.001 = 5:/SASEMARTCMS/admin/EE19052W.do?method=page
#PAGE.00511.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00512.001 = 5:/SASEMARTCMS/admin/EE19052W.do?method=listThmTgrt
#PAGE.00513.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00514.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getCmpgnStep
#PAGE.00515.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=saveCmpgnPlanStep2
#PAGE.00516.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=page
#PAGE.00517.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=getCustSimul
#PAGE.00518.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00519.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=sync
#PAGE.00520.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.00521.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.00522.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=selectSimulation
#PAGE.00523.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00524.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=page
#PAGE.00525.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00526.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.00527.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00528.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00529.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00530.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00531.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=prevPage
#PAGE.00532.001 = 5:/SASEMARTCMS/branch/BB02010S.do?method=page&cmpgn_no=C20151130111711949
#PAGE.00533.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00534.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00535.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00536.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00537.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00538.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00539.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00540.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00541.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00542.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00543.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00544.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00545.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=detailPage
#PAGE.00546.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrList
#PAGE.00547.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00548.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listCmpgnChnnl
#PAGE.00549.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrBySccsList
#PAGE.00550.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getCmpgnStep
#PAGE.00551.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=saveCmpgnPlanStep2
#PAGE.00552.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00553.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=page
#PAGE.00554.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=getCustSimul
#PAGE.00555.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00556.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=selectSimulation
#PAGE.00557.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00558.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=adminPlanList
#PAGE.00559.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listStroeHoliday
#PAGE.00560.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=prevPage
#PAGE.00561.001 = 5:/SASEMARTCMS/branch/BB02010S.do?method=page&cmpgn_no=C20151130111711949
#PAGE.00562.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00563.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00564.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00565.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00566.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00567.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00568.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00569.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00570.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00571.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00572.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00573.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00574.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrBySccsList
#PAGE.00575.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=getCmpgnStep
#PAGE.00576.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00577.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrBySccsList
#PAGE.00578.001 = 5:/SASEMARTCMS/branch/BB02008S.do?method=page
#PAGE.00579.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00580.001 = 5:/SASEMARTCMS/common/Common.do?method=selectEventList
#PAGE.00581.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=getCmpgnStep
#PAGE.00582.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00583.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00584.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=saveCmpgnPlanStep1
#PAGE.00585.001 = 5:/SASEMARTCMS/admin/KK01004W.do?method=page
#PAGE.00586.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=getCustSimul
#PAGE.00587.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00588.001 = 5:/SASEMARTCMS/admin/KK01004W.do?method=selectSimulation
#PAGE.00589.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00590.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00591.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=getCmpgnStep
#PAGE.00592.001 = 5:/SASEMARTCMS/admin/KK01005W.do?method=page
#PAGE.00593.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmWrdRplcList
#PAGE.00594.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00595.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmChnnlTstGrpList
#PAGE.00596.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00597.001 = 5:/SASEMARTCMS/common/Common.do?method=selectStoreTelList
#PAGE.00598.001 = 5:/SASEMARTCMS/admin/KK01005W.do?method=selectChnnlBms
#PAGE.00599.001 = 5:/SASEMARTCMS/admin/KK01005W.do?method=selectChnnlBms
#PAGE.00600.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00601.001 = 5:/SASEMARTCMS/branch/BB02027S.do?method=fileUpload
#PAGE.00602.001 = 5:/SASEMARTCMS/admin/KK01005W.do?method=saveChnnlBms
#PAGE.00603.001 = 5:/SASEMARTCMS/admin/KK01005W.do?method=saveChnnlBms
#PAGE.00604.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00605.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00606.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00607.001 = 5:/SASEMARTCMS/branch/BB02027S.do?method=fileUpload
#PAGE.00608.001 = 5:/SASEMARTCMS/admin/KK01005W.do?method=saveChnnlBms
#PAGE.00609.001 = 5:/SASEMARTCMS/admin/KK01005W.do?method=saveChnnlBms
#PAGE.00610.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=getCmpgnStep
#PAGE.00611.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=updateCmpgnMstStep
#PAGE.00612.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=page
#PAGE.00613.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=searchCustId
#PAGE.00614.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00615.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlSmsList
#PAGE.00616.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlLmsList
#PAGE.00617.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlMmsList
#PAGE.00618.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlBmsList
#PAGE.00619.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlEmlList
#PAGE.00620.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlAptList
#PAGE.00621.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlAprList
#PAGE.00622.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectPmList
#PAGE.00623.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=page
#PAGE.00624.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00625.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=selectStrList
#PAGE.00626.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=selectTstChrgpersList
#PAGE.00627.001 = 5:/SASEMARTCMS/admin/KK01008W.do?method=selectTstChrgpersList
#PAGE.00628.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00629.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00630.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00631.001 = 5:/SASEMARTCMS/common/HH14310I.do?method=aprvlRqst0
#PAGE.00632.001 = 5:/SASEMARTCMS/branch/BB02023W.do?method=aprvlRqstHeadOffice
#PAGE.00633.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=page
#PAGE.00634.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00635.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.00636.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00637.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00638.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00639.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00640.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=page
#PAGE.00641.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00642.001 = 5:/SASEMARTCMS/common/CmsDraftDoc.do?method=page&cmpgn_no=H20151205000001001
#PAGE.00643.001 = 5:/SASEMARTCMS/common/CmsDraftDoc.do?method=getCmsDraftDocInfo
#PAGE.00644.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.00645.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00646.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00647.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00648.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00649.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00650.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00651.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00652.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00653.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00654.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00655.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00656.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00657.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00658.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00659.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00660.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00661.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00662.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00663.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00664.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00665.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00666.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=page
#PAGE.00667.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00668.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=listTrgtCndtn
#PAGE.00669.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.00670.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=pagePopup
#PAGE.00671.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00672.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=listTrgtCndtn
#PAGE.00673.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnInstnc
#PAGE.00674.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnStrTgrt
#PAGE.00675.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnStrExcept
#PAGE.00676.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00677.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00678.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00679.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00680.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00681.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00682.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00683.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00684.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00685.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00686.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00687.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00688.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00689.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00690.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00691.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00692.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00693.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00694.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00695.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00696.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00697.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=page
#PAGE.00698.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00699.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00700.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00701.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.00702.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=page
#PAGE.00703.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=listPrdct
#PAGE.00704.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.00705.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00706.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.00707.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getCmpgnStep
#PAGE.00708.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.00709.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.00710.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=page
#PAGE.00711.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.00712.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=page
#PAGE.00713.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=listPrdct
#PAGE.00714.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00715.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=detailPage
#PAGE.00716.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=page&cmpgn_mthd_cd=OCCS&cmpgn_no=H20151205000001001
#PAGE.00717.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=searchCustId
#PAGE.00718.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00719.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlSmsList
#PAGE.00720.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlLmsList
#PAGE.00721.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlMmsList
#PAGE.00722.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlBmsList
#PAGE.00723.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlEmlList
#PAGE.00724.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlAptList
#PAGE.00725.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlAprList
#PAGE.00726.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectPmList
#PAGE.00727.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.00728.001 = 5:/SASEMARTCMS/common/HH14065I.do?method=batchStepCd
#PAGE.00729.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=page
#PAGE.00730.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=listPrdct
#PAGE.00731.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.00732.001 = 5:/SASEMARTCMS/common/FF14306W.do?method=getCmpgnExct
#PAGE.00733.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCustCnt
#PAGE.00734.001 = 5:/SASEMARTCMS/common/FF14306W.do?method=getCmpgnExct
#PAGE.00735.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00736.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00737.001 = 5:/SASEMARTCMS/common/FF14306W.do?method=page
#PAGE.00738.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00739.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00740.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00741.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00742.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00743.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00744.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00745.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00746.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00747.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00748.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00749.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00750.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00751.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00752.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00753.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00754.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00755.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00756.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00757.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=page
#PAGE.00758.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00759.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.00760.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00761.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00762.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00763.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00764.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=detailPage
#PAGE.00765.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=page&cmpgn_mthd_cd=OCCS&cmpgn_no=H20151205000002001
#PAGE.00766.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=searchCustId
#PAGE.00767.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00768.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlSmsList
#PAGE.00769.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlLmsList
#PAGE.00770.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlMmsList
#PAGE.00771.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlBmsList
#PAGE.00772.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlEmlList
#PAGE.00773.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCustCnt
#PAGE.00774.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlAptList
#PAGE.00775.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlAprList
#PAGE.00776.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectPmList
#PAGE.00777.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=prevPage
#PAGE.00778.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00779.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.00780.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrList
#PAGE.00781.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getCmpgnStep1
#PAGE.00782.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00783.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00784.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrBySccsList
#PAGE.00785.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=adminPlanList
#PAGE.00786.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listStroeHoliday
#PAGE.00787.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getCmpgnStep
#PAGE.00788.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00789.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00790.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00791.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listChnnlDvsn
#PAGE.00792.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=saveCmpgnPlanStep1
#PAGE.00793.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=nextPage
#PAGE.00794.001 = 5:/SASEMARTCMS/branch/BB02010S.do?method=page&cmpgn_no=C20151130111711949
#PAGE.00795.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00796.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00797.001 = 5:/SASEMARTCMS/admin/EE21308S.do?method=page
#PAGE.00798.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnMstInfo
#PAGE.00799.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=page
#PAGE.00800.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00801.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00802.001 = 5:/SASEMARTCMS/branch/BB02010S.do?method=page
#PAGE.00803.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00804.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00805.001 = 5:/SASEMARTCMS/branch/BB02011S.do?method=page
#PAGE.00806.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00807.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00808.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=page
#PAGE.00809.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00810.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00811.001 = 5:/SASEMARTCMS/branch/BB02010S.do?method=page
#PAGE.00812.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00813.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00814.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00815.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00816.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00817.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00818.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00819.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00820.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00821.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00822.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00823.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00824.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00825.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.00826.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrList
#PAGE.00827.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getCmpgnStep1
#PAGE.00828.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnMstInfo
#PAGE.00829.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00830.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00831.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrBySccsList
#PAGE.00832.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=adminPlanList
#PAGE.00833.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listStroeHoliday
#PAGE.00834.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getCmpgnStep
#PAGE.00835.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00836.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00837.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00838.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listChnnlDvsn
#PAGE.00839.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=saveCmpgnPlanStep1
#PAGE.00840.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=nextPage
#PAGE.00841.001 = 5:/SASEMARTCMS/branch/BB02010S.do?method=page&cmpgn_no=C20151130111711949
#PAGE.00842.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00843.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00844.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00845.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00846.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00847.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00848.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00849.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00850.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00851.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.00852.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00853.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00854.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00855.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00856.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00857.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00858.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00859.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00860.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00861.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00862.001 = 5:/SASEMARTCMS/common/logoff.do?null
#PAGE.00863.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.00864.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00865.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00866.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.00867.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.00868.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.00869.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00870.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.00871.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.00872.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00873.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00874.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00875.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=page&cmpgn_no=C20151130111711949
#PAGE.00876.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.00877.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.00878.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrList
#PAGE.00879.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getCmpgnStep1
#PAGE.00880.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00881.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.00882.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrBySccsList
#PAGE.00883.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=adminPlanList
#PAGE.00884.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listStroeHoliday
#PAGE.00885.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getCmpgnStep
#PAGE.00886.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00887.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00888.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00889.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=listChnnlDvsn
#PAGE.00890.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=saveCmpgnPlanStep1
#PAGE.00891.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=nextPage
#PAGE.00892.001 = 5:/SASEMARTCMS/branch/BB02010S.do?method=page&cmpgn_no=C20151130111711949
#PAGE.00893.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00894.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00895.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00896.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00897.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00898.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00899.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00900.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00901.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00902.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00903.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00904.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00905.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=page
#PAGE.00906.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCustCnt
#PAGE.00907.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=page
#PAGE.00908.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=listPrdct
#PAGE.00909.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=listPrdct
#PAGE.00910.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=listPrdct
#PAGE.00911.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=listPrdct
#PAGE.00912.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=listPrdct
#PAGE.00913.001 = 5:/SASEMARTCMS/branch/BB02007S.do?method=listPrdct
#PAGE.00914.001 = 5:/SASEMARTCMS/admin/EE19052W.do?method=pagePopup
#PAGE.00915.001 = 5:/SASEMARTCMS/admin/EE19052W.do?method=getThmTgrt
#PAGE.00916.001 = 5:/SASEMARTCMS/admin/EE19052W.do?method=getThmStrTgrt
#PAGE.00917.001 = 5:/SASEMARTCMS/admin/EE19052W.do?method=getThmStrExcept
#PAGE.00918.001 = 5:/SASEMARTCMS/admin/EE19052W.do?method=saveThmTgrt
#PAGE.00919.001 = 5:/SASEMARTCMS/admin/EE19052W.do?method=listThmTgrt
#PAGE.00920.001 = 5:/SASEMARTCMS/admin/EE19052W.do?method=pagePopup
#PAGE.00921.001 = 5:/SASEMARTCMS/admin/EE19052W.do?method=getThmTgrt
#PAGE.00922.001 = 5:/SASEMARTCMS/admin/EE19052W.do?method=getThmStrTgrt
#PAGE.00923.001 = 5:/SASEMARTCMS/admin/EE19052W.do?method=getThmStrExcept
#PAGE.00924.001 = 5:/SASEMARTCMS/branch/BB02010S.do?method=page
#PAGE.00925.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00926.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00927.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00928.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00929.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00930.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00931.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00932.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00933.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00934.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00935.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.00936.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00937.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=page
#PAGE.00938.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.00939.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00940.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCustCnt
#PAGE.00941.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCustCnt
#PAGE.00942.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCustCnt
#PAGE.00943.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCustCnt
#PAGE.00944.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCustCnt
#PAGE.00945.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.00946.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.00947.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.00948.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getCmpgnStep
#PAGE.00949.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=saveCmpgnPlanStep2
#PAGE.00950.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=page
#PAGE.00951.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=getCustSimul
#PAGE.00952.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00953.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.00954.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=selectSimulation
#PAGE.00955.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00956.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.00957.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getCmpgnStep
#PAGE.00958.001 = 5:/SASEMARTCMS/branch/BB02310S.do?method=page
#PAGE.00959.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00960.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=insertCmpgnHistry
#PAGE.00961.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=page
#PAGE.00962.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmWrdRplcList
#PAGE.00963.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.00964.001 = 5:/SASEMARTCMS/common/Common.do?method=selectStoreTelList
#PAGE.00965.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlSms
#PAGE.00966.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlLms
#PAGE.00967.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlMms
#PAGE.00968.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlBms
#PAGE.00969.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlEml
#PAGE.00970.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlApt
#PAGE.00971.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlApr
#PAGE.00972.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=updateChnnlLms
#PAGE.00973.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=updateChnnlLms
#PAGE.00974.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=updateChnnlLms
#PAGE.00975.001 = 5:/SASEMARTCMS/branch/BB02326S.do?method=page
#PAGE.00976.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00977.001 = 5:/SASEMARTCMS/branch/BB02326S.do?method=selectTstChrgpersList
#PAGE.00978.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectCmpgnExctTstSndCnt
#PAGE.00979.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=testSendMessage
#PAGE.00980.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getCmpgnStep
#PAGE.00981.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=updateCmpgnMstStep
#PAGE.00982.001 = 5:/SASEMARTCMS/branch/BB02023W.do?method=page
#PAGE.00983.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=searchCustId
#PAGE.00984.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.00985.001 = 5:/SASEMARTCMS/branch/BB02023W.do?method=selectChnnlSmsList
#PAGE.00986.001 = 5:/SASEMARTCMS/branch/BB02023W.do?method=selectChnnlLmsList
#PAGE.00987.001 = 5:/SASEMARTCMS/branch/BB02023W.do?method=selectChnnlMmsList
#PAGE.00988.001 = 5:/SASEMARTCMS/branch/BB02023W.do?method=selectChnnlBmsList
#PAGE.00989.001 = 5:/SASEMARTCMS/branch/BB02023W.do?method=selectChnnlEmlList
#PAGE.00990.001 = 5:/SASEMARTCMS/branch/BB02023W.do?method=selectChnnlAptList
#PAGE.00991.001 = 5:/SASEMARTCMS/branch/BB02023W.do?method=selectChnnlAprList
#PAGE.00992.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=getTimeDiffRslt
#PAGE.00993.001 = 5:/SASEMARTCMS/branch/BB02023W.do?method=getMngrInfo
#PAGE.00994.001 = 5:/SASEMARTCMS/common/logoff.do?null
#PAGE.00995.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.00996.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.00997.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.00998.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.00999.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01000.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01001.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01002.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01003.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01004.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01005.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01006.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01007.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01008.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01009.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01010.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01011.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01012.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01013.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01014.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01015.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01016.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=page
#PAGE.01017.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01018.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=listTrgtCndtn
#PAGE.01019.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=pagePopup
#PAGE.01020.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01021.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=listTrgtCndtn
#PAGE.01022.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnInstnc
#PAGE.01023.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnStrTgrt
#PAGE.01024.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnStrExcept
#PAGE.01025.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=saveTrgtCndtn
#PAGE.01026.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=listTrgtCndtn
#PAGE.01027.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=pagePopup
#PAGE.01028.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01029.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=listTrgtCndtn
#PAGE.01030.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnInstnc
#PAGE.01031.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnStrTgrt
#PAGE.01032.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnStrExcept
#PAGE.01033.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.01034.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.01035.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.01036.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.01037.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.01038.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.01039.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01040.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.01041.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.01042.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01043.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01044.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01045.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=page
#PAGE.01046.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01047.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.01048.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmpgnOffrList
#PAGE.01049.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01050.001 = 5:/SASEMARTCMS/common/brokenSession.do?null
#PAGE.01051.001 = 5:/SASEMARTCMS/common/brokenSession.do?null
#PAGE.01052.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.01053.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.01054.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.01055.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01056.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01057.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01058.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01059.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01060.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01061.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01062.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01063.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01064.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01065.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01066.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01067.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01068.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01069.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01070.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01071.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01072.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01073.001 = 5:/SASEMARTCMS/common/brokenSession.do?null
#PAGE.01074.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.01075.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=page
#PAGE.01076.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01077.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=listTrgtCndtn
#PAGE.01078.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=pagePopup
#PAGE.01079.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01080.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=listTrgtCndtn
#PAGE.01081.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnInstnc
#PAGE.01082.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnStrTgrt
#PAGE.01083.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnStrExcept
#PAGE.01084.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=saveTrgtCndtn
#PAGE.01085.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=listTrgtCndtn
#PAGE.01086.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=pagePopup
#PAGE.01087.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01088.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=listTrgtCndtn
#PAGE.01089.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnInstnc
#PAGE.01090.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnStrTgrt
#PAGE.01091.001 = 5:/SASEMARTCMS/admin/EE19054W.do?method=getTrgtCndtnStrExcept
#PAGE.01092.001 = 5:/SASEMARTCMS/common/brokenSession.do?null
#PAGE.01093.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.01094.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.01095.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.01096.001 = 5:/SASEMARTCMS/common/FF14306W.do?method=page
#PAGE.01097.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01098.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01099.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01100.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01101.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01102.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01103.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01104.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01105.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01106.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01107.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01108.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01109.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01110.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01111.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01112.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01113.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01114.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01115.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01116.001 = 5:/SASEMARTCMS/common/FF14306W.do?method=getCmpgnExct
#PAGE.01117.001 = 5:/SASEMARTCMS/common/FF14306W.do?method=page
#PAGE.01118.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01119.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01120.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01121.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01122.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01123.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01124.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01125.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01126.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01127.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01128.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01129.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01130.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01131.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01132.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01133.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01134.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01135.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01136.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01137.001 = 5:/SASEMARTCMS/common/FF14306W.do?method=getCmpgnExct
#PAGE.01138.001 = 5:/SASEMARTCMS/common/logoff.do?null
#PAGE.01139.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.01140.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.01141.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.01142.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.01143.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.01144.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.01145.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01146.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.01147.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.01148.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01149.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01150.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01151.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=page&cmpgn_no=C20151130111711949
#PAGE.01152.001 = 5:/SASEMARTCMS/branch/BB02010S.do?method=page&cmpgn_no=C20151130111711949
#PAGE.01153.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.01154.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01155.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.01156.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.01157.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.01158.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.01159.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.01160.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.01161.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.01162.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.01163.001 = 5:/SASEMARTCMS/branch/BB02312S.do?method=listBrnhTrgtVl
#PAGE.01164.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.01165.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCustCnt
#PAGE.01166.001 = 5:/SASEMARTCMS/common/FF14309S.do?method=page
#PAGE.01167.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.01168.001 = 5:/SASEMARTCMS/common/bmsFileUpload.do?cmpgn_no=H20151205000001001&chnnl_no=BMS0000151205002
#PAGE.01169.001 = 5:/SASEMARTCMS/common/FF14309S.do?method=page&result=ok
#PAGE.01170.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.01171.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.01172.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.01173.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.01174.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.01175.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01176.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.01177.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.01178.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.01179.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01180.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01181.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01182.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.01183.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.01184.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01185.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.01186.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.01187.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01188.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01189.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01190.001 = 5:/SASEMARTCMS/branch/BB02006S.do?method=page&cmpgn_no=C20151205102011971
#PAGE.01191.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=page&cmpgn_no=C20151205102011971
#PAGE.01192.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmWrdRplcList
#PAGE.01193.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01194.001 = 5:/SASEMARTCMS/common/Common.do?method=selectStoreTelList
#PAGE.01195.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlSms
#PAGE.01196.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlLms
#PAGE.01197.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlMms
#PAGE.01198.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlBms
#PAGE.01199.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlEml
#PAGE.01200.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlApt
#PAGE.01201.001 = 5:/SASEMARTCMS/branch/BB02014S.do?method=selectChnnlApr
#PAGE.01202.001 = 5:/SASEMARTCMS/common/FF14309S.do?method=page
#PAGE.01203.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=selectSimulation
#PAGE.01204.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01205.001 = 5:/SASEMARTCMS/common/FF14309S.do?method=page
#PAGE.01206.001 = 5:/SASEMARTCMS/common/bmsFileUpload.do?cmpgn_no=H20151205000001001&chnnl_no=BMS0000151205002
#PAGE.01207.001 = 5:/SASEMARTCMS/common/FF14309S.do?method=page&result=ok
#PAGE.01208.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=prevPage
#PAGE.01209.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=page&cmpgn_no=C20151205102011971
#PAGE.01210.001 = 5:/SASEMARTCMS/branch/BB02009S.do?method=getCmpgnStep2
#PAGE.01211.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01212.001 = 5:/SASEMARTCMS/common/FF14309S.do?method=page
#PAGE.01213.001 = 5:/SASEMARTCMS/common/bmsFileUpload.do?cmpgn_no=H20151205000001001&chnnl_no=BMS0000151205002
#PAGE.01214.001 = 5:/SASEMARTCMS/common/FF14309S.do?method=page&result=ok
#PAGE.01215.001 = 5:/SASEMARTCMS/common/FF14309S.do?method=page
#PAGE.01216.001 = 5:/SASEMARTCMS/common/brokenSession.do?null
#PAGE.01217.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.01218.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.01219.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.01220.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.01221.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.01222.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.01223.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01224.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.01225.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.01226.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01227.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01228.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01229.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=page
#PAGE.01230.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=listWeekCnt
#PAGE.01231.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01232.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=page
#PAGE.01233.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=listIncrssRtoCnt
#PAGE.01234.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01235.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.01236.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.01237.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01238.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.01239.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=page
#PAGE.01240.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=listIncrssRtoCnt
#PAGE.01241.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01242.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.01243.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.01244.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01245.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.01246.001 = 5:/SASEMARTCMS/common/FF14309S.do?method=page
#PAGE.01247.001 = 5:/SASEMARTCMS/common/bmsFileUpload.do?cmpgn_no=H20151205000001001&chnnl_no=BMS0000151205001
#PAGE.01248.001 = 5:/SASEMARTCMS/common/FF14309S.do?method=page&result=ok
#PAGE.01249.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=page
#PAGE.01250.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=listIncrssRtoCnt
#PAGE.01251.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01252.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=page
#PAGE.01253.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=listWeekCnt
#PAGE.01254.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01255.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=page
#PAGE.01256.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=listIncrssRtoCnt
#PAGE.01257.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01258.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=page
#PAGE.01259.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=listWeekCnt
#PAGE.01260.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01261.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=page
#PAGE.01262.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=listIncrssRtoCnt
#PAGE.01263.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01264.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=page
#PAGE.01265.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01266.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.01267.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01268.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01269.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01270.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01271.001 = 5:/SASEMARTCMS/admin/KK01003W.do?method=detailPage
#PAGE.01272.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=page&cmpgn_mthd_cd=OCCS&cmpgn_no=H20151205000001001
#PAGE.01273.001 = 5:/SASEMARTCMS/branch/BB02012S.do?method=searchCustId
#PAGE.01274.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01275.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlSmsList
#PAGE.01276.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlLmsList
#PAGE.01277.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlMmsList
#PAGE.01278.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlBmsList
#PAGE.01279.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlEmlList
#PAGE.01280.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlAptList
#PAGE.01281.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectChnnlAprList
#PAGE.01282.001 = 5:/SASEMARTCMS/admin/KK01006W.do?method=selectPmList
#PAGE.01283.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=page
#PAGE.01284.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=listWeekCnt
#PAGE.01285.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01286.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=page
#PAGE.01287.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=listIncrssRtoCnt
#PAGE.01288.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01289.001 = 5:/SASEMARTCMS/common/logoff.do?null
#PAGE.01290.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.01291.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.01292.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.01293.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.01294.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.01295.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.01296.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01297.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.01298.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.01299.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01300.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01301.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01302.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=page
#PAGE.01303.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=listWeekCnt
#PAGE.01304.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01305.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.01306.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.01307.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01308.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.01309.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.01310.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.01311.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01312.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.01313.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=page
#PAGE.01314.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=listIncrssRtoCnt
#PAGE.01315.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01316.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.01317.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.01318.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01319.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.01320.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=page
#PAGE.01321.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=listIncrssRtoCnt
#PAGE.01322.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01323.001 = 5:/SASEMARTCMS/common/brokenSession.do?null
#PAGE.01324.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.01325.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.01326.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.01327.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01328.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01329.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=page
#PAGE.01330.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01331.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01332.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01333.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01334.001 = 5:/SASEMARTCMS/admin/EE18036W.do?method=selectCmpgnSttsList
#PAGE.01335.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01336.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01337.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01338.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01339.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01340.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01341.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01342.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01343.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01344.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01345.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=page
#PAGE.01346.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01347.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.01348.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.01349.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listCmpgnPlcy
#PAGE.01350.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.01351.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.01352.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01353.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.01354.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.01355.001 = 5:/SASEMARTCMS/common/CmsDraftDoc.do?method=page&cmpgn_no=C20151204101711964
#PAGE.01356.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.01357.001 = 5:/SASEMARTCMS/common/CmsDraftDoc.do?method=getCmsDraftDocInfo&cmpgn_no=C20151204101711964
#PAGE.01358.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=page
#PAGE.01359.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01360.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.01361.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01362.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01363.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01364.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01365.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=page
#PAGE.01366.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01367.001 = 5:/SASEMARTCMS/admin/KK01001W.do?method=selectCmpgnSttsList
#PAGE.01368.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01369.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01370.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01371.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01372.001 = 5:/SASEMARTCMS/common/brokenSession.do?null
#PAGE.01373.001 = 5:/SASEMARTCMS/common/FF12060W.do?null
#PAGE.01374.001 = 5:/SASEMARTCMS/common/loginChk.do?null
#PAGE.01375.001 = 5:/SASEMARTCMS/common/loginSuccess.do?null
#PAGE.01376.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=page
#PAGE.01377.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.01378.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectNtcList
#PAGE.01379.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01380.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectCmpgnSttsList
#PAGE.01381.001 = 5:/SASEMARTCMS/branch/AA01001W.do?method=selectBstCmpgnList
#PAGE.01382.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgryCbo
#PAGE.01383.001 = 5:/SASEMARTCMS/common/Common.do?method=selectCmmList
#PAGE.01384.001 = 5:/SASEMARTCMS/admin/EE19047W.do?method=getCmpgnCtgry
#PAGE.01385.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=page
#PAGE.01386.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=listWeekCnt
#PAGE.01387.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01388.001 = 5:/SASEMARTCMS/branch/II15005W.do?method=page
#PAGE.01389.001 = 5:/SASEMARTCMS/branch/II15005W.do?method=listMonthCnt
#PAGE.01390.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01391.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=page
#PAGE.01392.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=listWeekCnt
#PAGE.01393.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01394.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.01395.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.01396.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01397.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.01398.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.01399.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.01400.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01401.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.01402.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=page
#PAGE.01403.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=page
#PAGE.01404.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=listIncrssRtoCnt
#PAGE.01405.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01406.001 = 5:/SASEMARTCMS/branch/II15007W.do?method=listIncrssRtoCnt
#PAGE.01407.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01408.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.01409.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.01410.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01411.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.01412.001 = 5:/SASEMARTCMS/branch/II15005W.do?method=page
#PAGE.01413.001 = 5:/SASEMARTCMS/branch/II15005W.do?method=listMonthCnt
#PAGE.01414.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01415.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=page
#PAGE.01416.001 = 5:/SASEMARTCMS/branch/II15004W.do?method=listWeekCnt
#PAGE.01417.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01418.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.01419.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01420.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.01421.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.01422.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.01423.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.01424.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01425.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.01426.001 = 5:/SASEMARTCMS/branch/II15005W.do?method=page
#PAGE.01427.001 = 5:/SASEMARTCMS/branch/II15005W.do?method=listMonthCnt
#PAGE.01428.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01429.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=page
#PAGE.01430.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=getchCtgyIncrssRto
#PAGE.01431.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01432.001 = 5:/SASEMARTCMS/branch/II15006W.do?method=listCtgyIncrssRto
#PAGE.01433.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=page
#PAGE.01434.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01435.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.01436.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.01437.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listCmpgnPlcy
#PAGE.01438.001 = 5:/SASEMARTCMS/admin/AA01003I.do?method=page
#PAGE.01439.001 = 5:/SASEMARTCMS/admin/AA01003W.do?year=2015&month=12
#PAGE.01440.001 = 5:/SASEMARTCMS/branch/AA01307I.do?method=page
#PAGE.01441.001 = 5:/SASEMARTCMS/branch/AA01307W.do?year=2015&month=12
#PAGE.01442.001 = 5:/SASEMARTCMS/branch/AA01307S.do?priod=20151207
#PAGE.01443.001 = 5:/SASEMARTCMS/branch/AA01307S.do?priod=20151208
#PAGE.01444.001 = 5:/SASEMARTCMS/branch/AA01307S.do?priod=20151228
#PAGE.01445.001 = 5:/SASEMARTCMS/branch/AA01307S.do?priod=20151207
#PAGE.01446.001 = 5:/SASEMARTCMS/branch/AA01307S.do?priod=20151208
#PAGE.01447.001 = 5:/SASEMARTCMS/branch/AA01307S.do?priod=20151228
#PAGE.01448.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.01449.001 = 5:/SASEMARTCMS/common/CmsDraftDoc.do?method=getCmsDraftDocInfo&cmpgn_no=C20151204101711964
#PAGE.01450.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.01451.001 = 5:/SASEMARTCMS/common/CmsDraftDoc.do?method=getCmsDraftDocInfo&cmpgn_no=C20151204101711964
#PAGE.01452.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=page
#PAGE.01453.001 = 5:/SASEMARTCMS/common/insertWebLog.do?null
#PAGE.01454.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.01455.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.01456.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listCmpgnPlcy
#PAGE.01457.001 = 5:/SASEMARTCMS/common/FF12060W.do?method=page
#PAGE.01458.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=updateChnnlPlcy
#PAGE.01459.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.01460.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listChnnlPlcy
#PAGE.01461.001 = 5:/SASEMARTCMS/admin/EE19049S.do?method=listCmpgnPlcy
#PAGE.01462.001 = 5:/SASEMARTCMS/common/CmsDraftDoc.do?method=getCmsDraftDocInfo&cmpgn_no=C20151204101711964



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SELECT
    A.*
FROM
    CMSVIEW.CM_CMMN_CD   A
WHERE 1=1
ORDER BY
    A.GRP_CD
    , A.SRT_SEQ_NO
;

--INSERT INTO
    CMSDATA_DEV.CM_CMPGN_ALRM_MSG
SELECT
    A.*
FROM
    CMSDATA.CM_CMPGN_ALRM_MSG A
WHERE 1=1
    AND A.MSG_ID NOT IN (
        SELECT
            MSG_ID
        FROM
            CMSDATA_DEV.CM_CMPGN_ALRM_MSG
    )
;

SHOW TABLE CM_CMPGN_ALRM_MSG;

SELECT
    CMPGN_STEP
    , CMPGN_STTS
    , RECEIVER
    , SENDER
    , 'M014'
    , '캠페인승인'
    , MESSAGE
    , MESSAGE_BODY
    , USE_YN
FROM
    CMSVIEW.CM_CMPGN_ALRM_MSG A
WHERE 1=1
    AND MSG_ID = 'M001'
;

--INSERT INTO
    CMSDATA.CM_CMPGN_ALRM_MSG
(
    CMPGN_STEP
    , CMPGN_STTS
    , RECEIVER
    , SENDER
    , MSG_ID
    , HEADER
    , MESSAGE
    , MESSAGE_BODY
    , USE_YN
)
VALUES
(
    ''
    , ''
    , '%PLANNER%'
    , '%CRMMGR%'
    , 'M014'
    , '캠페인승인완료'
    , '%CMPGN_NM%(%CMPGN_NO%)'
    , '캠페인이 승인 되었습니다. 캠페인 현황 리스트를 확인해주십시오.\n캠페인명 : %CMPGN_NM%\n 캠페인번호 : %CMPGN_NO%'
    , 'Y'
)
;


SELECT
    A.CMPGN_STEP       AS CMPGN_STEP
    , A.CMPGN_STTS     AS CMPGN_STTS
    , A.RECEIVER       AS RECEIVER
    , A.SENDER         AS SENDER
    , A.MSG_ID         AS MSG_ID
    , A.HEADER         AS HEADER
    , A.MESSAGE        AS MESSAGE
    , A.MESSAGE_BODY   AS MESSAGE_BODY
    , A.USE_YN         AS USE_YN
FROM
    CMSVIEW_DEV.CM_CMPGN_ALRM_MSG  A
WHERE 1=1
    AND A.MSG_ID = 'M014'
    AND A.USE_YN = 'Y'
;



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


INSERT INTO
    CMSDATA_DEV.CM_CMPGN_ALRM_MSG
(
    CMPGN_STEP
    , CMPGN_STTS
    , RECEIVER
    , SENDER
    , MSG_ID
    , HEADER
    , MESSAGE
    , MESSAGE_BODY
    , USE_YN
)
VALUES
(
    ''
    , ''
    , '%PLANNER%'
    , '%CRMMGR%'
    , 'M014'
    , '캠페인승인완료'
    , '%CMPGN_NM%(%CMPGN_NO%)'
    , '캠페인이 승인 되었습니다. 캠페인 현황 리스트를 확인해주십시오.\n캠페인명 : %CMPGN_NM%\n 캠페인번호 : %CMPGN_NO%'
    , 'Y'
)
;



SELECT
    A.*
FROM
    CMSVIEW_DEV.CM_CMPGN_ALRM_MSG A
WHERE 1=1
ORDER BY
    A.MSG_ID
;



SELECT
    A.CMPGN_STEP       AS CMPGN_STEP
    , A.CMPGN_STTS     AS CMPGN_STTS
    , A.RECEIVER       AS RECEIVER
    , A.SENDER         AS SENDER
    , A.MSG_ID         AS MSG_ID
    , A.HEADER         AS HEADER
    , A.MESSAGE        AS MESSAGE
    , A.MESSAGE_BODY   AS MESSAGE_BODY
    , A.USE_YN         AS USE_YN
FROM
    CMSVIEW_DEV.CM_CMPGN_ALRM_MSG  A
WHERE 1=1
    AND A.MSG_ID IN ('M014', 'M009')
    AND A.USE_YN = 'Y'
;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

CREATE SET TABLE CMSDATA_DEV.CM_CMPGN_DYNAMIC ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      ROWSEQ INTEGER GENERATED ALWAYS AS IDENTITY
           (START WITH 1
            INCREMENT BY 1
            MINVALUE -2147483647
            MAXVALUE 2147483647
            NO CYCLE),
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      DYNAMICSQL VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '동적SQL' NOT NULL)
PRIMARY INDEX ( ROWSEQ );


REPLACE VIEW CMSVIEW.CM_CMPGN_DYNAMIC AS LOCKING TABLE CMSDATA.CM_CMPGN_DYNAMIC  FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_DYNAMIC );

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=batchAppCoupon&cmpgn_no=H20151205000002001&chnnl_no=APT0000151205001

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

CREATE SET TABLE CMSDATA.CM_CHNNL_PLCY ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드' NOT NULL,
      CHNNL_PLCY_NO DECIMAL(18,0) TITLE '채널정책번호' NOT NULL,
      UNT_PRC DECIMAL(18,2) TITLE '단가',
      CHNNL_PLCY_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '채널정책시작일자',
      CHNNL_PLCY_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '채널정책종료일자',
      CHNNL_LMT_CUST_CNT DECIMAL(8,0) TITLE '채널제한고객수',
      VSBL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '노출구분코드',
      MKORDR_MIN_DT_CNT DECIMAL(8,0) TITLE '제작요청최소일수',
      IMMDTLY_SND_AM_FNSH_TM VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '당일발송오전마감시간',
      IMMDTLY_SND_PM_FNSH_TM VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '당일발송오후마감시간',
      IMMDTLY_SND_ABL_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '당일발송가능여부',
      CMPGN_RGT_LMT_CNT DECIMAL(18,2) TITLE '캠페인등록제한건수',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시')
UNIQUE PRIMARY INDEX ( CHNNL_TYP_CD ,CHNNL_PLCY_NO );

----------------------------------------------------------------------------------------------------

-- CREATE TABLE
CREATE SET TABLE CMSDATA.CM_CHNNL_PLCY_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드' NOT NULL,
      CHNNL_PLCY_NO DECIMAL(18,0) TITLE '채널정책번호' NOT NULL,
      UNT_PRC DECIMAL(18,2) TITLE '단가',
      CHNNL_PLCY_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '채널정책시작일자',
      CHNNL_PLCY_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '채널정책종료일자',
      CHNNL_LMT_CUST_CNT DECIMAL(8,0) TITLE '채널제한고객수',
      VSBL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '노출구분코드',
      MKORDR_MIN_DT_CNT DECIMAL(8,0) TITLE '제작요청최소일수',
      IMMDTLY_SND_AM_FNSH_TM VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '당일발송오전마감시간',
      IMMDTLY_SND_PM_FNSH_TM VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '당일발송오후마감시간',
      IMMDTLY_SND_ABL_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '당일발송가능여부',
      SNDBL_STR_CNT DECIMAL(18,0) TITLE '발송가능점포수',
      CMPGN_RGT_LMT_CUST_CNT DECIMAL(18,0) TITLE '캠페인등록제한고객수',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시')
UNIQUE PRIMARY INDEX ( CHNNL_TYP_CD ,CHNNL_PLCY_NO );


-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_CHNNL_PLCY_KANG
SELECT
    CHNNL_TYP_CD
    , CHNNL_PLCY_NO
    , UNT_PRC
    , CHNNL_PLCY_STRT_DT
    , CHNNL_PLCY_END_DT
    , CHNNL_LMT_CUST_CNT
    , VSBL_TYP_CD
    , MKORDR_MIN_DT_CNT
    , IMMDTLY_SND_AM_FNSH_TM
    , IMMDTLY_SND_PM_FNSH_TM
    , IMMDTLY_SND_ABL_YN
    , 0
    , 0
    , SYS_LST_UPDT_ID
    , SYS_FRST_OPRTN_ID
    , SYS_CRTN_DTTM
    , SYS_UPDT_DTTM
FROM
    CMSDATA.CM_CHNNL_PLCY
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CHNNL_PLCY;

-- RENAME
RENAME TABLE CMSDATA.CM_CHNNL_PLCY_KANG TO CMSDATA.CM_CHNNL_PLCY;

-- MAKE VIEW
REPLACE VIEW CMSVIEW.CM_CHNNL_PLCY  AS LOCKING TABLE CMSDATA.CM_CHNNL_PLCY FOR ACCESS (SELECT * FROM CMSDATA.CM_CHNNL_PLCY);


SELECT * FROM CMSVIEW.CM_CHNNL_PLCY;


----------------------------------------------------------------------------------------------------


UPDATE CMSDATA.CM_CHNNL_PLCY SET SNDBL_STR_CNT=20 WHERE CHNNL_TYP_CD ='APR';
UPDATE CMSDATA.CM_CHNNL_PLCY SET SNDBL_STR_CNT=20 WHERE CHNNL_TYP_CD ='APT';
UPDATE CMSDATA.CM_CHNNL_PLCY SET SNDBL_STR_CNT=20 WHERE CHNNL_TYP_CD ='SMS';
UPDATE CMSDATA.CM_CHNNL_PLCY SET SNDBL_STR_CNT=20 WHERE CHNNL_TYP_CD ='DM' ;
UPDATE CMSDATA.CM_CHNNL_PLCY SET SNDBL_STR_CNT=20 WHERE CHNNL_TYP_CD ='MMS';
UPDATE CMSDATA.CM_CHNNL_PLCY SET SNDBL_STR_CNT=20 WHERE CHNNL_TYP_CD ='LMS';
UPDATE CMSDATA.CM_CHNNL_PLCY SET SNDBL_STR_CNT=20 WHERE CHNNL_TYP_CD ='BMS';
UPDATE CMSDATA.CM_CHNNL_PLCY SET SNDBL_STR_CNT=20 WHERE CHNNL_TYP_CD ='EML';




----------------------------------------------------------------------------------------------------

DROP TABLE CMSDATA_DEV.CM_CHNNL_PLCY;


CREATE TABLE CMSDATA_DEV.CM_CHNNL_PLCY  AS CMSDATA.CM_CHNNL_PLCY  WITH DATA;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

H20151202000003001	APT0000151202005	APT	C78751126
H20151202000003001	APT0000151202005	APT	C11758151
H20151202000003001	APT0000151202005	APT	C68363471


----------------------------------------------------------------------------------------------------

CREATE SET TABLE CMSDATA.CM_CMPGN_TRGT_CUST ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
      SND_DATE DATE FORMAT 'YYYY/MM/DD' TITLE '전송일자' NOT NULL,
      CUST_ID CHAR(9) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '고객아이디' NOT NULL,
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      CHNNL_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널번호' NOT NULL,
      TC_GRP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'TC그룹여부',
      CHNNL_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널종류코드',
      BRCD_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '바코드번호',
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
PRIMARY INDEX ( SND_DATE ,CUST_ID ,CMPGN_NO ,CHNNL_NO );



----------------------------------------------------------------------------------------------------

            SELECT
                A.CMPGN_NO              AS CMPGN_NO
                , A.CHNNL_NO            AS CHNNL_NO
                , A.CHNNL_TYP_CD        AS CHNNL_TYP_CD
                , A.CUST_ID             AS CUST_ID
            FROM
                CMSVIEW.CM_CMPGN_TRGT_CUST  A
            WHERE 1=1
                AND A.CMPGN_NO = 'C20151205102011972'
                AND A.CHNNL_NO = 'APT1020151205315'


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

	<!-- ============================================== -->
	<!-- insertEvntMst -->
	<!-- ============================================== -->
	<insert id="insertEvntMst" parameterClass="java.util.Map">
		<![CDATA[
			INSERT INTO     /* HH14065I.insertEvntMst */
				CMSDATA_DEV.CM_EVNT_MST
			(
				CMPGN_NO
				, CHNNL_NO
				, EVENT_ID
				, EVENT_NM
				, WIN_RANGE_CNT
				, EVENT_START_DT
				, EVENT_END_DT
				, DEL_YN
				, SYS_CRTN_DTTM
				, SYS_FRST_OPRTN_ID
			)
			VALUES
			(
				#cmpgn_no#
				, #chnnl_no#
				, #event_id#
				, #event_nm#
				, '1000'
				, #start_dt#
				, #end_dt#
				, 'Y'
				, CURRENT_TIMESTAMP(0)
				, 'BATCH'
			)
		]]>
	</insert>



	<!-- ============================================== -->
	<!-- insertGftMst -->
	<!-- ============================================== -->
	<insert id="insertGftMst" parameterClass="java.util.Map">
		<![CDATA[
			INSERT INTO     /* HH14065I.insertGftMst */
				CMSDATA_DEV.CM_GFT_MST
			(
				EVENT_ID
				, GIFT_ID
				, GIFT_NM
				, GIFT_CNT
				, GIFT_START_DT
				, GIFT_END_DT
				, DEL_YN
				, SYS_CRTN_DTTM
				, SYS_FRST_OPRTN_ID
			)
			VALUES
			(
				#event_id#
				, #gift_id#
				, #gift_nm#
				, '1000'
				, #start_dt#
				, #end_dt#
				, 'Y'
				, CURRENT_TIMESTAMP(0)
				, 'BATCH'
			)
		]]>
	</insert>



	<!-- ============================================== -->
	<!-- insertGftCustLst -->
	<!-- ============================================== -->
	<insert id="insertGftCustLst" parameterClass="java.util.Map">
		<![CDATA[
			INSERT INTO     /* HH14065I.insertGftCustLst */
				CMSDATA_DEV.CM_GFT_CUST_LST
			(
				EVENT_ID
				, GIFT_ID
				, CUST_ID
				, CUST_NM
				, STORE_CD
				, SYS_CRTN_DTTM
				, SYS_FRST_OPRTN_ID
			)
			VALUES
			(
				#event_id#
				, #gift_id#
				, #cust_id#
				, ''
				, #str_id#
				, CURRENT_TIMESTAMP(0)
				, 'BATCH'
			)
		]]>
	</insert>


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

--------------------------------------------------------------------

SELECT    /* HH14065I.getMaxId */
	CAST('EVENT_ID' AS CHAR(20))           AS MAX_NM
	, NVL(MAX(A.EVENT_ID), '9000000000')   AS MAX_VAL
FROM
	CMSVIEW.CM_EVNT_MST  A
UNION
SELECT
	CAST('GIFT_ID' AS CHAR(20))            AS MAX_NM
	, NVL(MAX(B.GIFT_ID), '8000000000')    AS MAX_VAL
FROM
	CMSVIEW.CM_GFT_MST   B
;

SELECT    /* HH14065I.getMaxId */
	(  SELECT NVL(MAX(EVENT_ID), '9000000000') FROM CMSVIEW.CM_EVNT_MST) AS MAX_EVENT_ID
	, (SELECT NVL(MAX(GIFT_ID) , '8000000000') FROM CMSVIEW.CM_GFT_MST ) AS MAX_GIFT_ID

--------------------------------------------------------------------


SELECT TOP 1    /* HH14065I.getEvntGiftInfo */
	A.CMPGN_NO                             AS CMPGN_NO
	, NULL                                 AS CHNNL_NO
	, A.CMPGN_OFFR_EVNT_DESC               AS EVENT_NM
	, A.CMPGN_PRDGFT_NM                    AS GIFT_NM
	, TO_CHAR(A.CMPGN_STRT_DT,'YYYYMMDD')  AS START_DT
	, TO_CHAR(A.CMPGN_END_DT,'YYYYMMDD')   AS END_DT
	, A.STR_ID                             AS STR_ID
FROM
	CMSVIEW.CM_CMPGN_MST  A
WHERE 1=1
	AND A.CMPGN_NO = 'C20151205102011972'
;

--------------------------------------------------------------------

INSERT INTO     /* HH14065I.insertEvntMst */
	CMSDATA.CM_EVNT_MST
(
	CMPGN_NO
	, CHNNL_NO
	, EVENT_ID
	, EVENT_NM
	, WIN_RANGE_CNT
	, EVENT_START_DT
	, EVENT_END_DT
	, DEL_YN
	, SYS_CRTN_DTTM
	, SYS_FRST_OPRTN_ID
)
VALUES
(
	#cmpgn_no#
	, #chnnl_no#
	, #event_id#
	, #event_nm#
	, '1000'
	, #start_dt#
	, #end_dt#
	, 'Y'
	, CURRENT_TIMESTAMP(0)
	, 'BATCH'
)
;

--------------------------------------------------------------------

INSERT INTO     /* HH14065I.insertGftMst */
	CMSDATA.CM_GFT_MST
(
	EVENT_ID
	, GIFT_ID
	, GIFT_NM
	, GIFT_CNT
	, GIFT_START_DT
	, GIFT_END_DT
	, DEL_YN
	, SYS_CRTN_DTTM
	, SYS_FRST_OPRTN_ID
)
VALUES
(
	#event_id#
	, #gift_id#
	, #gift_nm#
	, '1000'
	, #start_dt#
	, #end_dt#
	, 'Y'
	, CURRENT_TIMESTAMP(0)
	, 'BATCH'
)
;

--------------------------------------------------------------------

INSERT INTO     /* HH14065I.insertGftCustLst */
	CMSDATA.CM_GFT_CUST_LST
(
	EVENT_ID
	, GIFT_ID
	, CUST_ID
	, CUST_NM
	, STORE_CD
	, SYS_CRTN_DTTM
	, SYS_FRST_OPRTN_ID
)
VALUES
(
	#event_id#
	, #gift_id#
	, #cust_id#
	, ''
	, #str_id#
	, CURRENT_TIMESTAMP(0)
	, 'BATCH'
)
;

--------------------------------------------------------------------

            SELECT
                A.CMPGN_NO              AS CMPGN_NO
                , A.CHNNL_NO            AS CHNNL_NO
                , A.CHNNL_TYP_CD        AS CHNNL_TYP_CD
                , A.CUST_ID             AS CUST_ID
                , B.STR_ID              AS STR_ID
                , C.STR_NM              AS STR_NM
            FROM
                CMSVIEW.CM_CMPGN_TRGT_CUST  A
                , TCVM.HOMEPAGE_FAVORITE_JIJUM  B
                , TCVM.STORE                    C
            WHERE 1=1
                AND A.CMPGN_NO = 'H20151202000003001'
                --AND A.CHNNL_NO = 'APT0000151202005'
                AND B.DEL_YN = 'N'
                AND B.CUST_ID = A.CUST_ID
                AND C.STR_ID = B.STR_ID


--------------------------------------------------------------------
-- 원래값 3개
            SELECT
                A.CMPGN_NO              AS CMPGN_NO
                , A.CHNNL_NO            AS CHNNL_NO
                , A.CHNNL_TYP_CD        AS CHNNL_TYP_CD
                , A.CUST_ID             AS CUST_ID
            FROM
                CMSVIEW.CM_CMPGN_TRGT_CUST  A
            WHERE 1=1
                AND A.CMPGN_NO = 'H20151202000003001'
                AND A.CHNNL_NO = 'APT0000151202005'

--------------------------------------------------------------------
-- 대상값
            SELECT
                A.CMPGN_NO              AS CMPGN_NO
                , A.CHNNL_NO            AS CHNNL_NO
                , A.CHNNL_TYP_CD        AS CHNNL_TYP_CD
                , A.CUST_ID             AS CUST_ID
            FROM
                CMSVIEW.CM_CMPGN_TRGT_CUST  A
            WHERE 1=1
                AND A.CMPGN_NO = 'C20151205102011972'
                AND A.CHNNL_NO = 'APT1020151205315'


			SELECT  TOP 1   /* HH14065I.getEvntGiftInfo */
				A.CMPGN_NO                             AS CMPGN_NO
				, B.CHNNL_NO                           AS CHNNL_NO
				, A.CMPGN_OFFR_EVNT_DESC               AS EVENT_NM
				, A.CMPGN_PRDGFT_NM                    AS GIFT_NM
				, TO_CHAR(A.CMPGN_STRT_DT,'YYYYMMDD')  AS START_DT
				, TO_CHAR(A.CMPGN_END_DT,'YYYYMMDD')   AS END_DT
				, A.STR_ID                             AS STR_ID
			FROM
				CMSVIEW.CM_CMPGN_MST     A
				, CMSVIEW.CM_CMPGN_EXCT  B
			WHERE 1=1
				AND A.CMPGN_NO = 'C20151205102011972'
				AND B.CMPGN_NO = A.CMPGN_NO
				AND B.CHNNL_NO = 'APT1020151205315'

--------------------------------------------------------------------


SELECT
	A.*
FROM
	CMSVIEW.CM_CMPGN_EXCT   A
WHERE 1=1
	AND A.CMPGN_NO = 'C20151205102011972'
	AND A.CHNNL_NO = 'APT1020151205315'
;

--------------------------------------------------------------------
SHOW TABLE CM_CMPGN_TRGT_CUST;

--INSERT INTO CMSDATA.CM_CMPGN_TRGT_CUST
VALUES
(
	CURRENT_DATE
	, 'C68363471'
	, 'C20151205102011972'
	, 'APT1020151205315'
	, 'TC'
	, 'APT'
	, NULL
	, CURRENT_TIMESTAMP
	, NULL
	, 'BATCH'
	, NULL
)
;



--------------------------------------------------------------------

SELECT
	A.*
FROM
	CMSVIEW.CM_CMPGN_MST A
WHERE 1=1
	AND A.CMPGN_NO = 'H20151202000003001'
;

--------------------------------------------------------------------

SELECT * FROM CMSVIEW.CM_EVNT_MST;

SELECT * FROM CMSVIEW.CM_GFT_MST;

SELECT * FROM CMSVIEW.CM_GFT_CUST_LST;

--------------------------------------------------------------------
--------------------------------------------------------------------
[ 전화번호 조회 ]

           SELECT A.CMPGN_NO AS CMPGN_NO
                 , A.CMPGN_NM AS CMPGN_NM
                 , C.CUST_ID  AS CUST_ID
                 , (SELECT	COMM_CD_VL FROM CM_CMMN_CD WHERE COMM_CD = B.CHNNL_TYP_CD AND GRP_CD = 'CM002') AS CHNNL_TYP_NM
                 , C.SND_DATE AS SND_DATE
				 , B.CMPGN_STTS AS CMPGN_STTS
			FROM	CM_CMPGN_MST A
							, CM_CMPGN_EXCT B
						  ,CM_CMPGN_TRGT_CUST C
			WHERE A.CMPGN_NO = B.CMPGN_NO
				AND	B.CMPGN_NO = C.CMPGN_NO
				AND B.CHNNL_TYP_CD = C.CHNNL_TYP_CD
				AND C.TC_GRP_CD = '01'
				AND B.CMPGN_STTS IN ('CP08','CP09')
				--AND B.CMPGN_STTS IN ('CP08')
        AND
            C.CUST_ID LIKE '%' || '58151' || '%'
        AND
            C.SND_DATE >= '2015-11-07'
        AND
            C.SND_DATE <= '2016-01-07'
             ORDER BY 1 DESC

--------------------------------------------------------------------

            SELECT A.CMPGN_NO AS CMPGN_NO
                 , A.CMPGN_NM AS CMPGN_NM
                 , C.CUST_ID  AS CUST_ID
                 , (SELECT	COMM_CD_VL FROM CM_CMMN_CD WHERE COMM_CD = B.CHNNL_TYP_CD AND GRP_CD = 'CM002') AS CHNNL_TYP_NM
                 , C.SND_DATE AS SND_DATE
			FROM	CM_CMPGN_MST A
							, CM_CMPGN_EXCT B
						  ,CM_CMPGN_TRGT_CUST C
			WHERE A.CMPGN_NO = B.CMPGN_NO
				AND	B.CMPGN_NO = C.CMPGN_NO
				AND B.CHNNL_TYP_CD = C.CHNNL_TYP_CD
				AND C.TC_GRP_CD = '01'
				AND B.CMPGN_STTS = 'CP08'
		AND
            A.CMPGN_NO = '11972'
        AND
            C.SND_DATE >= '2015-11-07'
        AND
            C.SND_DATE <= '2016-01-07'
             ORDER BY 1 DESC

--------------------------------------------------------------------


            SELECT A.CMPGN_NO AS CMPGN_NO
                 , A.CMPGN_NM AS CMPGN_NM
                 , C.CUST_ID  AS CUST_ID
                 , (SELECT	COMM_CD_VL FROM CM_CMMN_CD WHERE COMM_CD = B.CHNNL_TYP_CD AND GRP_CD = 'CM002') AS CHNNL_TYP_NM
                 , C.SND_DATE AS SND_DATE
			FROM	CM_CMPGN_MST A
							, CM_CMPGN_EXCT B
						  ,CM_CMPGN_TRGT_CUST C
			WHERE A.CMPGN_NO = B.CMPGN_NO
				AND	B.CMPGN_NO = C.CMPGN_NO
				AND B.CHNNL_TYP_CD = C.CHNNL_TYP_CD
				AND C.TC_GRP_CD = '01'
				AND B.CMPGN_STTS = 'CP08'
        AND
            C.CUST_ID LIKE '%' || '11758151' || '%'
        AND
            C.SND_DATE >= '2015-11-08'
        AND
            C.SND_DATE <= '2016-01-08'
             ORDER BY 1 DESC


--------------------------------------------------------------------

SELECT
	A.*
FROM
	CMSVIEW.CM_CMMN_CD  A
WHERE 1=1
	AND GRP_CD = 'CM020'
ORDER BY
	A.GRP_CD, A.COMM_CD
;


--------------------------------------------------------------------
--------------------------------------------------------------------
--------------------------------------------------------------------
--------------------------------------------------------------------
--------------------------------------------------------------------
--------------------------------------------------------------------


			SELECT
                A.CMPGN_NO              AS CMPGN_NO
                , A.CHNNL_NO            AS CHNNL_NO
                , A.CHNNL_TYP_CD        AS CHNNL_TYP_CD
                , A.CUST_ID             AS CUST_ID
                , B.STR_ID              AS STR_ID
                , C.STR_NM              AS STR_NM
            FROM
                CMSVIEW_DEV.CM_CMPGN_TRGT_CUST  A
                , TCVM.HOMEPAGE_FAVORITE_JIJUM  B
                , TCVM.STORE                    C
            WHERE 1=1
                AND A.CMPGN_NO = 'C20151122101711858'
                AND A.CHNNL_NO = 'SMS1017151122666'
                AND B.DEL_YN = 'N'
                AND B.CUST_ID = A.CUST_ID
                AND C.STR_ID = B.STR_ID

-----------------------------------------------------------



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

3. 모바일 블라섬 외부망 결제
1차적으로 아래사항 먼저 구현 필요함
----------------------------
캠페인명
캠페인코드
캠페인기간
캠페인분류/상세분류
대상채널
타겟고객수
기안자
기안일자



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

안녕하세요. POS팀 김영대 담당입니다.

■ 포인트 확인 사항
 - 채널별 데이터 전송
     -> LMS, SMS, MMS ->테스트 진행중
-> EMAIL, DM  ->강수영 담당 확인 후 테스트 진행예정
 - 전화번호로 고객번호 조회
     ->전문 첨부파일 참조
     ->암호화 대상 :카드번호 ( 암호화 키와 방식은 앞에 보내드린 방식과 동일합니다.)
     ->전화번호로 고객번호 조회 방법
          1.전화번호로 카드번호 조회 (“(이마트)포인트 승인(고객정보조회 신전문)_v1.00.xls”참조)
          2.카드번호로 고객번호 조회(“(이마트) 포인트 승인(이마트승인)_v1.00.xls”참조)
 - 포인트 클럽회원
   ->어떤 내용인지 자세한 설명 부탁 드립니다.

감사합니다.


안녕하세요. POS팀 김영대 담당입니다.

1.    암호화 방식 : AES 128 bit
2.    암호화 키 : 16자리 고정키
-      키 : 5513315555133155
3.    암호화 예제
-      평문 : 01046434241 -> 암호화 : Ehna52BnaxsQbsOuos/Ijw==

첨부파일
-      AES암호화 예제 소스
-      조회 전문
-      테스트 전문

감사합니다.


----------------------------------------------------------------------------------------------------

개발 : 174.100.67.129  64000

운영 : 174.100.67.125  64000

----------------------------------------------------------------------------------------------------

MSG_LEN                 4         /* 전문총길이                     */
MSG_TEXT               10         /* 전문구분                       */
TRADE_GB_CD             6         /* 거래구분코드                   */
BUSI_DT                 8         /* 영업일자                       */
TRADE_GENTD_DT          4         /* 거래발생일자                   */
TRADE_GENTD_TM          6         /* 거래발생시간                   */
TRADE_GENTD_STCD        4         /* 거래발생점번호                 */
TRADE_GENTD_POSNO       4         /* 거래발생POS번호                */
TRADE_NO                4         /* 거래번호                       */
DO_BYID                 6         /* 담당자사번                     */
CARD_NO                60         /* 카드번호                       */
CUST_ID                 9         /* 고객고유번호                   */
INPUT_FLG               1         /* 포인트카드인식구분             */
BRCH_ID                10         /* 가맹점ID                       */
RECPT_NO               20         /* 영수증번호                     */
PASSWD                  4         /* 비밀번호                       */
GIFTCARD_AMT           10         /* 상품권금액                     */
CASH_AMT               10         /* 수단별 결제금액:현금           */
GIFTCARD_PAY_AMT       10         /* 수단별 결제금액:상품권         */
M_GIFTCARD_PAY_AMT     10         /* 수단별 결제금액:상품권(모바일) */
SHIN_CARD_AMT          10         /* 수단별 결제금액:신세계시티     */
ALLIANCE_CARD_AMT1     10         /* 수단별 결제금액:제휴카드1      */
ALLIANCE_CARD_AMT2     10         /* 수단별 결제금액:제휴카드2      */
ALLIANCE_CARD_AMT3     10         /* 수단별 결제금액:제휴카드3      */
OTHER_CARD_AMT         10         /* 수단별 결제금액:타사카드       */
SHIN_DEBIT_AMT         10         /* 수단별 결제금액:제휴직불카드   */
DEBIT_AMT              10         /* 수단별 결제금액:직불카드       */
OTHER_ETC_AMT          10         /* 수단별 결제금액:기타매출       */
NOADD_AMT              10         /* 수단별 결제금액:미적립결제액   */
SPOINT_AMT             10         /* 수단별 결제금액:S-POINT사용    */
FILLER_AMT1            10         /* 수단별 결제금액:여분1          */
FILLER_AMT2            10         /* 수단별 결제금액:여분2          */
NOPOINT_PROD_AMT       10         /* 포인트미적립상품금액           */
TOT_TRADE_AMT          10         /* 총거래금액                     */
TPOINT                  8         /* 누적포인트                     */
UBPOINT                 8         /* 가용포인트                     */
GPOINT                  8         /* 금회포인트                     */
CAMPAIGN_CLUB1          5         /* 캠페인:클럽ID1                 */
CAMPAIGN_AMT1          10         /* 캠페인:기준금액1               */
CAMPAIGN_CLUB2          5         /* 캠페인:클럽ID2                 */
CAMPAIGN_AMT2          10         /* 캠페인:기준금액2               */
CAMPAIGN_CLUB3          5         /* 캠페인:클럽ID3                 */
CAMPAIGN_AMT3          10         /* 캠페인:기준금액3               */
EXTINCT_POINT           8         /* 소멸예정포인트                 */
BASE_APOINT             8         /* 발생포인트:기본적립            */
PROD_APOINT             8         /* 발생포인트:상품적립            */
CLUB_APOINT             8         /* 발생포인트:클럽적립            */
EVENT_APOINT            8         /* 발생포인트:이벤트적립          */
ETC_APOINT              8         /* 발생포인트:기타적립            */
CLUB01                  5         /* 클럽속성:클럽ID01              */
CLUB02                  5         /* 클럽속성:클럽ID02              */
CLUB03                  5         /* 클럽속성:클럽ID03              */
CLUB04                  5         /* 클럽속성:클럽ID04              */
CLUB05                  5         /* 클럽속성:클럽ID05              */
CLUB06                  5         /* 클럽속성:클럽ID06              */
CLUB07                  5         /* 클럽속성:클럽ID07              */
CLUB08                  5         /* 클럽속성:클럽ID08              */
CLUB09                  5         /* 클럽속성:클럽ID09              */
CLUB10                  5         /* 클럽속성:클럽ID10              */
CLUB11                  5         /* 클럽속성:클럽ID11              */
CLUB12                  5         /* 클럽속성:클럽ID12              */
CLUB13                  5         /* 클럽속성:클럽ID13              */
CLUB14                  5         /* 클럽속성:클럽ID14              */
CLUB15                  5         /* 클럽속성:클럽ID15              */
CLUB16                  5         /* 클럽속성:클럽ID16              */
CLUB17                  5         /* 클럽속성:클럽ID17              */
CLUB18                  5         /* 클럽속성:클럽ID18              */
CLUB19                  5         /* 클럽속성:클럽ID19              */
CLUB20                  5         /* 클럽속성:클럽ID20              */
CONV_CUST_FLG           1         /* 전환고객여부                   */
CUST_NAME_FLG           1         /* 고객명존재여부                 */
CASH_RECPT_FLG          1         /* 핸드폰번호여부                 */
MOBILE_NO              30         /* 핸드폰번호                     */
REJCT_GB                1         /* 취소구분(적립취소/사용취소)    */
CASH_SAVING_GB          1         /* 잔돈적립카드여부               */
ASIANA_GB               1         /* 아시아니카드여부               */
BASIS_CARNO1           12         /* 주차정산:고정차량1             */
BASIS_CARNO2           12         /* 주차정산:고정차량2             */
TODAY_CARNO             6         /* 주차정산:당일차량              */
OTRADE_BUSI_DT          8         /* 원거래영업일자                 */
OTRADE_STCD             4         /* 원거래점번호                   */
OTRADE_POSNO            4         /* 원거래POS번호                  */
OTRADE_RECPT_NO        20         /* 원거래영수증번호               */
OTRADE_AMT             10         /* 원거래금액                     */
REPLY_CD                4         /* 응답코드                       */
SYSTEM_CRE_DT           8         /* 시스템일자                     */
SYSTEM_CRE_TM           6         /* 시스템시간                     */
CUST_NAME              40         /* 고객명                         */
REPLY_MESG             40         /* 영수증출력메시지               */
APP_POINT_GB            2         /* APP포인트카드구분              */
APP_POINT_FLG          10         /* APP포인트카드구분자            */
FILLER                100         /* 여분                           */

strMsgLen
strMsgText
strTradeGbCd
strBusiDt
strTradeGentdDt
strTradeGentdTm
strTradeGentdStcd
strTradeGentdPosno
strTradeNo
strDoByid
strCardNo
strCustId
strInputFlg
strBrchId
strRecptNo
strPasswd
strGiftcardAmt
strCashAmt
strGiftcardPayAmt
strMGiftcardPayAmt
strShinCardAmt
strAllianceCardAmt1
strAllianceCardAmt2
strAllianceCardAmt3
strOtherCardAmt
strShinDebitAmt
strDebitAmt
strOtherEtcAmt
strNoaddAmt
strSpointAmt
strFillerAmt1
strFillerAmt2
strNopointProdAmt
strTotTradeAmt
strTpoint
strUbpoint
strGpoint
strCampaignClub1
strCampaignAmt1
strCampaignClub2
strCampaignAmt2
strCampaignClub3
strCampaignAmt3
strExtinctPoint
strBaseApoint
strProdApoint
strClubApoint
strEventApoint
strEtcApoint
strClub01
strClub02
strClub03
strClub04
strClub05
strClub06
strClub07
strClub08
strClub09
strClub10
strClub11
strClub12
strClub13
strClub14
strClub15
strClub16
strClub17
strClub18
strClub19
strClub20
strConvCustFlg
strCustNameFlg
strCashRecptFlg
strMobileNo
strRejctGb
strCashSavingGb
strAsianaGb
strBasisCarno1
strBasisCarno2
strTodayCarno
strOtradeBusiDt
strOtradeStcd
strOtradePosno
strOtradeRecptNo
strOtradeAmt
strReplyCd
strSystemCreDt
strSystemCreTm
strCustName
strReplyMesg
strAppPointGb
strAppPointFlg
strFiller


	MSG_LEN           ('N', ' ',   0,   4, "MSG_LEN"            , "전문총길이"                     , ""),
	MSG_TEXT          ('C', ' ',   4,  10, "MSG_TEXT"           , "전문구분"                       , ""),
	TRADE_GB_CD       ('N', ' ',  14,   6, "TRADE_GB_CD"        , "거래구분코드"                   , ""),
	BUSI_DT           ('N', ' ',  20,   8, "BUSI_DT"            , "영업일자"                       , ""),
	TRADE_GENTD_DT    ('N', ' ',  28,   4, "TRADE_GENTD_DT"     , "거래발생일자"                   , ""),
	TRADE_GENTD_TM    ('N', ' ',  32,   6, "TRADE_GENTD_TM"     , "거래발생시간"                   , ""),
	TRADE_GENTD_STCD  ('N', ' ',  38,   4, "TRADE_GENTD_STCD"   , "거래발생점번호"                 , ""),
	TRADE_GENTD_POSNO ('N', ' ',  42,   4, "TRADE_GENTD_POSNO"  , "거래발생POS번호"                , ""),
	TRADE_NO          ('N', ' ',  46,   4, "TRADE_NO"           , "거래번호"                       , ""),
	DO_BYID           ('N', ' ',  50,   6, "DO_BYID"            , "담당자사번"                     , ""),
	CARD_NO           ('N', ' ',  56,  60, "CARD_NO"            , "카드번호"                       , ""),
	CUST_ID           ('N', ' ', 116,   9, "CUST_ID"            , "고객고유번호"                   , ""),
	INPUT_FLG         ('N', ' ', 125,   1, "INPUT_FLG"          , "포인트카드인식구분"             , ""),
	BRCH_ID           ('N', ' ', 126,  10, "BRCH_ID"            , "가맹점ID"                       , ""),
	RECPT_NO          ('N', ' ', 136,  20, "RECPT_NO"           , "영수증번호"                     , ""),
	PASSWD            ('N', ' ', 156,   4, "PASSWD"             , "비밀번호"                       , ""),
	GIFTCARD_AMT      ('N', ' ', 160,  10, "GIFTCARD_AMT"       , "상품권금액"                     , ""),
	CASH_AMT          ('N', ' ', 170,  10, "CASH_AMT"           , "수단별 결제금액:현금"           , ""),
	GIFTCARD_PAY_AMT  ('N', ' ', 180,  10, "GIFTCARD_PAY_AMT"   , "수단별 결제금액:상품권"         , ""),
	M_GIFTCARD_PAY_AMT('N', ' ', 190,  10, "M_GIFTCARD_PAY_AMT" , "수단별 결제금액:상품권(모바일)" , ""),
	SHIN_CARD_AMT     ('N', ' ', 200,  10, "SHIN_CARD_AMT"      , "수단별 결제금액:신세계시티"     , ""),
	ALLIANCE_CARD_AMT1('N', ' ', 210,  10, "ALLIANCE_CARD_AMT1" , "수단별 결제금액:제휴카드1"      , ""),
	ALLIANCE_CARD_AMT2('N', ' ', 220,  10, "ALLIANCE_CARD_AMT2" , "수단별 결제금액:제휴카드2"      , ""),
	ALLIANCE_CARD_AMT3('N', ' ', 230,  10, "ALLIANCE_CARD_AMT3" , "수단별 결제금액:제휴카드3"      , ""),
	OTHER_CARD_AMT    ('N', ' ', 240,  10, "OTHER_CARD_AMT"     , "수단별 결제금액:타사카드"       , ""),
	SHIN_DEBIT_AMT    ('N', ' ', 250,  10, "SHIN_DEBIT_AMT"     , "수단별 결제금액:제휴직불카드"   , ""),
	DEBIT_AMT         ('N', ' ', 260,  10, "DEBIT_AMT"          , "수단별 결제금액:직불카드"       , ""),
	OTHER_ETC_AMT     ('N', ' ', 270,  10, "OTHER_ETC_AMT"      , "수단별 결제금액:기타매출"       , ""),
	NOADD_AMT         ('N', ' ', 280,  10, "NOADD_AMT"          , "수단별 결제금액:미적립결제액"   , ""),
	SPOINT_AMT        ('N', ' ', 290,  10, "SPOINT_AMT"         , "수단별 결제금액:S-POINT사용"    , ""),
	FILLER_AMT1       ('N', ' ', 300,  10, "FILLER_AMT1"        , "수단별 결제금액:여분1"          , ""),
	FILLER_AMT2       ('N', ' ', 310,  10, "FILLER_AMT2"        , "수단별 결제금액:여분2"          , ""),
	NOPOINT_PROD_AMT  ('N', ' ', 320,  10, "NOPOINT_PROD_AMT"   , "포인트미적립상품금액"           , ""),
	TOT_TRADE_AMT     ('N', ' ', 330,  10, "TOT_TRADE_AMT"      , "총거래금액"                     , ""),
	TPOINT            ('N', ' ', 340,   8, "TPOINT"             , "누적포인트"                     , ""),
	UBPOINT           ('N', ' ', 348,   8, "UBPOINT"            , "가용포인트"                     , ""),
	GPOINT            ('N', ' ', 356,   8, "GPOINT"             , "금회포인트"                     , ""),
	CAMPAIGN_CLUB1    ('N', ' ', 364,   5, "CAMPAIGN_CLUB1"     , "캠페인:클럽ID1"                 , ""),
	CAMPAIGN_AMT1     ('N', ' ', 369,  10, "CAMPAIGN_AMT1"      , "캠페인:기준금액1"               , ""),
	CAMPAIGN_CLUB2    ('N', ' ', 379,   5, "CAMPAIGN_CLUB2"     , "캠페인:클럽ID2"                 , ""),
	CAMPAIGN_AMT2     ('N', ' ', 384,  10, "CAMPAIGN_AMT2"      , "캠페인:기준금액2"               , ""),
	CAMPAIGN_CLUB3    ('N', ' ', 394,   5, "CAMPAIGN_CLUB3"     , "캠페인:클럽ID3"                 , ""),
	CAMPAIGN_AMT3     ('N', ' ', 399,  10, "CAMPAIGN_AMT3"      , "캠페인:기준금액3"               , ""),
	EXTINCT_POINT     ('N', ' ', 409,   8, "EXTINCT_POINT"      , "소멸예정포인트"                 , ""),
	BASE_APOINT       ('N', ' ', 417,   8, "BASE_APOINT"        , "발생포인트:기본적립"            , ""),
	PROD_APOINT       ('N', ' ', 425,   8, "PROD_APOINT"        , "발생포인트:상품적립"            , ""),
	CLUB_APOINT       ('N', ' ', 433,   8, "CLUB_APOINT"        , "발생포인트:클럽적립"            , ""),
	EVENT_APOINT      ('N', ' ', 441,   8, "EVENT_APOINT"       , "발생포인트:이벤트적립"          , ""),
	ETC_APOINT        ('N', ' ', 449,   8, "ETC_APOINT"         , "발생포인트:기타적립"            , ""),
	CLUB01            ('N', ' ', 457,   5, "CLUB01"             , "클럽속성:클럽ID01"              , ""),
	CLUB02            ('N', ' ', 462,   5, "CLUB02"             , "클럽속성:클럽ID02"              , ""),
	CLUB03            ('N', ' ', 467,   5, "CLUB03"             , "클럽속성:클럽ID03"              , ""),
	CLUB04            ('N', ' ', 472,   5, "CLUB04"             , "클럽속성:클럽ID04"              , ""),
	CLUB05            ('N', ' ', 477,   5, "CLUB05"             , "클럽속성:클럽ID05"              , ""),
	CLUB06            ('N', ' ', 482,   5, "CLUB06"             , "클럽속성:클럽ID06"              , ""),
	CLUB07            ('N', ' ', 487,   5, "CLUB07"             , "클럽속성:클럽ID07"              , ""),
	CLUB08            ('N', ' ', 492,   5, "CLUB08"             , "클럽속성:클럽ID08"              , ""),
	CLUB09            ('N', ' ', 497,   5, "CLUB09"             , "클럽속성:클럽ID09"              , ""),
	CLUB10            ('N', ' ', 502,   5, "CLUB10"             , "클럽속성:클럽ID10"              , ""),
	CLUB11            ('N', ' ', 507,   5, "CLUB11"             , "클럽속성:클럽ID11"              , ""),
	CLUB12            ('N', ' ', 512,   5, "CLUB12"             , "클럽속성:클럽ID12"              , ""),
	CLUB13            ('N', ' ', 517,   5, "CLUB13"             , "클럽속성:클럽ID13"              , ""),
	CLUB14            ('N', ' ', 522,   5, "CLUB14"             , "클럽속성:클럽ID14"              , ""),
	CLUB15            ('N', ' ', 527,   5, "CLUB15"             , "클럽속성:클럽ID15"              , ""),
	CLUB16            ('N', ' ', 532,   5, "CLUB16"             , "클럽속성:클럽ID16"              , ""),
	CLUB17            ('N', ' ', 537,   5, "CLUB17"             , "클럽속성:클럽ID17"              , ""),
	CLUB18            ('N', ' ', 542,   5, "CLUB18"             , "클럽속성:클럽ID18"              , ""),
	CLUB19            ('N', ' ', 547,   5, "CLUB19"             , "클럽속성:클럽ID19"              , ""),
	CLUB20            ('N', ' ', 552,   5, "CLUB20"             , "클럽속성:클럽ID20"              , ""),
	CONV_CUST_FLG     ('C', ' ', 557,   1, "CONV_CUST_FLG"      , "전환고객여부"                   , ""),
	CUST_NAME_FLG     ('C', ' ', 558,   1, "CUST_NAME_FLG"      , "고객명존재여부"                 , ""),
	CASH_RECPT_FLG    ('C', ' ', 559,   1, "CASH_RECPT_FLG"     , "핸드폰번호여부"                 , ""),
	MOBILE_NO         ('N', ' ', 560,  30, "MOBILE_NO"          , "핸드폰번호"                     , ""),
	REJCT_GB          ('C', ' ', 590,   1, "REJCT_GB"           , "취소구분(적립취소/사용취소)"    , ""),
	CASH_SAVING_GB    ('C', ' ', 591,   1, "CASH_SAVING_GB"     , "잔돈적립카드여부"               , ""),
	ASIANA_GB         ('C', ' ', 592,   1, "ASIANA_GB"          , "아시아니카드여부"               , ""),
	BASIS_CARNO1      ('C', ' ', 593,  12, "BASIS_CARNO1"       , "주차정산:고정차량1"             , ""),
	BASIS_CARNO2      ('C', ' ', 605,  12, "BASIS_CARNO2"       , "주차정산:고정차량2"             , ""),
	TODAY_CARNO       ('N', ' ', 617,   6, "TODAY_CARNO"        , "주차정산:당일차량"              , ""),
	OTRADE_BUSI_DT    ('N', ' ', 623,   8, "OTRADE_BUSI_DT"     , "원거래영업일자"                 , ""),
	OTRADE_STCD       ('N', ' ', 631,   4, "OTRADE_STCD"        , "원거래점번호"                   , ""),
	OTRADE_POSNO      ('N', ' ', 635,   4, "OTRADE_POSNO"       , "원거래POS번호"                  , ""),
	OTRADE_RECPT_NO   ('N', ' ', 639,  20, "OTRADE_RECPT_NO"    , "원거래영수증번호"               , ""),
	OTRADE_AMT        ('N', ' ', 659,  10, "OTRADE_AMT"         , "원거래금액"                     , ""),
	REPLY_CD          ('N', ' ', 669,   4, "REPLY_CD"           , "응답코드"                       , ""),
	SYSTEM_CRE_DT     ('N', ' ', 673,   8, "SYSTEM_CRE_DT"      , "시스템일자"                     , ""),
	SYSTEM_CRE_TM     ('N', ' ', 681,   6, "SYSTEM_CRE_TM"      , "시스템시간"                     , ""),
	CUST_NAME         ('C', ' ', 687,  40, "CUST_NAME"          , "고객명"                         , ""),
	REPLY_MESG        ('C', ' ', 727,  40, "REPLY_MESG"         , "영수증출력메시지"               , ""),
	APP_POINT_GB      ('C', ' ', 767,   2, "APP_POINT_GB"       , "APP포인트카드구분"              , ""),
	APP_POINT_FLG     ('C', ' ', 769,  10, "APP_POINT_FLG"      , "APP포인트카드구분자"            , ""),
	FILLER            ('N', ' ', 779, 100, "FILLER"             , "여분"                           , ""),




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

AP(CPU) Qualcom/MediaTek

	http://cafe.naver.com/refurbishfactory/24077

	http://cafe.naver.com/refurbishfactory/31350

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

			SELECT       /* HH14065I.getAppCoupon */
			    B.CMPGN_NO                                          AS CMPGN_NO
			    , B.CHNNL_NO                                        AS CHNNL_NO
			    , A.EVNT_NO                                         AS EVENT_CODE       /* 이벤트코드 */
			    , C.POS_EVENT_NM                                    AS EVENT_NAME       /* 이벤트명 */
			    , '이마트 전점 사용가능(이마트몰,트레이더스,몰리스,분스,에브리데이 제외)'  AS EVENT_JIJUM      /* 변경할 것 : 쿠폰사용가능점포 */
			    , TO_CHAR(C.EVENT_START_DATE,'YYYYMMDD')            AS EVENT_START_DATE /* 행사시작일 */
			    , TO_CHAR(C.EVENT_END_DATE  ,'YYYYMMDD')            AS EVENT_END_DATE   /* 행사종료일 */
			    , TO_CHAR(C.EVENT_START_DATE,'YYYYMMDD')            AS SRV_START_DATE   /* 변경할 것 : 쿠폰사용시작일 */
			    , TO_CHAR(C.EVENT_END_DATE  ,'YYYYMMDD')            AS SRV_END_DATE     /* 변경할 것 : 쿠폰사용종료일 */
			    , '5만원 이상 결제시 2천원 할인'                    AS EVENT_CONDITION  /* 변경할 것 : 사용조건 */
			    , '1.이마트 매장 계산대에서 본 쿠폰을 제시해주세요.'          AS EVENT_NOTICE     /* 변경할 것 : 안내내용 */
			    , 'N'                                               AS GIFT_FLAG        /* 변경할 것 : 선물가능여부 */
			    , '1'                                               AS STAMP_NUM        /* 변경할 것 : 1인최대발급개수 */
			    , '0'                                               AS LIMIT_DOWN_NUM   /* 변경할 것 : 발급수량제한 */
			    , '1'                                               AS LIMIT_ISSUE_NUM  /* 변경할 것 : 1인발급가능갯수 */
			    , 'P'                                               AS CPN_ISSUE_TYPE   /* 변경할 것 : 쿠폰발급형태 P:선발행  A:후발행 */
				, TO_CHAR(C.EVENT_START_DATE,'YYYYMMDD')            AS LIMIT_START_DT   /* 변경할 것 : 제한시작일자  20151101 */
				, '080000'                                          AS LIMIT_START_TM   /* 변경할 것 : 제한시작시간  080000   */
				, TO_CHAR(C.EVENT_END_DATE  ,'YYYYMMDD')            AS LIMIT_END_DT     /* 변경할 것 : 제한종료일자  20151101 */
				, '235959'                                          AS LIMIT_END_TM     /* 변경할 것 : 제한종료시간  235959   */
				, '1000'                                            AS LIMIT_CNT        /* 변경할 것 : 제한수량      1000     */
			FROM
			    CMSVIEW.CM_CMPGN_MST     A
			    , CMSVIEW.CM_CMPGN_EXCT  B
			    , TCVM.MTEVD_POS_THEME   C
			WHERE 1=1
			    AND A.CMPGN_NO = #cmpgn_no#  /* 'H20151205000002001' */
			    AND B.CMPGN_NO = A.CMPGN_NO
			    AND B.CHNNL_NO = #chnnl_no#  /* 'APT0000151205001' */
			    AND C.POS_EVENT_NO = A.EVNT_NO


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


안녕하세요.이마트2팀이경렬입니다.

FN_GET_CHECK_DIGIT사용권한이완료되었습니다.

FUNCTION사용법은행사코드(10) +고객CID에서C를제외한 8자리를합하면됩니다.

EX) SELECT FN_GET_CHECK_DIGIT('2201503215' || '74625146')FROM DUAL

FN_VARIDATION_CHECK_DIGIT는생성된바코드체크하는함수입니다.

EX) SELECT FN_VARIDATION_CHECK_DIGIT('2201503215' || '74625146' ||'8')FROM DUAL

감사합니다.



mms funtion 설명입니다..


================================
안 필 재 Manager
신세계 I&C
이마트팀 / CRM 기획
Tel: 02-380-5613   Mobile: 010-4388-8102
e-mail : apisblue@shinsegae.com
================================



보낸 사람: 이경렬(mvno 고객ㆍ할인) - 이마트2팀
보낸 날짜: 2015-11-26 PM 5:34:26
제목: fw: mms 정보 전달건.

안녕하세요. 과장님
밑에 방법으로 넣으셔도 되요.

From:이경렬(MVNO고객ㆍ할인) -이마트2팀
Sent: Friday, November 06, 2015 5:21 PM
To: 이종회(MVNO고객ㆍ할인) -이마트2팀;배동섭(MVNO고객 ·할인) -이마트2팀
Subject: MMS 정보전달건.

안녕하세요. 이마트2팀 이경렬입니다.

행사마스터 등록.
INSERT INTO MMS_EVENT_MST
    (    EVENT_CODE
        ,EVENT_DESC
        ,EVENT_START_DATE
        ,EVENT_END_DATE
        ,COUPON_DESC
        ,BRCH_ID
        ,PRINT_GB
        ,EVENT_TYPE
        ,CUST_CNT
        ,SEND_CNT
        ,INSERT_ID
        ,MODIFY_ID
        ,INSERT_DATE
        ,MODIFY_DATE
    ) VALUES (
           #{POS_EVENT_NO}     -- 행사코드
          ,#{POS_EVENT_NM,javaType=string,jdbcType=VARCHAR} || ' - ' ||  #{INPUT_EVENT_NM,javaType=string,jdbcType=VARCHAR}     --행사설명
          ,#{EVENT_START_DATE} -- 행사시작일자
          ,#{EVENT_END_DATE}   -- 행사종료일자
          ,#{COUPON_DESC,javaType=string,jdbcType=VARCHAR}    -- 쿠폰설명
          ,’’        -- 가맹점코드
          ,1       -- 정산구분
          ,#{EVENT_TYPE}     -- 행사종류(1: MMS, 2:SMS, 3:앱쿠폰)
          ,0         -- 업로드한 고객수
          ,NULL             -- MMS전송건수
          ,#{INSERT_ID}      -- 입력자
          ,#{INSERT_ID}      -- 수정자
          ,SYSDATE
          ,SYSDATE
    )


쿠폰마스터 등록.
INSERT INTO MMS_CUST_MST (

             EVENT_CODE

            ,CUST_NO

            ,BARCODE_NO

            ,BRCH_ID

            ,COUPON_TYPE

            ,INSERT_ID

            ,MODIFY_ID

            ,INSERT_DATE

            ,MODIFY_DATE

) VALUES (  #{event_code}

            ,#{cust_no}

            ,#{event_code} || SUBSTR(#{cust_no},2) ||

                (SELECT   (SELECT   SUBSTR (TO_CHAR (10 - MOD (CHECK_VALUE, 10), 'B9999999'), -1)

                            FROM   (    SELECT SUM(CASE

                                                        WHEN MOD (LEVEL, 2) = 1

                                                        THEN

                                                           TO_NUMBER(SUBSTR ( #{event_code} || SUBSTR(#{cust_no}, 2), -LEVEL, 1)) * 3

                                                        ELSE

                                                           TO_NUMBER(SUBSTR ( #{event_code} || SUBSTR(#{cust_no}, 2), -LEVEL, 1)) * 1

                                                       END)

                                                    CHECK_VALUE

                                           FROM DUAL

                                    CONNECT BY LEVEL  LENGTH (#{event_code} || SUBSTR(#{cust_no}, 2))))

                  FROM   DUAL)

            ,#{brch_id}    -- 가맹점코드

            ,'01'

            ,#{insert_id}

            ,#{insert_id}

            ,SYSDATE

            ,SYSDATE

)

행사 코드는 : event_code
고객 cid : #{cust_no}
가맹점 코드 brch_id : E000010344

로 입력하면 됩니다.

접속 정보는 밑에 있습니다.

감사합니다.

--------------------
개발기 (mms/mmsadmin)
MMS.TEST=
  (DESCRIPTION=
    (ADDRESS=
      (PROTOCOL=TCP)
      (HOST=174.100.29.31)
      (PORT=1521)
    )
    (CONNECT_DATA=
      (SERVER=dedicated)
      (SERVICE_NAME=BOONS)
    )
  )
운영기(mms/mms)
BOONS_APP=
  (DESCRIPTION=
    (ADDRESS=
      (PROTOCOL=TCP)
      (HOST=174.100.29.37)
      (PORT=1521)
    )
    (CONNECT_DATA=
      (SERVICE_NAME=BOONS)
    )
  )


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

public class FTPDownloadFileDemo {
 
    public static void main(String[] args) {
        String server = "www.myserver.com";
        int port = 21;
        String user = "user";
        String pass = "pass";
 
        FTPClient ftpClient = new FTPClient();
        try {
 
            ftpClient.connect(server, port);
            ftpClient.login(user, pass);
            ftpClient.enterLocalPassiveMode();
            ftpClient.setFileType(FTP.BINARY_FILE_TYPE);
 






            // APPROACH #1: using retrieveFile(String, OutputStream)
            String remoteFile1 = "/test/video.mp4";
            File downloadFile1 = new File("D:/Downloads/video.mp4");
            OutputStream outputStream1 = new BufferedOutputStream(new FileOutputStream(downloadFile1));
            boolean success = ftpClient.retrieveFile(remoteFile1, outputStream1);
            outputStream1.close();
 
            if (success) {
                System.out.println("File #1 has been downloaded successfully.");
            }
 






            // APPROACH #2: using InputStream retrieveFileStream(String)
            String remoteFile2 = "/test/song.mp3";
            File downloadFile2 = new File("D:/Downloads/song.mp3");
            OutputStream outputStream2 = new BufferedOutputStream(new FileOutputStream(downloadFile2));
            InputStream inputStream = ftpClient.retrieveFileStream(remoteFile2);
            byte[] bytesArray = new byte[4096];
            int bytesRead = -1;
            while ((bytesRead = inputStream.read(bytesArray)) != -1) {
                outputStream2.write(bytesArray, 0, bytesRead);
            }
 
            success = ftpClient.completePendingCommand();
            if (success) {
                System.out.println("File #2 has been downloaded successfully.");
            }
            outputStream2.close();
            inputStream.close();
 
        } catch (IOException ex) {
            System.out.println("Error: " + ex.getMessage());
            ex.printStackTrace();
        } finally {
            try {
                if (ftpClient.isConnected()) {
                    ftpClient.logout();
                    ftpClient.disconnect();
                }
            } catch (IOException ex) {
                ex.printStackTrace();
            }
        }
    }
}


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


SHOW TABLE CM_GFT_CUST_LST;

DROP TABLE CM_GFT_CUST_LST_KANG;

-- CREATE TABLE
CREATE SET TABLE CMSDATA.CM_GFT_CUST_LST_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO (
      EVENT_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이벤트ID' NOT NULL,
      GIFT_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '경품ID' NOT NULL,
      CUST_ID VARCHAR(9) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '고객ID' NOT NULL,
      CUST_NM VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '고객명',
      STORE_CD VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '경품수령신청점포코드',
      GIFT_STORE_CD VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '실수령점포코드',
	  PRESENT_DT VARCHAR(8) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '경품증정일자',
	  PRESENT_YN VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '증정여부',
      SYS_CRTN_DTTM TIMESTAMP(0) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(0) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( EVENT_ID ,GIFT_ID ,CUST_ID );


-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_GFT_CUST_LST_KANG
SELECT
	EVENT_ID
	, GIFT_ID
	, CUST_ID
	, CUST_NM
	, STORE_CD
	, NULL  -- GIFT_STORE_CD
	, NULL  -- PRESENT_DT
	, 'N'  -- PRESENT_YN
	, SYS_CRTN_DTTM
	, SYS_UPDT_DTTM
	, SYS_FRST_OPRTN_ID
	, SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_GFT_CUST_LST
;

SELECT * FROM CMSDATA.CM_GFT_CUST_LST_KANG;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_GFT_CUST_LST;

-- RENAME
RENAME TABLE CMSDATA.CM_GFT_CUST_LST_KANG TO CMSDATA.CM_GFT_CUST_LST;

-- MAKE VIEW
REPLACE VIEW CMSVIEW.CM_GFT_CUST_LST
	AS LOCKING TABLE CMSDATA.CM_GFT_CUST_LST
	FOR ACCESS (SELECT * FROM CMSDATA.CM_GFT_CUST_LST);


SELECT * FROM CMSVIEW.CM_GFT_CUST_LST;

CREATE TABLE CMSDATA_DEV.CM_GFT_CUST_LST  AS CMSDATA.CM_GFT_CUST_LST  WITH DATA;



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------



SELECT A.CMPGN_RQST_ID, A.* FROM CMSVIEW.CM_CMPGN_MST A WHERE A.CMPGN_NO = 'C20151211103812089';

SELECT * FROM CMSVIEW.CM_CMPGN_EXCT WHERE CMPGN_NO = 'C20151211103812089';

SELECT
	*
FROM
	CMSVIEW.CM_CMMN_CD
WHERE 1=1
	AND GRP_CD IN ('CM030', 'CM031', 'CM032')
ORDER BY
	GRP_CD, COMM_CD
;

SELECT
	*
FROM
	CMSVIEW.CM_CMPGN_ALRM_MSG
WHERE 1=1
ORDER BY
	MSG_ID
;

--UPDATE
	CMSDATA.CM_CMPGN_MST
SET
	--CMPGN_RQST_ID = '112644'
	--CMPGN_RQST_ID = '031880'
	CMPGN_RQST_ID = '981302'
WHERE
	CMPGN_NO = 'C20151211103812089'
;

SELECT
	A.CMPGN_RQST_ID
	, A.*
FROM
	CMSVIEW.CM_CMPGN_MST A
WHERE
	A.CMPGN_NO = 'C20151211103812089'
;



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


-----------------------------------------------------------------------------------

		SELECT DISTINCT 'LMS'||STORECD
		  	   ||TO_CHAR(CURRENT_DATE,'YYMMDD')
		  	   ||CAST(CAST( (SELECT NVL(MAX(CAST(SUBSTRING (CHNNL_NO FROM 14) AS INTEGER)),0)+1
		  					 FROM CM_CHNNL_LMS) AS FORMAT'-9(3)') AS CHAR(3)) AS CHNNL_CD
		  FROM TSVM.CMS_USER_CRM
		 WHERE CHRGPERS_CD = '031880'



		SELECT DISTINCT 'LMS'||STORECD
		  	   ||TO_CHAR(CURRENT_DATE,'YYMMDD')
		  	   ||CAST(CAST( (SELECT NVL(MAX(CAST(SUBSTRING (CHNNL_NO FROM 14) AS INTEGER)),0)+1
		  					 FROM CM_CHNNL_LMS
							 WHERE CHNNL_NO LIKE '_______' || TO_CHAR(CURRENT_DATE,'YYMMDD') || '%'
							 ) AS FORMAT'-9(3)') AS CHAR(3)) AS CHNNL_CD
		  FROM TSVM.CMS_USER_CRM
		 WHERE CHRGPERS_CD = '031880'


-----------------------------------------------------------------------------------



		SELECT 'C'||TO_CHAR(CURRENT_DATE,'YYYYMMDD')
			   ||STORECD
			   ||CAST(CAST( (SELECT NVL(MAX(CAST(SUBSTRING (CMPGN_NO FROM 14) AS INTEGER)),0)+1
		  					 FROM CMSVIEW.CM_CMPGN_MST) AS FORMAT'-9(5)') AS CHAR(5)) AS CMPGN_NO
		  FROM TSVM.CMS_USER_CRM
		 WHERE CHRGPERS_CD ='031880'


		SELECT 'C'||TO_CHAR(CURRENT_DATE,'YYYYMMDD')
			   ||STORECD
			   ||CAST(CAST( (SELECT NVL(MAX(CAST(SUBSTRING (CMPGN_NO FROM 14) AS INTEGER)),0)+1
		  					 FROM CMSVIEW.CM_CMPGN_MST
							 WHERE CMPGN_NO LIKE 'C' || TO_CHAR(CURRENT_DATE,'YYYYMMDD') || '%'
							 ) AS FORMAT'-9(5)') AS CHAR(5)) AS CMPGN_NO
		  FROM TSVM.CMS_USER_CRM
		 WHERE CHRGPERS_CD ='031880'



-----------------------------------------------------------------------------------



		select * from cm_chnnl_lms order by chnnl_no desc;




SELECT NVL(MAX(CAST(SUBSTRING (CHNNL_NO FROM 14) AS INTEGER)),0)+1
		  					 FROM CM_CHNNL_LMS

SELECT MAX(CAST(SUBSTRING (CHNNL_NO FROM 14) AS INTEGER))
		  					 FROM CM_CHNNL_LMS

SELECT CAST(SUBSTRING (CHNNL_NO FROM 14) AS INTEGER)
		  					 FROM CM_CHNNL_LMS

SELECT SUBSTRING (A.CHNNL_NO FROM 14), A.*
		  					 FROM CM_CHNNL_LMS		a where chnnl_no like 'LMS____151213%' order by SUBSTRING (A.CHNNL_NO FROM 14)










----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------




-------------------------------------------------------------------

CREATE TABLE SCOTT.DEPT
(
	DEPTNO  NUMBER(2)    NOT NULL PRIMARY KEY ,
	DNAME   VARCHAR2(14) ,
	LOC     VARCHAR2(13)
);

COMMENT ON TABLE SCOTT.DEPT IS '부서정보';

COMMENT ON COLUMN SCOTT.DEPT.DEPTNO IS '부서코드';
COMMENT ON COLUMN SCOTT.DEPT.DNAME  IS '부서명'  ;
COMMENT ON COLUMN SCOTT.DEPT.LOC    IS '위치'    ;

-------------------------------------------------------------------

CREATE TABLE SCOTT.EMP
(
	EMPNO   NUMBER(2)     NOT NULL PRIMARY KEY,
	ENAME   VARCHAR2(10)  ,
	DEPTNO  NUMBER(2)     ,
	ADDR    VARCHAR2(100) ,
	CONSTRAINT "FOREIGN_DEPTNO" FOREIGN KEY (DEPTNO) REFERENCES SCOTT.DEPT(DEPTNO)
);

COMMENT ON TABLE SCOTT.DEPT IS '사원정보';

COMMENT ON COLUMN SCOTT.EMP.EMPNO  IS '사번'    ;
COMMENT ON COLUMN SCOTT.EMP.ENAME  IS '이름'    ;
COMMENT ON COLUMN SCOTT.EMP.DEPTNO IS '부서코드';
COMMENT ON COLUMN SCOTT.EMP.ADDR   IS '주소'    ;

-------------------------------------------------------------------

CREATE TABLE SCOTT.BONUS
(
	ID      NUMBER(3)    NOT NULL PRIMARY KEY,
	EMPNO   NUMBER(2)    ,
	JOB     VARCHAR2(9)  ,
	SAL     NUMBER       ,
	COMM    NUMBER       ,
	CONSTRAINT "FOREIGN_EMPNO" FOREIGN KEY (EMPNO) REFERENCES SCOTT.EMP(EMPNO)
);

COMMENT ON TABLE SCOTT.DEPT IS '보너스정보';

COMMENT ON COLUMN SCOTT.BONUS.ID     IS 'ID'    ;
COMMENT ON COLUMN SCOTT.BONUS.EMPNO  IS '이름'  ;
COMMENT ON COLUMN SCOTT.BONUS.JOB    IS '직위'  ;
COMMENT ON COLUMN SCOTT.BONUS.SAL    IS '본봉'  ;
COMMENT ON COLUMN SCOTT.BONUS.COMM   IS '보너스';

-------------------------------------------------------------------


오라클
스크립트로 Reverse Engineer 하여 Comment를 논리명으로 변경하기
1)  Tools => Reverse Engineer
    New Model Type : Logical/Physical 선택
    Toget Database : Oracle / 10.x/11.x 선택
    Next
    Reverse Engineer From : Script File 선택하여 파일 지정
2) Physical 모델 선택
   테이블 전체 선택
   테이블을 외 공간에서 마우스 오른쪽 클릭  => 메뉴 : Harden Physical Names 클릭
3) Logical 모델 선택

   Model => Domain dictionary
   Macro Toolbox 버튼 클릭
   Macros -> Attribute Macro -> %ColumnComment 선택
   Colse 버튼 클릭
   Name Inherited by Attribute : %ColumnComment 만 남기고 삭제
   OK 버튼 클릭

   Model => Attribute
   Reset 버튼 클릭
   Remove overrridden properties for : Reset all attributes in model 선택
   Select Properties to Reset : Definition 제거 / Domain Parent 제거 / Logical Data Type 제거
Logical Only 선택
   OK 버튼 클릭
4) 완료



----------------------------------------------------------------------------------------------------

[ IDEF1X <-> IE ] 모델 표기볍 변경

	Model > Model properties > Notation > IE/IDEF1X

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

CREATE TABLE CMSDATA_BAK.CM_AMT_RSPNS_SMM_151213               AS CMSDATA.CM_AMT_RSPNS_SMM                WITH DATA;  -- 001
CREATE TABLE CMSDATA_BAK.CM_BDSRCT_RSPNS_SMM_151213            AS CMSDATA.CM_BDSRCT_RSPNS_SMM             WITH DATA;  -- 002
CREATE TABLE CMSDATA_BAK.CM_BST_CMPGN_151213                   AS CMSDATA.CM_BST_CMPGN                    WITH DATA;  -- 003
CREATE TABLE CMSDATA_BAK.CM_BUYTERM_DAY_151213                 AS CMSDATA.CM_BUYTERM_DAY                  WITH DATA;  -- 004
CREATE TABLE CMSDATA_BAK.CM_BUYTERM_WEEK_151213                AS CMSDATA.CM_BUYTERM_WEEK                 WITH DATA;  -- 005
CREATE TABLE CMSDATA_BAK.CM_CARD_CO_151213                     AS CMSDATA.CM_CARD_CO                      WITH DATA;  -- 006
CREATE TABLE CMSDATA_BAK.CM_CATCHMNT_INCRSS_RTO_SMM_151213     AS CMSDATA.CM_CATCHMNT_INCRSS_RTO_SMM      WITH DATA;  -- 007
CREATE TABLE CMSDATA_BAK.CM_CHNNL_ACHIVE_COMPRSM_SMM_151213    AS CMSDATA.CM_CHNNL_ACHIVE_COMPRSM_SMM     WITH DATA;  -- 008
CREATE TABLE CMSDATA_BAK.CM_CHNNL_APR_151213                   AS CMSDATA.CM_CHNNL_APR                    WITH DATA;  -- 009
CREATE TABLE CMSDATA_BAK.CM_CHNNL_APT_151213                   AS CMSDATA.CM_CHNNL_APT                    WITH DATA;  -- 010
CREATE TABLE CMSDATA_BAK.CM_CHNNL_BMS_151213                   AS CMSDATA.CM_CHNNL_BMS                    WITH DATA;  -- 011
CREATE TABLE CMSDATA_BAK.CM_CHNNL_DM_151213                    AS CMSDATA.CM_CHNNL_DM                     WITH DATA;  -- 012
CREATE TABLE CMSDATA_BAK.CM_CHNNL_DVD_WGHT_151213              AS CMSDATA.CM_CHNNL_DVD_WGHT               WITH DATA;  -- 013
CREATE TABLE CMSDATA_BAK.CM_CHNNL_EML_151213                   AS CMSDATA.CM_CHNNL_EML                    WITH DATA;  -- 014
CREATE TABLE CMSDATA_BAK.CM_CHNNL_LMS_151213                   AS CMSDATA.CM_CHNNL_LMS                    WITH DATA;  -- 015
CREATE TABLE CMSDATA_BAK.CM_CHNNL_MMS_151213                   AS CMSDATA.CM_CHNNL_MMS                    WITH DATA;  -- 016
CREATE TABLE CMSDATA_BAK.CM_CHNNL_PLCY_151213                  AS CMSDATA.CM_CHNNL_PLCY                   WITH DATA;  -- 017
CREATE TABLE CMSDATA_BAK.CM_CHNNL_POS_151213                   AS CMSDATA.CM_CHNNL_POS                    WITH DATA;  -- 018
CREATE TABLE CMSDATA_BAK.CM_CHNNL_RMNS_CNT_BY_DAY_151213       AS CMSDATA.CM_CHNNL_RMNS_CNT_BY_DAY        WITH DATA;  -- 019
CREATE TABLE CMSDATA_BAK.CM_CHNNL_RSPNS_SMM_151213             AS CMSDATA.CM_CHNNL_RSPNS_SMM              WITH DATA;  -- 020
CREATE TABLE CMSDATA_BAK.CM_CHNNL_SMS_151213                   AS CMSDATA.CM_CHNNL_SMS                    WITH DATA;  -- 021
CREATE TABLE CMSDATA_BAK.CM_CHNNL_TST_GRP_151213               AS CMSDATA.CM_CHNNL_TST_GRP                WITH DATA;  -- 022
CREATE TABLE CMSDATA_BAK.CM_CHNNL_TST_GRP_CUST_151213          AS CMSDATA.CM_CHNNL_TST_GRP_CUST           WITH DATA;  -- 023
CREATE TABLE CMSDATA_BAK.CM_CMMN_CD_151213                     AS CMSDATA.CM_CMMN_CD                      WITH DATA;  -- 024
CREATE TABLE CMSDATA_BAK.CM_CMPGN_ALRM_MSG_151213              AS CMSDATA.CM_CMPGN_ALRM_MSG               WITH DATA;  -- 025
CREATE TABLE CMSDATA_BAK.CM_CMPGN_CHNNL_151213                 AS CMSDATA.CM_CMPGN_CHNNL                  WITH DATA;  -- 026
CREATE TABLE CMSDATA_BAK.CM_CMPGN_CTGRY_151213                 AS CMSDATA.CM_CMPGN_CTGRY                  WITH DATA;  -- 027
CREATE TABLE CMSDATA_BAK.CM_CMPGN_DYNAMIC_151213               AS CMSDATA.CM_CMPGN_DYNAMIC                WITH DATA;  -- 028
CREATE TABLE CMSDATA_BAK.CM_CMPGN_EXCT_151213                  AS CMSDATA.CM_CMPGN_EXCT                   WITH DATA;  -- 029
CREATE TABLE CMSDATA_BAK.CM_CMPGN_HISTRY_151213                AS CMSDATA.CM_CMPGN_HISTRY                 WITH DATA;  -- 030
CREATE TABLE CMSDATA_BAK.CM_CMPGN_MST_151213                   AS CMSDATA.CM_CMPGN_MST                    WITH DATA;  -- 031
CREATE TABLE CMSDATA_BAK.CM_CMPGN_OFFR_151213                  AS CMSDATA.CM_CMPGN_OFFR                   WITH DATA;  -- 032
CREATE TABLE CMSDATA_BAK.CM_CMPGN_PLCY_151213                  AS CMSDATA.CM_CMPGN_PLCY                   WITH DATA;  -- 033
CREATE TABLE CMSDATA_BAK.CM_CMPGN_REG_151213                   AS CMSDATA.CM_CMPGN_REG                    WITH DATA;  -- 034
CREATE TABLE CMSDATA_BAK.CM_CMPGN_REG_DTL_151213               AS CMSDATA.CM_CMPGN_REG_DTL                WITH DATA;  -- 035
CREATE TABLE CMSDATA_BAK.CM_CMPGN_ROI_CUST_151213              AS CMSDATA.CM_CMPGN_ROI_CUST               WITH DATA;  -- 036
CREATE TABLE CMSDATA_BAK.CM_CMPGN_SCCS_CNDTN_CD_151213         AS CMSDATA.CM_CMPGN_SCCS_CNDTN_CD          WITH DATA;  -- 037
CREATE TABLE CMSDATA_BAK.CM_CMPGN_SCCS_CNDTN_DTL_151213        AS CMSDATA.CM_CMPGN_SCCS_CNDTN_DTL         WITH DATA;  -- 038
CREATE TABLE CMSDATA_BAK.CM_CMPGN_SIMUL_CUST_151213            AS CMSDATA.CM_CMPGN_SIMUL_CUST             WITH DATA;  -- 039
CREATE TABLE CMSDATA_BAK.CM_CMPGN_TRGT_CHC_151213              AS CMSDATA.CM_CMPGN_TRGT_CHC               WITH DATA;  -- 040
CREATE TABLE CMSDATA_BAK.CM_CMPGN_TRGT_CUST_151213             AS CMSDATA.CM_CMPGN_TRGT_CUST              WITH DATA;  -- 041
CREATE TABLE CMSDATA_BAK.CM_CMTN_PLN_151213                    AS CMSDATA.CM_CMTN_PLN                     WITH DATA;  -- 042
CREATE TABLE CMSDATA_BAK.CM_CTGRY_ACHIVE_COMPRSM_SMM_151213    AS CMSDATA.CM_CTGRY_ACHIVE_COMPRSM_SMM     WITH DATA;  -- 043
CREATE TABLE CMSDATA_BAK.CM_CTGY_INCRSS_RTO_SMM_151213         AS CMSDATA.CM_CTGY_INCRSS_RTO_SMM          WITH DATA;  -- 044
CREATE TABLE CMSDATA_BAK.CM_CULTURE_CD_151213                  AS CMSDATA.CM_CULTURE_CD                   WITH DATA;  -- 045
CREATE TABLE CMSDATA_BAK.CM_CUST_FAV_CHNNL_151213              AS CMSDATA.CM_CUST_FAV_CHNNL               WITH DATA;  -- 046
CREATE TABLE CMSDATA_BAK.CM_CUST_GRADE_151213                  AS CMSDATA.CM_CUST_GRADE                   WITH DATA;  -- 047
CREATE TABLE CMSDATA_BAK.CM_CUST_MST_151213                    AS CMSDATA.CM_CUST_MST                     WITH DATA;  -- 048
CREATE TABLE CMSDATA_BAK.CM_CUST_RSPNS_SMM_151213              AS CMSDATA.CM_CUST_RSPNS_SMM               WITH DATA;  -- 049
CREATE TABLE CMSDATA_BAK.CM_CUST_SCCSS_RSPNS_HSTRY_151213      AS CMSDATA.CM_CUST_SCCSS_RSPNS_HSTRY       WITH DATA;  -- 050
CREATE TABLE CMSDATA_BAK.CM_DAY_VISIT_EXCSS_SMM_151213         AS CMSDATA.CM_DAY_VISIT_EXCSS_SMM          WITH DATA;  -- 051
CREATE TABLE CMSDATA_BAK.CM_DAY_VISIT_INCRSS_SMM_151213        AS CMSDATA.CM_DAY_VISIT_INCRSS_SMM         WITH DATA;  -- 052
CREATE TABLE CMSDATA_BAK.CM_DIC_TBL_151213                     AS CMSDATA.CM_DIC_TBL                      WITH DATA;  -- 053
CREATE TABLE CMSDATA_BAK.CM_DT_RSPNS_SMM_151213                AS CMSDATA.CM_DT_RSPNS_SMM                 WITH DATA;  -- 054
CREATE TABLE CMSDATA_BAK.CM_EMART_RECPT_151213                 AS CMSDATA.CM_EMART_RECPT                  WITH DATA;  -- 055
CREATE TABLE CMSDATA_BAK.CM_EMART_SAMPLE_151213                AS CMSDATA.CM_EMART_SAMPLE                 WITH DATA;  -- 056
CREATE TABLE CMSDATA_BAK.CM_EMI_HQ_APPROVAL_151213             AS CMSDATA.CM_EMI_HQ_APPROVAL              WITH DATA;  -- 057
CREATE TABLE CMSDATA_BAK.CM_ETLJOB_LOG_151213                  AS CMSDATA.CM_ETLJOB_LOG                   WITH DATA;  -- 058
CREATE TABLE CMSDATA_BAK.CM_ETLJOB_MAST_151213                 AS CMSDATA.CM_ETLJOB_MAST                  WITH DATA;  -- 059
CREATE TABLE CMSDATA_BAK.CM_EVNT_MST_151213                    AS CMSDATA.CM_EVNT_MST                     WITH DATA;  -- 060
CREATE TABLE CMSDATA_BAK.CM_FORCST_SALE_151213                 AS CMSDATA.CM_FORCST_SALE                  WITH DATA;  -- 061
CREATE TABLE CMSDATA_BAK.CM_FORCST_SALE_ADD_151213             AS CMSDATA.CM_FORCST_SALE_ADD              WITH DATA;  -- 062
CREATE TABLE CMSDATA_BAK.CM_GFT_CUST_LST_151213                AS CMSDATA.CM_GFT_CUST_LST                 WITH DATA;  -- 063
CREATE TABLE CMSDATA_BAK.CM_GFT_MST_151213                     AS CMSDATA.CM_GFT_MST                      WITH DATA;  -- 064
CREATE TABLE CMSDATA_BAK.CM_HQ_RSLT_ANLYSS_SMM_151213          AS CMSDATA.CM_HQ_RSLT_ANLYSS_SMM           WITH DATA;  -- 065
CREATE TABLE CMSDATA_BAK.CM_MAP_INCRSS_RTO_SMM_151213          AS CMSDATA.CM_MAP_INCRSS_RTO_SMM           WITH DATA;  -- 066
CREATE TABLE CMSDATA_BAK.CM_MAP_INCRSS_RTO_SMM_UV_151213       AS CMSDATA.CM_MAP_INCRSS_RTO_SMM_UV        WITH DATA;  -- 067
CREATE TABLE CMSDATA_BAK.CM_MENU_LOGDATA_RS_151213             AS CMSDATA.CM_MENU_LOGDATA_RS              WITH DATA;  -- 068
CREATE TABLE CMSDATA_BAK.CM_MENU_LOGINFO_151213                AS CMSDATA.CM_MENU_LOGINFO                 WITH DATA;  -- 069
CREATE TABLE CMSDATA_BAK.CM_MON_VISIT_EXCSS_SMM_151213         AS CMSDATA.CM_MON_VISIT_EXCSS_SMM          WITH DATA;  -- 070
CREATE TABLE CMSDATA_BAK.CM_NTC_151213                         AS CMSDATA.CM_NTC                          WITH DATA;  -- 071
CREATE TABLE CMSDATA_BAK.CM_OFFR_ACHIVE_COMPRSM_SMM_151213     AS CMSDATA.CM_OFFR_ACHIVE_COMPRSM_SMM      WITH DATA;  -- 072
CREATE TABLE CMSDATA_BAK.CM_OFFR_EXP_INFO_151213               AS CMSDATA.CM_OFFR_EXP_INFO                WITH DATA;  -- 073
CREATE TABLE CMSDATA_BAK.CM_OFFR_SCCSS_MST_151213              AS CMSDATA.CM_OFFR_SCCSS_MST               WITH DATA;  -- 074
CREATE TABLE CMSDATA_BAK.CM_OFFR_SCCS_CNDTN_151213             AS CMSDATA.CM_OFFR_SCCS_CNDTN              WITH DATA;  -- 075
CREATE TABLE CMSDATA_BAK.CM_PGM_ID_151213                      AS CMSDATA.CM_PGM_ID                       WITH DATA;  -- 076
CREATE TABLE CMSDATA_BAK.CM_RSLT_ANLYSS_SMM_151213             AS CMSDATA.CM_RSLT_ANLYSS_SMM              WITH DATA;  -- 077
CREATE TABLE CMSDATA_BAK.CM_SCCSS_RSPNS_SMM_151213             AS CMSDATA.CM_SCCSS_RSPNS_SMM              WITH DATA;  -- 078
CREATE TABLE CMSDATA_BAK.CM_SCCS_RSPNS_SMM_151213              AS CMSDATA.CM_SCCS_RSPNS_SMM               WITH DATA;  -- 079
CREATE TABLE CMSDATA_BAK.CM_SCHDL_HO_151213                    AS CMSDATA.CM_SCHDL_HO                     WITH DATA;  -- 080
CREATE TABLE CMSDATA_BAK.CM_SCHDL_HO_DTTM_151213               AS CMSDATA.CM_SCHDL_HO_DTTM                WITH DATA;  -- 081
CREATE TABLE CMSDATA_BAK.CM_SCHDL_HO_SCCS_CNDTN_DTL_151213     AS CMSDATA.CM_SCHDL_HO_SCCS_CNDTN_DTL      WITH DATA;  -- 082
CREATE TABLE CMSDATA_BAK.CM_SEND_MST_151213                    AS CMSDATA.CM_SEND_MST                     WITH DATA;  -- 083
CREATE TABLE CMSDATA_BAK.CM_STARBUCKS_REVN_151213              AS CMSDATA.CM_STARBUCKS_REVN               WITH DATA;  -- 084
CREATE TABLE CMSDATA_BAK.CM_STARBUCKS_USER_151213              AS CMSDATA.CM_STARBUCKS_USER               WITH DATA;  -- 085
CREATE TABLE CMSDATA_BAK.CM_STORE_TEL_151213                   AS CMSDATA.CM_STORE_TEL                    WITH DATA;  -- 086
CREATE TABLE CMSDATA_BAK.CM_STR_151213                         AS CMSDATA.CM_STR                          WITH DATA;  -- 087
CREATE TABLE CMSDATA_BAK.CM_STR_ADMIN_AREA_ADDRSS_151213       AS CMSDATA.CM_STR_ADMIN_AREA_ADDRSS        WITH DATA;  -- 088
CREATE TABLE CMSDATA_BAK.CM_STR_CHGR_151213                    AS CMSDATA.CM_STR_CHGR                     WITH DATA;  -- 089
CREATE TABLE CMSDATA_BAK.CM_STR_DAY_SMM_151213                 AS CMSDATA.CM_STR_DAY_SMM                  WITH DATA;  -- 090
CREATE TABLE CMSDATA_BAK.CM_STR_DAY_SMM_RS_151213              AS CMSDATA.CM_STR_DAY_SMM_RS               WITH DATA;  -- 091
CREATE TABLE CMSDATA_BAK.CM_STR_EXP_151213                     AS CMSDATA.CM_STR_EXP                      WITH DATA;  -- 092
CREATE TABLE CMSDATA_BAK.CM_STR_GRADE_SMM_151213               AS CMSDATA.CM_STR_GRADE_SMM                WITH DATA;  -- 093
CREATE TABLE CMSDATA_BAK.CM_STR_GRADE_SMM_UV_151213            AS CMSDATA.CM_STR_GRADE_SMM_UV             WITH DATA;  -- 094
CREATE TABLE CMSDATA_BAK.CM_STR_RSLT_ANLYSS_SMM_151213         AS CMSDATA.CM_STR_RSLT_ANLYSS_SMM          WITH DATA;  -- 095
CREATE TABLE CMSDATA_BAK.CM_TGT_CUST_RSPNS_HSTRY_151213        AS CMSDATA.CM_TGT_CUST_RSPNS_HSTRY         WITH DATA;  -- 096
CREATE TABLE CMSDATA_BAK.CM_THM_TRGT_151213                    AS CMSDATA.CM_THM_TRGT                     WITH DATA;  -- 097
CREATE TABLE CMSDATA_BAK.CM_THM_TRGT_CUST_151213               AS CMSDATA.CM_THM_TRGT_CUST                WITH DATA;  -- 098
CREATE TABLE CMSDATA_BAK.CM_THM_TRGT_STR_151213                AS CMSDATA.CM_THM_TRGT_STR                 WITH DATA;  -- 099
CREATE TABLE CMSDATA_BAK.CM_TOT_CMPGN_CMPRSN_151213            AS CMSDATA.CM_TOT_CMPGN_CMPRSN             WITH DATA;  -- 100
CREATE TABLE CMSDATA_BAK.CM_TRGT_CNDTN_151213                  AS CMSDATA.CM_TRGT_CNDTN                   WITH DATA;  -- 101
CREATE TABLE CMSDATA_BAK.CM_TRGT_CNDTN_BY_STR_151213           AS CMSDATA.CM_TRGT_CNDTN_BY_STR            WITH DATA;  -- 102
CREATE TABLE CMSDATA_BAK.CM_TRGT_CNDTN_INSTNC_151213           AS CMSDATA.CM_TRGT_CNDTN_INSTNC            WITH DATA;  -- 103
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_BARCD_151213             AS CMSDATA.CM_TRGT_CUST_BARCD              WITH DATA;  -- 104
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_CHNNL_RSPNS_151213       AS CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS        WITH DATA;  -- 105
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_INFO_151213              AS CMSDATA.CM_TRGT_CUST_INFO               WITH DATA;  -- 106
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_INFO_UV_151213           AS CMSDATA.CM_TRGT_CUST_INFO_UV            WITH DATA;  -- 107
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_OFFR_RSLT_151213         AS CMSDATA.CM_TRGT_CUST_OFFR_RSLT          WITH DATA;  -- 108
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_PRCHSE_INFO_151213       AS CMSDATA.CM_TRGT_CUST_PRCHSE_INFO        WITH DATA;  -- 109
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_PRCHSE_INFO_UV_151213    AS CMSDATA.CM_TRGT_CUST_PRCHSE_INFO_UV     WITH DATA;  -- 110
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_RSPNS_151213             AS CMSDATA.CM_TRGT_CUST_RSPNS              WITH DATA;  -- 111
CREATE TABLE CMSDATA_BAK.CM_TRGT_RQST_RSLT_151213              AS CMSDATA.CM_TRGT_RQST_RSLT               WITH DATA;  -- 112
CREATE TABLE CMSDATA_BAK.CM_TST_CHRGPERS_151213                AS CMSDATA.CM_TST_CHRGPERS                 WITH DATA;  -- 113
CREATE TABLE CMSDATA_BAK.CM_USER_LOG_151213                    AS CMSDATA.CM_USER_LOG                     WITH DATA;  -- 114
CREATE TABLE CMSDATA_BAK.CM_WRD_RPLC_151213                    AS CMSDATA.CM_WRD_RPLC                     WITH DATA;  -- 115
CREATE TABLE CMSDATA_BAK.CM_YM_CHNNL_SMM_151213                AS CMSDATA.CM_YM_CHNNL_SMM                 WITH DATA;  -- 116
CREATE TABLE CMSDATA_BAK.CM_YM_CMPGN_EXP_SMM_151213            AS CMSDATA.CM_YM_CMPGN_EXP_SMM             WITH DATA;  -- 117
CREATE TABLE CMSDATA_BAK.CM_YM_CRRNT_OFFR_151213               AS CMSDATA.CM_YM_CRRNT_OFFR                WITH DATA;  -- 118
CREATE TABLE CMSDATA_BAK.CM_YM_CTGRY_SMM_151213                AS CMSDATA.CM_YM_CTGRY_SMM                 WITH DATA;  -- 119
CREATE TABLE CMSDATA_BAK.CM_YM_CTGRY_SMM_UV_151213             AS CMSDATA.CM_YM_CTGRY_SMM_UV              WITH DATA;  -- 120
CREATE TABLE CMSDATA_BAK.CM_YM_EXP_SMM_151213                  AS CMSDATA.CM_YM_EXP_SMM                   WITH DATA;  -- 121
CREATE TABLE CMSDATA_BAK.CM_YM_MNTH_EXP_SMM_151213             AS CMSDATA.CM_YM_MNTH_EXP_SMM              WITH DATA;  -- 122
CREATE TABLE CMSDATA_BAK.CM_YM_OFFR_SMM_151213                 AS CMSDATA.CM_YM_OFFR_SMM                  WITH DATA;  -- 123
CREATE TABLE CMSDATA_BAK.CM_YM_RSLT_SMM_151213                 AS CMSDATA.CM_YM_RSLT_SMM                  WITH DATA;  -- 124
CREATE TABLE CMSDATA_BAK.CM_YM_SCCSS_SMM_151213                AS CMSDATA.CM_YM_SCCSS_SMM                 WITH DATA;  -- 125
CREATE TABLE CMSDATA_BAK.CM_YM_SCCSS_SMM_UV_151213             AS CMSDATA.CM_YM_SCCSS_SMM_UV              WITH DATA;  -- 126
CREATE TABLE CMSDATA_BAK.CM_YM_SCCSS_YM_151213                 AS CMSDATA.CM_YM_SCCSS_YM                  WITH DATA;  -- 127
CREATE TABLE CMSDATA_BAK.CM_YM_SCCS_SMM_151213                 AS CMSDATA.CM_YM_SCCS_SMM                  WITH DATA;  -- 128
CREATE TABLE CMSDATA_BAK.CM_YM_TOT_EXP_SMM_151213              AS CMSDATA.CM_YM_TOT_EXP_SMM               WITH DATA;  -- 129
CREATE TABLE CMSDATA_BAK.CM_YM_YEAR_EXP_SMM_151213             AS CMSDATA.CM_YM_YEAR_EXP_SMM              WITH DATA;  -- 130
CREATE TABLE CMSDATA_BAK.SIMUL_ANLYSS_CMPGN_INFO_151213        AS CMSDATA.SIMUL_ANLYSS_CMPGN_INFO         WITH DATA;  -- 131
CREATE TABLE CMSDATA_BAK.SIMUL_CUST_6MON_SLS_151213            AS CMSDATA.SIMUL_CUST_6MON_SLS             WITH DATA;  -- 132
CREATE TABLE CMSDATA_BAK.SIMUL_CUST_PROFIL_SMM_151213          AS CMSDATA.SIMUL_CUST_PROFIL_SMM           WITH DATA;  -- 133
CREATE TABLE CMSDATA_BAK.SIMUL_CUST_SMM_151213                 AS CMSDATA.SIMUL_CUST_SMM                  WITH DATA;  -- 134
CREATE TABLE CMSDATA_BAK.SIMUL_EXP_SMM_151213                  AS CMSDATA.SIMUL_EXP_SMM                   WITH DATA;  -- 135
CREATE TABLE CMSDATA_BAK.SIMUL_FORCST_SMM_151213               AS CMSDATA.SIMUL_FORCST_SMM                WITH DATA;  -- 136
CREATE TABLE CMSDATA_BAK.SIMUL_SIMUL_SMM_151213                AS CMSDATA.SIMUL_SIMUL_SMM                 WITH DATA;  -- 137
CREATE TABLE CMSDATA_BAK.SIMUL_STR_MAP_SMM_151213              AS CMSDATA.SIMUL_STR_MAP_SMM               WITH DATA;  -- 138
CREATE TABLE CMSDATA_BAK.SIMUL_STR_MAP_SMM_ORI_151213          AS CMSDATA.SIMUL_STR_MAP_SMM_ORI           WITH DATA;  -- 139


----------------------------------------------------------------------------------------------------

DROP TABLE test                ;
DROP TABLE TMP_BF_WEEK         ;
DROP TABLE TMP_CURRNT_WEEK     ;
DROP TABLE T_11111             ;
DROP TABLE T_12345             ;
DROP TABLE T_22222             ;
DROP TABLE T_D_00565194516     ;
DROP TABLE T_D_02590285164     ;
DROP TABLE T_D_05410916854     ;
DROP TABLE T_D_07853385726     ;
DROP TABLE T_D_08686592378     ;
DROP TABLE T_D_09118785923     ;
DROP TABLE T_R_00095831589     ;
DROP TABLE T_R_00151677332     ;
DROP TABLE T_R_00280300127     ;
DROP TABLE T_R_00382031319     ;
DROP TABLE T_R_00953851138     ;
DROP TABLE T_R_01234677313     ;
DROP TABLE T_R_02135385858     ;
DROP TABLE T_R_02306709565     ;
DROP TABLE T_R_02611597573     ;
DROP TABLE T_R_02720953982     ;
DROP TABLE T_R_02756961017     ;
DROP TABLE T_R_03937394504     ;
DROP TABLE T_R_04012920979     ;
DROP TABLE T_R_04343226889     ;
DROP TABLE T_R_04498987274     ;
DROP TABLE T_R_045155565       ;
DROP TABLE T_R_04909708903     ;
DROP TABLE T_R_04993151182     ;
DROP TABLE T_R_05719569039     ;
DROP TABLE T_R_06019299517     ;
DROP TABLE T_R_0609069973      ;
DROP TABLE T_R_06158212007     ;
DROP TABLE T_R_06646614911     ;
DROP TABLE T_R_0668758422      ;
DROP TABLE T_R_06690296362     ;
DROP TABLE T_R_07258882447     ;
DROP TABLE T_R_07731017097     ;
DROP TABLE T_R_07804558663     ;
DROP TABLE T_R_07907668225     ;
DROP TABLE T_R_07908927434     ;
DROP TABLE T_R_07954328571     ;
DROP TABLE T_R_08388360966     ;
DROP TABLE T_R_08472491665     ;
DROP TABLE T_R_08662372571     ;
DROP TABLE T_R_08715094891     ;
DROP TABLE T_R_08947664792     ;
DROP TABLE T_R_09140232475     ;
DROP TABLE T_R_09364354596     ;
DROP TABLE T_R_09697248889     ;
DROP TABLE T_R_09984272714     ;
DROP TABLE update_chnnl_rspns  ;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

Maven을 사용하려면 당연히 일단 설치부터 해야 한다...
아래 사이트에 가보면 Maven 다운로드 받을 수 있고 간단하게 설치하는 방법도 설명되어 있다.

http://maven.apache.org/download.html

그냥 압축 풀고 환경변수만 세팅해주면 끝난다.
제대로 설치했다면 커맨드 창에 mvn -version이란 명령이 실행되어야 한다.
윈도우즈 환경에서 실행했다면 아래와 비슷한 메세지가 출력되는 것을 볼 수 있다.

Maven version: 2.0.10
Java version: 1.6.0_06
OS name: "windows xp" version: "5.1" arch: "x86" Family: "windows"

개발툴로 이클립스를 사용한다면 이클립스에 플러그인도 하나 설치해주자..
http://m2eclipse.sonatype.org/update/

m2eclipse 말고 Q를 사용하고자 한다면 아래 플러그인을 설치하도록 하자... (어떤게 좋은지는 자기 맘~)
http://q4e.googlecode.com/svn/trunk/updatesite-iam/

설치가 끝났다.. 이제 한 번 Maven 프로젝트를 생성해보자..

Maven에서는 초간단하게 프로젝트를 만들 수 있는 템플릿을 제공하는데 아래와 같이 archetype 이란 플러그인을 사용하면 된다.
archetype에는 몇가지 goal들을 제공하는데 그 중에 create를 사용해보자.

mvn archetype:create -DgroupId=com.test.app -DartifactId=test-app

위의 명령을 실행하면 뭔가 막 다운로드 받으면서 마지막에 BUILD SUCCESSFUL 이란 글자를 확인할 수 있다.
처음 실행 시에 다운로드 받는 것들은 Remote Repository 에서 Local Repository 로 필요한 라이브러리를 복사하는 과정이다.
다음에 다시 실행하면 이미 받은 라이브러리들은 다운로드 받지 않게 된다.
그런데 실행 명령어를 자세히 살펴보면 create가 Deprecated 되었으니 generate를 사용하라고 나와있다.
친절하게 설명해주니깐 다음부터는 create 대신에 generate를 사용해주도록 하자.
아무튼 생성된 프로젝트를 살펴보면 아래와 같은 구조로 만들어져 있는 것을 볼 수 있다.

test-app
├ src
│ ├ main
│ │ └ java
│ │     └ com
│ │         └ test
│ │             └ app
│ │                 └ App.java
│ └  test
│      └ java
│          └ com
│              └ test
│                  └ app
│                      └ AppTest.java
└ pom.xml

일단 artifactId 가 루트 디렉토리로 생성되고 그 안에 아래와 같은 pom.xml 파일이 존재한다.

<project>
 <modelVersion>4.0.0</modelVersion>
 <groupId>com.test.app</groupId>
 <artifactId>test-app</artifactId>
 <packaging>jar</packaging>
 <version>1.0-SNAPSHOT</version>
 <name>Maven Quick Start Archetype</name>
 <url>http://maven.apache.org</url>
 <dependencies>
  <dependency>
   <groupId>junit</groupId>
   <artifactId>junit</artifactId>
   <version>3.8.1</version>
   <scope>test</scope>
  </dependency>
 </dependencies>
</project>

Maven에서 제공하는 기본 pom.xml 과 똑같은 형태이다.
아무튼 위에서 볼 수 있는 디렉토리 구조가 바로 Maven에서 사용하는 Standard Directory Layout 이다.
src 폴더에는 main 과 test 디렉토리가 있는데 각각의 디렉토리에 groupId 로 패키지가 만들어지고
해당 디렉토리에는 소스파일, 설정파일 등등이 위치하게 된다.
그리고 App.java 파일을 하나 생성해주는데 Hello World 프로그램이 하나 들어있다.

그렇다면 이제 컴파일을 하기 위해서 pom.xml 파일이 있는 test-app 디렉토리로 경로를 옮겨간다.
이 디렉토리가 test-app 프로젝트에서 ${basedir} 가 되고 이를 이용하여 pom.xml 에서 상수처럼 사용할 수 있다.
자세한 예는 나중에 나올 것 같으니 일단은 알아두고 넘어가자.
그렇다면 컴파일은 어떻게 해주면 될까?

mvn compile

정말 간단하다... -_-;;
제대로 했다면 아까 처럼 뭔가 다운로드 받다가 성공했다는 메세지를 볼 수 있을 것이다.
그런데 정말 잘 컴파일이 되었는지 궁금하다.
test-app 디렉토리를 잘 살펴보면 target/classes 디렉토리가 생성되어 있고 그 안에 컴파일된 파일이 있는 것을 볼 수 있다!
그런데 뭔가 좀 이상한 점이 있다...
어떻게 컴파일 하고 컴파일 한 결과를 저 디렉토리에다가 복사해놓았을까...
분명 pom.xml 에는 컴파일에 관련된 아무런 정보도 없는데...

이것이 바로 Convention Over Configuration 이다.
Maven 에서 아무런 설정을 하지 않는다면 소스 디렉토리는 src/main/java 디렉토리가 되고 타겟 디렉토리는 target/classes 가 된다.
위에서 생성된 pom.xml 에서 이런 설정들을 전혀 볼 수 없지만 비밀은 Super POM 이 가지고 있다.
모든 Maven 프로젝트는 Super POM을 상속하고 있고 따로 경로 설정을 하지 않는다면 위의 기본 설정을 사용하게 되는 것이다.
과연 어떻게 POM이 구성되는지 알아보려면 아래와 같은 명령을 사용하면 최종 POM 구조를 확인할 수 있다.

mvn help:effective-pom

위의 컴파일이 끝나면 소스 코드는 컴파일이 되지만 테스트 코드는 컴파일이 되지 않는다.
Maven은 Build Life Cycle 을 갖는데 compile 이란 goal 은 소스 코드를 컴파일 하는 역할까지만 하도록 되어 있는 것이다.
이렇게 만든 이유는 재사용이 용이하도록 하기 위해서라고 이전에 살펴본 바 있다.
그렇다면 이제 테스트 코드를 컴파일 하고 유닛 테스트를 실행해보도록 하자.

mvn test

끝이다... -_-;;
그냥 위와 같이 해주면 뭔가 다운로드가 끝나면 바로 테스트 코드 컴파일 하고 유닛 테스트까지 실행해준다.
실행 결과를 잘 살펴보면 test 를 실행시키면 compile 과 test-compile 이 먼저 실행되는 것을 볼 수 있을 것이다.
Build Life Cycle이 이렇게 실행되도록 구성되어 있기 때문이다.
(상위 레벨의 goal 을 실행하게 되면 하위 레벨의 goal 을 먼저 실행한다!!)
만약 테스트 컴파일까지만 하고 테스트를 실행하지 않고자 한다면 mvn test-compile 로 실행하면 된다.
일단 테스트를 실행하면 아래와 같이 surefile 플러그인이 담당하는 것을 확인할 수 있을 것이다.

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
[surefire] Running com.test.app.AppTest
[surefire] Tests run: 1, Failures: 0, Errors: 0, Time elapsed: 0.001 sec
Results :
[surefire] Tests run: 1, Failures: 0, Errors: 0

여기서 한가지 알고 넘어가야 할 사실은 여기에도 Convention Over Configuration이 적용된다는 것이다.
surefire 플러그인은 기본적으로 다음과 같은 파일을 찾아서 테스트 코드를 실행시킨다.

**/*Test.java
**/Test*.java
**/*TestCase.java

그리고 기본적으로 다음과 같은 파일은 제외한다.

**/Abstract*Test.java
**/Abstract*TestCase.java

그냥 저런 네이밍 룰을 지키기만 하면 모든걸 편하게 할 수 있다.
이번에는 패키징과 인스톨을 알아보도록 하자.

mvn package

위와 같이 실행시켜주면 pom.xml 에 설정되어 있는 패키지로 (<packaging>jar</packaging> 라면 jar로) 만들어 준다.

mvn install

그리고 나서 위의 명령을 실행하면 Local Repository로 만들어진 jar 파일을 복사해주게 된다.

정말 초간단하게 프로젝트 하나 생성해서 컴파일, 테스트, 패키징, 인스톨까지 완료할 수 있다.
필요한 POM 설정 파일은 위에서 살펴본 pom.xml 파일이 전부이다.

Maven에서는 또 하나의 유용한 플러그인을 제공한다



위에 보는 화면은 방금 우리가 만든 프로젝트의 종합적인 정보를 보여주는 웹페이지다.
저걸 내가 작접 만든게 아니고 mvn site 명령을 실행하면 site 플러그인이 자동으로 만들어 준다.
지금까지 빌드된 내용을 삭제하고자 한다면 mvn clean 명령을 실행하면 된다.

그리고 사실 요즘에 누가 커맨드 창에서 일일이 입력하고 있을까 싶다..
Maven에서는 IntelliJ IDEA와 이클립스에서 사용할 수 있는 형태로 만들어주는 플러그인도 제공한다.

mvn eclipse:eclipse

위와 같이 실행하면 이클립스 프로젝트로 사용할 수 있도록 .project 파일과 .classpath 파일이 생성된다.
이클립스를 실행한 후에 프로젝트로 등록해서 사용하면 된다.
여기까지 간단하게 프로젝트를 생성하고 Maven을 사용하는 방법을 알아보았다.
[출처] Maven 설치 및 간단한 사용방법|작성자 죽빵에캔디



----------------------------------------------------------------------------------------------------

이번에는 Maven에서 각종 리소스 파일들을 어떻게 처리하는지 알아보도록 하자.
일단 Maven에서는 리소스 파일이 src/main/resources 디렉토리에 있으면 해당 파일들을 리소스 파일로 간주한다.
만약 해당 디렉토리에 아래와 같이 test.properties 란 파일이 있다면...

test-app
├ src
│ ├ main
│ │ ├ java
│ │ │└ com
│ │ │    └ test
│ │ │        └ app
│ │ │            └ App.java
│ │ └ resources
│ │    └ test.properties
│ └  test
│      └ java
│          └ com
│              └ test
│                  └ app
│                      └ AppTest.java
└ pom.xml

mvn complie 명령을 실행해주면 target/classes 폴더에 해당 파일이 복사되는 것을 확인할 수 있다.
만약 mvn install 명령을 실행했다면 생성된 jar 파일에는 다음과 같이 META-INF 폴더가 생성된다.

test-app-1.0-SNAPSHOT.jar
└ META-INF
    ├ maven
    │  └ com.test.app
    │      └ test-app
    │          ├ pom.properties
    │          └ pom.xml
    └ MANIFEST.MF

위의 정보는 자동으로 생성된다.
만약 MANIFEST.MF 파일을 직접 만들고 싶다면 maven-jar-plugin 을 사용하면 된다..
아래와 같이 해주면<manifestFile> 태그에 명시된 파일로 변경된다.

<build>
  <plugins>
    <plugin>
      <groupId>org.apache.maven.plugins</groupId>
      <artifactId>maven-jar-plugin</artifactId>
      <configuration>
        <archive>
          <manifestFile>META-INF/MANIFEST.MF</manifestFile>
        </archive>
      </configuration>
    </plugin>
  </plugins>
</build>

테스트 클래스패스 리소스도 src/test/resources 디렉토리에 만들어주면 된다.
일반 클래스패스 리소스와 다른 점은 하나도 없다.

자.. 이번에는 리소스 필터링에 대해서 알아보도록 하자.
Maven 에서는 리소스 파일을 동적으로 변경할 수 있는 기능을 가지고 있다.
즉 POM.xml에서 사용하고 있는 모든 속성들을 ${속성이름} 으로 리소스 파일에서 가져다 사용할 수 있다.
만약 아래와 같이 POM.xml 파일에서 filtering을 true로 설정했다면...

<project>
 <modelVersion>4.0.0</modelVersion>
 <groupId>com.test.app</groupId>
 <artifactId>test-app</artifactId>
 <packaging>jar</packaging>
 <version>1.0-SNAPSHOT</version>
 <name>test</name>
 <url>http://maven.apache.org</url>
 <dependencies>
  <dependency>
   <groupId>junit</groupId>
   <artifactId>junit</artifactId>
   <version>3.8.1</version>
   <scope>test</scope>
  </dependency>
 </dependencies>
 <build>
  <resources>
   <resource>
    <directory>src/main/resources</directory>
    <filtering>true</filtering>
   </resource>
  </resources>
 </build>
</project>

src/main/resource 디렉토리에 있는 test.properties 파일에...
project.name = ${project.name} 라고 저장하고 mvn process-resources 를 실행하면...
test.properties 파일의 내용은 project.name = test 로 변경된다.

다른 프로퍼티 파일에 있는 내용을 사용할 수도 있는데...

<build>
  <filters>
   <filter>src/main/filters/filter.properties</filter>
  </filters>
  <resources>
  <resource>
   <directory>src/main/resources</directory>
   <filtering>true</filtering>
  </resource>
  </resources>
</build>

위와 같이 설정하게 되면 filter.properties에 있는 속성도 ${속성이름} 형식으로 사용할 수 있게 된다.

POM.xml에서 직접 속성을 설정할 수도 있다.

 <properties>
  <test>
   <value>hello</value>
  </test>
  <greeting.hello>hi</greeting.hello>
 </properties>

위와 같이 설정하게 되면 ${test.value} 또는 ${greeting.hello} 속성을 사용할 수 있게 된다.

마지막으로 시스템 프로퍼티도 사용할 수가 있다.
예를 들어 java.version 이라던지 기타 등등 System 클래스에서 제공하는 프로퍼티들을 그대로 사용 가능하다.
심지어 -D 옵션으로 넘어오는 커맨드 라인 프로퍼티도 사용가능하다!!

만약 리소스 중에 위와 같은 필터링을 제외하고 싶은 리소스가 있는 경우에는 아래와 같이 설정해주면 된다.

 <build>
  <resources>
   <resource>
    <directory>src/main/resources</directory>
    <filtering>true</filtering>
    <excludes>
     <exclude>test/**</exclude>
    </excludes>
   </resource>
   <resource>
    <directory>src/main/resources</directory>
    <includes>
     <include>test/**</include>
    </includes>
   </resource>
  </resources>
 </build>

즉 필터링 시에 제외할 리소스를 <exclude> 설정을 통해 제외시키고 제외된 리소스만 따로 <include> 해주면 된다.
다소 복잡해 보일지도 모르겠지만 가만 살펴보만 아주 명시적인 방법이다.

이전에도 살펴보았지만 Maven에서는 빌드를 커스터마이징 할 수 있다.
새로운 플러그인을 추가해서 할 수도 있고 이미 추가되어 있는 플러그인에 파라미터를 설정해서 할 수도 있다.

예를 들어 자바 컴파일러로 JDK 5.0을 사용하고자 한다면 아래와 같이 설정하면 된다.

 <build>
  <plugins>
   <plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-compiler-plugin</artifactId>
    <version>2.0</version>
    <configuration>
     <source>1.5</source>
     <target>1.5</target>
    </configuration>
   </plugin>
  </plugins>
 </build>

<plugin> 태그를 사용하면 되는데 <depedency>와 매우 사용방법이 유사하다.
한가지 다른 점이 있다면 <plugin>은 groupId와 version은 명시하지 않아도 된다는 것이다.
만약 groupId가 없다면 org.apache.maven.plugins 또는 org.codehaus.mojo에서 해당 groupId를 찾게 된다.
그리고 version이 없다면 가장 최신 버전으로 가져오게 된다.

플러그인에 대해 자세한 정보를 얻고자 한다면 아래 주소를 참고하도록 하자.
http://maven.apache.org/plugins

이로써 기본적인 사용 방법은 다 알아보았다.
과연 언제쯤 끝까지 다 볼 수 있을까... -_-;;
[출처] Maven Classpath Resource Management - 리소스를 관리해 보자~|작성자 죽빵에캔디



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 캠페인 고객 상태 ]

	  	SELECT	A.CMPGN_NO AS CMPGN_NO
                 , A.CMPGN_NM AS CMPGN_NM
                 , A.CUST_ID AS CUST_ID
                 , A.CMPGN_SND_SCCSS_YN AS CMPGN_SND_SCCSS_YN
				 , DECODE(A.PRCHSE_YN,'N','N','Y')  AS PRCHSE_YN
				 , DECODE(A.CMPGN_SCCSS_YN,'N','N','Y') AS CMPGN_SCCSS_YN
				 , (SELECT	COMM_CD_VL FROM CM_CMMN_CD WHERE COMM_CD = A.CHNNL_TYP_CD AND GRP_CD = 'CM002') AS CHNNL_TYP_NM
				 , TO_CHAR(A.CHNNL_SND_DTTM,'YYYY-MM-DD') AS CHNNL_SND_DTTM
		FROM	(
		 SELECT DISTINCT A.CMPGN_NO AS CMPGN_NO
                 , B.CMPGN_NM AS CMPGN_NM
                 , A.CUST_ID AS CUST_ID
                 , C.SND_SCCSS_YN AS CMPGN_SND_SCCSS_YN
				 , COALESCE(D.CMPGN_NO,'N')  AS PRCHSE_YN
				 , COALESCE(D.SCCSS_RSLT_CD,'N') AS CMPGN_SCCSS_YN
				 , A.CHNNL_TYP_CD AS CHNNL_TYP_CD
				 , C.CHNNL_SND_DTTM AS CHNNL_SND_DTTM
             FROM  CMSVIEW.CM_CMPGN_TRGT_CUST A
			 		LEFT JOIN  CMSVIEW.CM_TRGT_CUST_PRCHSE_INFO D
						ON A.CMPGN_NO = D.CMPGN_NO
						AND A.CUST_ID = D.CUST_ID
         			, CMSVIEW.CM_CMPGN_MST B
		  			,  CMSVIEW.CM_TRGT_CUST_CHNNL_RSPNS C
			 WHERE 1 = 1
			  AND  A.CMPGN_NO=B.CMPGN_NO
			  AND A.CMPGN_NO = C.CMPGN_NO
			  AND A.CHNNL_NO = C.CHNNL_NO
			  AND A.CUST_ID = C.CUST_ID
				   AND A.CMPGN_NO LIKE '%'||'C20151126140911915'||'%'
				   AND B.CMPGN_NM LIKE '%'||'[트레이더스 수원점]개점 5주년 특집 할인행사_복사'||'%'
				AND
					(
					    ( B.CMPGN_STRT_DT BETWEEN  '2015-11-14' and  '2015-12-14' ) or  ( B.CMPGN_END_DT BETWEEN  '2015-11-14' and  '2015-12-14')
					)
					) A
			WHERE 1=1
  			ORDER BY A.CMPGN_NO, A.CUST_ID



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=batchAppCoupon&cmpgn_no=H20151202000003001&chnnl_no=APT0000151202005


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ maven jar를 Local Repository에 추가하기 ]

	개발을 진행하다보면 내부에서 사용하는 jar파일이라든지, jdbc에 관련된 jar 등.. maven repository에서
	제공하지 않는 jar파일들을 추가해야 할 경우가 생기는데

	가장 좋은 방법은 개발팀내에 중앙 repository를 만들어서 등록하고 사용하면 좋겠지만 상황이 여의치 않고
	번거롭다면..  WEB-INF/lib 폴더에 넣거나 build path로 잡아주면 된다.

	간편하게 local repository에 등록하고 사용하는 방법이 있다.
	dependecy 파일들을 아래와 같은 로컬경로에 다운로드 되어진다.

		C:\Users\Administrator\.m2\repository

		(XP) C:\Documents and Settings\사용자계정\.m2\repository

	추가하기 위해서 아래와 같은 명령어를 사용하게 된다.

		mvn install:install-file
			-Dfile=<path-to-file>         : 파일 full 경로 : 외부 repository 정보
			-DgroupId=<group-id>          : 그룹아이디
			-Dartifactid=<artifact-id>    : artifactid
			-Dversion=<version>           : 버전
			-Dpackaging=<packaging>       : jar
			-DgeneratePom=true            : true pom에 생성

		예) mvn install:install-file -Dfile=C\something.jar -DgroupId=com.test -DartifactId=first -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true

	정상적으로 되었다면 아래와 같은 경로로 폴더와 파일이 생성된다.

		> dir C:\Users\Administrator\.m2\repository\com\test\first\1.0
			first-1.0.jar
			first-1.0.pom

	마찬가지로 해당정보가 pom.xml에 추가된다.

		<dependency>
			<groupId>com.test</groupId>
			<artifactId>first</artifactId>
			<version>1.0</version>
		</dependency>


-- mvn install:install-file -Dfile=.\libs\commons-net-3.3.jar                -DgroupId=kang.jar -DartifactId=commons-net              -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\ibatis-2.3.4.726b.jar              -DgroupId=kang.jar -DartifactId=ibatis                   -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\java-json.jar                      -DgroupId=kang.jar -DartifactId=java-json                -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\log4j.jar                          -DgroupId=kang.jar -DartifactId=log4j                    -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\modules.tain.0.151031.jar          -DgroupId=kang.jar -DartifactId=modules.tain             -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\sas.core.jar                       -DgroupId=kang.jar -DartifactId=sas.core                 -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\sas.core.nls.jar                   -DgroupId=kang.jar -DartifactId=sas.core.nls             -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\sas.rutil.jar                      -DgroupId=kang.jar -DartifactId=sas.rutil                -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\sas.security.sspi.jar              -DgroupId=kang.jar -DartifactId=sas.security.sspi        -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\sas.servlet.jar                    -DgroupId=kang.jar -DartifactId=sas.servlet              -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\sas.servlet.nls.jar                -DgroupId=kang.jar -DartifactId=sas.servlet.nls          -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\sas.svc.connection.jar             -DgroupId=kang.jar -DartifactId=sas.svc.connection       -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\sas.svc.connection.nls.jar         -DgroupId=kang.jar -DartifactId=sas.svc.connection.nls   -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\sastpj.rutil.jar                   -DgroupId=kang.jar -DartifactId=sastpj.rutil             -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\scsl.jar                           -DgroupId=kang.jar -DartifactId=scsl                     -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
-- mvn install:install-file -Dfile=.\libs\smeapi_2_7.jar                     -DgroupId=kang.jar -DartifactId=smeapi                   -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\tdgssconfig.jar                    -DgroupId=kang.jar -DartifactId=tdgssconfig              -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true
mvn install:install-file -Dfile=.\libs\terajdbc4.jar                      -DgroupId=kang.jar -DartifactId=terajdbc4                -Dversion=1.0 -Dpackaging=jar -DgeneratePom=true



----------------------------------------------------------------------------------------------------

http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=batchAppCoupon&cmpgn_no=H20151214000002001&chnnl_no=APR0000151214004&cpn_typ=MMS03

https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=batchAppCoupon&cmpgn_no=H20151214000002001&chnnl_no=APR0000151214004&cpn_typ=MMS03

https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=batchAppCoupon&cmpgn_no=H20151210000005001&chnnl_no=APT0000151210005&cpn_typ=MMS03


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

			SELECT       /* HH14065I.getAppCoupon */
			    B.CMPGN_NO                                          AS CMPGN_NO
			    , B.CHNNL_NO                                        AS CHNNL_NO
			    , A.EVNT_NO                                         AS EVENT_CODE       /* 이벤트코드 */
			    , C.POS_EVENT_NM                                    AS EVENT_NAME       /* 이벤트명 */
			    , '이마트 전점 사용가능(이마트몰,트레이더스,몰리스,분스,에브리데이 제외)'  AS EVENT_JIJUM      /* 변경할 것 : 쿠폰사용가능점포 */
			    , TO_CHAR(C.EVENT_START_DATE,'YYYYMMDD')            AS EVENT_START_DATE /* 행사시작일 */
			    , TO_CHAR(C.EVENT_END_DATE  ,'YYYYMMDD')            AS EVENT_END_DATE   /* 행사종료일 */
			    , TO_CHAR(C.EVENT_START_DATE,'YYYYMMDD')            AS SRV_START_DATE   /* 변경할 것 : 쿠폰사용시작일 */
			    , TO_CHAR(C.EVENT_END_DATE  ,'YYYYMMDD')            AS SRV_END_DATE     /* 변경할 것 : 쿠폰사용종료일 */
			    , '5만원 이상 결제시 2천원 할인'                    AS EVENT_CONDITION  /* 변경할 것 : 사용조건 */
			    , '1.이마트 매장 계산대에서 본 쿠폰을 제시해주세요.'          AS EVENT_NOTICE     /* 변경할 것 : 안내내용 */
			    , 'N'                                               AS GIFT_FLAG        /* 변경할 것 : 선물가능여부 */
			    , '1'                                               AS STAMP_NUM        /* 변경할 것 : 1인최대발급개수 */
			    , '0'                                               AS LIMIT_DOWN_NUM   /* 변경할 것 : 발급수량제한 */
			    , '1'                                               AS LIMIT_ISSUE_NUM  /* 변경할 것 : 1인발급가능갯수 */
			    , 'P'                                               AS CPN_ISSUE_TYPE   /* 변경할 것 : 쿠폰발급형태 P:선발행  A:후발행 */
				, TO_CHAR(C.EVENT_START_DATE,'YYYYMMDD')            AS LIMIT_START_DT   /* 변경할 것 : 제한시작일자  20151101 */
				, '080000'                                          AS LIMIT_START_TM   /* 변경할 것 : 제한시작시간  080000   */
				, TO_CHAR(C.EVENT_END_DATE  ,'YYYYMMDD')            AS LIMIT_END_DT     /* 변경할 것 : 제한종료일자  20151101 */
				, '235959'                                          AS LIMIT_END_TM     /* 변경할 것 : 제한종료시간  235959   */
				, '1000'                                            AS LIMIT_CNT        /* 변경할 것 : 제한수량      1000     */
			FROM
			    CMSVIEW.CM_CMPGN_MST     A
			    , CMSVIEW.CM_CMPGN_EXCT  B
			    , TCVM.MTEVD_POS_THEME   C
			WHERE 1=1
			    AND A.CMPGN_NO = #cmpgn_no#  /* 'H20151205000002001' */
			    AND B.CMPGN_NO = A.CMPGN_NO
			    AND B.CHNNL_NO = #chnnl_no#  /* 'APT0000151205001' */
			    AND C.POS_EVENT_NO = A.EVNT_NO


      /* 행사마스터 데이터 얻음 */
      CREATE TABLE WORK.CM_MMS_EVENT_MST AS
      SELECT * FROM CONNECTION TO TERADATA
      (
          SELECT  c.POS_EVENT_NO                        as  EVENT_CODE
                , c.POS_EVENT_NM                        as  EVENT_DESC
                , TO_CHAR(a.CMPGN_STRT_DT, 'YYYYMMDD')  as  EVENT_START_DATE
                , TO_CHAR(a.CMPGN_END_DT,  'YYYYMMDD')  as  EVENT_END_DATE
                , 'E000010344'                          as  BRCH_ID
                , c.INPUT_EVENT_NM                      as  COUPON_DESC
                , '1'                                   as  PRINT_GB
                , NVL(b.SND_CNT,0)                      as  SEND_CNT
                , '3'                                   as  EVENT_TYPE
                , NVL(b.RSV_CHC_CNT,0)                  as  CUST_CNT
          FROM   CMSVIEW.CM_CMPGN_MST a INNER JOIN CMSVIEW.CM_CMPGN_EXCT b
            ON   a.CMPGN_NO = b.CMPGN_NO
                 INNER JOIN TCVM.MTEVD_POS_THEME  c
            ON   a.EVNT_NO = c.POS_EVENT_NO
          WHERE  a.CMPGN_NO = %BQUOTE('&CMPGN_NO')
            AND  b.CMPGN_NO = %BQUOTE('&CMPGN_NO')
            AND  b.CHNNL_NO = %BQUOTE('&CHNNL_NO')
      )
      ;

      /* 고객마스터 데이터 얻음 */
      CREATE TABLE WORK.CM_MMS_CUST_MST AS
      SELECT * FROM CONNECTION TO TERADATA
      (
          SELECT  c.POS_EVENT_NO                        as  EVENT_CODE
                , b.CUST_ID                             as  CUST_NO
                , ''                                    as  BARCODE_NO
                , 'E000010344'                          as  BRCH_ID
                , '01'                                  as  COUPON_TYPE
          FROM   CMSVIEW.CM_CMPGN_MST a INNER JOIN CMSVIEW.CM_CMPGN_TRGT_CUST b
            ON   a.CMPGN_NO = b.CMPGN_NO
                 INNER JOIN TCVM.MTEVD_POS_THEME c
            ON   a.EVNT_NO = c.POS_EVENT_NO
          WHERE  a.CMPGN_NO = %BQUOTE('&CMPGN_NO')
            AND  b.CMPGN_NO = %BQUOTE('&CMPGN_NO')
            AND  b.CHNNL_NO = %BQUOTE('&CHNNL_NO')
      )
      ;

      /* 행사코드 얻음 */
      SELECT EVENT_CODE INTO :EVENT_CODE
      FROM WORK.CM_MMS_EVENT_MST(KEEP=EVENT_CODE)
      ;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

	<!-- ============================================== -->
	<!-- deleteCmsEventMst -->
	<!-- ============================================== -->
	<update id="deleteCmsEventMst" parameterClass="java.util.Map">
		<![CDATA[
			DELETE FROM
				CMS_MMS_EVENT_MST
			WHERE 1=1
				AND EVENT_CODE = #event_code#
		]]>
	</update>

	<!-- ============================================== -->
	<!-- insertCmsEventMst -->
	<!-- ============================================== -->
	<insert id="insertCmsEventMst" parameterClass="java.util.Map">
		<![CDATA[
			INSERT INTO    /* HH14075I.insertCmsEventMst */
				CMS_MMS_EVENT_MST
			(
				EVENT_CODE            /* 행사코드                       */
				, EVENT_DESC          /* 행사설명                       */
				, EVENT_START_DATE    /* 행사시작일자   YYYYMMDD VC(8)  */
				, EVENT_END_DATE      /* 행사종료일자   YYYYMMDD VC(8)  */
				, BRCH_ID             /* 가맹점코드 'E000010344'        */
				, COUPON_DESC         /* 쿠폰설명                       */
				, PRINT_GB            /* 정산구분(1:e마트,2:업체)       */
				, SEND_CNT            /* MMS전송건수           0        */
				, EVENT_TYPE          /* 행사종류(1:MMS 2:SMS 3:앱쿠폰) */
				, CUST_CNT            /* 업로드한 고객수 1000000        */
				, INSERT_DATE         /* 입력날짜 SYSDATE               */
				, MODIFY_DATE         /* 수정날짜 SYSDATE               */
			)
			VALUES
			(
				#event_code#
				, #event_name#
				, #event_start_date#
				, #event_end_date#
				, 'E000010344'
				, #event_notice#
				, '1'
				, 0
				, '3'
				, 1000000
				, SYSDATE
				, SYSDATE
			)
		]]>
	</insert>

	<!-- ============================================== -->
	<!-- insertEventMstFromCmsEventMst -->
	<!-- ============================================== -->
	<insert id="insertEventMstFromCmsEventMst" parameterClass="java.util.Map">
		<![CDATA[
			INSERT INTO    /* HH14075I.insertEventMstFromCmsEventMst */
				MMS_EVENT_MST
			(
				EVENT_CODE            /* 행사코드                       */
				, EVENT_DESC          /* 행사설명                       */
				, EVENT_START_DATE    /* 행사시작일자   YYYYMMDD VC(8)  */
				, EVENT_END_DATE      /* 행사종료일자   YYYYMMDD VC(8)  */
				, COUPON_DESC         /* 쿠폰설명                       */
				, BRCH_ID             /* 가맹점코드 'E000010344'        */
				, PRINT_GB            /* 정산구분(1:e마트,2:업체)       */
				, CUST_CNT            /* 업로드한 고객수 1000000        */
				, SEND_CNT            /* MMS전송건수           0        */
				, INSERT_ID           /* 입력자ID cms                   */
				, MODIFY_ID           /* 수정자ID cms                   */
				, INSERT_DATE         /* 입력날짜 SYSDATE               */
				, MODIFY_DATE         /* 수정날짜 SYSDATE               */
				, EVENT_TYPE          /* 행사종류(1:MMS 2:SMS 3:앱쿠폰) */
			)
			SELECT
				EVENT_CODE            /* 행사코드                       */
				, EVENT_DESC          /* 행사설명                       */
				, EVENT_START_DATE    /* 행사시작일자   YYYYMMDD VC(8)  */
				, EVENT_END_DATE      /* 행사종료일자   YYYYMMDD VC(8)  */
				, COUPON_DESC         /* 쿠폰설명                       */
				, BRCH_ID             /* 가맹점코드 'E000010344'        */
				, PRINT_GB            /* 정산구분(1:e마트,2:업체)       */
				, CUST_CNT            /* 업로드한 고객수 1000000        */
				, SEND_CNT            /* MMS전송건수           0        */
				, 'emartapp'          /* 입력자ID cms                   */
				, 'emartapp'          /* 수정자ID cms                   */
				, INSERT_DATE         /* 입력날짜 SYSDATE               */
				, MODIFY_DATE         /* 수정날짜 SYSDATE               */
				, EVENT_TYPE          /* 행사종류(1:MMS 2:SMS 3:앱쿠폰) */
			FROM
				CMS_MMS_EVENT_MST
			WHERE 1=1
				AND ( EVENT_CODE ) NOT IN (
					SELECT
						EVENT_CODE
					FROM
						MMS_EVENT_MST
					WHERE 1=1
						AND EVENT_CODE = #event_code#
				)
		]]>
	</insert>

	<!-- ============================================== -->
	<!-- ============================================== -->
	<!-- ============================================== -->

	<!-- ============================================== -->
	<!-- deleteCmsCustMst -->
	<!-- ============================================== -->
	<update id="deleteCmsCustMst" parameterClass="java.util.Map">
		<![CDATA[
			DELETE FROM
				CMS_MMS_CUST_MST
			WHERE 1=1
				AND EVENT_CODE = #event_code#
		]]>
	</update>

	<!-- ============================================== -->
	<!-- insertCmsCustMst -->
	<!-- ============================================== -->
	<insert id="insertCmsCustMst" parameterClass="java.util.List">
		INSERT ALL    /* HH14075I.insertCmsCustMst */
		<dynamic>
		<iterate conjunction=" ">
			INTO CMS_MMS_CUST_MST
			(
				EVENT_CODE     /* 행사코드                  */
				, CUST_NO      /* 고객ID                    */
				, BARCODE_NO   /* 바코드                    */
				, BRCH_ID      /* 가맹점코드                */
				, COUPON_TYPE  /* 쿠폰종류 01:생성 02:회수  */
				, INSERT_DATE  /* 입력날짜                  */
				, MODIFY_DATE  /* 수정날짜                  */
			)
			VALUES
			(
				#[].event_code#
				, #[].cust_id#
				, #[].event_code# || SUBSTR(#[].cust_id#,2) || FN_GET_CHECK_DIGIT(#[].event_code# || SUBSTR(#[].cust_id#,2))
				, 'E000010344'
				, '01'
				, SYSDATE
				, SYSDATE
			)
		</iterate>
		</dynamic>
		SELECT * FROM DUAL
	</insert>

	<!-- ============================================== -->
	<!-- insertCustMstFromCmsCustMst -->
	<!-- ============================================== -->
	<insert id="insertCustMstFromCmsCustMst" parameterClass="java.util.Map">
		<![CDATA[
			INSERT INTO    /* HH14075I.insertCustMstFromCmsCustMst */
				MMS_CUST_MST
			(
				EVENT_CODE     /* 행사코드                  */
				, CUST_NO      /* 고객ID                    */
				, BARCODE_NO   /* 바코드                    */
				, BRCH_ID      /* 가맹점코드                */
				, STCD_NM      /* 점포명  (NULL)            */
				, STCD_NM1     /* 점포명1 (NULL)            */
				, COUPON_TYPE  /* 쿠폰종류 01:생성 02:회수  */
				, STATUS       /* 대이터이관여부(공백)      */
				, INSERT_ID    /* 입력자ID                  */
				, MODIFY_ID    /* 수정자ID                  */
				, INSERT_DATE  /* 입력날짜                  */
				, MODIFY_DATE  /* 수정날짜                  */
			)
			SELECT
				EVENT_CODE     /* 행사코드                  */
				, CUST_NO      /* 고객ID                    */
				, BARCODE_NO   /* 바코드                    */
				, BRCH_ID      /* 가맹점코드                */
				, NULL         /* 점포명  (NULL)            */
				, NULL         /* 점포명1 (NULL)            */
				, COUPON_TYPE  /* 쿠폰종류 01:생성 02:회수  */
				, ''           /* 대이터이관여부(공백)      */
				, 'emartapp'   /* 입력자ID                  */
				, 'emartapp'   /* 수정자ID                  */
				, INSERT_DATE  /* 입력날짜                  */
				, MODIFY_DATE  /* 수정날짜                  */
			FROM
				CMS_MMS_CUST_MST
			WHERE 1=1
				AND ( EVENT_CODE, CUST_NO, BARCODE_NO ) NOT IN (
					SELECT
						EVENT_CODE
						, CUST_NO
						, BARCODE_NO
					FROM
						MMS_CUST_MST
					WHERE 1=1
						AND EVENT_CODE = #event_code#
				)
		]]>
	</insert>


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

	<!-- ============================================== -->
	<!-- listPmsBody -->
	<!-- ============================================== -->
	<select id="listPmsBody" resultClass="LMAP">
		<![CDATA[
			SELECT    /* hh14065I.listPmsBody */
			    'BD'                               AS GUBUN
			    , B.CUST_ID                        AS CUST_ID
			    , CAST(COUNT(C.RECPT_ID) AS VARCHAR(20))                                 AS PUR_CNT
			    , CAST(CAST(SUM(C.SALE_AMT - C.DISCNT_AMT) AS INTEGER) AS VARCHAR(20))   AS PUR_AMT
			FROM
			    (
			        SELECT /* TOP 100 */
			            A.CMPGN_NO
			            , A.CUST_ID
			        FROM
			            CMSVIEW_DEV.CM_CMPGN_TRGT_CUST A
			        WHERE 1=1
			            AND A.CMPGN_NO = #cmpgn_no#
			            AND A.CHNNL_TYP_CD = 'SMS'
			    ) B
			    , TSVM.F_D_RECPT_PROD C   /* 영수증 table */
			    , TSVM.D_STORE D          /* 점포정보 table */
			WHERE 1=1
			    AND C.CUST_ID = B.CUST_ID
			    AND C.SALE_DT BETWEEN (CURRENT_DATE - 30) AND CURRENT_DATE  /* 30일 안에 */
			    AND D.STR_ID = C.STR_ID
			    AND D.STR_FORMT_CD = '01'  /* 01:emart 02:traders 03:everyday 04:boons */
			GROUP BY
			    B.CUST_ID
			ORDER BY
			    B.CUST_ID
		]]>
	</select>



	<!-- ============================================== -->
	<!-- selectCustId -->
	<!-- ============================================== -->
	<select id="selectCustId" resultClass="LMAP">
		<![CDATA[
            SELECT    /* HH14065I.selectCustId */
				A.CMPGN_NO              AS CMPGN_NO
				, A.CHNNL_NO            AS CHNNL_NO
				, A.CHNNL_TYP_CD        AS CHNNL_TYP_CD
				, A.CUST_ID             AS CUST_ID
                , B.STR_ID              AS STR_ID
                , C.STR_NM              AS STR_NM
			FROM
				CMSVIEW_DEV.CM_CMPGN_TRGT_CUST  A
                , TCVM.HOMEPAGE_FAVORITE_JIJUM  B
                , TCVM.STORE                    C
			WHERE 1=1
				AND A.CMPGN_NO = #cmpgn_no#
				AND A.CHNNL_NO = #chnnl_no#
                AND B.DEL_YN = 'N'
                AND B.CUST_ID = A.CUST_ID
                AND C.STR_ID = B.STR_ID
		]]>
	</select>




----------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 김대희차장 NullPointerException 처리 불능 2015.12.15 ]

uest URI 	:  /SASEMARTCMS/branch/II15004W.do?method=listWeekCnt        ======================================
2015-12-15 13:02:57,141 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor]
2015-12-15 13:02:59,610 DEBUG [egovframework.rte.ptl.mvc.handler.SimpleUrlAnnotationHandlerMapping] Mapping [/common/excelDownloadLarge.do] to HandlerExecutionChain with handler [com.emart.campaign.common.ctr.ExcelController@604e5939] and 1 interceptor
2015-12-15 13:02:59,610 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor]
2015-12-15 13:02:59,610 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor] ======================================          START Request URI 	:  /SASEMARTCMS/common/excelDownloadLarge.do?null        ======================================
2015-12-15 13:02:59,610 DEBUG [egovframework.com.cmm.interceptor.LoggerInterceptor]
java.lang.NullPointerException
	at com.emart.campaign.common.util.Excel.Export(Excel.java:54)
	at com.emart.campaign.common.iml.ExcelServiceImpl.excelExport(ExcelServiceImpl.java:40)
	at com.emart.campaign.common.ctr.ExcelController.excelDownloadLarge(ExcelController.java:480)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at org.springframework.web.bind.annotation.support.HandlerMethodInvoker.invokeHandlerMethod(HandlerMethodInvoker.java:176)
	at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.invokeHandlerMethod(AnnotationMethodHandlerAdapter.java:426)
	at org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter.handle(AnnotationMethodHandlerAdapter.java:414)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:790)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:719)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:644)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:560)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:641)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at egovframework.com.cmm.filter.HTMLTagFilter.doFilter(HTMLTagFilter.java:35)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:76)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)


	/SASEMARTCMS/branch/II15007W.do?method=listIncrssRtoCnt





----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

		<table width="100%" cellpadding="2" cellspacing="0" bgcolor="#FFFFFF" border="1" bordercolor="#808080" style="border-collapse: collapse;">
            <tr height="27px;" style="display:none;">
                <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;"> COL-1</td>
                <td width="35%" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;"> COL-2 </td>
                <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;"> COL-3</td>
                <td width="35%" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;"> COL-4 </td>
            </tr>
            <tr height="27px;" style="display:visible;">
                <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">캠페인 명</td>
                <td width="35%" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">이것은 캠페인명입니다.</td>
                <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">캠페인 코드</td>
                <td width="35%" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">H20151215000008001</td>
            </tr>
            <tr height="27px;" style="display:visible;">
                <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">캠페인 기간</td>
                <td colspan="3" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">2015-12-01 ~ 2015-12-25</td>
            </tr>
            <tr height="27px;" style="display:visible;">
                <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">캠페인 분류<br>/상세분류</td>
                <td colspan="3" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">분류 &nbsp;/&nbsp; 신문/전단행사</td>
            </tr>
            <tr height="27px;" style="display:visible;">
                <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">대상 채널</td>
                <td colspan="3" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">

					<table width="100%" cellpadding="2" cellspacing="0" bgcolor="#FFFFFF" border="1" bordercolor="#808080" style="border-collapse: collapse;">
					<colgroup>
					  <col span='3' width='15%'/>
					  <col width='*'/>
					</colgroup>
					<thead>
					  <tr>
					    <th valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">채널 명</th>
					    <th valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">발송 일시</th>
					    <th valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">타겟고객</th>
					    <th valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">발송제목</th>
					  </tr>
					</thead>
					<tbody>
					  <tr>
					    <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">앱푸시(R)</td>
					    <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;" align='center'>2015-12-23 13:00</td>
					    <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;" align='center'>690</td>
					    <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">푸시인앱</td>
					  <tr>
					  <tr>
					    <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">앱푸시(T)</td>
					    <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;" align='center'>2015-12-21 12:00</td>
					    <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;" align='center'>690</td>
					    <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">발송제목</td>
					  <tr>
					</tbody>
					</table>
                </td>
            </tr>
            <tr height="27px;" style="display:visible;">
                <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">타겟 고객</td>
                <td colspan="3" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">1234</td>
            </tr>
            <tr height="27px;" style="display:visible;">
                <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">기안자</td>
                <td colspan="3" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">김현화</td>
            </tr>
            <tr height="27px;" style="display:visible;">
                <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">기안일자</td>
                <td colspan="3" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">2015-12-01</td>
            </tr>
        </table>


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------



SELECT * FROM CMSVIEW.CM_CMPGN_MST;

SELECT * FROM CMSVIEW.CM_CMPGN_EXCT;

SELECT * FROM TCVM.MTEVD_POS_THEME;

SELECT
	A.CMPGN_NO
	, B.CHNNL_NO
	, A.EVNT_NO
FROM
	CMSVIEW.CM_CMPGN_MST      A
	, CMSVIEW.CM_CMPGN_EXCT   B
WHERE 1=1
	AND A.EVNT_NO IS NOT NULL
	AND B.CMPGN_NO = A.CMPGN_NO
ORDER BY
	A.CMPGN_NO DESC
	, B.CHNNL_NO DESC
;


SELECT
	A.CMPGN_NO              AS CMPNG_NO
	, B.CHNNL_NO            AS CHNNL_NO
	, C.POS_EVENT_NO        AS EVENT_CODE
	, C.POS_EVENT_NM        AS EVENT_NAME
	, '이마트 전점 사용가능(이마트몰,트레이더스,몰리스,분스,에브리데이 제외)'
		AS EVENT_JIJUM      /* 쿠폰사용가능점포 */
	, C.EVENT_START_DATE    AS EVENT_START_DATE
	, C.EVENT_END_DATE      AS EVENT_END_DATE
	, A.CMPGN_STRT_DT       AS SRV_START_DATE
	, A.CMPGN_END_DT        AS SRV_END_DATE
	, C.INPUT_EVENT_NM      AS COUPON_DESC
	, '1.이마트 매장 계산대에서 본 쿠폰을 제시해주세요.'
		AS EVENT_NOTICE     /* 안내내용 */
	, NVL(B.SND_CNT,0)      AS SEND_CNT
	, NVL(B.RSV_CHC_CNT,0)  AS CUST_CNT
	, 'E000010344'          AS BRCH_ID
	, '1'                   AS PRINT_GB
	, '3'                   AS EVENT_TYPE
	, '01'                  AS COUPON_TYPE
FROM
	CMSVIEW.CM_CMPGN_MST      A
	, CMSVIEW.CM_CMPGN_EXCT   B
	, TCVM.MTEVD_POS_THEME    C
WHERE 1=1
	AND A.EVNT_NO IS NOT NULL
	/* AND A.CMPGN_NO = 'H20151215000003001' */
	AND A.CMPGN_NO LIKE 'H20151215%'
	AND B.CMPGN_NO = A.CMPGN_NO
	/* AND B.CHNNL_NO = 'BMS0000151215009' */
	AND C.POS_EVENT_NO = A.EVNT_NO
;







            SELECT    /* HH14065I.listTrgtCust */
                A.CMPGN_NO              AS CMPGN_NO
                , A.CHNNL_NO            AS CHNNL_NO
                , A.CHNNL_TYP_CD        AS CHNNL_TYP_CD
                , A.CUST_ID             AS CUST_ID
            FROM
                CMSVIEW.CM_CMPGN_TRGT_CUST  A
                        WHERE 1=1
                                AND A.CMPGN_NO = 'C20151215103800003'
                                AND A.CHNNL_NO = 'LMS1038151215003'






----------------------------------------------------------------------------------------------------

			SELECT       /* HH14065I.getAppCoupon */
			    B.CMPGN_NO                                          AS CMPGN_NO
			    , B.CHNNL_NO                                        AS CHNNL_NO
			    , A.EVNT_NO                                         AS EVENT_CODE       /* 이벤트코드 */
			    , C.POS_EVENT_NM                                    AS EVENT_NAME       /* 이벤트명 */
			    , '이마트 전점 사용가능(이마트몰,트레이더스,몰리스,분스,에브리데이 제외)'  AS EVENT_JIJUM      /* 변경할 것 : 쿠폰사용가능점포 */
			    , TO_CHAR(C.EVENT_START_DATE,'YYYYMMDD')            AS EVENT_START_DATE /* 행사시작일 */
			    , TO_CHAR(C.EVENT_END_DATE  ,'YYYYMMDD')            AS EVENT_END_DATE   /* 행사종료일 */
			    , TO_CHAR(C.EVENT_START_DATE,'YYYYMMDD')            AS SRV_START_DATE   /* 변경할 것 : 쿠폰사용시작일 */
			    , TO_CHAR(C.EVENT_END_DATE  ,'YYYYMMDD')            AS SRV_END_DATE     /* 변경할 것 : 쿠폰사용종료일 */
			    , '5만원 이상 결제시 2천원 할인'                    AS EVENT_CONDITION  /* 변경할 것 : 사용조건 */
			    , '1.이마트 매장 계산대에서 본 쿠폰을 제시해주세요.'          AS EVENT_NOTICE     /* 변경할 것 : 안내내용 */
			    , 'N'                                               AS GIFT_FLAG        /* 변경할 것 : 선물가능여부 */
			    , '1'                                               AS STAMP_NUM        /* 변경할 것 : 1인최대발급개수 */
			    , '0'                                               AS LIMIT_DOWN_NUM   /* 변경할 것 : 발급수량제한 */
			    , '1'                                               AS LIMIT_ISSUE_NUM  /* 변경할 것 : 1인발급가능갯수 */
			    , 'PRE'                                             AS EVENTMST_TYPE    /* 변경할 것 : 이벤트타입 PRE:선발행  AFT:후발행 */
				, TO_CHAR(C.EVENT_START_DATE,'YYYYMMDD')            AS LIMIT_START_DT   /* 변경할 것 : 제한시작일자  20151101 */
				, '080000'                                          AS LIMIT_START_TM   /* 변경할 것 : 제한시작시간  080000   */
				, TO_CHAR(C.EVENT_END_DATE  ,'YYYYMMDD')            AS LIMIT_END_DT     /* 변경할 것 : 제한종료일자  20151101 */
				, '235959'                                          AS LIMIT_END_TM     /* 변경할 것 : 제한종료시간  235959   */
				, '1000'                                            AS LIMIT_CNT        /* 변경할 것 : 제한수량      1000     */
			FROM
			    CMSVIEW_DEV.CM_CMPGN_MST     A
			    , CMSVIEW_DEV.CM_CMPGN_EXCT  B
			    , TCVM.MTEVD_POS_THEME   C
			WHERE 1=1
			    AND A.CMPGN_NO = #cmpgn_no#  /* 'H20151205000002001' */
			    AND B.CMPGN_NO = A.CMPGN_NO
			    AND B.CHNNL_NO = #chnnl_no#  /* 'APT0000151205001' */
			    AND C.POS_EVENT_NO = A.EVNT_NO






SELECT
FROM
	CMSVIEW.CM_CMPGN_MST
	, CMSVIEW.CM_CMPGN_EXCT
	, TCVM.MTEVD_POS_THEME
WHERE 1=1
	-- AND 
;



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

블라섬 개발기 결제문서 확인.

   - 접속방법 : [블라섬 개발서버 접속]

        1) host 파일 추가 : 174.100.22.195    wp.shinsegaedev.com

        2. 블라섬 개발기 접속

           http://wp.shinsegaedev.com/coviweb

           id : 사번 / pwd : 사번 (031880 / 031880)

           * 메뉴가 안보일 경우 : [인터넷] - [도구] - [호환성보기설정]내 shinsegaedev.com 추가
             호환성 보기 클릭하면 결제메뉴가 보임.

   - 블라섬 결재문서 HTML형태 테스트 - 외부네트워크에서 결제 시 URL 접근이 불가능하여 변경함.

        1) EMI_BLSMSIGN_INFO_DEV 테이블에 결제정보 INSERT. (ACTION_FLAG = 'N')
           - 현재 171번 데이터가 들어있으므로, 해당 HTML_DATA에 입력값 넣고 2)번의 프로시져 호출

        2) SP_EMI_SIGN_REQ_DEV 호출 (위 테이블에 ACTION_FLAG = 'N'인 row가 처리 대상임.)
           - 참고 : 위 프로시져에서 SP_EMI_SIGN_INFO_SEND_DEV 프로시져를 호출함.
                    (블라섬 개발기에 CMS에서 결제문서가 등록되어있다고 알려주는 역할.)
                    → 블라섬개발기에서 SP_EMI_SIGN_SELECT_DEV 프로시져를 호출하여 결제정보 가져감.
                       (현재 운영기는 DOCURL(페이지주소형태), 개발기는 HTML_DATA(HTML형태)를 가져가도록 되어있음.)

        3) 블라섬 개발기에 접속하여 HTML 형태로 결제문서가 원하는 형태로 보이는 지 확인함.



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ 김영천 정리 사항 ]

	
	1. 사용가능점포
	-컬럼명 : 사용가능점포
	-컬럼ID : usbl_str
	-길이 : varchar(200)
	
	2. 사용조건안내
	-컬럼명 : 사용조건안내
	-컬럼ID : use_cnd_ntc
	-길이 : varvhar(200)
	
	3. 쿠폰 사용시 공지 내용
	-컬럼명 : 앱쿠폰사용시공지
	-컬럼ID : app_cpn_ntc
	-길이 : varchar(1000)
	
	4. 해당 테이블을 cm_cmpgn_mst
	
	
	1. 사용가능점포
	
	이마트 전점 사용 가능</br>(이마트몰,트레이더스,몰리스,분스, 에브리데이 제외)
	
	
	2. 사용조건
	
	5만원 이상 결제시 2천원 할인
	
	
	3. 쿠폰 사용시 공지 내용
	
	1. 이마트 매장 계산대에서 본 쿠폰을 제시해주세요.
	</br>2. 할인 조건은 최종결제금액 기준으로 적용됩니다.
	</br>3. 일부 쿠폰과 중복사용이 불가능합니다.
	</br>4. 쿠폰의 상품 및 적용조건은 변동될 수 있습니다.
	</br>5. 본 쿠폰은 현금과 교환되지 않으며 양도가 불가능합니다.
	</br>6. 사용기간 만료후, 교환/환불로 인한 재결제 시에는 쿠폰적용이 불가능합니다.
	</br>7. 일부 품목 적용 제외(주류/무알콜류, 담배, 임대매장, 문화센터 등)
	</br>8. 입점 점포에 한함


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

			SELECT       /* HH14065I.getAppCoupon */
				A.CMPGN_NO              AS CMPNG_NO         /* 캠페인번호 */
				, B.CHNNL_NO            AS CHNNL_NO         /* 채널번호   */
				, C.POS_EVENT_NO        AS EVENT_CODE       /* 이벤트코드 */
				, C.POS_EVENT_NM        AS EVENT_NAME       /* 이벤트명   */
				, ''
					|| '이마트 전점 사용가능(이마트몰,트레이더스,몰리스,분스,에브리데이 제외)'
					                    AS EVENT_JIJUM      /* ----- 쿠폰사용가능점포 : 사용가능점포   USBL_STR  VARCHAR(200) ----- */
				, C.EVENT_START_DATE    AS EVENT_START_DATE /* 행사시작일 */
				, C.EVENT_END_DATE      AS EVENT_END_DATE   /* 행사종료일 */
				, A.CMPGN_STRT_DT       AS SRV_START_DATE   /* 쿠폰사용시작일 */
				, A.CMPGN_END_DT        AS SRV_END_DATE     /* 쿠폰사용종료일 */
				, C.INPUT_EVENT_NM      AS COUPON_DESC      /* 쿠폰명   */
				, C.POS_EVENT_NM
					|| ' - '
					|| C.INPUT_EVENT_NM AS EVENT_DESC       /* 행사 내용 */
			    , ''
			    	|| '5만원 이상 결제시 2천원 할인'                    
			                            AS EVENT_CONDITION  /* ----- 사용조건 : 사용조건안내   USE_CND_NTC  VARVHAR(200) ----- */
				, '[ 안내내용 ]<br>'
					|| '1. 이마트 매장 계산대에서 본 쿠폰을 제시해주세요.<br>'
					|| '2. 할인 조건은 최종결제금액 기준으로 적용됩니다.<br>'
					|| '3. 일부 쿠폰과 중복사용이 불가능합니다.<br>'
					|| '4. 쿠폰의 상품 및 적용조건은 변동될 수 있습니다.<br>'
					|| '5. 본 쿠폰은 현금과 교환되지 않으며 양도가 불가능합니다.<br>'
					|| '6. 사용기간 만료후, 교환/환불로 인한 재결제 시에는 쿠폰적용이 불가능합니다.<br>'
					|| '7. 일부 품목 적용 제외(주류/무알콜류, 담배, 임대매장, 문화센터 등)<br>'
					|| '8. 입점 점포에 한함<br>'
					                    AS EVENT_NOTICE     /* ----- 안내내용 : 앱쿠폰사용시안내  APP_CPN_NTC  VARCHAR(1000) ----- */
				, NVL(B.SND_CNT,0)      AS SEND_CNT         /* 전송 건수 */
				, NVL(B.RSV_CHC_CNT,0)  AS CUST_CNT         /* 고객 건수 */
				, 'E000010344'          AS BRCH_ID          /* 가맹점코드 */
				, '1'                   AS PRINT_GB         /* 정산구분(1:emart,2:업체) */
				, '3'                   AS EVENT_TYPE       /* 행사종류(1: MMS, 2:SMS, 3:앱쿠폰) */
				, '01'                  AS COUPON_TYPE      /* 쿠폰종류(01:생성 02:회수) */
				, 'N'                                      AS GIFT_FLAG        /* 선물가능여부    */
				, '1'                                      AS STAMP_NUM        /* 1인최대발급개수 */
				, '0'                                      AS LIMIT_DOWN_NUM   /* 발급수량제한    */
				, '1'                                      AS LIMIT_ISSUE_NUM  /* 1인발급가능갯수 */
				, TO_CHAR(C.EVENT_START_DATE,'YYYYMMDD')   AS LIMIT_START_DT   /* 제한시작일자  20151101 */
				, '080000'                                 AS LIMIT_START_TM   /* 제한시작시간  080000   */
				, TO_CHAR(C.EVENT_END_DATE  ,'YYYYMMDD')   AS LIMIT_END_DT     /* 제한종료일자  20151101 */
				, '235959'                                 AS LIMIT_END_TM     /* 제한종료시간  235959   */
				, '1000'                                   AS LIMIT_CNT        /* 제한수량      1000     */
			FROM
				CMSVIEW.CM_CMPGN_MST      A
				, CMSVIEW.CM_CMPGN_EXCT   B
				, TCVM.MTEVD_POS_THEME    C
			WHERE 1=1
				AND A.EVNT_NO IS NOT NULL
				/* AND A.CMPGN_NO = 'H20151215000003001' */
				AND A.CMPGN_NO LIKE 'H20151216%'
				AND B.CMPGN_NO = A.CMPGN_NO
				/* AND B.CHNNL_NO = 'BMS0000151215009' */
				AND C.POS_EVENT_NO = A.EVNT_NO
;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 강수영_휴가중_인수인계.log ]

1. PMS

   - 담당자 : 이명학 (010-2015-8205)

   - URL : http://210.92.198.202:8373/admin/login.do
     계정 : admin / 123456
     크롬브라우저 사용 권고.   

   - CMS작업 : 1) 메인화면(캠페인푸시 현황) - CRM 캠페인타겟팅에서 PMS 제작요청건 선택.
               2) 푸시 작성화면
                  요청내용조회 → 제작시작 → 문구확인 및 작성(필요시 랜딩페이지 등록 : 보기 버튼링크 : ex)메인페이지 http://emart.kr/6shD )
                  저장 → 테스트발송 → 제작완료.
                  ※ 공지사항인 경우 요청내용조회에 공지사항 탭이 생성됨.
                     공지사항 등록 버튼 누르고 엘루오 요청 배치 실행하면 5분내로 공지사항 랜딩페이지 자동등록
                     현재 공지사항 등록배치는 cron에 등록되어 있지 않으며, 앱 공지사항에 비노출됨.(랜딩페이지로만 접근가능)
               3) 제작완료 버튼 클릭 시 CMS에 승인까지 됨.
               4) 자동화푸시 화면에서 택스트/리치 푸시 ON(현재 둘 다 OFF로 되어있으며, ON일 경우 발송됨.)
                  자동발송 예약시간 30분이 지난 건은 처리 안됨. (최초 예약시간이 현재시간보다 30분이전 안으로 등록되어야 발솜됨.)
     
     - 테스트 데이터는 4)에서 ON으로 하지 않으면 발송하지 않고 TB_SEND_QUE 테이블에 쌓여있음.(필요시 삭제.)
     
     - 엘루오 공지사항 배치(엘루오 김건희 차장)
          서버 : 174.100.29.37
          계정 : boonsdb / dlakxm1!
          실행 : /boons/boonsdb/batch/store.emart.com/script/prd/crm_notice_batch.sh

2. VDI

   - 계정 : 112644 / tkfkdgo@3r
   
   - PMS DB : 계정(pmsadm/pmsadm#234)토드로 접근가능
   
   - CMS관련테이블
        TB_SEND_QUE     : 발송대상자 리스트 (캠페인 실행배치에서 대상자 넣어줌)
        TB_SEND_QUE_LOG : 발송완료 후 TB_SEND_QUE에서 이동됨.
                          (발송이 안됬을 경우 RES_CD 컬럼값 확인 필요 - 이명학 문의)
        TB_MSG          : PMS에서 등록한 메시지 정보
                          제작완료버튼 클릭 시 TB_MSG의 MSG_ID값을 CMS로 전달 함.
                          캠페인 실행배치 시 등록내용을 join하여 TB_SEND_QUE에 넣을때 사용함.
        TB_CRM_INFO     : CMS에서 I/F한 푸시제목, 메시지, 공지사항, 이미지 정보등을 저장하는 테이블.

3. 블라섬 개발기.
   - 접속방법 : [블라섬 개발서버 접속]
        1) host 파일 추가 : 174.100.22.195    wp.shinsegaedev.com
        2. 블라섬 개발기 접속
           http://wp.shinsegaedev.com/coviweb
           id : 사번 / pwd : 사번 (031880 / 031880)
           * 메뉴가 안보일 경우 : [인터넷] - [도구] - [호환성보기설정]내 shinsegaedev.com 추가
             호환성 보기 클릭하면 결제메뉴가 보임.

   - 블라섬 결재문서 HTML형태 테스트 - 외부네트워크에서 결제 시 URL 접근이 불가능하여 변경함.
        1) EMI_BLSMSIGN_INFO_DEV 테이블에 결제정보 INSERT. (ACTION_FLAG = 'N')
           - 현재 171번 데이터가 들어있으므로, 해당 HTML_DATA에 입력값 넣고 2)번의 프로시져 호출
        2) SP_EMI_SIGN_REQ_DEV 호출 (위 테이블에 ACTION_FLAG = 'N'인 row가 처리 대상임.)
           - 참고 : 위 프로시져에서 SP_EMI_SIGN_INFO_SEND_DEV 프로시져를 호출함.
                    (블라섬개발기에 CMS에서 결제문서가 등록되어있다고 알려주는 역할.)
                    → 블라섬개발기에서 SP_EMI_SIGN_SELECT_DEV 프로시져를 호출하여 결제정보 가져감.
                       (현재 운영기는 DOCURL(페이지주소형태), 개발기는 HTML_DATA(HTML형태)를 가져가도록 되어있음.)
        3) 블라섬 개발기에 접속하여 HTML 형태로 결제문서가 원하는 형태로 보이는 지 확인함.

4. 홈페이지 관련 쿠폰, 사은품 I/F 정보

   - 서버(개발기) : 174.100.29.31 (emartweb / sb2akxm#1)
         (운영기) : 174.100.29.37 (boonsdb / dlakxm1!)
     저장위치(개발기) : /emartweb/batch/work_file/upload
             (운영기) : /boons/boonsdb/batch/store.emart.com/data/upload

   1) 쿠폰 선발행
         전송
            crm_coupon_limit_20151214.sam
            crm_coupon_mst_20151214.sam
   2) 쿠폰 후발행
            crm_coupon_limit_20151214.sam
            crm_coupon_mst_20151214.sam
            ※ 대상고객리스트 전송파일 추가 예정
   3) 사은품 시스템
         전송
            crm_event_mast_20151214.sam
            crm_gift_mast_20151214.sam
            crm_gift_cust_20151214.sam
         수신
            crm_gift_custrcv_YYYYMMDD.sam

※ 기타 참고

1. EMS
   - 담당자 : 박병영
   - URL : http://210.92.198.202:8080/ems/CommLogin.do
     계정 : ems / aaa
     이메일 발송계획 없음.
                
2. 블라섬/PC
   - 계정 : 112644 / tkfkdgo!2e
     (문서보안 : tkfkdgo!2e or tkfkdgo@3r
      SHRS     : tkfkdgo@3R              )

3. S.포인트 FTP 계정
   - 서버 : 174.100.67.17 
   - 계정 : cmpnreal / cmpnreal32!



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

SHOW TABLE CM_CMPGN_MST;

DROP TABLE CM_CMPGN_MST_KANG;

-- CREATE TABLE
CREATE SET TABLE CMSDATA.CM_CMPGN_MST_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO (
      CMPGN_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인번호' NOT NULL,
      RFR_CMPGN_NO DECIMAL(18,0) TITLE '참조캠페인번호',
      CMPGN_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인명',
      CMPGN_ANNTN VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인설명',
      CHNNL_ANNTN VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널설명',
      CMPGN_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인상태',
      CMPGN_MTHD_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인방법코드',
      TRGT_MTHD_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '타겟팅방법코드',
      CMPGN_CTGRY_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인분류코드',
      CMPGN_CTGRY_SB_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인세분류코드',
      CHNNL_DVD_PLCY_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '채널배분정책사용여부',
      STR_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '점포아이디',
      CMPGN_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '캠페인시작일자',
      CMPGN_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '캠페인종료일자',
      CMPGN_STRT_TM VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인시작시간',
      CMPGN_END_TM VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인종료시간',
      CMPGN_RJCT_RSN VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인반려사유',
      CMPGN_OFFR_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼코드',
      CMPGN_OFFR_EXP DECIMAL(18,2) TITLE '캠페인오퍼비용',
      CMPGN_OFFR_EXP_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼비용구분코드',
      CMPGN_OFFR_PAY_DT DATE FORMAT 'YYYY-MM-DD' TITLE '캠페인오퍼지급일자',
      CMPGN_OFFR_EVNT_DESC VARCHAR(10000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인오퍼행사내용',
      CMPGN_PRDGFT_NM VARCHAR(100) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인사은품명',
      BIZTP_CODE VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '업태코드',
      EVNT_NO VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사번호',
      EVNT_DESC VARCHAR(2000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '행사내용',
      CMPGN_PLCY_NO DECIMAL(18,0) TITLE '캠페인정책번호',
      THM_TRGT_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테마별타겟분류코드',
      THM_TRGT_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '테마별타겟코드',
      SCCSS_CNDTN_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '성공조건코드',
      CMPGN_EXCT_RNK INTEGER TITLE '캠페인실행순위',
      CMPGN_RQST_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인요청자아이디',
      FNL_APPRVL_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '최종승인자아이디',
      FNL_APPRVL_DTTM TIMESTAMP(6) TITLE '최종승인일시',
      FNL_APPRVL_STS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '최종승인상태',
      CMPGN_TRGT_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인대상요청상태',
      CMPGN_MK_RQST_STTS VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인제작요청상태',
      RSPS_RTO_US_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '반응율사용구분코드',
      EFF_ANAL_STRT_DT DATE FORMAT 'YYYY-MM-DD' TITLE '효과분석시작일자',
      EFF_ANAL_END_DT DATE FORMAT 'YYYY-MM-DD' TITLE '효과분석종료일자',
      TOPN DECIMAL(8,0) TITLE 'TOPN',
      CUST_CNT DECIMAL(8,0) TITLE '고객수' DEFAULT 0. ,
      CUST_CNT_T DECIMAL(8,0) TITLE '고객수(TEST)' DEFAULT 0. ,
      RE_TRGT_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '리타겟팅여부',
      DUP_DEL_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '중복제거여부',
      GFT_SYS_REG_YN CHAR(1) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사은품시스템등록여부',
      CMPGN_STEP VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '캠페인단계',
      SND_TYP_CD VARCHAR(5) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '발송구분코드',
      CPN_PUB_TYP_CD VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '쿠폰발행구분코드',

      USBL_STR    VARCHAR( 200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '쿠폰사용가능점포',
      USE_CND_NTC VARCHAR( 200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '사용조건안내',
      APP_CPN_NTC VARCHAR(1000) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '앱쿠폰사용시안내',
	  
      SYS_CRTN_DTTM TIMESTAMP(6) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(6) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( CMPGN_NO );


-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_CMPGN_MST_KANG
SELECT
	CMPGN_NO
	, RFR_CMPGN_NO
	, CMPGN_NM
	, CMPGN_ANNTN
	, CHNNL_ANNTN
	, CMPGN_STTS
	, CMPGN_MTHD_CD
	, TRGT_MTHD_CD
	, CMPGN_CTGRY_CD
	, CMPGN_CTGRY_SB_CD
	, CHNNL_DVD_PLCY_YN
	, STR_ID
	, CMPGN_STRT_DT
	, CMPGN_END_DT
	, CMPGN_STRT_TM
	, CMPGN_END_TM
	, CMPGN_RJCT_RSN
	, CMPGN_OFFR_CD
	, CMPGN_OFFR_EXP
	, CMPGN_OFFR_EXP_TYP_CD
	, CMPGN_OFFR_PAY_DT
	, CMPGN_OFFR_EVNT_DESC
	, CMPGN_PRDGFT_NM
	, BIZTP_CODE
	, EVNT_NO
	, EVNT_DESC
	, CMPGN_PLCY_NO
	, THM_TRGT_TYP_CD
	, THM_TRGT_CD
	, SCCSS_CNDTN_CD
	, CMPGN_EXCT_RNK
	, CMPGN_RQST_ID
	, FNL_APPRVL_ID
	, FNL_APPRVL_DTTM
	, FNL_APPRVL_STS
	, CMPGN_TRGT_RQST_STTS
	, CMPGN_MK_RQST_STTS
	, RSPS_RTO_US_TYP_CD
	, EFF_ANAL_STRT_DT
	, EFF_ANAL_END_DT
	, TOPN
	, CUST_CNT
	, CUST_CNT_T
	, RE_TRGT_YN
	, DUP_DEL_YN
	, GFT_SYS_REG_YN
	, CMPGN_STEP
	, SND_TYP_CD
	, CPN_PUB_TYP_CD
	, NULL  -- USBL_STR
	, NULL  -- USE_CND_NTC
	, NULL  -- APP_CPN_NTC
	, SYS_CRTN_DTTM
	, SYS_UPDT_DTTM
	, SYS_FRST_OPRTN_ID
	, SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_CMPGN_MST
;

SELECT * FROM CMSDATA.CM_CMPGN_MST_KANG;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_CMPGN_MST;

-- RENAME
RENAME TABLE CMSDATA.CM_CMPGN_MST_KANG TO CMSDATA.CM_CMPGN_MST;

-- MAKE VIEW
REPLACE VIEW CMSVIEW.CM_CMPGN_MST
	AS LOCKING TABLE CMSDATA.CM_CMPGN_MST
	FOR ACCESS (SELECT * FROM CMSDATA.CM_CMPGN_MST);


SELECT * FROM CMSVIEW.CM_CMPGN_MST;

CREATE TABLE CMSDATA_DEV.CM_CMPGN_MST  AS CMSDATA.CM_CMPGN_MST  WITH DATA;




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

Jakarta Commons Net API
FTP, TFTP
SMTP, POP3
telnet
Finger, Whois, Time, Echo 등
Commons Net 라이브러리는 다양한 프로토콜에 대한 지원을 할 수 있는 구조를 갖고 있으며, 위 목록과 같이 이미 기존에 많이 사용되는 몇몇 프로토콜에 대한 클라이언트 모듈을 제공하고 있다. 또한, 개발자가 직접 프로토콜 처리를 하지 않아도 되기 때문에 관련 모듈을 빠르게 개발할 수 있는 장점도 있다.
Commons Net 라이브러리 설치하기
Commons Net 라이브러리는 http://jakarta.apache.org/commons/net 에서 다운로드 받을 수 있다. 현재 버전은 1.4.1 버전으로서, 다운로드 받은 파일의 압축을 풀면 commons-net-1.4.1.jar 파일이 생성되는데, 이 파일을 클래스패스에 추가해주면 된다
.
Commons Net은 Jakarta ORO API를 필요로 한다. Jakarta ORO 관련 모듈은 http://jakarta.apache.org/oro/index.html 사이트에서 다운로드 받을 수 있다. 현재 Jakarta ORO의 버전은 2.0.8로서, 배포판의 압축을 풀면 jakarta-oro-2.0.8.jar 파일이 생성되는데 이 파일을 클래스패스에 추가해면 설치가 완료된다.
Commons Net API로 FTP 파일 송수신하기
Commons Net API는 FTP와 관련해서 다음의 두 클래스를 제공하고 있다.
org.apache.commons.net.ftp.FTPClient
FTP 프로토콜 처리를 위한 API를 제공한다. 서버 연결, 로그인, 파일 목록, 송수신 등의 기능을 제공한다.
org.apache.commons.net.ftp.FTPFile
FTP 서버의 파일 표현할 때 사용되는 클래스. 파일명, 파일크기, 위치 등에 대한 정보를 제공한다.
이 두 클래스만 사용하면 원격지의 FTP 서버로부터 원하는 파일을 송수신 할 수 있다. FTPClient API는 FTP 프로토콜과 관련해서 로그인, 파일 목록, 경로변경 등과 관련된 기능을 제공하는 데, 이들 기능과 관련된 메소드는 다음과 같다.
메소드	설명
conect(Strint server, int port)
connect(String server)	FTP 서버에 접속한다. 포트 번호를 지정할 경우 해당 포트로 접속하며, 포트 번호를 지정하지 않으면 기본 포트인 21번 포트로 접속한다.
login(String user, String pass)	지정한 사용자와 암호를 사용하여 로그인한다.
changeWorkingDirectory(String path)	FTP 서버에서 현재 작업 디렉토리의 경로를 변경한다.
String printWorkingDirectory()	현재 작업 디렉토리를 구한다.
FTPFile[] listFiles()
FTPFile[] listFiles(String path)	현재 작업 디렉토리에 있는 파일 목록을 구한다.
경로를 지정할 경우 해당 경로의 파일 목록을 구한다.
String[] listNames()
FTPFile[] listFiles(String path)	현재 작업 디렉토리에 있는 파일 이름을 구한다.
경로를 지정할 경우 해당 경로의 파일 이름을 구한다.
makeDirectory(String path)	새로운 디렉토리를 생성한다.
rename(String from, String to)	from에 해당하는 경로를 to로 변경한다.
retriveFile(String remoteName, OutputStream local)	FTP 서버의 remoteName 파일을 local에 지정된 출력 스트림에 다운로드 한다. 성공적으로 완료되면 true를 리턴한다.
InputStream retrieveFileStream(String remoteName)	FTP 서버의 remoteName 파일로부터 데이터를 읽어오는 입력 스트림을 리턴한다.
storeFile(String remoteName, InputStream local)	local 입력 스트림으로부터 데이터를 읽어와 FTP 서버에 remoteName 경로로 업로드한다. 성공적으로 파일을 업로드 하면 true를 리턴한다.
logout()	FTP 서버에서 로그아웃한다.
disconnect()	서버와의 연결을 종료한다.
이 외에 몇가지 메소드가 더 존재하지만, 일단 위 메소드 정도만 사용하면 충분히 FTP 프로토콜을 사용해서 파일을 송수신 할 수 있게 된다.
파일 다운로드
파일을 다운로드 하기 위해서는 다음과 같은 순서로 코드를 작성하면 된다.
FTPClient.connect(): FTP 서버에 접속한다.
FTPClient.login(): 로그인 한다.
FTPClient.changeWorkingDirectory(): 파일이 있는 폴더로 이동한다.
FTPClient.retrieveFile(): 파일을 다운로드 한다.
FTPClient.logout(): 로그아웃한다.
FTPClient.disconnect(): 연결을 종료한다.
이를 실제 코드로 작성하면 다음과 같다.
    FTPClient ftp = null;
    try {
        ftp = new FTPClient();
        ftp.setControlEncoding("UTF-8");
        
        ftp.connect("ftp.somehost");         ftp.login("user", "pass");         ftp.changeWorkingDirectory("/dbdump");

        File f = new File("d:\\dbdump", "oradump1_200605.tmp");
        FileOutputStream fos = null;
        try {
            fos = new FileOutputStream(f);
            boolean isSuccess = ftp.retrieveFile("oradump1.tmp", fos);
            if (isSuccess) {
                // 다운로드 성공
            } else {
                // 다운로드 실패
            }
        } catch(IOException ex) {
            System.out.println(ex.getMessage());
        } finally {
            if (fos != null) try { fos.close(); } catch(IOException ex) {}
        }
        ftp.logout();
    } catch (SocketException e) {
        System.out.println("Socket:"+e.getMessage());
    } catch (IOException e) {
        System.out.println("IO:"+e.getMessage());
    } finally {
        if (ftp != null && ftp.isConnected()) {
            try { ftp.disconnect(); } catch (IOException e) {}
        }
    }

파일 다운로드
파일 업로드는 파일을 다운로드 하는 것과 크게 다르지 않다. 차이점이 있다면 retrieveFile() 메소드 대신 storeFile() 메소드를 사용한다는 것 뿐이다. 파일 업로드 하는 예제 코드는 다음과 같다.
    FTPClient ftp = null;
    try {
        ftp = new FTPClient();
        ftp.setControlEncoding("UTF-8");
        
        ftp.connect("camp.cvnet.co.kr");
        ftp.login("uniasset", "unisise");
        ftp.changeWorkingDirectory("/dbdump");

        File uploadFile = new File("d:\\today_log.txt");
        FileInputStream fis = null;
        try {
            fis = new FileInputStream(uploadFile);
            boolean isSuccess = ftp.storeFile(uploadFile.getName(), fis);
            if (isSuccess) {
                System.out.println("업로드 성공");
            }
        } catch(IOException ex) {
            System.out.println(ex.getMessage());
        } finally {
            if (fis != null) try { fis.close(); } catch(IOException ex) {}
        }
        ftp.logout();
    } catch (SocketException e) {
        System.out.println("Socket:"+e.getMessage());
    } catch (IOException e) {
        System.out.println("IO:"+e.getMessage());
    } finally {
        if (ftp != null && ftp.isConnected()) {
            try { ftp.disconnect(); } catch (IOException e) {}
        }
    }

FTPFile 클래스
FTPClient.listFiles() 메소드를 사용하면 현재 디렉토리의 파일 및 폴더 목록을 읽어올 수 있는데, 이 때 각 파일과 폴더는 FTPFile 객체로 표현된다. FTPFile 클래스는 파일 및 폴더에 대한 정보를 제공하는데, 이와 관련된 메소드는 다음과 같다.
메소드	설명
String getName()	파일의 이름을 구한다.
String getSize()	파일의 크기를 구한다.
boolean isDirectory()	폴더인 경우 true를 리턴한다.
boolean isFile()	파일인 경우 true를 리턴한다.
boolean isSymbolicLink()	심볼 링크인 경우 true를 리턴한다.
String getLink()	심볼 링크인 경우 링크가 가리키는 파일의 이름을 리턴한다.
Calendar getTimestamp()	생성날짜를 구한다.
이 외에도 FTPFile 클래스는 파일의 소유자 및 그룹, 권한 관련 정보를 구할 수 있는 메소드를 제공하고 있다.
결론
본 글에서는 Jakarta Commons Net API를 사용하여 FTP 파일 업로드/다운로드 기능을 구현하는 방법을 살펴봤다. Commons Net API의 FTPClient 클래스는 개발자 대신 FTP 프로토콜을 처리해줌으로써 개발자가 빠르게 FTP 관련 기능을 구현할 수 있게 해준다는 것을 알 수 있었을 것이다. FTP 뿐만 아니라 SMTP/POP3, Telnet 등 다양한 프로토콜을 처리할 수 있는 클라이언트 모듈을 제공하고 있으므로, Commons Net을 사용하면 이들 프로토콜과 관련된 클라이언트 어플리케이션을 빠르게 개발할 수 있을 것이다.
출처 : http://javacan.madvirus.net/main/content/read.tle?contentId=123#sectionTitleListA
==========================================================================================
Commons net
I. Commons net
Jakarta Commons의 net은 network utility collection입니다.
인터넷 프로토콜을 대부분지원하는 강력한 유틸리티로 사용이 쉽고 간결합니다.
클라이언트측의 기본적인 Internet protocol을 구현함으로서 고차원적인 abstract가 아닌 기본적인 프로토콜 access가 목적이기 때문에 부분적으로 object-orient 규칙에 위배되는 사항이 있다는것을 참고적으로 알자
Commons net이 지원하는 프로토콜은 다음과 같다
FTP
NNTP
SMTP
POP3
Telnet
TFTP
Finger
Whois
rexec/rcmd/rlogin
Time (rdate) and Daytime
Echo
Discard
NTP/SNTP
FTP의 경우 이전에는 sun 패키지의 FtpClient를 사용했지만 이제는 Commons net의 FTP를 사용해 봅시다
II. 준비물~
Commons net은 자체적으로 ORO를 사용합니다
Jakarta ORO란 파일이름의 치환, 분할, 필터링 등을 수행하기 위한 Perl5 호환 정규식, AWK와 같은 정규식, glob 표현, 그리고 유틸리티 클래스들을 제공하는 텍스트 처리 자바 클래스들입니다
Commons net http://jakarta.apache.org/site/downloads/downloads_commons-net.cgi
Jakarta ORO http://jakarta.apache.org/site/downloads/downloads_oro.cgi
참고자료
Commons net API http://jakarta.apache.org/commons/net/apidocs/index.html
Commons net http://jakarta.apache.org/commons/net/
III. org.apache.commons.net.ftp 의 흐름
sun 패키지의 FTPClient처럼 FTP여러 동작을 Commons net의 FTPClient로 구현해 보자
다음 ① ~ ⑦까지 목록은 필수항목으로 구현되어야 합니다.
논리적으로 보면 간단합니다 ① FTPClient 생성
먼저 가장 중심적인 역할을 하는 FTPClient를 생성합니다
FTPClient ftpClient = new FTPClient();
② FTPServer에 Connect
서버에 연결을 합니다
ftpClient.connect(server);
③ 응답이 정상적인지 확인 합니다
응답을 받아와서
int reply = ftpClient.getReplyCode();
정상적인지 확인해 봅니다
if (!FTPReply.isPositiveCompletion(reply)) {
정상적이지 않으면 연결을 끊고 종료 합니다
ftpClient.disconnect();

System.out.println("FTP server refused connection.");
} else {
정상적이면 계속 진행 합니다
System.out.println("Connect successful");
..
}
④ FTP Server 로그인
ftpClient.login(username, password);
⑤ 여러가지 작업을 합니다
list, get, put...
⑥ FTP Server 로그아웃
ftpClient.logout();
⑦ FTP Server disconnect
ftpClient.disconnect();
IV. 사용예제 - 목록보기
본격적으로 FTP에 접속하여 목록을 가져오는 소스를 봅시다 FTPClient ftpClient = null;
try {
ftpClient = new FTPClient();
ftpClient.setControlEncoding("euc-kr"); // 한글파일명 때문에 디폴트 인코딩을 euc-kr로 합니다
ftpClient.connect("user.chollian.net"); // 천리안 FTP에 접속합니다
int reply = ftpClient.getReplyCode(); // 응답코드가 비정상이면 종료합니다
if (!FTPReply.isPositiveCompletion(reply)) {
ftpClient.disconnect();
System.out.println("FTP server refused connection.");
} else {

System.out.print(ftpClient.getReplyString()); // 응답 메세지를 찍어봅시다
ftpClient.setSoTimeout(10000); // 현재 커넥션 timeout을 millisecond 값으로 입력합니다
ftpClient.login(username, password); // 로그인 유저명과 비밀번호를 입력 합니다
// 목록보기 구현
FTPFile[] ftpfiles = ftpClient.listFiles("/public"); // public 폴더의 모든 파일을 list 합니다
if (ftpfiles != null) {
for (int i = 0; i < ftpfiles.length; i++) {
FTPFile file = ftpfiles[i];
System.out.println(file.toString()); // file.getName(), file.getSize() 등등..
}
}
ftpClient.logout();
}
} catch (Exception e) {
System.out.println(e);
e.printStackTrace();
} finally {
if (ftpClient != null && ftpClient.isConnected()) {
try {
ftpClient.disconnect();
} catch (IOException ioe) {
ioe.printStackTrace();
}
}
목록보기 방법에는 한가지 방법이 더 있습니다
위의 코드는 해당 디렉토리내의 모든 파일을 가져오는 방법이며 다음 방법은 해당 디렉토리의 모든 파일을 정해진 수로 짤라 가져오는 방법이 있습니다.
위의 빨간색 코드대신 다음 코드가 들어갈 수 있습니다.
int page = 1;
FTPListParseEngine engine = ftpClient.initiateListParsing("/public"); // 목록을 나타낼 디렉토리
while (engine.hasNext()) {
FTPFile[] ftpfiles = engine.getNext(10); // 10개 단위로 끊어서 가져온다

System.out.println("------------------------ "+page+" ------------------------");
if (ftpfiles != null) {
for (int i = 0; i < ftpfiles.length; i++) {
FTPFile file = ftpfiles[i];
System.out.println(file.toString());
}
}
System.out.println("------------------------ "+(page++)+" -------------------------");
}
V. 사용예제 - get (파일 다운로드)
서버의 /public/테스트.txt 파일을 클라이언트의 C:\\Test\\테스트.txt 에 다운받는 예제 File get_file = new File("C:\\Test\\테스트.txt");
OutputStream outputStream = new FileOutputStream(get_file);
boolean result = ftpClient.retrieveFile("/public/테스트.txt", outputStream);
outputStream.close();
VI. 사용예제 - put(파일 업로드)
클라이언트의 C:\\Test\\보내자.txt 파일을 서버의 /public/보내자.txt 에 업로드하는 예제
만일 서버에 이미 /public/보내자.txt 파일이 있다면 덮어쓰게 된다 File put_file = new File("C:\\Test\\보내자.txt");
inputStream = new FileInputStream(put_file);
boolean result = ftpClient.storeFile("/public/보내자.txt", inputStream);
inputStream.close();
VII. 사용예제 - append (파일업로드)
위의 예제와 같은 기능을 하지만 이미 파일에 동일한 파일이 있으면 false를 반환하면서 실행하지 않는다 File append_file = new File("C:\\Test\\더해라.txt");
inputStream = new FileInputStream(append_file);
boolean result = ftpClient.appendFile("/public/더해라.txt", inputStream);
inputStream.close();
VIII. 사용예제 - rename (파일 이름변경)
변경전 파일명과 변경할 파일명을 파라미터로 준다 boolean result = ftpClient.rename("/public/바꾸기전파일.txt", "/public/바꾼후파일.txt");
IX. 사용예제 - delete (파일삭제)
삭제할 파일을 선택한다 boolean result = ftpClient.deleteFile("/public/test.txt");
X. 사용예제 - directory 생성
/public 에 oops 디렉토리를 생성한다 boolean result = ftpClient.makeDirectory("/public/oops");
XI. 사용예제 - OS 커맨드 입력하기
/public 에 oops 디렉토리를 생성한다 ftpClient.sendCommand(FTPCommand.MAKE_DIRECTORY, "/public/oops");
sendCommand 함수에 FTPCommand의 실행할 OS명령을 static 멤버변수를 넘겨준다
XII. 사용예제 - 작업디렉토리 설정하기
작업디렉토리를 /public 설정한 후 oops 디렉토리를 설정한다 (위의 예제와 비교해보라!) ftpClient.changeWorkingDirectory("/public");
boolean result = ftpClient.makeDirectory("oops"); // /public/oops 절대경로를 적지 않아도 된다
XIII. 사용예제 - 파일 및 전송형태 설정
파일 형태 설정 ftpClient.setFileType(FTP.BINARY_FILE_TYPE);
파일 타입
FTP.BINARY_FILE_TYPE, FTP.ASCII_FILE_TYPE, FTP.EBCDIC_FILE_TYPE, FTP.IMAGE_FILE_TYPE , FTP.LOCAL_FILE_TYPE
이 값을 설정하지 않으면 디폴트는 ASCII 이다
전송 형태 설정 ftpClient.setFileTransferMode(FTP.STREAM_TRANSFER_MODE);
전송 타입
FTP.BLOCK_TRANSFER_MODE, FTP.COMPRESSED_TRANSFER_MODE
이값을 설정하지 않으면 디폴트는 FTP.STREAM_TRANSFER_MODE 이다
XIV. FTP접속시 글목록이 보이지 않는경우 아래 URL을 참고하세요
Jakarta Commons Net 에서 FTP 사용시 목록이 안보일 경우
http://www.jakartaproject.com/article/jakarta/1132032615162
목록이 안보일 경우 해결기 I탄
http://www.jakartaproject.com/article/jakarta/1135307924491
테스트한 파일을 첨부합니다 ^^

----------------------------------------------------------------------------------------------------
[ tain.kr.test ]

	1. WAS
		import tain.kr.test.ftp.v01.FtpReceiver
		import tain.kr.test.ftp.v01.FtpTransfer
	
	2. was/bin/realenv.sh
		tain.kr.test.realsystem.v01.RealSystem
	
	3. 
	



----------------------------------------------------------------------------------------------------
[ maven ]

	1. http://www.sonatype.com/books/mvnex-book/reference/public-book.html
	2. http://www.slideshare.net/MikeEnsor/maven-3-overview-15845337
	3. http://www.slideshare.net/leefs/maven-7839125
	4. http://www.slideshare.net/croeder6000/maven-7847270
	


----------------------------------------------------------------------------------------------------


SELECT COUNT(*) FROM MMS_EVENT_MST WHERE TO_CHAR(INSERT_DATE,'YYYYMMDD') = '20151218';

SELECT COUNT(*) FROM MMS_CUST_MST WHERE TO_CHAR(INSERT_DATE,'YYYYMMDD') = '20151218';


SELECT * FROM MMS_CUST_MST WHERE TO_CHAR(INSERT_DATE,'YYYYMMDD') = '20151218' AND BARCODE_NO LIKE '%8';


SELECT EVENT_CODE, COUNT(*) FROM MMS_CUST_MST WHERE TO_CHAR(INSERT_DATE,'YYYYMMDD') = '20151218' GROUP BY EVENT_CODE;


----------------------------------------------------------------------------------------------------

/* msg_id = 15 */
/* msg_내용 :
*데이터 처리 시각 :09:00
*채널별 캠페인 등록 가능 건수 :
SMS : 건
LMS : 건
MMS : 건
BMS : 건
앱푸시(T) : 건
앱푸시(R) : 건
이메일 : 건 

*채널별 발송 가능 고객수 :
SMS : 건
LMS : 건
MMS : 건
BMS : 건
앱푸시(T) : 건
앱푸시(R) : 건
이메일 : 건 
*/

/* msg_id = 16
*데이터 처리 시각 :%stime% 
*채널별 캠페인 등록 가능 건수 :
SMS : 건으로 당일 캠페인 등록 초과입니다.
LMS : 건으로 당일 캠페인 등록 초과입니다.
MMS : 건으로 당일 캠페인 등록 초과입니다.
BMS : 건으로 당일 캠페인 등록 초과입니다.
앱푸시(T) : 건으로 당일 캠페인 등록 초과입니다.
앱푸시(R) : 건으로 당일 캠페인 등록 초과입니다.
이메일 : 건으로 당일 캠페인 등록 초과입니다. 
*/

msg_id=M016&stime=HH:MM:SS&chnnl_cd=SMS&chnnl_cnt=123

*데이터 처리 시각 :HH:MM:SS 
*채널별 캠페인 등록 가능 건수 :
SMS : 123 건으로 당일 캠페인 등록 초과입니다.




/* msg_id = 17
*채널별 발송 가능 고객수 :
SMS : 명으로 당일 캠페인 발송 고객 초과입니다.
LMS : 명으로 당일 캠페인 발송 고객 초과입니다.
MMS : 명으로 당일 캠페인 발송 고객 초과입니다.
BMS : 명으로 당일 캠페인 발송 고객 초과입니다.
앱푸시(T) : 명으로 당일 캠페인 발송 고객 초과입니다.
앱푸시(R) : 명으로 당일 캠페인 발송 고객 초과입니다.
이메일 : 명으로 당일 캠페인 발송 고객 초과입니다. 
*/


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

	 * 개발 : http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=callMasterSoap11&msg_id=M001&cmpgn_no=C20151205102011972&chnnl_no=APT1020151205315
	 *        http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=callMasterSoap11&msg_id=M015&stime=09:00&chnnl_info1=SMS_70:LMS_1234:APT_231&chnnl_info2=SMS_50:LMS_1000:APT_200
	 *        http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=callMasterSoap11&msg_id=M016&stime=09:00&chnnl_info=SMS_70:LMS_1234:APT_231
	 *        http://localhost:8080/SASEMARTCMS/common/HH14065I.do?method=callMasterSoap11&msg_id=M017&stime=09:00&chnnl_info=SMS_50:LMS_1000:APT_200
	 * 
	 * 운영 : https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=callMasterSoap11&msg_id=M001&cmpgn_no=C20151205102011972&chnnl_no=APT1020151205315
	 * 
	 * 운영(M015) : https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=callMasterSoap11&msg_id=M015&stime=09:00&chnnl_info1=SMS_70:LMS_1234:APT_231&chnnl_info2=SMS_50:LMS_1000:APT_200
	 * 
	 * 운영(M016) : https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=callMasterSoap11&msg_id=M016&stime=09:00&chnnl_info=SMS_70:LMS_1234:APT_231
	 * 
	 * 운영(M017) : https://cms.emart.com:8343/SASEMARTCMS/common/HH14065I.do?method=callMasterSoap11&msg_id=M017&stime=09:00&chnnl_info=SMS_50:LMS_1000:APT_200


----------------------------------------------------------------------------------------------------


SELECT
	*
FROM
	CMSVIEW.CM_CMMN_CD
WHERE 1=1
	AND GRP_CD IN ('CM002','CM031','CM032','CM030','CM033')
ORDER BY
	GRP_CD, COMM_CD
;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

CREATE TABLE CMSDATA_BAK.CM_AMT_RSPNS_SMM_151219               AS CMSDATA.CM_AMT_RSPNS_SMM                 WITH DATA;  -- 001
CREATE TABLE CMSDATA_BAK.CM_BDSRCT_RSPNS_SMM_151219            AS CMSDATA.CM_BDSRCT_RSPNS_SMM              WITH DATA;  -- 002
CREATE TABLE CMSDATA_BAK.CM_BST_CMPGN_151219                   AS CMSDATA.CM_BST_CMPGN                     WITH DATA;  -- 003
CREATE TABLE CMSDATA_BAK.CM_BUYTERM_DAY_151219                 AS CMSDATA.CM_BUYTERM_DAY                   WITH DATA;  -- 004
CREATE TABLE CMSDATA_BAK.CM_BUYTERM_WEEK_151219                AS CMSDATA.CM_BUYTERM_WEEK                  WITH DATA;  -- 005
CREATE TABLE CMSDATA_BAK.CM_CARD_CO_151219                     AS CMSDATA.CM_CARD_CO                       WITH DATA;  -- 006
CREATE TABLE CMSDATA_BAK.CM_CATCHMNT_INCRSS_RTO_SMM_151219     AS CMSDATA.CM_CATCHMNT_INCRSS_RTO_SMM       WITH DATA;  -- 007
CREATE TABLE CMSDATA_BAK.CM_CHNNL_ACHIVE_COMPRSM_SMM_151219    AS CMSDATA.CM_CHNNL_ACHIVE_COMPRSM_SMM      WITH DATA;  -- 008
CREATE TABLE CMSDATA_BAK.CM_CHNNL_APR_151219                   AS CMSDATA.CM_CHNNL_APR                     WITH DATA;  -- 009
CREATE TABLE CMSDATA_BAK.CM_CHNNL_APT_151219                   AS CMSDATA.CM_CHNNL_APT                     WITH DATA;  -- 010
CREATE TABLE CMSDATA_BAK.CM_CHNNL_BMS_151219                   AS CMSDATA.CM_CHNNL_BMS                     WITH DATA;  -- 011
CREATE TABLE CMSDATA_BAK.CM_CHNNL_DM_151219                    AS CMSDATA.CM_CHNNL_DM                      WITH DATA;  -- 012
CREATE TABLE CMSDATA_BAK.CM_CHNNL_DVD_WGHT_151219              AS CMSDATA.CM_CHNNL_DVD_WGHT                WITH DATA;  -- 013
CREATE TABLE CMSDATA_BAK.CM_CHNNL_EML_151219                   AS CMSDATA.CM_CHNNL_EML                     WITH DATA;  -- 014
CREATE TABLE CMSDATA_BAK.CM_CHNNL_LMS_151219                   AS CMSDATA.CM_CHNNL_LMS                     WITH DATA;  -- 015
CREATE TABLE CMSDATA_BAK.CM_CHNNL_MMS_151219                   AS CMSDATA.CM_CHNNL_MMS                     WITH DATA;  -- 016
CREATE TABLE CMSDATA_BAK.CM_CHNNL_PLCY_151219                  AS CMSDATA.CM_CHNNL_PLCY                    WITH DATA;  -- 017
CREATE TABLE CMSDATA_BAK.CM_CHNNL_POS_151219                   AS CMSDATA.CM_CHNNL_POS                     WITH DATA;  -- 018
CREATE TABLE CMSDATA_BAK.CM_CHNNL_RMNS_CNT_BY_DAY_151219       AS CMSDATA.CM_CHNNL_RMNS_CNT_BY_DAY         WITH DATA;  -- 019
CREATE TABLE CMSDATA_BAK.CM_CHNNL_RSPNS_SMM_151219             AS CMSDATA.CM_CHNNL_RSPNS_SMM               WITH DATA;  -- 020
CREATE TABLE CMSDATA_BAK.CM_CHNNL_SMS_151219                   AS CMSDATA.CM_CHNNL_SMS                     WITH DATA;  -- 021
CREATE TABLE CMSDATA_BAK.CM_CHNNL_TST_GRP_151219               AS CMSDATA.CM_CHNNL_TST_GRP                 WITH DATA;  -- 022
CREATE TABLE CMSDATA_BAK.CM_CHNNL_TST_GRP_CUST_151219          AS CMSDATA.CM_CHNNL_TST_GRP_CUST            WITH DATA;  -- 023
CREATE TABLE CMSDATA_BAK.CM_CMMN_CD_151219                     AS CMSDATA.CM_CMMN_CD                       WITH DATA;  -- 024
CREATE TABLE CMSDATA_BAK.CM_CMPGN_ALRM_MSG_151219              AS CMSDATA.CM_CMPGN_ALRM_MSG                WITH DATA;  -- 025
CREATE TABLE CMSDATA_BAK.CM_CMPGN_CHNNL_151219                 AS CMSDATA.CM_CMPGN_CHNNL                   WITH DATA;  -- 026
CREATE TABLE CMSDATA_BAK.CM_CMPGN_CTGRY_151219                 AS CMSDATA.CM_CMPGN_CTGRY                   WITH DATA;  -- 027
CREATE TABLE CMSDATA_BAK.CM_CMPGN_DYNAMIC_151219               AS CMSDATA.CM_CMPGN_DYNAMIC                 WITH DATA;  -- 028
CREATE TABLE CMSDATA_BAK.CM_CMPGN_EXCT_151219                  AS CMSDATA.CM_CMPGN_EXCT                    WITH DATA;  -- 029
CREATE TABLE CMSDATA_BAK.CM_CMPGN_HISTRY_151219                AS CMSDATA.CM_CMPGN_HISTRY                  WITH DATA;  -- 030
CREATE TABLE CMSDATA_BAK.CM_CMPGN_MST_151219                   AS CMSDATA.CM_CMPGN_MST                     WITH DATA;  -- 031
CREATE TABLE CMSDATA_BAK.CM_CMPGN_OFFR_151219                  AS CMSDATA.CM_CMPGN_OFFR                    WITH DATA;  -- 032
CREATE TABLE CMSDATA_BAK.CM_CMPGN_PLCY_151219                  AS CMSDATA.CM_CMPGN_PLCY                    WITH DATA;  -- 033
CREATE TABLE CMSDATA_BAK.CM_CMPGN_REG_151219                   AS CMSDATA.CM_CMPGN_REG                     WITH DATA;  -- 034
CREATE TABLE CMSDATA_BAK.CM_CMPGN_REG_DTL_151219               AS CMSDATA.CM_CMPGN_REG_DTL                 WITH DATA;  -- 035
CREATE TABLE CMSDATA_BAK.CM_CMPGN_ROI_CUST_151219              AS CMSDATA.CM_CMPGN_ROI_CUST                WITH DATA;  -- 036
CREATE TABLE CMSDATA_BAK.CM_CMPGN_SCCS_CNDTN_CD_151219         AS CMSDATA.CM_CMPGN_SCCS_CNDTN_CD           WITH DATA;  -- 037
CREATE TABLE CMSDATA_BAK.CM_CMPGN_SCCS_CNDTN_DTL_151219        AS CMSDATA.CM_CMPGN_SCCS_CNDTN_DTL          WITH DATA;  -- 038
CREATE TABLE CMSDATA_BAK.CM_CMPGN_SIMUL_CUST_151219            AS CMSDATA.CM_CMPGN_SIMUL_CUST              WITH DATA;  -- 039
CREATE TABLE CMSDATA_BAK.CM_CMPGN_TRGT_CHC_151219              AS CMSDATA.CM_CMPGN_TRGT_CHC                WITH DATA;  -- 040
CREATE TABLE CMSDATA_BAK.CM_CMPGN_TRGT_CUST_151219             AS CMSDATA.CM_CMPGN_TRGT_CUST               WITH DATA;  -- 041
CREATE TABLE CMSDATA_BAK.CM_CMTN_PLN_151219                    AS CMSDATA.CM_CMTN_PLN                      WITH DATA;  -- 042
CREATE TABLE CMSDATA_BAK.CM_CTGRY_ACHIVE_COMPRSM_SMM_151219    AS CMSDATA.CM_CTGRY_ACHIVE_COMPRSM_SMM      WITH DATA;  -- 043
CREATE TABLE CMSDATA_BAK.CM_CTGY_INCRSS_RTO_SMM_151219         AS CMSDATA.CM_CTGY_INCRSS_RTO_SMM           WITH DATA;  -- 044
CREATE TABLE CMSDATA_BAK.CM_CULTURE_CD_151219                  AS CMSDATA.CM_CULTURE_CD                    WITH DATA;  -- 045
CREATE TABLE CMSDATA_BAK.CM_CUST_FAV_CHNNL_151219              AS CMSDATA.CM_CUST_FAV_CHNNL                WITH DATA;  -- 046
CREATE TABLE CMSDATA_BAK.CM_CUST_GRADE_151219                  AS CMSDATA.CM_CUST_GRADE                    WITH DATA;  -- 047
CREATE TABLE CMSDATA_BAK.CM_CUST_MST_151219                    AS CMSDATA.CM_CUST_MST                      WITH DATA;  -- 048
CREATE TABLE CMSDATA_BAK.CM_CUST_RSPNS_SMM_151219              AS CMSDATA.CM_CUST_RSPNS_SMM                WITH DATA;  -- 049
CREATE TABLE CMSDATA_BAK.CM_CUST_SCCSS_RSPNS_HSTRY_151219      AS CMSDATA.CM_CUST_SCCSS_RSPNS_HSTRY        WITH DATA;  -- 050
CREATE TABLE CMSDATA_BAK.CM_DAY_VISIT_EXCSS_SMM_151219         AS CMSDATA.CM_DAY_VISIT_EXCSS_SMM           WITH DATA;  -- 051
CREATE TABLE CMSDATA_BAK.CM_DAY_VISIT_INCRSS_SMM_151219        AS CMSDATA.CM_DAY_VISIT_INCRSS_SMM          WITH DATA;  -- 052
CREATE TABLE CMSDATA_BAK.CM_DIC_TBL_151219                     AS CMSDATA.CM_DIC_TBL                       WITH DATA;  -- 053
CREATE TABLE CMSDATA_BAK.CM_DT_RSPNS_SMM_151219                AS CMSDATA.CM_DT_RSPNS_SMM                  WITH DATA;  -- 054
CREATE TABLE CMSDATA_BAK.CM_EMART_RECPT_151219                 AS CMSDATA.CM_EMART_RECPT                   WITH DATA;  -- 055
CREATE TABLE CMSDATA_BAK.CM_EMART_SAMPLE_151219                AS CMSDATA.CM_EMART_SAMPLE                  WITH DATA;  -- 056
CREATE TABLE CMSDATA_BAK.CM_EMI_HQ_APPROVAL_151219             AS CMSDATA.CM_EMI_HQ_APPROVAL               WITH DATA;  -- 057
CREATE TABLE CMSDATA_BAK.CM_ETLJOB_LOG_151219                  AS CMSDATA.CM_ETLJOB_LOG                    WITH DATA;  -- 058
CREATE TABLE CMSDATA_BAK.CM_ETLJOB_MAST_151219                 AS CMSDATA.CM_ETLJOB_MAST                   WITH DATA;  -- 059
CREATE TABLE CMSDATA_BAK.CM_EVNT_MST_151219                    AS CMSDATA.CM_EVNT_MST                      WITH DATA;  -- 060
CREATE TABLE CMSDATA_BAK.CM_FORCST_SALE_151219                 AS CMSDATA.CM_FORCST_SALE                   WITH DATA;  -- 061
CREATE TABLE CMSDATA_BAK.CM_FORCST_SALE_ADD_151219             AS CMSDATA.CM_FORCST_SALE_ADD               WITH DATA;  -- 062
CREATE TABLE CMSDATA_BAK.CM_GFT_CUST_LST_151219                AS CMSDATA.CM_GFT_CUST_LST                  WITH DATA;  -- 063
CREATE TABLE CMSDATA_BAK.CM_GFT_MST_151219                     AS CMSDATA.CM_GFT_MST                       WITH DATA;  -- 064
CREATE TABLE CMSDATA_BAK.CM_HQ_RSLT_ANLYSS_SMM_151219          AS CMSDATA.CM_HQ_RSLT_ANLYSS_SMM            WITH DATA;  -- 065
CREATE TABLE CMSDATA_BAK.CM_MAP_INCRSS_RTO_SMM_151219          AS CMSDATA.CM_MAP_INCRSS_RTO_SMM            WITH DATA;  -- 066
CREATE TABLE CMSDATA_BAK.CM_MENU_LOGDATA_RS_151219             AS CMSDATA.CM_MENU_LOGDATA_RS               WITH DATA;  -- 067
CREATE TABLE CMSDATA_BAK.CM_MENU_LOGINFO_151219                AS CMSDATA.CM_MENU_LOGINFO                  WITH DATA;  -- 068
CREATE TABLE CMSDATA_BAK.CM_MON_VISIT_EXCSS_SMM_151219         AS CMSDATA.CM_MON_VISIT_EXCSS_SMM           WITH DATA;  -- 069
CREATE TABLE CMSDATA_BAK.CM_NTC_151219                         AS CMSDATA.CM_NTC                           WITH DATA;  -- 070
CREATE TABLE CMSDATA_BAK.CM_OFFR_ACHIVE_COMPRSM_SMM_151219     AS CMSDATA.CM_OFFR_ACHIVE_COMPRSM_SMM       WITH DATA;  -- 071
CREATE TABLE CMSDATA_BAK.CM_OFFR_EXP_INFO_151219               AS CMSDATA.CM_OFFR_EXP_INFO                 WITH DATA;  -- 072
CREATE TABLE CMSDATA_BAK.CM_OFFR_SCCSS_MST_151219              AS CMSDATA.CM_OFFR_SCCSS_MST                WITH DATA;  -- 073
CREATE TABLE CMSDATA_BAK.CM_OFFR_SCCS_CNDTN_151219             AS CMSDATA.CM_OFFR_SCCS_CNDTN               WITH DATA;  -- 074
CREATE TABLE CMSDATA_BAK.CM_PGM_ID_151219                      AS CMSDATA.CM_PGM_ID                        WITH DATA;  -- 075
CREATE TABLE CMSDATA_BAK.CM_RSLT_ANLYSS_SMM_151219             AS CMSDATA.CM_RSLT_ANLYSS_SMM               WITH DATA;  -- 076
CREATE TABLE CMSDATA_BAK.CM_SCCSS_RSPNS_SMM_151219             AS CMSDATA.CM_SCCSS_RSPNS_SMM               WITH DATA;  -- 077
CREATE TABLE CMSDATA_BAK.CM_SCCS_RSPNS_SMM_151219              AS CMSDATA.CM_SCCS_RSPNS_SMM                WITH DATA;  -- 078
CREATE TABLE CMSDATA_BAK.CM_SCHDL_HO_151219                    AS CMSDATA.CM_SCHDL_HO                      WITH DATA;  -- 079
CREATE TABLE CMSDATA_BAK.CM_SCHDL_HO_DTTM_151219               AS CMSDATA.CM_SCHDL_HO_DTTM                 WITH DATA;  -- 080
CREATE TABLE CMSDATA_BAK.CM_SCHDL_HO_SCCS_CNDTN_DTL_151219     AS CMSDATA.CM_SCHDL_HO_SCCS_CNDTN_DTL       WITH DATA;  -- 081
CREATE TABLE CMSDATA_BAK.CM_SEND_MST_151219                    AS CMSDATA.CM_SEND_MST                      WITH DATA;  -- 082
CREATE TABLE CMSDATA_BAK.CM_SEND_MST_TMP_151219                AS CMSDATA.CM_SEND_MST_TMP                  WITH DATA;  -- 083
CREATE TABLE CMSDATA_BAK.CM_STARBUCKS_REVN_151219              AS CMSDATA.CM_STARBUCKS_REVN                WITH DATA;  -- 084
CREATE TABLE CMSDATA_BAK.CM_STARBUCKS_USER_151219              AS CMSDATA.CM_STARBUCKS_USER                WITH DATA;  -- 085
CREATE TABLE CMSDATA_BAK.CM_STORE_TEL_151219                   AS CMSDATA.CM_STORE_TEL                     WITH DATA;  -- 086
CREATE TABLE CMSDATA_BAK.CM_STR_151219                         AS CMSDATA.CM_STR                           WITH DATA;  -- 087
CREATE TABLE CMSDATA_BAK.CM_STR_ADMIN_AREA_ADDRSS_151219       AS CMSDATA.CM_STR_ADMIN_AREA_ADDRSS         WITH DATA;  -- 088
CREATE TABLE CMSDATA_BAK.CM_STR_CHGR_151219                    AS CMSDATA.CM_STR_CHGR                      WITH DATA;  -- 089
CREATE TABLE CMSDATA_BAK.CM_STR_DAY_SMM_151219                 AS CMSDATA.CM_STR_DAY_SMM                   WITH DATA;  -- 090
CREATE TABLE CMSDATA_BAK.CM_STR_EXP_151219                     AS CMSDATA.CM_STR_EXP                       WITH DATA;  -- 091
CREATE TABLE CMSDATA_BAK.CM_STR_GRADE_SMM_151219               AS CMSDATA.CM_STR_GRADE_SMM                 WITH DATA;  -- 092
CREATE TABLE CMSDATA_BAK.CM_STR_RSLT_ANLYSS_SMM_151219         AS CMSDATA.CM_STR_RSLT_ANLYSS_SMM           WITH DATA;  -- 093
CREATE TABLE CMSDATA_BAK.CM_TGT_CUST_RSPNS_HSTRY_151219        AS CMSDATA.CM_TGT_CUST_RSPNS_HSTRY          WITH DATA;  -- 094
CREATE TABLE CMSDATA_BAK.CM_THM_TRGT_151219                    AS CMSDATA.CM_THM_TRGT                      WITH DATA;  -- 095
CREATE TABLE CMSDATA_BAK.CM_THM_TRGT_CUST_151219               AS CMSDATA.CM_THM_TRGT_CUST                 WITH DATA;  -- 096
CREATE TABLE CMSDATA_BAK.CM_THM_TRGT_STR_151219                AS CMSDATA.CM_THM_TRGT_STR                  WITH DATA;  -- 097
CREATE TABLE CMSDATA_BAK.CM_TOT_CMPGN_CMPRSN_151219            AS CMSDATA.CM_TOT_CMPGN_CMPRSN              WITH DATA;  -- 098
CREATE TABLE CMSDATA_BAK.CM_TRGT_CNDTN_151219                  AS CMSDATA.CM_TRGT_CNDTN                    WITH DATA;  -- 099
CREATE TABLE CMSDATA_BAK.CM_TRGT_CNDTN_BY_STR_151219           AS CMSDATA.CM_TRGT_CNDTN_BY_STR             WITH DATA;  -- 100
CREATE TABLE CMSDATA_BAK.CM_TRGT_CNDTN_INSTNC_151219           AS CMSDATA.CM_TRGT_CNDTN_INSTNC             WITH DATA;  -- 101
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_BARCD_151219             AS CMSDATA.CM_TRGT_CUST_BARCD               WITH DATA;  -- 102
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_CHNNL_RSPNS_151219       AS CMSDATA.CM_TRGT_CUST_CHNNL_RSPNS         WITH DATA;  -- 103
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_INFO_151219              AS CMSDATA.CM_TRGT_CUST_INFO                WITH DATA;  -- 104
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_OFFR_RSLT_151219         AS CMSDATA.CM_TRGT_CUST_OFFR_RSLT           WITH DATA;  -- 105
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_PRCHSE_INFO_151219       AS CMSDATA.CM_TRGT_CUST_PRCHSE_INFO         WITH DATA;  -- 106
CREATE TABLE CMSDATA_BAK.CM_TRGT_CUST_RSPNS_151219             AS CMSDATA.CM_TRGT_CUST_RSPNS               WITH DATA;  -- 107
CREATE TABLE CMSDATA_BAK.CM_TRGT_RQST_RSLT_151219              AS CMSDATA.CM_TRGT_RQST_RSLT                WITH DATA;  -- 108
CREATE TABLE CMSDATA_BAK.CM_TST_CHRGPERS_151219                AS CMSDATA.CM_TST_CHRGPERS                  WITH DATA;  -- 109
CREATE TABLE CMSDATA_BAK.CM_USER_LOG_151219                    AS CMSDATA.CM_USER_LOG                      WITH DATA;  -- 110
CREATE TABLE CMSDATA_BAK.CM_WRD_RPLC_151219                    AS CMSDATA.CM_WRD_RPLC                      WITH DATA;  -- 111
CREATE TABLE CMSDATA_BAK.CM_YM_CHNNL_SMM_151219                AS CMSDATA.CM_YM_CHNNL_SMM                  WITH DATA;  -- 112
CREATE TABLE CMSDATA_BAK.CM_YM_CMPGN_EXP_SMM_151219            AS CMSDATA.CM_YM_CMPGN_EXP_SMM              WITH DATA;  -- 113
CREATE TABLE CMSDATA_BAK.CM_YM_CRRNT_OFFR_151219               AS CMSDATA.CM_YM_CRRNT_OFFR                 WITH DATA;  -- 114
CREATE TABLE CMSDATA_BAK.CM_YM_CTGRY_SMM_151219                AS CMSDATA.CM_YM_CTGRY_SMM                  WITH DATA;  -- 115
CREATE TABLE CMSDATA_BAK.CM_YM_EXP_SMM_151219                  AS CMSDATA.CM_YM_EXP_SMM                    WITH DATA;  -- 116
CREATE TABLE CMSDATA_BAK.CM_YM_MNTH_EXP_SMM_151219             AS CMSDATA.CM_YM_MNTH_EXP_SMM               WITH DATA;  -- 117
CREATE TABLE CMSDATA_BAK.CM_YM_OFFR_SMM_151219                 AS CMSDATA.CM_YM_OFFR_SMM                   WITH DATA;  -- 118
CREATE TABLE CMSDATA_BAK.CM_YM_RSLT_SMM_151219                 AS CMSDATA.CM_YM_RSLT_SMM                   WITH DATA;  -- 119
CREATE TABLE CMSDATA_BAK.CM_YM_SCCSS_SMM_151219                AS CMSDATA.CM_YM_SCCSS_SMM                  WITH DATA;  -- 120
CREATE TABLE CMSDATA_BAK.CM_YM_SCCSS_YM_151219                 AS CMSDATA.CM_YM_SCCSS_YM                   WITH DATA;  -- 121
CREATE TABLE CMSDATA_BAK.CM_YM_SCCS_SMM_151219                 AS CMSDATA.CM_YM_SCCS_SMM                   WITH DATA;  -- 122
CREATE TABLE CMSDATA_BAK.CM_YM_TOT_EXP_SMM_151219              AS CMSDATA.CM_YM_TOT_EXP_SMM                WITH DATA;  -- 123
CREATE TABLE CMSDATA_BAK.CM_YM_YEAR_EXP_SMM_151219             AS CMSDATA.CM_YM_YEAR_EXP_SMM               WITH DATA;  -- 124
CREATE TABLE CMSDATA_BAK.SIMUL_ANLYSS_CMPGN_INFO_151219        AS CMSDATA.SIMUL_ANLYSS_CMPGN_INFO          WITH DATA;  -- 125
CREATE TABLE CMSDATA_BAK.SIMUL_CUST_6MON_SLS_151219            AS CMSDATA.SIMUL_CUST_6MON_SLS              WITH DATA;  -- 126
CREATE TABLE CMSDATA_BAK.SIMUL_CUST_PROFIL_SMM_151219          AS CMSDATA.SIMUL_CUST_PROFIL_SMM            WITH DATA;  -- 127
CREATE TABLE CMSDATA_BAK.SIMUL_CUST_SMM_151219                 AS CMSDATA.SIMUL_CUST_SMM                   WITH DATA;  -- 128
CREATE TABLE CMSDATA_BAK.SIMUL_EXP_SMM_151219                  AS CMSDATA.SIMUL_EXP_SMM                    WITH DATA;  -- 129
CREATE TABLE CMSDATA_BAK.SIMUL_FORCST_SMM_151219               AS CMSDATA.SIMUL_FORCST_SMM                 WITH DATA;  -- 130
CREATE TABLE CMSDATA_BAK.SIMUL_SIMUL_SMM_151219                AS CMSDATA.SIMUL_SIMUL_SMM                  WITH DATA;  -- 131
CREATE TABLE CMSDATA_BAK.SIMUL_STR_MAP_SMM_151219              AS CMSDATA.SIMUL_STR_MAP_SMM                WITH DATA;  -- 132



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


/* 사은품관련 테이블 목록과 쿼리 */

SELECT * FROM CMSVIEW.CM_EVNT_MST;  /* 행사마스터 */

SELECT * FROM CMSVIEW.CM_GFT_MST;   /* 경품마스터 */

SELECT * FROM CMSVIEW.CM_GFT_CUST_LST;   /* 행사에서 경품을 받을 고객 목록, 반응이력도 이 테이블에서 처리함. */




----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 블라썸 캠페인기안 항목수정사항 2015.12.19 ]

	캠페인명
	캠페인코드
	캠페인기간
	캠페인분류
	캠페인상세분류
	채널
	타겟고객수
	* 오퍼종류
	* 오퍼상세
	기안자
	기안일자


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

CM_AMT_RSPNS_SMM
CM_BDSRCT_RSPNS_SMM
CM_BST_CMPGN
CM_BUYTERM_DAY
CM_BUYTERM_WEEK
CM_CARD_CO
CM_CATCHMNT_INCRSS_RTO_SMM
CM_CHNNL_ACHIVE_COMPRSM_SMM
CM_CHNNL_APR
CM_CHNNL_APT
CM_CHNNL_BMS
CM_CHNNL_DM
CM_CHNNL_DVD_WGHT
CM_CHNNL_EML
CM_CHNNL_LMS
CM_CHNNL_MMS
CM_CHNNL_PLCY
CM_CHNNL_POS
CM_CHNNL_RMNS_CNT_BY_DAY
CM_CHNNL_RSPNS_SMM
CM_CHNNL_SMS
CM_CHNNL_TST_GRP
CM_CHNNL_TST_GRP_CUST
CM_CMMN_CD
CM_CMPGN_ALRM_MSG
CM_CMPGN_CHNNL
CM_CMPGN_CTGRY
CM_CMPGN_DYNAMIC
CM_CMPGN_EXCT
CM_CMPGN_HISTRY
CM_CMPGN_MST
CM_CMPGN_OFFR

// 승주
CM_CMPGN_PLCY
CM_CMPGN_REG
CM_CMPGN_REG_DTL
CM_CMPGN_ROI_CUST
CM_CMPGN_SCCS_CNDTN_CD
CM_CMPGN_SCCS_CNDTN_DTL
CM_CMPGN_SIMUL_CUST
CM_CMPGN_TRGT_CHC
CM_CMPGN_TRGT_CUST
CM_CMTN_PLN
CM_CTGRY_ACHIVE_COMPRSM_SMM
CM_CTGY_INCRSS_RTO_SMM
CM_CULTURE_CD
CM_CUST_FAV_CHNNL
CM_CUST_GRADE
CM_CUST_MST
CM_CUST_RSPNS_SMM
CM_CUST_SCCSS_RSPNS_HSTRY
CM_DAY_VISIT_EXCSS_SMM
CM_DAY_VISIT_INCRSS_SMM
CM_DIC_TBL
CM_DT_RSPNS_SMM
CM_EMART_RECPT
CM_EMART_SAMPLE
CM_EMI_HQ_APPROVAL
CM_ETLJOB_LOG
CM_ETLJOB_MAST
CM_EVNT_MST
CM_FORCST_SALE
CM_FORCST_SALE_ADD
CM_GFT_CUST_LST
CM_GFT_MST

// 석
CM_HQ_RSLT_ANLYSS_SMM
CM_MAP_INCRSS_RTO_SMM
CM_MENU_LOGDATA_RS
CM_MENU_LOGINFO
CM_MON_VISIT_EXCSS_SMM
CM_NTC
CM_OFFR_ACHIVE_COMPRSM_SMM
CM_OFFR_EXP_INFO
CM_OFFR_SCCSS_MST
CM_OFFR_SCCS_CNDTN
CM_PGM_ID
CM_RSLT_ANLYSS_SMM
CM_SCCSS_RSPNS_SMM
CM_SCCS_RSPNS_SMM
CM_SCHDL_HO
CM_SCHDL_HO_DTTM
CM_SCHDL_HO_SCCS_CNDTN_DTL
CM_SEND_MST
CM_SEND_MST_TMP
CM_STARBUCKS_REVN
CM_STARBUCKS_USER
CM_STORE_TEL

CM_STR
CM_STR_ADMIN_AREA_ADDRSS
CM_STR_CHGR
CM_STR_DAY_SMM
CM_STR_EXP
CM_STR_GRADE_SMM
CM_STR_RSLT_ANLYSS_SMM
CM_TGT_CUST_RSPNS_HSTRY
CM_THM_TRGT
CM_THM_TRGT_CUST
CM_THM_TRGT_STR
CM_TOT_CMPGN_CMPRSN
CM_TRGT_CNDTN
CM_TRGT_CNDTN_BY_STR
CM_TRGT_CNDTN_INSTNC
CM_TRGT_CUST_BARCD
CM_TRGT_CUST_CHNNL_RSPNS
CM_TRGT_CUST_INFO
CM_TRGT_CUST_OFFR_RSLT
CM_TRGT_CUST_PRCHSE_INFO
CM_TRGT_CUST_RSPNS
CM_TRGT_RQST_RSLT
CM_TST_CHRGPERS
CM_USER_LOG
CM_WRD_RPLC

*CM_YM_CHNNL_SMM
*CM_YM_CMPGN_EXP_SMM
*CM_YM_CRRNT_OFFR
*CM_YM_CTGRY_SMM
*CM_YM_EXP_SMM
*CM_YM_MNTH_EXP_SMM
*CM_YM_OFFR_SMM
*CM_YM_RSLT_SMM
*CM_YM_SCCSS_SMM
*CM_YM_SCCSS_YM
*CM_YM_SCCS_SMM
*CM_YM_TOT_EXP_SMM
*CM_YM_YEAR_EXP_SMM

* SIMUL_ANLYSS_CMPGN_INFO
* SIMUL_CUST_6MON_SLS
* SIMUL_CUST_PROFIL_SMM
* SIMUL_CUST_SMM
* SIMUL_EXP_SMM
* SIMUL_FORCST_SMM
* SIMUL_SIMUL_SMM
* SIMUL_STR_MAP_SMM


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

CHARACTER SET LATIN NOT CASESPECIFIC


-------------------------------------------------------------------

CREATE TABLE SCOTT.DEPT
(
	DEPTNO     NUMBER(2)    NOT NULL PRIMARY KEY ,
	DNAME      VARCHAR2(14) ,
	LOC        VARCHAR2(13) ,
	REG_DTTM   TIMESTAMP
);

COMMENT ON TABLE SCOTT.DEPT IS '부서정보';

COMMENT ON COLUMN SCOTT.DEPT.DEPTNO IS '부서코드';
COMMENT ON COLUMN SCOTT.DEPT.DNAME  IS '부서명'  ;
COMMENT ON COLUMN SCOTT.DEPT.LOC    IS '위치'    ;

-------------------------------------------------------------------

CREATE TABLE SCOTT.EMP
(
	EMPNO   NUMBER(2)     NOT NULL PRIMARY KEY,
	ENAME   VARCHAR2(10)  ,
	DEPTNO  NUMBER(2)     ,
	ADDR    VARCHAR2(100) ,
	CONSTRAINT "FOREIGN_DEPTNO" FOREIGN KEY (DEPTNO) REFERENCES SCOTT.DEPT(DEPTNO)
);

COMMENT ON TABLE SCOTT.DEPT IS '사원정보';

COMMENT ON COLUMN SCOTT.EMP.EMPNO  IS '사번'    ;
COMMENT ON COLUMN SCOTT.EMP.ENAME  IS '이름'    ;
COMMENT ON COLUMN SCOTT.EMP.DEPTNO IS '부서코드';
COMMENT ON COLUMN SCOTT.EMP.ADDR   IS '주소'    ;

-------------------------------------------------------------------

CREATE TABLE SCOTT.BONUS
(
	ID      NUMBER(3)    NOT NULL PRIMARY KEY,
	EMPNO   NUMBER(2)    ,
	JOB     VARCHAR2(9)  ,
	SAL     NUMBER       ,
	COMM    NUMBER       ,
	CONSTRAINT "FOREIGN_EMPNO" FOREIGN KEY (EMPNO) REFERENCES SCOTT.EMP(EMPNO)
);

COMMENT ON TABLE SCOTT.DEPT IS '보너스정보';

COMMENT ON COLUMN SCOTT.BONUS.ID     IS 'ID'    ;
COMMENT ON COLUMN SCOTT.BONUS.EMPNO  IS '이름'  ;
COMMENT ON COLUMN SCOTT.BONUS.JOB    IS '직위'  ;
COMMENT ON COLUMN SCOTT.BONUS.SAL    IS '본봉'  ;
COMMENT ON COLUMN SCOTT.BONUS.COMM   IS '보너스';

-------------------------------------------------------------------

/*

오라클
스크립트로 Reverse Engineer 하여 Comment를 논리명으로 변경하기
1)  Tools => Reverse Engineer
    New Model Type : Logical/Physical 선택
    Toget Database : Oracle / 10.x/11.x 선택
    Next
    Reverse Engineer From : Script File 선택하여 파일 지정
2) Physical 모델 선택
   테이블 전체 선택
   테이블을 외 공간에서 마우스 오른쪽 클릭  => 메뉴 : Harden Physical Names 클릭
3) Logical 모델 선택
   
   Model => Domain dictionary 
   Macro Toolbox 버튼 클릭
   Macros -> Attribute Macro -> %ColumnComment 선택
   Colse 버튼 클릭
   Name Inherited by Attribute : %ColumnComment 만 남기고 삭제
   OK 버튼 클릭
  
   Model => Attribute 
   Reset 버튼 클릭
   Remove overrridden properties for : Reset all attributes in model 선택
   Select Properties to Reset : Definition 제거 / Domain Parent 제거 / Logical Data Type 제거
Logical Only 선택
   OK 버튼 클릭
4) 완료

*/



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

<table width="100%" cellpadding="2" cellspacing="0" bgcolor="#FFFFFF" border="1" bordercolor="#808080" style="border-collapse: collapse;">
    <tr height="27px;" style="display:none;">
        <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;"> COL-1</td>
        <td width="35%" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;"> COL-2 </td>
        <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;"> COL-3</td>
        <td width="35%" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;"> COL-4 </td>
    </tr>
    <tr height="27px;" style="display:visible;">
        <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">캠페인 명</td>
        <td width="35%" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">매출 활성화</td>
        <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">캠페인 코드</td>
        <td width="35%" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">C20151222110000030</td>
    </tr>
    <tr height="27px;" style="display:visible;">
        <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">캠페인 기간</td>
        <td colspan="3" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">2016-01-07 ~ 2016-01-27</td>
    </tr>
    <tr height="50px;" style="display:visible;">
        <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">캠페인 분류<br>/상세분류</td>
        <td colspan="3" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">매출활성화 / 평일활성화</td>
    </tr>
    <tr height="27px;" style="display:visible;">
        <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">대상 채널</td>
        <td colspan="3" style="padding-left:5px;padding-top:5px;padding-right:5px;padding-bottom:5px;">
            <table width="100%" cellpadding="2" cellspacing="0" bgcolor="#FFFFFF" border="1" bordercolor="#808080" style="border-collapse: collapse;">
              <tr height="27px;">
                <td width='15%' valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">채널 명</td>
                <td width='15%' valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">발송 일시</td>
                <td width='15%' valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">타겟고객</td>
                <td             valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">발송제목</td>
              </tr>
              <tr height="45px;">
                <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;" align='center'>LMS</td>
                <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;" align='center'>2016-01-07<br/>10:00</td>
                <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;" align='center'>0 명</td>
                <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;" align='left'  >없슴</td>
              </tr>
              <tr height="45px;">
                <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;" align='center'>SMS</td>
                <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;" align='center'>2016-01-07<br/>10:00</td>
                <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;" align='center'>8,106 명</td>
                <td valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;" align='left'  >이마트 동백점 테스트</td>
              </tr>
            </table>
        </td>
    </tr>
    <tr height="27px;" style="display:visible;">
        <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">타겟 고객</td>
        <td colspan="3" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">8,106 명</td>
    </tr>
    <tr height="27px;" style="display:visible;">
        <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">오퍼 종류</td>
        <td colspan="3" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">사은품 증정</td>
    </tr>
    <tr height="27px;" style="display:visible;">
        <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">오퍼 종류 상세</td>
        <td colspan="3" style="padding-left:5px;padding-top:5px;padding-right:5px;padding-bottom:5px;">
            <table width="100%" cellpadding="2" cellspacing="0" bgcolor="#FFFFFF" border="1" bordercolor="#808080" style="border-collapse: collapse;">
              <tr height="50px;">
             <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">사은품시스템<br/>등록여부</td>
             <td               valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">Y</td>
              </tr>
              <tr height="27px;">
             <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">행 사 내 용</td>
             <td               valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">매출 활성화</td>
              </tr>
              <tr height="27px;">
             <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">사 은 품 명</td>
             <td               valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">라면</td>
              </tr>
              <tr height="50px;">
             <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">사 은 품  금 액<br/>(인당 금액)</td>
             <td               valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">
             	<table width='30%'><tr><td style="font-family: 굴림, 굴림체; font-size: 9pt; text-align:right;">2,900 원</td></tr></table>
             </td>
              </tr>
            </table>
        </td>
    </tr>
    <tr height="27px;" style="display:visible;">
        <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">예 상 비 용</td>
        <td colspan="3" style="padding-left:5px;padding-top:5px;padding-right:5px;padding-bottom:5px;">
            <table width="100%" cellpadding="2" cellspacing="0" bgcolor="#FFFFFF" border="1" bordercolor="#808080" style="border-collapse: collapse;">
              <tr height="27px;">
             <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">오 퍼 비 용</td>
             <td               valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">
             	<table width='30%'><tr><td style="font-family: 굴림, 굴림체; font-size: 9pt; text-align:right;">4,524,000 원</td></tr></table>
             </td>
              </tr>
              <tr height="27px;">
             <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">발 송 비 용</td>
             <td               valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">
             	<table width='30%'><tr><td style="font-family: 굴림, 굴림체; font-size: 9pt; text-align:right;">79,438 원</td></tr></table>
             </td>
              </tr>
            </table>
        </td>
    </tr>
    <tr height="27px;" style="display:visible;">
        <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">기안자</td>
        <td colspan="3" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">임윤식</td>
    </tr>
    <tr height="27px;" style="display:visible;">
        <td width="15%" valign="middle" style="color: #000000;  font-family: '굴림', 굴림체; font-size: 10pt; font-weight: bold; background: #E1E1E1; font-weight: bold; text-align:center;">기안일자</td>
        <td colspan="3" valign="middle" style="padding-left:5px;font-family: '굴림', 굴림체; font-size:  9pt;">2015-12-22</td>
    </tr>
</table>


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

[ 구매횟수, 구매금액 ]
 
 
          SELECT DISTINCT  a.CUST_ID
               , COALESCE(COUNT(DISTINCT b.SALE_DT),0) AS PUR_CNT
               , COALESCE(SUM(b.SALE_AMT-b.DISCNT_AMT),0) AS PUR_AMT
          FROM  CMSDATA.%BQUOTE(&TAB) a LEFT JOIN (SELECT SALE_DT, STR_ID, CUST_ID, SALE_AMT, DISCNT_AMT
                                                   FROM  TSVM.F_D_RECPT_PROD
                                                   WHERE STR_ID = %BQUOTE('&STR_ID')
                                                     AND SALE_DT BETWEEN %BQUOTE('&CRTRN_STRT_DT') AND %BQUOTE('&CRTRN_END_DT')) b
            ON  a.CUST_ID = b.CUST_ID
          GROUP BY a.CUST_ID
          ORDER BY a.CUST_ID

----------------------------------------------------------------------------------------------------
[추가]

SELECT DISTINCT  
	a.CUST_ID
	, COALESCE(COUNT(DISTINCT b.SALE_DT),0)     AS PUR_CNT
	, COALESCE(SUM(b.SALE_AMT-b.DISCNT_AMT),0)  AS PUR_AMT
FROM  
	CMSDATA.%BQUOTE(&TAB) a 
	LEFT JOIN (
		SELECT 
			SALE_DT
			, STR_ID
			, CUST_ID
			, SALE_AMT
			, DISCNT_AMT
		FROM  
			TSVM.F_D_RECPT_PROD
		WHERE 
			STR_ID = %BQUOTE('&STR_ID')
			AND SALE_DT BETWEEN %BQUOTE('&CRTRN_STRT_DT') AND %BQUOTE('&CRTRN_END_DT')
	) b
	ON  a.CUST_ID = b.CUST_ID
GROUP BY 
	a.CUST_ID
ORDER BY 
	a.CUST_ID
          
          
          
          
          
          
                   SELECT PROD_YN, PUT(CRTRN_STRT_DT,YYMMDD10.), PUT(CRTRN_END_DT,YYMMDD10.)
          INTO :PROD_YN, :CRTRN_STRT_DT, :CRTRN_END_DT SEPARATED BY ','
         FROM CONNECTION TO TERADATA
         (
          SELECT  CASE WHEN RPLC_WRD_1 IN ('CMS02','CMS03') OR RPLC_WRD_2 IN ('CMS02','CMS03') OR
                            RPLC_WRD_3 IN ('CMS02','CMS03') OR RPLC_WRD_4 IN ('CMS02','CMS03') OR RPLC_WRD_5 IN ('CMS02','CMS03') THEN 1
                  ELSE 0
                  END as PROD_YN
                , CASE WHEN PROD_YN = 1 THEN CRTRN_STRT_DT
                  ELSE CURRENT_DATE -1
                  END as CRTRN_STRT_DT
                , CASE WHEN PROD_YN = 1 THEN CRTRN_END_DT
                  ELSE CURRENT_DATE
                  END as CRTRN_END_DT
          FROM  CMSVIEW.CM_CHNNL_%BQUOTE(&CHNNL)
          WHERE CHNNL_NO = %BQUOTE('&CHNNL_NO')
          
----------------------------------------------------------------------------------------------------


SELECT * FROM CMSVIEW.CM_CMPGN_TRGT_CUST WHERE CMPGN_NO LIKE 'C201512%' ORDER BY CMPGN_NO DESC, CHNNL_NO;

SELECT * FROM CMSVIEW.CM_CMPGN_TRGT_CUST WHERE CHNNL_NO LIKE 'APT%' ORDER BY CMPGN_NO DESC, CHNNL_NO;

-----------------------------------------------------------------------------

SELECT
	A.CMPGN_NO
	, A.CHNNL_NO
	, COUNT(*)
FROM
	CMSVIEW.CM_CMPGN_TRGT_CUST A
WHERE 1=1
	AND A.CMPGN_NO = 'H20151217000005001'
	AND A.CHNNL_NO = 'APT0000151217006'
GROUP BY
	A.CMPGN_NO
	, A.CHNNL_NO
;

-----------------------------------------------------------------------------

					SELECT  TOP 100
						A.CMPGN_NO         AS CMPGN_NO
						, A.CHNNL_NO       AS CHNNL_NO
						, A.CHNNL_TYP_CD   AS CHNNL_TYP_CD
						, A.CUST_ID        AS CUST_ID
						, B.STR_ID         AS STR_ID
						, C.STR_NM         AS STR_NM
					FROM
						CMSVIEW.CM_CMPGN_TRGT_CUST      A
						, TCVM.HOMEPAGE_FAVORITE_JIJUM  B
						, TCVM.STORE                    C
					WHERE 1=1
						AND A.CMPGN_NO = 'H20151217000005001'  /* 'H20151217000005001' */
						AND A.CHNNL_NO = 'APT0000151217006'  /* 'APT0000151217006' */
						AND B.DEL_YN  = 'N'
						AND B.CUST_ID = A.CUST_ID
						AND C.STR_ID  = B.STR_ID

-----------------------------------------------------------------------------

			SELECT    /* hh14065I.selectCustAppInfo */
				D.CMPGN_NO                         AS CMPGN_NO
				, D.CHNNL_NO                       AS CHNNL_NO
				, D.CHNNL_TYP_CD                   AS CHNNL_TYP_CD
				, D.CUST_ID                        AS CUST_ID
				, D.STR_ID                         AS STR_ID
				, D.STR_NM                         AS STR_NM
				, D.CUST_ID                        AS CUST_ID
				, COUNT(E.RECPT_ID)                AS PUR_CNT_OLD
				, COUNT(DISTINCT E.SALE_DT)        AS PUR_CNT
				, CAST(SUM(E.SALE_AMT - E.DISCNT_AMT) AS INTEGER)   AS PUR_AMT
			FROM
				(
					SELECT  TOP 100
						A.CMPGN_NO         AS CMPGN_NO
						, A.CHNNL_NO       AS CHNNL_NO
						, A.CHNNL_TYP_CD   AS CHNNL_TYP_CD
						, A.CUST_ID        AS CUST_ID
						, B.STR_ID         AS STR_ID
						, C.STR_NM         AS STR_NM
					FROM
						CMSVIEW.CM_CMPGN_TRGT_CUST      A
						, TCVM.HOMEPAGE_FAVORITE_JIJUM  B
						, TCVM.STORE                    C
					WHERE 1=1
						AND A.CMPGN_NO = 'H20151217000005001'  /* 'H20151217000005001' */
						AND A.CHNNL_NO = 'APT0000151217006'  /* 'APT0000151217006' */
						AND B.DEL_YN  = 'N'
						AND B.CUST_ID = A.CUST_ID
						AND C.STR_ID  = B.STR_ID
				)   D
				, TSVM.F_D_RECPT_PROD E   /* 영수증 table */
				, TSVM.D_STORE        F   /* 점포정보 table */
			WHERE 1=1
				AND E.CUST_ID = D.CUST_ID
				--AND E.SALE_DT BETWEEN (CURRENT_DATE - 10) AND CURRENT_DATE  /* 30일 안에 */
				--AND E.SALE_DT BETWEEN TO_DATE('20151213','YYYYMMDD') AND TO_DATE('20151223','YYYYMMDD')
				AND E.SALE_DT BETWEEN TO_DATE('20151213','YYYYMMDD') AND TO_DATE('20151223','YYYYMMDD')
				AND F.STR_ID = E.STR_ID
				AND F.STR_FORMT_CD = '01'  /* 01:emart 02:traders 03:everyday 04:boons */
			GROUP BY
				D.CMPGN_NO
				, D.CHNNL_NO
				, D.CHNNL_TYP_CD
				, D.CUST_ID
				, D.STR_ID
				, D.STR_NM
				, D.CUST_ID
			ORDER BY
				D.CUST_ID


-----------------------------------------------------------------------------







----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


DROP TABLE CMSDATA_DEV.TTTTTTTTTT;

CREATE SET TABLE CMSDATA_DEV.TTTTTTTTTT ,FALLBACK ,
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW_DEV.TTTTTTTTTT AS LOCKING TABLE CMSDATA_DEV.TTTTTTTTTT  FOR ACCESS (SELECT * FROM CMSDATA_DEV.TTTTTTTTTT );

----------------------------------------------------------------------------------------------------

DROP TABLE CMSDATA.TTTTTTTTTT;

CREATE SET TABLE CMSDATA.TTTTTTTTTT ,FALLBACK ,
UNIQUE PRIMARY INDEX ( CHNNL_NO );

REPLACE VIEW CMSVIEW.TTTTTTTTTT AS LOCKING TABLE CMSDATA.TTTTTTTTTT  FOR ACCESS (SELECT * FROM CMSDATA.TTTTTTTTTT );

----------------------------------------------------------------------------------------------------

CREATE TABLE CMSDATA_DEV.TTTTTTTTTT  AS CMSDATA.TTTTTTTTTT  WITH DATA;

----------------------------------------------------------------------------------------------------

CREATE TABLE CMSDATA.TTTTTTTTTT  AS CMSDATA_DEV.TTTTTTTTTT  WITH DATA;

----------------------------------------------------------------------------------------------------

CREATE TABLE CMSDATA_DEV.TTTTTTTTTT_YYMMDD  AS CMSDATA_DEV.TTTTTTTTTT  WITH DATA;

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ 운영 ] TTTTTTTT

-- CREATE TABLE
CREATE SET TABLE CMSDATA.TTTTTTTT_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO
     (
     ..........

    )
UNIQUE PRIMARY INDEX ( CHNNL_NO );


-- RESTORE DATA
INSERT INTO
    CMSDATA.TTTTTTTT_KANG
SELECT
    ......

    , NULL  -- SND_SBJT
    ......

FROM
    CMSDATA.TTTTTTTT
;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.TTTTTTTT;

-- RENAME
RENAME TABLE CMSDATA.TTTTTTTT_KANG TO CMSDATA.TTTTTTTT;

-- MAKE VIEW
REPLACE VIEW CMSVIEW.TTTTTTTT  AS LOCKING TABLE CMSDATA.TTTTTTTT FOR ACCESS (SELECT * FROM CMSDATA.TTTTTTTT);


SELECT * FROM CMSVIEW.TTTTTTTT;

CREATE TABLE CMSDATA_DEV.TTTTTTTTTT  AS CMSDATA.TTTTTTTTTT  WITH DATA;


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------


SHOW TABLE CM_GFT_CUST_LST;

DROP TABLE CM_GFT_CUST_LST_KANG;

-- CREATE TABLE
CREATE SET TABLE CMSDATA.CM_GFT_CUST_LST_KANG ,FALLBACK ,
     NO BEFORE JOURNAL,
     NO AFTER JOURNAL,
     CHECKSUM = DEFAULT,
     DEFAULT MERGEBLOCKRATIO (
      EVENT_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '이벤트ID' NOT NULL,
      GIFT_ID VARCHAR(10) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '경품ID' NOT NULL,
      CUST_ID VARCHAR(9) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '고객ID' NOT NULL,
      CUST_NM VARCHAR(200) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '고객명',
      STORE_CD VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '경품수령신청점포코드',
      GIFT_STORE_CD VARCHAR(4) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '실수령점포코드',
	  PRESENT_DT VARCHAR(8) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '경품증정일자',
	  PRESENT_YN VARCHAR(2) CHARACTER SET LATIN NOT CASESPECIFIC TITLE '증정여부',
      SYS_CRTN_DTTM TIMESTAMP(0) TITLE 'SYS_생성일시',
      SYS_UPDT_DTTM TIMESTAMP(0) TITLE 'SYS_변경일시',
      SYS_FRST_OPRTN_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최초등록자아이디',
      SYS_LST_UPDT_ID VARCHAR(20) CHARACTER SET LATIN NOT CASESPECIFIC TITLE 'SYS_최종변경자아이디')
UNIQUE PRIMARY INDEX ( EVENT_ID ,GIFT_ID ,CUST_ID );


-- RESTORE DATA
INSERT INTO
    CMSDATA.CM_GFT_CUST_LST_KANG
SELECT
	EVENT_ID
	, GIFT_ID
	, CUST_ID
	, CUST_NM
	, STORE_CD
	, NULL  -- GIFT_STORE_CD
	, NULL  -- PRESENT_DT
	, 'N'  -- PRESENT_YN
	, SYS_CRTN_DTTM
	, SYS_UPDT_DTTM
	, SYS_FRST_OPRTN_ID
	, SYS_LST_UPDT_ID
FROM
    CMSDATA.CM_GFT_CUST_LST
;

SELECT * FROM CMSDATA.CM_GFT_CUST_LST_KANG;


-- CREATE TABLE WITH ADDITION FIELD
DROP TABLE CMSDATA.CM_GFT_CUST_LST;

-- RENAME
RENAME TABLE CMSDATA.CM_GFT_CUST_LST_KANG TO CMSDATA.CM_GFT_CUST_LST;

-- MAKE VIEW
REPLACE VIEW CMSVIEW.CM_GFT_CUST_LST
	AS LOCKING TABLE CMSDATA.CM_GFT_CUST_LST
	FOR ACCESS (SELECT * FROM CMSDATA.CM_GFT_CUST_LST);


SELECT * FROM CMSVIEW.CM_GFT_CUST_LST;

CREATE TABLE CMSDATA_DEV.CM_GFT_CUST_LST  AS CMSDATA.CM_GFT_CUST_LST  WITH DATA;



----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
[ Maven DOS 창에서 실행시 HttpServlet symbol 에러 발생시 처리방법 pom.xml 위에 추가한다. ]

	<dependencies>
		<dependency>
			<groupId>javax.servlet</groupId>
			<artifactId>javax.servlet-api</artifactId>
			<version>3.1.0</version>
			<scope>compile</scope>
		</dependency>
	</dependencies>

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

//mvn install:install-file -DgroupId=kang.tain -DartifactId=commons-net            -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\commons-net-3.3.jar
//mvn install:install-file -DgroupId=kang.tain -DartifactId=smeapi_2_7             -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\smeapi_2_7.jar

mvn install:install-file -DgroupId=kang.tain -DartifactId=ibatis                 -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\ibatis-2.3.4.726b.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=java-json              -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\java-json.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=log4j                  -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\log4j.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=modules.tain           -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\modules.tain.0.151031.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=sas.core               -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\sas.core.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=sas.core.nls           -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\sas.core.nls.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=sas.rutil              -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\sas.rutil.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=sas.security.sspi      -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\sas.security.sspi.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=sas.servlet            -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\sas.servlet.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=sas.servlet.nls        -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\sas.servlet.nls.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=sas.svc.connection     -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\sas.svc.connection.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=sas.svc.connection.nls -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\sas.svc.connection.nls.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=sastpj.rutil           -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\sastpj.rutil.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=scsl                   -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\scsl.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=tdgssconfig            -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\tdgssconfig.jar
mvn install:install-file -DgroupId=kang.tain -DartifactId=terajdbc4              -Dversion=1.0 -Dpackaging=jar -Dfile=D:\PROJ\TEMP\SASEMARTCMS\libs\terajdbc4.jar

		<!--
		<dependency><groupId>kang.tain</groupId><artifactId>commons-net</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>smeapi_2_7</artifactId><version>1.0</version></dependency>
		-->
		<dependency><groupId>kang.tain</groupId><artifactId>ibatis</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>java-json</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>log4j</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>modules.tain</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>sas.core</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>sas.core.nls</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>sas.rutil</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>sas.security.sspi</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>sas.servlet</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>sas.servlet.nls</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>sas.svc.connection</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>sas.svc.connection.nls</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>sastpj.rutil</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>scsl</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>tdgssconfig</artifactId><version>1.0</version></dependency>
		<dependency><groupId>kang.tain</groupId><artifactId>terajdbc4</artifactId><version>1.0</version></dependency>


----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

ibatis를 쓰다보면 쿼리를 out으로 출력하고 싶을때가 많지요
일단 file로 생성하는건 추후에 포스팅 하고, 로컬에서 console에 찍는방법을 정리하겠습니다.

WEB-INF/lib/log4.jar
WEB-INF/classes/log4j.properties

	# Global logging configuration 
	# 에러가 발생했을시 출력 
	log4j.rootLogger=ERROR, stdout 
	
	# SqlMap logging configuration 
	# 쿼리를 출력하고 싶으므로, DEBUG레벨로 설정 
	log4j.logger.java.sql.Connection=DEBUG 
	log4j.logger.java.sql.Statement=DEBUG 
	log4j.logger.java.sql.PreparedStatement=DEBUG 
	# 쿼리가 이중으로 출력되므로, false처리 
	log4j.additivity.java.sql.Connection=false 
	
	# Console output 
	log4j.appender.stdout=org.apache.log4j.ConsoleAppender 
	log4j.appender.stdout.Append=false 
	log4j.appender.stdout.layout=org.apache.log4j.PatternLayout 
	log4j.appender.stdout.layout.ConversionPattern=%5p ({%t} %F[%M]:%L) [%d] - %m%n

web.xml에 
	<param-value>
		/WEB-INF/classes/log4j.properties
	</param-value>

추가하면 끝입니다.


파일에 출력할 로그 레벨을 지정
	log4j.appender.file.Threshold=DEBUG

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

01. I am was
02. You We They are
03. She He is
04. This That It is
05. want
06. need
07. think
08. believe
09. eat
10. drink
11. see
12. look
13. hear
14. listen
15. smell
16. sound
17. keep
18. stay
19. say
20. tell
21. buy
22. wear
23. drive
24. walk
25. where
26. when
27. who
28. why
29. what
30. how

----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------

1. 노란우산공제 FEPID 생성및 보험사ID 적용

    FEPID : NRI01(online)  NRI51(batch)
    보험사ID : Y97

2. 노란우산공제 FEPID, 보험사ID 에 따른 프로그램 변경 및 추가

    [수정] Sample01Xml.java      : 테스트 전문을 위한 xml 문서 생성
    [수정] XmlPoll.java          : Polling 처리를 위한 xml 문서 생성
    [수정] Version.java          : 방카시스템의 버젼을 관리하는 프로그램
    [수정] QueueBanker.java      : Queue를 관리하는 리소스
    [수정] HashMapBanker.java    : 보험사를 관리하는 리소스
    [수정] ServantTestMain.java  : 방카전문을 발생하는 테스트 프로그램
    [수정] BatchClientMain.java  : 배치용 클라이언트 프로그램
    [추가] BatchClientNRI51.java : 배치용 클라이언트 노란우산공제 프로그램
    [수정] BatchServerMain.java  : 배치용 서버 프로그램

3. 노란우산공제 개발 담당자랑 FEP 통신 테스트 진행
    한화증권 FEP 담당자와 테스트 진행

    온라인 :
    배  치 :

4. 방카시스템 운용방법 교육





----------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------------
